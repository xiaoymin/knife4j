(window.webpackJsonp=window.webpackJsonp||[]).push([[616],{972:function(t,a,s){"use strict";s.r(a);var e=s(42),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"_4-2-knife4jaggregation微服务聚合中间件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-knife4jaggregation微服务聚合中间件"}},[t._v("#")]),t._v(" 4.2 Knife4jAggregation微服务聚合中间件")]),t._v(" "),s("p",[t._v("Knife4j一直致力于将目前的Ui提供给更多的平台或者别的语言使用而努力，经过这么长时间的发展，Knife4j提供的轻量级聚合中间件终于诞生了，自"),s("code",[t._v("2.0.8")]),t._v("版本开始，Knife4j\n提供了"),s("code",[t._v("knife4j-aggregation-spring-boot-starter")]),t._v("组件，该组件是一个基于Spring Boot系统的starter，他提供了以下几种能力：")]),t._v(" "),s("ul",[s("li",[t._v("最轻量级、最简单、最方便的聚合OpenApi规范的中间件")]),t._v(" "),s("li",[t._v("让所有的基于Spring Boot的Web体系拥有了轻松聚合OpenApi的能力")]),t._v(" "),s("li",[t._v("提供4种模式供开发者选择\n"),s("ul",[s("li",[t._v("基于本地静态JSON文件的方式聚合OpenAPI")]),t._v(" "),s("li",[t._v("基于云端HTTP接口的方式聚合")]),t._v(" "),s("li",[t._v("基于Eureka注册中心的方式聚合")]),t._v(" "),s("li",[t._v("基于Nacos注册中心的方式聚合")])])]),t._v(" "),s("li",[t._v("基于该starter发布了Docker镜像，跨平台与语言让开发者基于此Docker镜像轻松进行聚合OpenAPI规范")]),t._v(" "),s("li",[t._v("完美兼容所有Spring Boot版本，没有兼容性问题")]),t._v(" "),s("li",[t._v("开发者可以彻底放弃基于Zuul、Spring Cloud Gateway等复杂的聚合方式")]),t._v(" "),s("li",[t._v("兼容OpenAPI2规范以及OpenAPI3规范")])]),t._v(" "),s("p",[t._v("基于Spring Boot引入方式")]),t._v(" "),s("div",{staticClass:"language-xml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[t._v(" "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("dependency")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("groupId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("com.github.xiaoymin"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("groupId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("artifactId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("knife4j-aggregation-spring-boot-starter"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("artifactId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!--在引用时请在maven中央仓库搜索aggregation最新版本号--\x3e")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("version")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("2.0.8"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("version")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("dependency")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("p",[t._v("接下来将详细介绍该组件的说明以及不同的聚合方式介绍\n")]),s("div",{staticClass:"table-of-contents"},[s("ul",[s("li",[s("a",{attrs:{href:"#_4-2-1-组件属性说明"}},[t._v("4.2.1 组件属性说明")])]),s("li",[s("a",{attrs:{href:"#_4-2-2-disk模式"}},[t._v("4.2.2 Disk模式")])]),s("li",[s("a",{attrs:{href:"#_4-2-3-cloud模式"}},[t._v("4.2.3 Cloud模式")])]),s("li",[s("a",{attrs:{href:"#_4-2-4-eureka模式"}},[t._v("4.2.4 Eureka模式")])]),s("li",[s("a",{attrs:{href:"#_4-2-4-nacos模式"}},[t._v("4.2.4 Nacos模式")])])])]),s("p"),t._v(" "),s("h2",{attrs:{id:"_4-2-1-组件属性说明"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-1-组件属性说明"}},[t._v("#")]),t._v(" 4.2.1 组件属性说明")]),t._v(" "),s("p",[t._v("既然基于Spring Boot的starter组件发布，那么必然提供了很多属性，完整的属性如下：")]),t._v(" "),s("div",{staticClass:"language-yml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("knife4j")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("enableAggregation")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("cloud")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("enable")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("routes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 用户体系\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("uri")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 192.168.0.152"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8999")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("location")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" /v2/api"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("docs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("?")]),t._v("group=2.X版本\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("swaggerVersion")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2.0")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("servicePath")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" /abbb/ffe\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("routeAuth")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("enable")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("username")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" test\n          "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("password")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12313")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("routeAuth")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("enable")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("username")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" test\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("password")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12313")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("eureka")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("enable")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("false")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("serviceUrl")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" http"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//localhost"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("10000/eureka/\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("routeAuth")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("enable")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("username")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" test\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("password")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12313")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("routes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 订单服务\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("serviceName")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" service"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("order\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("location")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" /v2/api"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("docs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("?")]),t._v("group=default\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("swaggerVersion")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2.0")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("servicePath")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" /order\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("routeAuth")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("enable")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("username")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" test\n          "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("password")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12313")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("nacos")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("enable")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("false")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("serviceUrl")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" http"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//localhost"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("10000/nacos/\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("routeAuth")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("enable")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("username")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" test\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("password")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12313")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("routes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 订单服务\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("serviceName")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" service"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("order\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("location")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" /v2/api"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("docs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("?")]),t._v("group=default\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("swaggerVersion")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2.0")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("servicePath")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" /order\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("routeAuth")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("enable")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("username")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" test\n          "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("password")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12313")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("disk")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("enable")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("false")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("routes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 用户\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("location")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" classpath"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("openapi/user.json\n")])])]),s("p",[t._v("属性分为5个方面：")]),t._v(" "),s("ul",[s("li",[t._v("开启Knife4jAggregation组件")]),t._v(" "),s("li",[t._v("开启Disk模式")]),t._v(" "),s("li",[t._v("开启Cloud模式")]),t._v(" "),s("li",[t._v("开启Eureka模式")]),t._v(" "),s("li",[t._v("开启Nacos模式")])]),t._v(" "),s("div",{staticClass:"custom-block danger"},[s("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),s("p",[t._v("Disk、Cloud、Eureka、Nacos这四种模式只能使用1种，不能混合一起使用(即只能配置这4中模式中的一种属性，然后将其"),s("code",[t._v("enable")]),t._v("属性设置为"),s("code",[t._v("true")]),t._v(",其他三种的enable则必须设置为false)")])]),t._v(" "),s("p",[t._v("开启聚合组件")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("knife4j.enableAggregation")]),t._v(":该属性是前提条件，如果要启用聚合，那么该属性必须设置为true")])]),t._v(" "),s("h2",{attrs:{id:"_4-2-2-disk模式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-2-disk模式"}},[t._v("#")]),t._v(" 4.2.2 Disk模式")]),t._v(" "),s("p",[t._v("更加详细的实战demo请参考"),s("RouterLink",{attrs:{to:"/action/aggregation-disk.html"}},[t._v("基于Disk模式聚合OpenAPI")])],1),t._v(" "),s("blockquote",[s("p",[t._v("Disk模式代表的是本地模式，开发者本地存在一个或多个OpenAPI规范的JSON文件，此时可以通过Knife4j的聚合组件将该OpenAPI规范解析并渲染")])]),t._v(" "),s("div",{staticClass:"language-yml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("knife4j")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("enableAggregation")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("disk")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("enable")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("routes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 用户\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("location")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" classpath"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("openapi/user.json\n")])])]),s("ul",[s("li",[s("code",[t._v("knife4j.disk.enable")]),t._v(":将该属性设置为true，则代表启用Disk模式")]),t._v(" "),s("li",[s("code",[t._v("knife4j.disk.routes")]),t._v(":需要聚合的服务集合，可以配置多个")]),t._v(" "),s("li",[s("code",[t._v("knife4j.disk.routes.name")]),t._v(":服务名称(显示名称，最终在Ui的左上角下拉框进行显示)")]),t._v(" "),s("li",[s("code",[t._v("knife4j.disk.routes.location")]),t._v(":本地Disk模式聚合的OpenAPI规范JSON文件,可以是V2也可以是V3版本")])]),t._v(" "),s("h2",{attrs:{id:"_4-2-3-cloud模式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-3-cloud模式"}},[t._v("#")]),t._v(" 4.2.3 Cloud模式")]),t._v(" "),s("p",[t._v("更加详细的实战demo请参考"),s("RouterLink",{attrs:{to:"/action/aggregation-cloud.html"}},[t._v("基于Cloud模式聚合OpenAPI")])],1),t._v(" "),s("blockquote",[s("p",[t._v("取名Cloud模式代表的是开发者的OpenAPI规范是以HTTP接口的形式存在，开发者可以配置通过调用HTTP接口来获取OpenAPI规范")])]),t._v(" "),s("div",{staticClass:"language-yml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("knife4j")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("enableAggregation")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("cloud")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("enable")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("routes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 用户体系\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("uri")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 192.168.0.152"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8999")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("location")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" /v2/api"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("docs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("?")]),t._v("group=2.X版本\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("swaggerVersion")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2.0")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("servicePath")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" /abbb/ffe\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("routeAuth")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("enable")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("username")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" test3\n          "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("password")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("66666")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("routeAuth")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("enable")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("username")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" test\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("password")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12313")]),t._v("\n")])])]),s("ul",[s("li",[s("code",[t._v("knife4j.cloud.enable")]),t._v(":将该属性设置为true，则代表启用Cloud模式")]),t._v(" "),s("li",[s("code",[t._v("knife4j.cloud.routeAuth")]),t._v(":该属性是一个公共Basic验证属性(可选)，如果开发者提供的OpenAPI规范的HTTP接口需要以Basic验证进行鉴权访问，那么可以配置该属性，如果配置该属性，则该模式下所有配置的Routes节点接口都会以Basic验证信息访问接口")]),t._v(" "),s("li",[s("code",[t._v("knife4j.cloud.routeAuth.enable")]),t._v(":是否启用Basic验证")]),t._v(" "),s("li",[s("code",[t._v("knife4j.cloud.routeAuth.usernae")]),t._v(":Basic用户名")]),t._v(" "),s("li",[s("code",[t._v("knife4j.cloud.routeAuth.password")]),t._v(":Basic密码")]),t._v(" "),s("li",[s("code",[t._v("knife4j.cloud.routes")]),t._v(":需要聚合的服务集合(必选)，可以配置多个")]),t._v(" "),s("li",[s("code",[t._v("knife4j.cloud.routes.name")]),t._v(":服务名称(显示名称，最终在Ui的左上角下拉框进行显示)")]),t._v(" "),s("li",[s("code",[t._v("knife4j.cloud.routes.uri")]),t._v(":该服务的接口URI资源，如果是HTTPS，则需要完整配置")]),t._v(" "),s("li",[s("code",[t._v("knife4j.cloud.routes.location:")]),t._v(":具体资源接口地址，最终Knife4j是通过uri+location的组合路径进行访问")]),t._v(" "),s("li",[s("code",[t._v("knife4j.cloud.routes.swaggerVersion")]),t._v(":版本号，默认是"),s("code",[t._v("2.0")]),t._v("，可选配置")]),t._v(" "),s("li",[s("code",[t._v("knife4j.cloud.routes.servicePath")]),t._v(":该属性是最终在Ui中展示的接口前缀属性，提供该属性的目的也是因为通常开发者在以Gateway等方式聚合时，需要一个前缀路径来进行转发，而最终这个前缀路径会在每个接口中进行追加")]),t._v(" "),s("li",[s("code",[t._v("knife4j.cloud.routes.routeAuth")]),t._v(":如果该Route节点的接口开启了Basic，并且和公共配置的Basic不一样，需要单独配置")]),t._v(" "),s("li",[s("code",[t._v("knife4j.cloud.routes.routeAuth.enable")]),t._v(":是否启用Basic验证")]),t._v(" "),s("li",[s("code",[t._v("knife4j.cloud.routes.routeAuth.usernae")]),t._v(":Basic用户名")]),t._v(" "),s("li",[s("code",[t._v("knife4j.cloud.routes.routeAuth.password")]),t._v(":Basic密码")])]),t._v(" "),s("h2",{attrs:{id:"_4-2-4-eureka模式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-4-eureka模式"}},[t._v("#")]),t._v(" 4.2.4 Eureka模式")]),t._v(" "),s("p",[t._v("更加详细的实战demo请参考"),s("RouterLink",{attrs:{to:"/action/aggregation-eureka.html"}},[t._v("基于Eureka注册中心聚合OpenAPI")])],1),t._v(" "),s("blockquote",[s("p",[t._v("开发者可以从Eureka注册中心中聚合已经注册的服务，需要注意的是以及注册的服务必须集成OpenAPI并且能提供接口\n该模式类似于Cloud模式，只是隐藏了服务的地址而已")])]),t._v(" "),s("div",{staticClass:"language-yml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("knife4j")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("enableAggregation")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("eureka")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("enable")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("false")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("serviceUrl")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" http"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//localhost"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("10000/eureka/\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("serviceAuth")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("enable")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("false")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("username")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" test\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("password")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12313")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("routeAuth")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("enable")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("username")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" test\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("password")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12313")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("routes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 订单服务\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("serviceName")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" service"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("order\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("location")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" /v2/api"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("docs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("?")]),t._v("group=default\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("swaggerVersion")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2.0")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("servicePath")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" /order\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("routeAuth")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("enable")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("username")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" test\n          "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("password")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12313")]),t._v("\n")])])]),s("ul",[s("li",[s("code",[t._v("knife4j.eureka.enable")]),t._v(":将该属性设置为true，则代表启用Eureka模式")]),t._v(" "),s("li",[s("code",[t._v("knife4j.eureka.serviceUrl")]),t._v(":Eureka注册中心的地址")]),t._v(" "),s("li",[s("code",[t._v("knife4j.eureka.serviceAuth")]),t._v(":该属性是一个公共Basic验证属性(可选)，如果Eureka的注册和获取服务需要进行Basic认证，开发者需要配置该属性")]),t._v(" "),s("li",[s("code",[t._v("knife4j.eureka.serviceAuth.enable")]),t._v(":是否启用Eureka注册中心Basic验证")]),t._v(" "),s("li",[s("code",[t._v("knife4j.eureka.serviceAuth.usernae")]),t._v(":Eureka注册中心Basic用户名")]),t._v(" "),s("li",[s("code",[t._v("knife4j.eureka.serviceAuth.password")]),t._v(":Eureka注册中心Basic密码")]),t._v(" "),s("li",[s("code",[t._v("knife4j.eureka.routeAuth")]),t._v(":该属性是一个公共Basic验证属性(可选)，如果开发者提供的OpenAPI规范的服务需要以Basic验证进行鉴权访问，那么可以配置该属性，如果配置该属性，则该模式下所有配置的Routes节点接口都会以Basic验证信息访问接口")]),t._v(" "),s("li",[s("code",[t._v("knife4j.eureka.routeAuth.enable")]),t._v(":是否启用Basic验证")]),t._v(" "),s("li",[s("code",[t._v("knife4j.eureka.routeAuth.usernae")]),t._v(":Basic用户名")]),t._v(" "),s("li",[s("code",[t._v("knife4j.eureka.routeAuth.password")]),t._v(":Basic密码")]),t._v(" "),s("li",[s("code",[t._v("knife4j.eureka.routes")]),t._v(":需要聚合的服务集合(必选)，可以配置多个")]),t._v(" "),s("li",[s("code",[t._v("knife4j.eureka.routes.name")]),t._v(":服务名称(显示名称，最终在Ui的左上角下拉框进行显示)，如果该属性不配置，最终Ui会显示"),s("code",[t._v("serviceName")])]),t._v(" "),s("li",[s("code",[t._v("knife4j.eureka.routes.serviceName")]),t._v(":Eureka注册中心的服务名称")]),t._v(" "),s("li",[s("code",[t._v("knife4j.eureka.routes.uri")]),t._v(":该服务的接口URI资源，如果是HTTPS，则需要完整配置")]),t._v(" "),s("li",[s("code",[t._v("knife4j.eureka.routes.location:")]),t._v(":具体资源接口地址，最终Knife4j是通过注册服务uri+location的组合路径进行访问")]),t._v(" "),s("li",[s("code",[t._v("knife4j.eureka.routes.swaggerVersion")]),t._v(":版本号，默认是"),s("code",[t._v("2.0")]),t._v("，可选配置")]),t._v(" "),s("li",[s("code",[t._v("knife4j.eureka.routes.servicePath")]),t._v(":该属性是最终在Ui中展示的接口前缀属性，提供该属性的目的也是因为通常开发者在以Gateway等方式聚合时，需要一个前缀路径来进行转发，而最终这个前缀路径会在每个接口中进行追加")]),t._v(" "),s("li",[s("code",[t._v("knife4j.eureka.routes.routeAuth")]),t._v(":如果该Route节点的接口开启了Basic，并且和公共配置的Basic不一样，需要单独配置")]),t._v(" "),s("li",[s("code",[t._v("knife4j.eureka.routes.routeAuth.enable")]),t._v(":是否启用Basic验证")]),t._v(" "),s("li",[s("code",[t._v("knife4j.eureka.routes.routeAuth.usernae")]),t._v(":Basic用户名")]),t._v(" "),s("li",[s("code",[t._v("knife4j.eureka.routes.routeAuth.password")]),t._v(":Basic密码")])]),t._v(" "),s("h2",{attrs:{id:"_4-2-4-nacos模式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-4-nacos模式"}},[t._v("#")]),t._v(" 4.2.4 Nacos模式")]),t._v(" "),s("p",[t._v("更加详细的实战demo请参考"),s("RouterLink",{attrs:{to:"/action/aggregation-nacos.html"}},[t._v("基于Nacos注册中心聚合OpenAPI")])],1),t._v(" "),s("blockquote",[s("p",[t._v("开发者可以从Nacos注册中心中聚合已经注册的服务，需要注意的是以及注册的服务必须集成OpenAPI并且能提供接口\n该模式类似于Cloud模式，只是隐藏了服务的地址而已")])]),t._v(" "),s("div",{staticClass:"language-yml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("knife4j")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("enableAggregation")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("nacos")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("enable")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("serviceUrl")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" http"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//192.168.0.112"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("8804/nacos/\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("routeAuth")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("enable")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("username")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" test\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("password")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12313")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("routes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 订单服务\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("serviceName")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" service"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("order\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("groupName")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" test\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("namespaceId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" test\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("clusters")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" test\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("location")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" /v2/api"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("docs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("?")]),t._v("group=default\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("swaggerVersion")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2.0")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("servicePath")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" /order\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("routeAuth")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("enable")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("username")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" test\n          "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("password")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12313")]),t._v("\n")])])]),s("ul",[s("li",[s("code",[t._v("knife4j.nacos.enable")]),t._v(":将该属性设置为true，则代表启用nacos模式")]),t._v(" "),s("li",[s("code",[t._v("knife4j.nacos.serviceUrl")]),t._v(":nacos注册中心的地址")]),t._v(" "),s("li",[s("code",[t._v("knife4j.nacos.routeAuth")]),t._v(":该属性是一个公共Basic验证属性(可选)，如果开发者提供的OpenAPI规范的服务需要以Basic验证进行鉴权访问，那么可以配置该属性，如果配置该属性，则该模式下所有配置的Routes节点接口都会以Basic验证信息访问接口")]),t._v(" "),s("li",[s("code",[t._v("knife4j.nacos.routeAuth.enable")]),t._v(":是否启用Basic验证")]),t._v(" "),s("li",[s("code",[t._v("knife4j.nacos.routeAuth.usernae")]),t._v(":Basic用户名")]),t._v(" "),s("li",[s("code",[t._v("knife4j.nacos.routeAuth.password")]),t._v(":Basic密码")]),t._v(" "),s("li",[s("code",[t._v("knife4j.nacos.routes")]),t._v(":需要聚合的服务集合(必选)，可以配置多个")]),t._v(" "),s("li",[s("code",[t._v("knife4j.nacos.routes.name")]),t._v(":服务名称(显示名称，最终在Ui的左上角下拉框进行显示)，如果该属性不配置，最终Ui会显示"),s("code",[t._v("serviceName")])]),t._v(" "),s("li",[s("code",[t._v("knife4j.nacos.routes.serviceName")]),t._v(":nacos注册中心的服务名称")]),t._v(" "),s("li",[s("code",[t._v("knife4j.nacos.routes.groupName")]),t._v(":Nacos分组名称,非必须,开发者根据自己的实际情况进行配置")]),t._v(" "),s("li",[s("code",[t._v("knife4j.nacos.routes.namespaceId")]),t._v(":命名空间id,非必须,开发者根据自己的实际情况进行配置")]),t._v(" "),s("li",[s("code",[t._v("knife4j.nacos.routes.clusters")]),t._v(":集群名称,多个集群用逗号分隔,非必须,开发者根据自己的实际情况进行配置")]),t._v(" "),s("li",[s("code",[t._v("knife4j.nacos.routes.uri")]),t._v(":该服务的接口URI资源，如果是HTTPS，则需要完整配置")]),t._v(" "),s("li",[s("code",[t._v("knife4j.nacos.routes.location:")]),t._v(":具体资源接口地址，最终Knife4j是通过注册服务uri+location的组合路径进行访问")]),t._v(" "),s("li",[s("code",[t._v("knife4j.nacos.routes.swaggerVersion")]),t._v(":版本号，默认是"),s("code",[t._v("2.0")]),t._v("，可选配置")]),t._v(" "),s("li",[s("code",[t._v("knife4j.nacos.routes.servicePath")]),t._v(":该属性是最终在Ui中展示的接口前缀属性，提供该属性的目的也是因为通常开发者在以Gateway等方式聚合时，需要一个前缀路径来进行转发，而最终这个前缀路径会在每个接口中进行追加")]),t._v(" "),s("li",[s("code",[t._v("knife4j.nacos.routes.routeAuth")]),t._v(":如果该Route节点的接口开启了Basic，并且和公共配置的Basic不一样，需要单独配置")]),t._v(" "),s("li",[s("code",[t._v("knife4j.nacos.routes.routeAuth.enable")]),t._v(":是否启用Basic验证")]),t._v(" "),s("li",[s("code",[t._v("knife4j.nacos.routes.routeAuth.usernae")]),t._v(":Basic用户名")]),t._v(" "),s("li",[s("code",[t._v("knife4j.nacos.routes.routeAuth.password")]),t._v(":Basic密码")])]),t._v(" "),s("comment-comment")],1)}),[],!1,null,null,null);a.default=n.exports}}]);