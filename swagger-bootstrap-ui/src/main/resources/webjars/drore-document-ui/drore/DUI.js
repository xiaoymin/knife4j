///<jscompress sourcefile="diff_match_patch.js" />
///<jscompress sourcefile="icheck.js" />
/*!
 * iCheck v1.0.2, http://git.io/arlzeA
 * ===================================
 * Powerful jQuery and Zepto plugin for checkboxes and radio buttons customization
 *
 * (c) 2013 Damir Sultanov, http://fronteed.com
 * MIT Licensed
 *////<jscompress sourcefile="jquery.fancybox.js" />
/*!
 * fancyBox - jQuery Plugin
 * version: 2.1.5 (Fri, 14 Jun 2013)
 * @requires jQuery v1.6 or later
 *
 * Examples at http://fancyapps.com/fancybox/
 * License: www.fancyapps.com/fancybox/#license
 *
 * Copyright 2012 Janis Skarnelis - janis@fancyapps.com
 *
 *////<jscompress sourcefile="jquery.form.js" />
/*!
 * jQuery Form Plugin
 * version: 3.51.0-2014.06.20
 * Requires jQuery v1.5 or later
 * Copyright (c) 2014 M. Alsup
 * Examples and documentation at: http://malsup.com/jquery/form/
 * Project repository: https://github.com/malsup/form
 * Dual licensed under the MIT and GPL licenses.
 * https://github.com/malsup/form#copyright-and-license
 */
/*global ActiveXObject */

// AMD support
///<jscompress sourcefile="jquery.nestable.js" />
/*!
 * Nestable jQuery Plugin - Copyright (c) 2012 David Bushell - http://dbushell.com/
 * Dual-licensed under the BSD or MIT licenses
 *////<jscompress sourcefile="jquery.nicescroll.js" />
/* jquery.nicescroll 3.5.0 InuYaksa*2013 MIT http://areaaperta.com/nicescroll *////<jscompress sourcefile="jquery.tagsinput.js" />
/*

	jQuery Tags Input Plugin 1.3.3
	
	Copyright (c) 2011 XOXCO, Inc
	
	Documentation for this plugin lives here:
	http://xoxco.com/clickable/jquery-tags-input
	
	Licensed under the MIT license:
	http://www.opensource.org/licenses/mit-license.php

	ben@xoxco.com

*////<jscompress sourcefile="strength.js" />
/*!
 * strength.js
 * Original author: @aaronlumsden
 * Further changes, comments: @aaronlumsden
 * Licensed under the MIT license
 *////<jscompress sourcefile="beautifyhtml.js" />
/*jshint curly:true, eqeqeq:true, laxbreak:true, noempty:false */
/*

  The MIT License (MIT)

  Copyright (c) 2007-2013 Einar Lielmanis and contributors.

  Permission is hereby granted, free of charge, to any person
  obtaining a copy of this software and associated documentation files
  (the "Software"), to deal in the Software without restriction,
  including without limitation the rights to use, copy, modify, merge,
  publish, distribute, sublicense, and/or sell copies of the Software,
  and to permit persons to whom the Software is furnished to do so,
  subject to the following conditions:

  The above copyright notice and this permission notice shall be
  included in all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
  NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS
  BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN
  ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
  CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
  SOFTWARE.


 Style HTML
---------------

  Written by Nochum Sossonko, (nsossonko@hotmail.com)

  Based on code initially developed by: Einar Lielmanis, <elfz@laacz.lv>
    http://jsbeautifier.org/

  Usage:
    style_html(html_source);

    style_html(html_source, options);

  The options are:
    indent_size (default 4)          — indentation size,
    indent_char (default space)      — character to indent with,
    max_char (default 250)            -  maximum amount of characters per line (0 = disable)
    brace_style (default "collapse") - "collapse" | "expand" | "end-expand"
            put braces on the same line as control statements (default), or put braces on own line (Allman / ANSI style), or just put end braces on own line.
    unformatted (defaults to inline tags) - list of tags, that shouldn't be reformatted
    indent_scripts (default normal)  - "keep"|"separate"|"normal"

    e.g.

    style_html(html_source, {
      'indent_size': 2,
      'indent_char': ' ',
      'max_char': 78,
      'brace_style': 'expand',
      'unformatted': ['a', 'sub', 'sup', 'b', 'i', 'u']
    });
*////<jscompress sourcefile="bootstrap-inputmask.js" />
/* ===========================================================
 * bootstrap-inputmask.js j2
 * http://twitter.github.com/bootstrap/javascript.html#tooltips
 * Based on Masked Input plugin by Josh Bush (digitalbush.com)
 * ===========================================================
 * Copyright 2012 Jasny BV, Netherlands.
 *
 * Licensed under the Apache License, Version 2.0 (the "License")
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== *////<jscompress sourcefile="bootstrap-switch.js" />
/* ========================================================================
 * bootstrap-switch - v3.3.2
 * http://www.bootstrap-switch.org
 * ========================================================================
 * Copyright 2012-2013 Mattia Larentis
 *
 * ========================================================================
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================================
 *////<jscompress sourcefile="bootstrap-treeview.js" />
/* =========================================================
 * bootstrap-treeview.js v1.0.0
 * =========================================================
 * Copyright 2013 Jonathan Miles 
 * Project URL : http://www.jondmiles.com/bootstrap-treeview
 *	
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================= *////<jscompress sourcefile="jquery.steps.js" />
/*! 
 * jQuery Steps v1.0.6 - 04/27/2014
 * Copyright (c) 2014 Rafael Staib (http://www.jquery-steps.com)
 * Licensed under MIT http://www.opensource.org/licenses/MIT
 *////<jscompress sourcefile="jquery.validate.js" />
/*! jQuery Validation Plugin - v1.13.0 - 7/1/2014
 * http://jqueryvalidation.org/
 * Copyright (c) 2014 Jörn Zaefferer; Licensed MIT *////<jscompress sourcefile="messages_zh.js" />
/*! jQuery Validation Plugin - v1.13.1 - 10/14/2014
 * http://jqueryvalidation.org/
 * Copyright (c) 2014 Jörn Zaefferer; Licensed MIT *////<jscompress sourcefile="fullcalendar.js" />
/*!
 * FullCalendar v1.6.4
 * Docs & License: http://arshaw.com/fullcalendar/
 * (c) 2013 Adam Shaw
 *////<jscompress sourcefile="layer.js" />
/*! layer-v2.4 弹层组件 License LGPL  http://layer.layui.com/ By 贤心 *//*
 FastClick: polyfill to remove click delays on browsers with touch UIs.

 @version 0.6.11
 @codingstandard ftlabs-jsv2
 @copyright The Financial Times Limited [All Rights Reserved]
 @license MIT License (see LICENSE.txt)
*/
(function(){function c(){this.Diff_Timeout=1;this.Diff_EditCost=4;this.Match_Threshold=.5;this.Match_Distance=1E3;this.Patch_DeleteThreshold=.5;this.Patch_Margin=4;this.Match_MaxBits=32}c.prototype.diff_main=function(c,b,h,l){"undefined"==typeof l&&(l=0>=this.Diff_Timeout?Number.MAX_VALUE:(new Date).getTime()+1E3*this.Diff_Timeout);if(null==c||null==b)throw Error("Null input. (diff_main)");if(c==b)return c?[[0,c]]:[];"undefined"==typeof h&&(h=!0);var e=h,n=this.diff_commonPrefix(c,b);h=c.substring(0,n);c=c.substring(n);b=b.substring(n);var n=this.diff_commonSuffix(c,b),d=c.substring(c.length-n);c=c.substring(0,c.length-n);b=b.substring(0,b.length-n);c=this.diff_compute_(c,b,e,l);h&&c.unshift([0,h]);d&&c.push([0,d]);this.diff_cleanupMerge(c);return c};c.prototype.diff_compute_=function(c,b,h,l){if(!c)return[[1,b]];if(!b)return[[-1,c]];var e=c.length>b.length?c:b,n=c.length>b.length?b:c,d=e.indexOf(n);return-1!=d?(h=[[1,e.substring(0,d)],[0,n],[1,e.substring(d+n.length)]],c.length>b.length&&(h[0][0]=h[2][0]=-1),h):1==n.length?[[-1,c],[1,b]]:(e=this.diff_halfMatch_(c,b))?(n=e[0],c=e[1],d=e[2],b=e[3],e=e[4],n=this.diff_main(n,d,h,l),h=this.diff_main(c,b,h,l),n.concat([[0,e]],h)):h&&100<c.length&&100<b.length?this.diff_lineMode_(c,b,l):this.diff_bisect_(c,b,l)};c.prototype.diff_lineMode_=function(c,b,h){var l=this.diff_linesToChars_(c,b);c=l.chars1;b=l.chars2;l=l.lineArray;c=this.diff_main(c,b,!1,h);this.diff_charsToLines_(c,l);this.diff_cleanupSemantic(c);c.push([0,""]);for(var e=l=b=0,n="",d="";b<c.length;){switch(c[b][0]){case 1:e++;d+=c[b][1];break;case -1:l++;n+=c[b][1];break;case 0:if(1<=l&&1<=e){c.splice(b-l-e,l+e);b=b-l-e;l=this.diff_main(n,d,!1,h);for(e=l.length-1;0<=e;e--)c.splice(b,0,l[e]);b+=l.length}l=e=0;d=n=""}b++}c.pop();return c};c.prototype.diff_bisect_=function(c,b,h){for(var l=c.length,e=b.length,n=Math.ceil((l+e)/2),d=2*n,m=Array(d),r=Array(d),f=0;f<d;f++)m[f]=-1,r[f]=-1;m[n+1]=0;r[n+1]=0;for(var f=l-e,k=0!=f%2,u=0,x=0,v=0,g=0,t=0;t<n&&!((new Date).getTime()>h);t++){for(var w=-t+u;w<=t-x;w+=2){var y=n+w,z;z=w==-t||w!=t&&m[y-1]<m[y+1]?m[y+1]:m[y-1]+1;for(var D=z-w;z<l&&D<e&&c.charAt(z)==b.charAt(D);)z++,D++;m[y]=z;if(z>l)x+=2;else if(D>e)u+=2;else if(k&&(y=n+f-w,0<=y&&y<d&&-1!=r[y])){var A=l-r[y];if(z>=A)return this.diff_bisectSplit_(c,b,z,D,h)}}for(w=-t+v;w<=t-g;w+=2){y=n+w;A=w==-t||w!=t&&r[y-1]<r[y+1]?r[y+1]:r[y-1]+1;for(z=A-w;A<l&&z<e&&c.charAt(l-A-1)==b.charAt(e-z-1);)A++,z++;r[y]=A;if(A>l)g+=2;else if(z>e)v+=2;else if(!k&&(y=n+f-w,0<=y&&y<d&&-1!=m[y]&&(z=m[y],D=n+z-y,A=l-A,z>=A)))return this.diff_bisectSplit_(c,b,z,D,h)}}return[[-1,c],[1,b]]};c.prototype.diff_bisectSplit_=function(c,b,h,l,e){var n=c.substring(0,h),d=b.substring(0,l);c=c.substring(h);b=b.substring(l);n=this.diff_main(n,d,!1,e);e=this.diff_main(c,b,!1,e);return n.concat(e)};c.prototype.diff_linesToChars_=function(c,b){function h(d){for(var b="",f=0,k=-1,u=l.length;k<d.length-1;){k=d.indexOf("\n",f);-1==k&&(k=d.length-1);var x=d.substring(f,k+1),f=k+1;(e.hasOwnProperty?e.hasOwnProperty(x):void 0!==e[x])?b+=String.fromCharCode(e[x]):(b+=String.fromCharCode(u),e[x]=u,l[u++]=x)}return b}var l=[],e={};l[0]="";var n=h(c),d=h(b);return{chars1:n,chars2:d,lineArray:l}};c.prototype.diff_charsToLines_=function(c,b){for(var h=0;h<c.length;h++){for(var l=c[h][1],e=[],n=0;n<l.length;n++)e[n]=b[l.charCodeAt(n)];c[h][1]=e.join("")}};c.prototype.diff_commonPrefix=function(c,b){if(!c||!b||c.charAt(0)!=b.charAt(0))return 0;for(var h=0,l=Math.min(c.length,b.length),e=l,n=0;h<e;)c.substring(n,e)==b.substring(n,e)?n=h=e:l=e,e=Math.floor((l-h)/2+h);return e};c.prototype.diff_commonSuffix=function(c,b){if(!c||!b||c.charAt(c.length-1)!=b.charAt(b.length-1))return 0;for(var h=0,l=Math.min(c.length,b.length),e=l,n=0;h<e;)c.substring(c.length-e,c.length-n)==b.substring(b.length-e,b.length-n)?n=h=e:l=e,e=Math.floor((l-h)/2+h);return e};c.prototype.diff_commonOverlap_=function(c,b){var h=c.length,l=b.length;if(0==h||0==l)return 0;h>l?c=c.substring(h-l):h<l&&(b=b.substring(0,h));h=Math.min(h,l);if(c==b)return h;for(var l=0,e=1;;){var n=c.substring(h-e),n=b.indexOf(n);if(-1==n)return l;e+=n;if(0==n||c.substring(h-e)==b.substring(0,e))l=e,e++}};c.prototype.diff_halfMatch_=function(c,b){function h(f,k,d){for(var m=f.substring(d,d+Math.floor(f.length/4)),e=-1,g="",t,w,b,r;-1!=(e=k.indexOf(m,e+1));){var l=n.diff_commonPrefix(f.substring(d),k.substring(e)),h=n.diff_commonSuffix(f.substring(0,d),k.substring(0,e));g.length<h+l&&(g=k.substring(e-h,e)+k.substring(e,e+l),t=f.substring(0,d-h),w=f.substring(d+l),b=k.substring(0,e-h),r=k.substring(e+l))}return 2*g.length>=f.length?[t,w,b,r,g]:null}if(0>=this.Diff_Timeout)return null;var l=c.length>b.length?c:b,e=c.length>b.length?b:c;if(4>l.length||2*e.length<l.length)return null;var n=this,d=h(l,e,Math.ceil(l.length/4)),l=h(l,e,Math.ceil(l.length/2)),m;if(!d&&!l)return null;m=l?d?d[4].length>l[4].length?d:l:l:d;var r;c.length>b.length?(d=m[0],l=m[1],e=m[2],r=m[3]):(e=m[0],r=m[1],d=m[2],l=m[3]);m=m[4];return[d,l,e,r,m]};c.prototype.diff_cleanupSemantic=function(c){for(var b=!1,h=[],l=0,e=null,n=0,d=0,m=0,r=0,f=0;n<c.length;)0==c[n][0]?(h[l++]=n,d=r,m=f,f=r=0,e=c[n][1]):(1==c[n][0]?r+=c[n][1].length:f+=c[n][1].length,e&&e.length<=Math.max(d,m)&&e.length<=Math.max(r,f)&&(c.splice(h[l-1],0,[-1,e]),c[h[l-1]+1][0]=1,l--,l--,n=0<l?h[l-1]:-1,f=r=m=d=0,e=null,b=!0)),n++;b&&this.diff_cleanupMerge(c);this.diff_cleanupSemanticLossless(c);for(n=1;n<c.length;){if(-1==c[n-1][0]&&1==c[n][0]){b=c[n-1][1];h=c[n][1];l=this.diff_commonOverlap_(b,h);e=this.diff_commonOverlap_(h,b);if(l>=e){if(l>=b.length/2||l>=h.length/2)c.splice(n,0,[0,h.substring(0,l)]),c[n-1][1]=b.substring(0,b.length-l),c[n+1][1]=h.substring(l),n++}else if(e>=b.length/2||e>=h.length/2)c.splice(n,0,[0,b.substring(0,e)]),c[n-1][0]=1,c[n-1][1]=h.substring(0,h.length-e),c[n+1][0]=-1,c[n+1][1]=b.substring(e),n++;n++}n++}};c.prototype.diff_cleanupSemanticLossless=function(p){function b(f,k){if(!f||!k)return 6;var d=f.charAt(f.length-1),g=k.charAt(0),t=d.match(c.nonAlphaNumericRegex_),w=g.match(c.nonAlphaNumericRegex_),m=t&&d.match(c.whitespaceRegex_),e=w&&g.match(c.whitespaceRegex_),d=m&&d.match(c.linebreakRegex_),g=e&&g.match(c.linebreakRegex_),b=d&&f.match(c.blanklineEndRegex_),r=g&&k.match(c.blanklineStartRegex_);return b||r?5:d||g?4:t&&!m&&e?3:m||e?2:t||w?1:0}for(var h=1;h<p.length-1;){if(0==p[h-1][0]&&0==p[h+1][0]){var l=p[h-1][1],e=p[h][1],n=p[h+1][1],d=this.diff_commonSuffix(l,e);if(d)var m=e.substring(e.length-d),l=l.substring(0,l.length-d),e=m+e.substring(0,e.length-d),n=m+n;for(var d=l,m=e,r=n,f=b(l,e)+b(e,n);e.charAt(0)===n.charAt(0);){var l=l+e.charAt(0),e=e.substring(1)+n.charAt(0),n=n.substring(1),k=b(l,e)+b(e,n);k>=f&&(f=k,d=l,m=e,r=n)}p[h-1][1]!=d&&(d?p[h-1][1]=d:(p.splice(h-1,1),h--),p[h][1]=m,r?p[h+1][1]=r:(p.splice(h+1,1),h--))}h++}};c.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/;c.whitespaceRegex_=/\s/;c.linebreakRegex_=/[\r\n]/;c.blanklineEndRegex_=/\n\r?\n$/;c.blanklineStartRegex_=/^\r?\n\r?\n/;c.prototype.diff_cleanupEfficiency=function(c){for(var b=!1,h=[],l=0,e=null,n=0,d=!1,m=!1,r=!1,f=!1;n<c.length;){if(0==c[n][0])c[n][1].length<this.Diff_EditCost&&(r||f)?(h[l++]=n,d=r,m=f,e=c[n][1]):(l=0,e=null),r=f=!1;else if(-1==c[n][0]?f=!0:r=!0,e&&(d&&m&&r&&f||e.length<this.Diff_EditCost/2&&3==d+m+r+f))c.splice(h[l-1],0,[-1,e]),c[h[l-1]+1][0]=1,l--,e=null,d&&m?(r=f=!0,l=0):(l--,n=0<l?h[l-1]:-1,r=f=!1),b=!0;n++}b&&this.diff_cleanupMerge(c)};c.prototype.diff_cleanupMerge=function(c){c.push([0,""]);for(var b=0,h=0,l=0,e="",n="",d;b<c.length;)switch(c[b][0]){case 1:l++;n+=c[b][1];b++;break;case -1:h++;e+=c[b][1];b++;break;case 0:1<h+l?(0!==h&&0!==l&&(d=this.diff_commonPrefix(n,e),0!==d&&(0<b-h-l&&0==c[b-h-l-1][0]?c[b-h-l-1][1]+=n.substring(0,d):(c.splice(0,0,[0,n.substring(0,d)]),b++),n=n.substring(d),e=e.substring(d)),d=this.diff_commonSuffix(n,e),0!==d&&(c[b][1]=n.substring(n.length-d)+c[b][1],n=n.substring(0,n.length-d),e=e.substring(0,e.length-d))),0===h?c.splice(b-l,h+l,[1,n]):0===l?c.splice(b-h,h+l,[-1,e]):c.splice(b-h-l,h+l,[-1,e],[1,n]),b=b-h-l+(h?1:0)+(l?1:0)+1):0!==b&&0==c[b-1][0]?(c[b-1][1]+=c[b][1],c.splice(b,1)):b++,h=l=0,n=e=""}""===c[c.length-1][1]&&c.pop();h=!1;for(b=1;b<c.length-1;)0==c[b-1][0]&&0==c[b+1][0]&&(c[b][1].substring(c[b][1].length-c[b-1][1].length)==c[b-1][1]?(c[b][1]=c[b-1][1]+c[b][1].substring(0,c[b][1].length-c[b-1][1].length),c[b+1][1]=c[b-1][1]+c[b+1][1],c.splice(b-1,1),h=!0):c[b][1].substring(0,c[b+1][1].length)==c[b+1][1]&&(c[b-1][1]+=c[b+1][1],c[b][1]=c[b][1].substring(c[b+1][1].length)+c[b+1][1],c.splice(b+1,1),h=!0)),b++;h&&this.diff_cleanupMerge(c)};c.prototype.diff_xIndex=function(c,b){var h=0,l=0,e=0,n=0,d;for(d=0;d<c.length;d++){1!==c[d][0]&&(h+=c[d][1].length);-1!==c[d][0]&&(l+=c[d][1].length);if(h>b)break;e=h;n=l}return c.length!=d&&-1===c[d][0]?n:n+(b-e)};c.prototype.diff_prettyHtml=function(c){for(var b=[],h=/&/g,l=/</g,e=/>/g,n=/\n/g,d=0;d<c.length;d++){var m=c[d][0],r=c[d][1],r=r.replace(h,"\x26amp;").replace(l,"\x26lt;").replace(e,"\x26gt;").replace(n,"\x26para;\x3cbr\x3e");switch(m){case 1:b[d]='\x3cins style\x3d"background:#e6ffe6;"\x3e'+r+"\x3c/ins\x3e";break;case -1:b[d]='\x3cdel style\x3d"background:#ffe6e6;"\x3e'+r+"\x3c/del\x3e";break;case 0:b[d]="\x3cspan\x3e"+r+"\x3c/span\x3e"}}return b.join("")};c.prototype.diff_text1=function(c){for(var b=[],h=0;h<c.length;h++)1!==c[h][0]&&(b[h]=c[h][1]);return b.join("")};c.prototype.diff_text2=function(c){for(var b=[],h=0;h<c.length;h++)-1!==c[h][0]&&(b[h]=c[h][1]);return b.join("")};c.prototype.diff_levenshtein=function(c){for(var b=0,h=0,l=0,e=0;e<c.length;e++){var n=c[e][1];switch(c[e][0]){case 1:h+=n.length;break;case -1:l+=n.length;break;case 0:b+=Math.max(h,l),l=h=0}}return b+Math.max(h,l)};c.prototype.diff_toDelta=function(c){for(var b=[],h=0;h<c.length;h++)switch(c[h][0]){case 1:b[h]="+"+encodeURI(c[h][1]);break;case -1:b[h]="-"+c[h][1].length;break;case 0:b[h]="\x3d"+c[h][1].length}return b.join("\t").replace(/%20/g," ")};c.prototype.diff_fromDelta=function(c,b){for(var h=[],l=0,e=0,n=b.split(/\t/g),d=0;d<n.length;d++){var m=n[d].substring(1);switch(n[d].charAt(0)){case "+":try{h[l++]=[1,decodeURI(m)]}catch(f){throw Error("Illegal escape in diff_fromDelta: "+m);}break;case "-":case "\x3d":var r=parseInt(m,10);if(isNaN(r)||0>r)throw Error("Invalid number in diff_fromDelta: "+m);m=c.substring(e,e+=r);"\x3d"==n[d].charAt(0)?h[l++]=[0,m]:h[l++]=[-1,m];break;default:if(n[d])throw Error("Invalid diff operation in diff_fromDelta: "+n[d]);}}if(e!=c.length)throw Error("Delta length ("+e+") does not equal source text length ("+c.length+").");return h};c.prototype.match_main=function(c,b,h){if(null==c||null==b||null==h)throw Error("Null input. (match_main)");h=Math.max(0,Math.min(h,c.length));return c==b?0:c.length?c.substring(h,h+b.length)==b?h:this.match_bitap_(c,b,h):-1};c.prototype.match_bitap_=function(c,b,h){function l(g,f){var t=g/b.length,k=Math.abs(h-f);return n.Match_Distance?t+k/n.Match_Distance:k?1:t}if(b.length>this.Match_MaxBits)throw Error("Pattern too long for this browser.");var e=this.match_alphabet_(b),n=this,d=this.Match_Threshold,m=c.indexOf(b,h);-1!=m&&(d=Math.min(l(0,m),d),m=c.lastIndexOf(b,h+b.length),-1!=m&&(d=Math.min(l(0,m),d)));for(var r=1<<b.length-1,m=-1,f,k,u=b.length+c.length,x,v=0;v<b.length;v++){f=0;for(k=u;f<k;)l(v,h+k)<=d?f=k:u=k,k=Math.floor((u-f)/2+f);u=k;f=Math.max(1,h-k+1);var g=Math.min(h+k,c.length)+b.length;k=Array(g+2);for(k[g+1]=(1<<v)-1;g>=f;g--){var t=e[c.charAt(g-1)];k[g]=0===v?(k[g+1]<<1|1)&t:(k[g+1]<<1|1)&t|(x[g+1]|x[g])<<1|1|x[g+1];if(k[g]&r&&(t=l(v,g-1),t<=d))if(d=t,m=g-1,m>h)f=Math.max(1,2*h-m);else break}if(l(v+1,h)>d)break;x=k}return m};c.prototype.match_alphabet_=function(c){for(var b={},h=0;h<c.length;h++)b[c.charAt(h)]=0;for(h=0;h<c.length;h++)b[c.charAt(h)]|=1<<c.length-h-1;return b};c.prototype.patch_addContext_=function(c,b){if(0!=b.length){for(var h=b.substring(c.start2,c.start2+c.length1),l=0;b.indexOf(h)!=b.lastIndexOf(h)&&h.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)l+=this.Patch_Margin,h=b.substring(c.start2-l,c.start2+c.length1+l);l+=this.Patch_Margin;(h=b.substring(c.start2-l,c.start2))&&c.diffs.unshift([0,h]);(l=b.substring(c.start2+c.length1,c.start2+c.length1+l))&&c.diffs.push([0,l]);c.start1-=h.length;c.start2-=h.length;c.length1+=h.length+l.length;c.length2+=h.length+l.length}};c.prototype.patch_make=function(p,b,h){var l;if("string"==typeof p&&"string"==typeof b&&"undefined"==typeof h)l=p,b=this.diff_main(l,b,!0),2<b.length&&(this.diff_cleanupSemantic(b),this.diff_cleanupEfficiency(b));else if(p&&"object"==typeof p&&"undefined"==typeof b&&"undefined"==typeof h)b=p,l=this.diff_text1(b);else if("string"==typeof p&&b&&"object"==typeof b&&"undefined"==typeof h)l=p;else if("string"==typeof p&&"string"==typeof b&&h&&"object"==typeof h)l=p,b=h;else throw Error("Unknown call format to patch_make.");if(0===b.length)return[];h=[];p=new c.patch_obj;for(var e=0,n=0,d=0,m=l,r=0;r<b.length;r++){var f=b[r][0],k=b[r][1];!e&&0!==f&&(p.start1=n,p.start2=d);switch(f){case 1:p.diffs[e++]=b[r];p.length2+=k.length;l=l.substring(0,d)+k+l.substring(d);break;case -1:p.length1+=k.length;p.diffs[e++]=b[r];l=l.substring(0,d)+l.substring(d+k.length);break;case 0:k.length<=2*this.Patch_Margin&&e&&b.length!=r+1?(p.diffs[e++]=b[r],p.length1+=k.length,p.length2+=k.length):k.length>=2*this.Patch_Margin&&e&&(this.patch_addContext_(p,m),h.push(p),p=new c.patch_obj,e=0,m=l,n=d)}1!==f&&(n+=k.length);-1!==f&&(d+=k.length)}e&&(this.patch_addContext_(p,m),h.push(p));return h};c.prototype.patch_deepCopy=function(p){for(var b=[],h=0;h<p.length;h++){var l=p[h],e=new c.patch_obj;e.diffs=[];for(var n=0;n<l.diffs.length;n++)e.diffs[n]=l.diffs[n].slice();e.start1=l.start1;e.start2=l.start2;e.length1=l.length1;e.length2=l.length2;b[h]=e}return b};c.prototype.patch_apply=function(c,b){if(0==c.length)return[b,[]];c=this.patch_deepCopy(c);var h=this.patch_addPadding(c);b=h+b+h;this.patch_splitMax(c);for(var l=0,e=[],n=0;n<c.length;n++){var d=c[n].start2+l,m=this.diff_text1(c[n].diffs),r,f=-1;if(m.length>this.Match_MaxBits){if(r=this.match_main(b,m.substring(0,this.Match_MaxBits),d),-1!=r&&(f=this.match_main(b,m.substring(m.length-this.Match_MaxBits),d+m.length-this.Match_MaxBits),-1==f||r>=f))r=-1}else r=this.match_main(b,m,d);if(-1==r)e[n]=!1,l-=c[n].length2-c[n].length1;else if(e[n]=!0,l=r-d,d=-1==f?b.substring(r,r+m.length):b.substring(r,f+this.Match_MaxBits),m==d)b=b.substring(0,r)+this.diff_text2(c[n].diffs)+b.substring(r+m.length);else if(d=this.diff_main(m,d,!1),m.length>this.Match_MaxBits&&this.diff_levenshtein(d)/m.length>this.Patch_DeleteThreshold)e[n]=!1;else{this.diff_cleanupSemanticLossless(d);for(var m=0,k,f=0;f<c[n].diffs.length;f++){var u=c[n].diffs[f];0!==u[0]&&(k=this.diff_xIndex(d,m));1===u[0]?b=b.substring(0,r+k)+u[1]+b.substring(r+k):-1===u[0]&&(b=b.substring(0,r+k)+b.substring(r+this.diff_xIndex(d,m+u[1].length)));-1!==u[0]&&(m+=u[1].length)}}}b=b.substring(h.length,b.length-h.length);return[b,e]};c.prototype.patch_addPadding=function(c){for(var b=this.Patch_Margin,h="",l=1;l<=b;l++)h+=String.fromCharCode(l);for(l=0;l<c.length;l++)c[l].start1+=b,c[l].start2+=b;var l=c[0],e=l.diffs;if(0==e.length||0!=e[0][0])e.unshift([0,h]),l.start1-=b,l.start2-=b,l.length1+=b,l.length2+=b;else if(b>e[0][1].length){var n=b-e[0][1].length;e[0][1]=h.substring(e[0][1].length)+e[0][1];l.start1-=n;l.start2-=n;l.length1+=n;l.length2+=n}l=c[c.length-1];e=l.diffs;0==e.length||0!=e[e.length-1][0]?(e.push([0,h]),l.length1+=b,l.length2+=b):b>e[e.length-1][1].length&&(n=b-e[e.length-1][1].length,e[e.length-1][1]+=h.substring(0,n),l.length1+=n,l.length2+=n);return h};c.prototype.patch_splitMax=function(p){for(var b=this.Match_MaxBits,h=0;h<p.length;h++)if(!(p[h].length1<=b)){var l=p[h];p.splice(h--,1);for(var e=l.start1,n=l.start2,d="";0!==l.diffs.length;){var m=new c.patch_obj,r=!0;m.start1=e-d.length;m.start2=n-d.length;for(""!==d&&(m.length1=m.length2=d.length,m.diffs.push([0,d]));0!==l.diffs.length&&m.length1<b-this.Patch_Margin;){var d=l.diffs[0][0],f=l.diffs[0][1];1===d?(m.length2+=f.length,n+=f.length,m.diffs.push(l.diffs.shift()),r=!1):-1===d&&1==m.diffs.length&&0==m.diffs[0][0]&&f.length>2*b?(m.length1+=f.length,e+=f.length,r=!1,m.diffs.push([d,f]),l.diffs.shift()):(f=f.substring(0,b-m.length1-this.Patch_Margin),m.length1+=f.length,e+=f.length,0===d?(m.length2+=f.length,n+=f.length):r=!1,m.diffs.push([d,f]),f==l.diffs[0][1]?l.diffs.shift():l.diffs[0][1]=l.diffs[0][1].substring(f.length))}d=this.diff_text2(m.diffs);d=d.substring(d.length-this.Patch_Margin);f=this.diff_text1(l.diffs).substring(0,this.Patch_Margin);""!==f&&(m.length1+=f.length,m.length2+=f.length,0!==m.diffs.length&&0===m.diffs[m.diffs.length-1][0]?m.diffs[m.diffs.length-1][1]+=f:m.diffs.push([0,f]));r||p.splice(++h,0,m)}}};c.prototype.patch_toText=function(c){for(var b=[],h=0;h<c.length;h++)b[h]=c[h];return b.join("")};c.prototype.patch_fromText=function(p){var b=[];if(!p)return b;p=p.split("\n");for(var h=0,l=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;h<p.length;){var e=p[h].match(l);if(!e)throw Error("Invalid patch string: "+p[h]);var n=new c.patch_obj;b.push(n);n.start1=parseInt(e[1],10);""===e[2]?(n.start1--,n.length1=1):"0"==e[2]?n.length1=0:(n.start1--,n.length1=parseInt(e[2],10));n.start2=parseInt(e[3],10);""===e[4]?(n.start2--,n.length2=1):"0"==e[4]?n.length2=0:(n.start2--,n.length2=parseInt(e[4],10));for(h++;h<p.length;){e=p[h].charAt(0);try{var d=decodeURI(p[h].substring(1))}catch(m){throw Error("Illegal escape in patch_fromText: "+d);}if("-"==e)n.diffs.push([-1,d]);else if("+"==e)n.diffs.push([1,d]);else if(" "==e)n.diffs.push([0,d]);else if("@"==e)break;else if(""!==e)throw Error('Invalid patch mode "'+e+'" in: '+d);h++}}return b};c.patch_obj=function(){this.diffs=[];this.start2=this.start1=null;this.length2=this.length1=0};c.patch_obj.prototype.toString=function(){var c,b;c=0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1;b=0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2;c=["@@ -"+c+" +"+b+" @@\n"];var h;for(b=0;b<this.diffs.length;b++){switch(this.diffs[b][0]){case 1:h="+";break;case -1:h="-";break;case 0:h=" "}c[b+1]=h+encodeURI(this.diffs[b][1])+"\n"}return c.join("").replace(/%20/g," ")};this.diff_match_patch=c;this.DIFF_DELETE=-1;this.DIFF_INSERT=1;this.DIFF_EQUAL=0})();
(function(c,p){"object"===typeof exports&&"object"===typeof module?module.exports=p():"function"===typeof define&&define.amd?define([],p):"object"===typeof exports?exports.echarts=p():c.echarts=p()})(this,function(){return function(c){function p(h){if(b[h])return b[h].exports;var l=b[h]={exports:{},id:h,loaded:!1};c[h].call(l.exports,l,l.exports,p);l.loaded=!0;return l.exports}var b={};p.m=c;p.c=b;p.p="";return p(0)}([function(c,p,b){c.exports=b(1);b(99);b(133);b(138);b(147);b(151);b(161);b(182);b(194);b(215);b(219);b(223);b(238);b(244);b(251);b(257);b(261);b(269);b(112);b(273);b(279);b(283);b(294);b(224);b(297);b(303);b(315);b(316);b(329);b(344);b(350);b(353);b(356);b(365);b(378)},function(c,p,b){function h(g){return function(f,t,k){f=f&&f.toLowerCase();K.prototype[g].call(this,f,t,k)}}function l(){K.call(this)}function e(g,f,t){function k(g,f){return g.prio-f.prio}t=t||{};"string"===typeof f&&(f=W[f]);this._dom=g;this._zr=H.init(g,{renderer:t.renderer||"canvas",devicePixelRatio:t.devicePixelRatio});this._theme=L.clone(f);this._chartsViews=[];this._chartsMap={};this._componentsViews=[];this._componentsMap={};this._api=new D(this);this._coordSysMgr=new A;K.call(this);this._messageCenter=new l;this._initEvents();this.resize=L.bind(this.resize,this);this._pendingActions=[];O(V,k);O(Q,k)}function n(g,f){var t=this._model;t&&t.eachComponent({mainType:"series",query:f},function(k,w){var d=this._chartsMap[k.__viewId];if(d&&d.__alive)d[g](k,t,this._api,f)},this)}function d(f,k,w){var d=this._api;M(this._componentsViews,function(g){var m=g.__model;g[f](m,k,d,w);t(m,g)},this);k.eachSeries(function(m,e){var u=this._chartsMap[m.__viewId];u[f](m,k,d,w);t(m,u);g(m,u)},this);v(this._zr,k)}function m(g,f){for(var t="component"===g,k=t?this._componentsViews:this._chartsViews,w=t?this._componentsMap:this._chartsMap,d=this._zr,m=0;m<k.length;m++)k[m].__alive=!1;f[t?"eachComponent":"eachSeries"](function(g,m){if(t){if("series"===g)return}else m=g;var e=m.id+"_"+m.type,u=w[e];if(!u)if(u=F.parseClassType(m.type),u=t?E.getClass(u.main,u.sub):G.getClass(u.sub))u=new u,u.init(f,this._api),w[e]=u,k.push(u),d.add(u.group);else return;m.__viewId=e;u.__alive=!0;u.__id=e;u.__model=m},this);for(m=0;m<k.length;){var e=k[m];e.__alive?m++:(d.remove(e.group),e.dispose(f,this._api),k.splice(m,1),delete w[e.__id])}}function r(g,f){M(Q,function(t){t.func(g,f)})}function f(g){var f={};g.eachSeries(function(g){var t=g.get("stack");g=g.getData();if(t&&"list"===g.type){var k=f[t];k&&(g.stackedOn=k);f[t]=g}})}function k(g,f){var t=this._api;M(V,function(k){k.isLayout&&k.func(g,t,f)})}function u(g,f){var t=this._api;g.clearColorPalette();g.eachSeries(function(g){g.clearColorPalette()});M(V,function(k){k.func(g,t,f)})}function x(f,k){var w=this._api;M(this._componentsViews,function(g){var d=g.__model;g.render(d,f,w,k);t(d,g)},this);M(this._chartsViews,function(g){g.__alive=!1},this);f.eachSeries(function(d,m){var e=this._chartsMap[d.__viewId];e.__alive=!0;e.render(d,f,w,k);e.group.silent=!!d.get("silent");t(d,e);g(d,e)},this);v(this._zr,f);M(this._chartsViews,function(g){g.__alive||g.remove(f,w)},this)}function v(g,f){var t=g.storage,k=0;t.traverse(function(g){g.isGroup||k++});k>f.get("hoverLayerThreshold")&&!y.node&&t.traverse(function(g){g.isGroup||(g.useHoverLayer=!0)})}function g(g,f){var t=0;f.group.traverse(function(g){"group"===g.type||g.ignore||t++});var k=+g.get("progressive"),w=t>g.get("progressiveThreshold")&&k&&!y.node;w&&f.group.traverse(function(g){g.isGroup||(g.progressive=w?Math.floor(t++/k):-1,w&&g.stopAnimation(!0))});var d=g.get("blendMode")||null;!y.canvasSupported&&d&&"source-over"!==d&&console.warn("Only canvas support blendMode");f.group.traverse(function(g){g.isGroup||g.setStyle("blend",d)})}function t(g,f){var t=g.get("z"),k=g.get("zlevel");f.group.traverse(function(g){"group"!==g.type&&(null!=t&&(g.z=t),null!=k&&(g.zlevel=k))})}function w(g){function f(g,t){for(var k=0;k<g.length;k++)g[k].__connectUpdateStatus=t}L.each(R,function(t,k){g._messageCenter.on(k,function(t){if(ba[g.group]&&0!==g.__connectUpdateStatus){var k=g.makeActionFromEvent(t);t=[];for(var w in Z){var d=Z[w];d!==g&&d.group===g.group&&t.push(d)}f(t,0);M(t,function(g){1!==g.__connectUpdateStatus&&g.dispatchAction(k)});f(t,2)}})})}var y=b(2),z=b(3),D=b(25),A=b(26),B=b(27),F=b(19),N=b(28),E=b(29),G=b(42),q=b(43),H=b(81),L=b(4),I=b(39),K=b(33),O=b(85),M=L.each;l.prototype.on=h("on");l.prototype.off=h("off");l.prototype.one=h("one");L.mixin(l,K);p=e.prototype;p.getDom=function(){return this._dom};p.getZr=function(){return this._zr};p.setOption=function(g,f,t){L.assert(!this.__flag_in_main_process,"`setOption` should not be called during main process.");this.__flag_in_main_process=!0;if(!this._model||f){f=new B(this._api);var k=this._theme;(this._model=new z(null,null,k,f)).init(null,null,k,f)}this._model.setOption(g,U);J.prepareAndUpdate.call(this);this.__flag_in_main_process=!1;this._flushPendingActions();!t&&this._zr.refreshImmediately()};p.setTheme=function(){console.log("ECharts#setTheme() is DEPRECATED in ECharts 3.0")};p.getModel=function(){return this._model};p.getOption=function(){return this._model.getOption()};p.getWidth=function(){return this._zr.getWidth()};p.getHeight=function(){return this._zr.getHeight()};p.getRenderedCanvas=function(g){if(y.canvasSupported){g=g||{};g.pixelRatio=g.pixelRatio||1;g.backgroundColor=g.backgroundColor||this._model.get("backgroundColor");var f=this._zr,t=f.storage.getDisplayList();L.each(t,function(g){g.stopAnimation(!0)});return f.painter.getRenderedCanvas(g)}};p.getDataURL=function(g){g=g||{};var f=this._model,t=[],k=this;M(g.excludeComponents,function(g){f.eachComponent({mainType:g},function(g){g=k._componentsMap[g.__viewId];g.group.ignore||(t.push(g),g.group.ignore=!0)})});g=this.getRenderedCanvas(g).toDataURL("image/"+(g&&g.type||"png"));M(t,function(g){g.group.ignore=!1});return g};p.getConnectedDataURL=function(g){if(y.canvasSupported){var f=this.group,t=Math.min,k=Math.max;if(ba[f]){var w=Infinity,d=Infinity,m=-Infinity,e=-Infinity,u=[],b=g&&g.pixelRatio||1,r;for(r in Z){var x=Z[r];if(x.group===f){var z=x.getRenderedCanvas(L.clone(g)),x=x.getDom().getBoundingClientRect(),w=t(x.left,w),d=t(x.top,d),m=k(x.right,m),e=k(x.bottom,e);u.push({dom:z,left:x.left,top:x.top})}}w*=b;d*=b;f=m*b-w;e=e*b-d;t=L.createCanvas();t.width=f;t.height=e;var v=H.init(t);M(u,function(g){g=new q.Image({style:{x:g.left*b-w,y:g.top*b-d,image:g.dom}});v.add(g)});v.refreshImmediately();return t.toDataURL("image/"+(g&&g.type||"png"))}return this.getDataURL(g)}};var J={update:function(g){var t=this._model,k=this._api,w=this._coordSysMgr,d=this._zr;t&&(t.restoreData(),w.create(this._model,this._api),r.call(this,t,k),f.call(this,t),w.update(t,k),u.call(this,t,g),x.call(this,t,g),g=t.get("backgroundColor")||"transparent",t=d.painter,t.isSingleCanvas&&t.isSingleCanvas()?d.configLayer(0,{clearColor:g}):(y.canvasSupported||(t=I.parse(g),g=I.stringify(t,"rgb"),0===t[3]&&(g="transparent")),g.colorStops||g.image?(d.configLayer(0,{clearColor:g}),this._hasGradientOrPatternBg=!0,this._dom.style.background="transparent"):(this._hasGradientOrPatternBg&&d.configLayer(0,{clearColor:null}),this._hasGradientOrPatternBg=!1,this._dom.style.background=g)))},updateView:function(g){var f=this._model;f&&(f.eachSeries(function(g){g.getData().clearAllVisual()}),u.call(this,f,g),d.call(this,"updateView",f,g))},updateVisual:function(g){var f=this._model;f&&(f.eachSeries(function(g){g.getData().clearAllVisual()}),u.call(this,f,g),d.call(this,"updateVisual",f,g))},updateLayout:function(g){var f=this._model;f&&(k.call(this,f,g),d.call(this,"updateLayout",f,g))},highlight:function(g){n.call(this,"highlight",g)},downplay:function(g){n.call(this,"downplay",g)},prepareAndUpdate:function(g){var f=this._model;m.call(this,"component",f);m.call(this,"chart",f);J.update.call(this,g)}};p.resize=function(){L.assert(!this.__flag_in_main_process,"`resize` should not be called during main process.");this.__flag_in_main_process=!0;this._zr.resize();var g=this._model&&this._model.resetOption("media");J[g?"prepareAndUpdate":"update"].call(this);this._loadingFX&&this._loadingFX.resize();this.__flag_in_main_process=!1;this._flushPendingActions()};var P=b(93);p.showLoading=function(g,f){L.isObject(g)&&(f=g);this.hideLoading();var t=P(this._api,f),k=this._zr;this._loadingFX=t;k.add(t)};p.hideLoading=function(){this._loadingFX&&this._zr.remove(this._loadingFX);this._loadingFX=null};p.makeActionFromEvent=function(g){var f=L.extend({},g);f.type=R[g.type];return f};p.dispatchAction=function(g,f){var t=S[g.type];if(t){var k=t.actionInfo,w=k.update||"update";if(this.__flag_in_main_process)this._pendingActions.push(g);else{this.__flag_in_main_process=!0;var d=[g],m=!1;g.batch&&(m=!0,d=L.map(g.batch,function(f){f=L.defaults(L.extend({},f),g);f.batch=null;return f}));for(var e=[],u,b="highlight"===g.type||"downplay"===g.type,r=0;r<d.length;r++){var y=d[r];u=(u=t.action(y,this._model))||L.extend({},y);u.type=k.event||u.type;e.push(u);b&&J[w].call(this,y)}"none"!==w&&!b&&J[w].call(this,g);u=m?{type:k.event||g.type,batch:e}:e[0];this.__flag_in_main_process=!1;!f&&this._messageCenter.trigger(u.type,u);this._flushPendingActions()}}};p._flushPendingActions=function(){for(var g=this._pendingActions;g.length;){var f=g.shift();this.dispatchAction(f)}};p.on=h("on");p.off=h("off");p.one=h("one");var T="click dblclick mouseover mouseout mousedown mouseup globalout".split(" ");p._initEvents=function(){M(T,function(g){this._zr.on(g,function(f){var t=this.getModel(),k=f.target;k&&null!=k.dataIndex?(k=(t=k.dataModel||t.getSeriesByIndex(k.seriesIndex))&&t.getDataParams(k.dataIndex,k.dataType)||{},k.event=f,k.type=g,this.trigger(g,k)):k&&k.eventData&&this.trigger(g,k.eventData)},this)},this);M(R,function(g,f){this._messageCenter.on(f,function(g){this.trigger(f,g)},this)},this)};p.isDisposed=function(){return this._disposed};p.clear=function(){this.setOption({},!0)};p.dispose=function(){if(this._disposed)console.warn("Instance "+this.id+" has been disposed");else{this._disposed=!0;var g=this._api,f=this._model;M(this._componentsViews,function(t){t.dispose(f,g)});M(this._chartsViews,function(t){t.dispose(f,g)});this._zr.dispose();delete Z[this.id]}};L.mixin(e,K);var S=[],R={},Q=[],U=[],V=[],W={},Z={},ba={},ga=new Date-0,fa=new Date-0,Y={version:"3.2.2",dependencies:{zrender:"3.1.2"},init:function(g,f,t){if(H.version.replace(".","")-0<Y.dependencies.zrender.replace(".","")-0)throw Error("ZRender "+H.version+" is too old for ECharts "+Y.version+". Current version need ZRender "+Y.dependencies.zrender+"+");if(!g)throw Error("Initialize failed: invalid dom.");!L.isDom(g)||"CANVAS"===g.nodeName.toUpperCase()||g.clientWidth&&g.clientHeight||console.warn("Can't get dom width or height");f=new e(g,f,t);f.id="ec_"+ga++;Z[f.id]=f;g.setAttribute&&g.setAttribute("_echarts_instance_",f.id);w(f);return f},connect:function(g){if(L.isArray(g)){var f=g;g=null;L.each(f,function(f){null!=f.group&&(g=f.group)});g=g||"g_"+fa++;L.each(f,function(f){f.group=g})}ba[g]=!0;return g},disConnect:function(g){ba[g]=!1},dispose:function(g){L.isDom(g)?g=Y.getInstanceByDom(g):"string"===typeof g&&(g=Z[g]);g instanceof e&&!g.isDisposed()&&g.dispose()},getInstanceByDom:function(g){g=g.getAttribute("_echarts_instance_");return Z[g]},getInstanceById:function(g){return Z[g]},registerTheme:function(g,f){W[g]=f},registerPreprocessor:function(g){U.push(g)},registerProcessor:function(g,f){"function"===typeof g&&(f=g,g=1E3);if(isNaN(g))throw Error("Unkown processor priority");Q.push({prio:g,func:f})},registerAction:function(g,f,t){"function"===typeof f&&(t=f,f="");var k=L.isObject(g)?g.type:[g,g={event:f}][0];g.event=(g.event||k).toLowerCase();f=g.event;S[k]||(S[k]={action:t,actionInfo:g});R[f]=k},registerCoordinateSystem:function(g,f){A.register(g,f)},registerLayout:function(g,f){"function"===typeof g&&(f=g,g=1E3);if(isNaN(g))throw Error("Unkown layout priority");V.push({prio:g,func:f,isLayout:!0})},registerVisual:function(g,f){"function"===typeof g&&(f=g,g=3E3);if(isNaN(g))throw Error("Unkown visual priority");V.push({prio:g,func:f})}},ha=F.parseClassType;Y.extendComponentModel=function(g,f){var t=F;f&&(t=ha(f),t=F.getClass(t.main,t.sub,!0));return t.extend(g)};Y.extendComponentView=function(g,f){var t=E;f&&(t=ha(f),t=E.getClass(t.main,t.sub,!0));return t.extend(g)};Y.extendSeriesModel=function(g,f){var t=N;f&&(f="series."+f.replace("series.",""),t=ha(f),t=N.getClass(t.main,t.sub,!0));return t.extend(g)};Y.extendChartView=function(g,f){if(f){f.replace("series.","");var t=ha(f);G.getClass(t.main,!0)}return G.extend(g)};Y.setCanvasCreator=function(g){L.createCanvas=g};Y.registerVisual(2E3,b(94));Y.registerPreprocessor(b(95));Y.registerAction({type:"highlight",event:"highlight",update:"highlight"},L.noop);Y.registerAction({type:"downplay",event:"downplay",update:"downplay"},L.noop);Y.List=b(97);Y.Model=b(12);Y.graphic=b(43);Y.number=b(7);Y.format=b(6);Y.matrix=b(11);Y.vector=b(10);Y.color=b(39);Y.util={};M("map each filter indexOf inherits reduce filter bind curry isArray isString isObject isFunction extend defaults".split(" "),function(g){Y.util[g]=L[g]});Y.PRIORITY={PROCESSOR:{FILTER:1E3,STATISTIC:5E3},VISUAL:{LAYOUT:1E3,GLOBAL:2E3,CHART:3E3,COMPONENT:4E3,BRUSH:5E3}};c.exports=Y},function(c,p){var b;if("undefined"===typeof navigator)b={browser:{},os:{},node:!0,canvasSupported:!0};else{var h=navigator.userAgent;b={};var l=h.match(/Firefox\/([\d.]+)/),e=h.match(/MSIE\s([\d.]+)/)||h.match(/Trident\/.+?rv:(([\d.]+))/),h=h.match(/Edge\/([\d.]+)/);l&&(b.firefox=!0,b.version=l[1]);e&&(b.ie=!0,b.version=e[1]);e&&(b.ie=!0,b.version=e[1]);h&&(b.edge=!0,b.version=h[1]);b={browser:b,os:{},node:!1,canvasSupported:document.createElement("canvas").getContext?!0:!1,touchEventsSupported:"ontouchstart"in window&&!b.ie&&!b.edge,pointerEventsSupported:"onpointerdown"in window&&(b.edge||b.ie&&10<=b.version)}}c.exports=b},function(c,p,b){function h(g){this.option={};this.option["\x00_ec_inner"]=1;this._componentsMap={};this._seriesIndices=null;var f=this._theme.option,t;for(t in f)y.hasClass(t)||("object"===typeof f[t]?g[t]=g[t]?r.merge(g[t],f[t],!1):r.clone(f[t]):null==g[t]&&(g[t]=f[t]));r.merge(g,z,!1);this.mergeOption(g)}function l(g,f){r.isArray(f)||(f=f?[f]:[]);var t={};u(f,function(f){t[f]=(g[f]||[]).slice()});return t}function e(g,f){var t={};u(f,function(g,f){var k=g.exist;k&&(t[k.id]=g)});u(f,function(f,k){var d=f.option;r.assert(!d||null==d.id||!t[d.id]||t[d.id]===f,"id duplicates: "+(d&&d.id));d&&null!=d.id&&(t[d.id]=f);if(w(d)){var m=f.exist,d=d.type?d.type:m?m.subType:y.determineSubType(g,d);f.keyInfo={mainType:g,subType:d}}});u(f,function(g,f){var k=g.exist,d=g.option,m=g.keyInfo;if(w(d)){m.name=null!=d.name?d.name+"":k?k.name:"\x00-";if(k)m.id=k.id;else if(null!=d.id)m.id=d.id+"";else{k=0;do m.id="\x00"+m.name+"\x00"+k++;while(t[m.id])}t[m.id]=g}})}function n(g){return v(g,function(g){return g.componentIndex})||[]}function d(g,f){return f.hasOwnProperty("subType")?x(g,function(g){return g.subType===f.subType}):g}function m(g){if(!g._seriesIndices)throw Error("Series has not been initialized yet.");}var r=b(4),f=b(5),k=b(12),u=r.each,x=r.filter,v=r.map,g=r.isArray,t=r.indexOf,w=r.isObject,y=b(19),z=b(23),D=k.extend({constructor:D,init:function(g,f,t,d){t=t||{};this.option=null;this._theme=new k(t);this._optionManager=d},setOption:function(g,f){r.assert(!("\x00_ec_inner"in g),"please use chart.getOption()");this._optionManager.setOption(g,f);this.resetOption()},resetOption:function(g){var f=!1,t=this._optionManager;if(!g||"recreate"===g){var k=t.mountOption("recreate"===g);this.option&&"recreate"!==g?(this.restoreData(),this.mergeOption(k)):h.call(this,k);f=!0}"timeline"!==g&&"media"!==g||this.restoreData();g&&"recreate"!==g&&"timeline"!==g||(k=t.getTimelineOption(this))&&(this.mergeOption(k),f=!0);g&&"recreate"!==g&&"media"!==g||(g=t.getMediaOption(this,this._api),g.length&&u(g,function(g){this.mergeOption(g,f=!0)},this));return f},mergeOption:function(g){var t=this.option,k=this._componentsMap,d=[];u(g,function(g,f){null!=g&&(y.hasClass(f)?d.push(f):t[f]=null==t[f]?r.clone(g):r.merge(t[f],g,!0))});y.topologicalTravel(d,y.getAllClassMainTypes(),function(d,m){var b=f.normalizeToArray(g[d]),b=f.mappingToExists(k[d],b);e(d,b);var x=l(k,m);t[d]=[];k[d]=[];u(b,function(g,f){var m=g.exist,e=g.option;r.assert(w(e)||m,"Empty component definition");if(e){var u=y.getClass(d,g.keyInfo.subType,!0);if(m&&m instanceof u)m.mergeOption(e,this),m.optionUpdated(e,!1);else{var b=r.extend({dependentModels:x,componentIndex:f},g.keyInfo),m=new u(e,this,this,b);m.init(e,this,this,b);m.optionUpdated(null,!0)}}else m.mergeOption({},this),m.optionUpdated({},!1);k[d][f]=m;t[d][f]=m.option},this);"series"===d&&(this._seriesIndices=n(k.series))},this)},getOption:function(){var g=r.clone(this.option);u(g,function(t,k){if(y.hasClass(k)){t=f.normalizeToArray(t);for(var d=t.length-1;0<=d;d--)f.isIdInner(t[d])&&t.splice(d,1);g[k]=t}});delete g["\x00_ec_inner"];return g},getTheme:function(){return this._theme},getComponent:function(g,f){var t=this._componentsMap[g];if(t)return t[f||0]},queryComponents:function(f){var k=f.mainType;if(!k)return[];var w=f.index,m=f.id,e=f.name,u=this._componentsMap[k];if(!u||!u.length)return[];var b;if(null!=w)g(w)||(w=[w]),b=x(v(w,function(g){return u[g]}),function(g){return!!g});else if(null!=m){var r=g(m);b=x(u,function(g){return r&&0<=t(m,g.id)||!r&&g.id===m})}else if(null!=e){var y=g(e);b=x(u,function(g){return y&&0<=t(e,g.name)||!y&&g.name===e})}return d(b,f)},findComponents:function(g){var f=g.mainType,t=function(g){var t=f+"Index",k=f+"Id",d=f+"Name";return g&&(g.hasOwnProperty(t)||g.hasOwnProperty(k)||g.hasOwnProperty(d))?{mainType:f,index:g[t],id:g[k],name:g[d]}:null}(g.query),t=t?this.queryComponents(t):this._componentsMap[f];return function(f){return g.filter?x(f,g.filter):f}(d(t,g))},eachComponent:function(g,f,t){var k=this._componentsMap;"function"===typeof g?(t=f,f=g,u(k,function(g,k){u(g,function(g,d){f.call(t,k,g,d)})})):r.isString(g)?u(k[g],f,t):w(g)&&(g=this.findComponents(g),u(g,f,t))},getSeriesByName:function(g){return x(this._componentsMap.series,function(f){return f.name===g})},getSeriesByIndex:function(g){return this._componentsMap.series[g]},getSeriesByType:function(g){return x(this._componentsMap.series,function(f){return f.subType===g})},getSeries:function(){return this._componentsMap.series.slice()},eachSeries:function(g,f){m(this);u(this._seriesIndices,function(t){g.call(f,this._componentsMap.series[t],t)},this)},eachRawSeries:function(g,f){u(this._componentsMap.series,g,f)},eachSeriesByType:function(g,f,t){m(this);u(this._seriesIndices,function(k){var d=this._componentsMap.series[k];d.subType===g&&f.call(t,d,k)},this)},eachRawSeriesByType:function(g,f,t){return u(this.getSeriesByType(g),f,t)},isSeriesFiltered:function(g){m(this);return 0>r.indexOf(this._seriesIndices,g.componentIndex)},filterSeries:function(g,f){m(this);var t=x(this._componentsMap.series,g,f);this._seriesIndices=n(t)},restoreData:function(){var g=this._componentsMap;this._seriesIndices=n(g.series);var f=[];u(g,function(g,t){f.push(t)});y.topologicalTravel(f,y.getAllClassMainTypes(),function(f,t){u(g[f],function(g){g.restoreData()})})}});r.mixin(D,b(24));c.exports=D},function(c,p){function b(g){if("object"==typeof g&&null!==g){var f=g;if(g instanceof Array)for(var f=[],t=0,k=g.length;t<k;t++)f[t]=b(g[t]);else if(!d(g)&&!m(g))for(t in f={},g)g.hasOwnProperty(t)&&(f[t]=b(g[t]));return f}return g}function h(g,f,t){if(!n(f)||!n(g))return t?b(f):g;for(var k in f)if(f.hasOwnProperty(k)){var w=g[k],u=f[k];!n(u)||!n(w)||e(u)||e(w)||m(u)||m(w)||d(u)||d(w)?!t&&k in g||(g[k]=b(f[k],!0)):h(w,u,t)}return g}function l(g,f,t){for(var k in f)f.hasOwnProperty(k)&&(t?null!=f[k]:null==g[k])&&(g[k]=f[k]);return g}function e(g){return"[object Array]"===f.call(g)}function n(g){var f=typeof g;return"function"===f||!!g&&"object"==f}function d(g){return!!r[f.call(g)]}function m(g){return g&&1===g.nodeType&&"string"==typeof g.nodeName}var r={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1},f=Object.prototype.toString,k=Array.prototype,u=k.forEach,x=k.filter,v=k.slice,g=k.map,t=k.reduce,w,y={inherits:function(g,f){function t(){}var k=g.prototype;t.prototype=f.prototype;g.prototype=new t;for(var d in k)g.prototype[d]=k[d];g.prototype.constructor=g;g.superClass=f},mixin:function(g,f,t){g="prototype"in g?g.prototype:g;f="prototype"in f?f.prototype:f;l(g,f,t)},clone:b,merge:h,mergeAll:function(g,f){for(var t=g[0],k=1,d=g.length;k<d;k++)t=h(t,g[k],f);return t},extend:function(g,f){for(var t in f)f.hasOwnProperty(t)&&(g[t]=f[t]);return g},defaults:l,getContext:function(){w||(w=y.createCanvas().getContext("2d"));return w},createCanvas:function(){return document.createElement("canvas")},indexOf:function(g,f){if(g){if(g.indexOf)return g.indexOf(f);for(var t=0,k=g.length;t<k;t++)if(g[t]===f)return t}return-1},slice:function(){return Function.call.apply(v,arguments)},find:function(g,f,t){if(g&&f)for(var k=0,d=g.length;k<d;k++)if(f.call(t,g[k],k,g))return g[k]},isArrayLike:function(g){if(g)return"string"==typeof g?!1:"number"==typeof g.length},each:function(g,f,t){if(g&&f)if(g.forEach&&g.forEach===u)g.forEach(f,t);else if(g.length===+g.length)for(var k=0,d=g.length;k<d;k++)f.call(t,g[k],k,g);else for(k in g)g.hasOwnProperty(k)&&f.call(t,g[k],k,g)},map:function(f,t,k){if(f&&t){if(f.map&&f.map===g)return f.map(t,k);for(var d=[],w=0,m=f.length;w<m;w++)d.push(t.call(k,f[w],w,f));return d}},reduce:function(g,f,k,d){if(g&&f){if(g.reduce&&g.reduce===t)return g.reduce(f,k,d);for(var w=0,m=g.length;w<m;w++)k=f.call(d,k,g[w],w,g);return k}},filter:function(g,f,t){if(g&&f){if(g.filter&&g.filter===x)return g.filter(f,t);for(var k=[],d=0,w=g.length;d<w;d++)f.call(t,g[d],d,g)&&k.push(g[d]);return k}},bind:function(g,f){var t=v.call(arguments,2);return function(){return g.apply(f,t.concat(v.call(arguments)))}},curry:function(g){var f=v.call(arguments,1);return function(){return g.apply(this,f.concat(v.call(arguments)))}},isArray:e,isString:function(g){return"[object String]"===f.call(g)},isObject:n,isFunction:function(g){return"function"===typeof g},isBuildInObject:d,isDom:m,retrieve:function(g){for(var f=0,t=arguments.length;f<t;f++)if(null!=arguments[f])return arguments[f]},assert:function(g,f){if(!g)throw Error(f);},noop:function(){}};c.exports=y},function(c,p,b){var h=b(6),l=b(7),e=b(12),n=b(4),d={createNameEach:function(m,e){m=m.slice();var f=n.map(m,d.capitalFirst);e=(e||[]).slice();var k=n.map(e,d.capitalFirst);return function(d,b){n.each(m,function(m,g){for(var t={name:m,capital:f[g]},w=0;w<e.length;w++)t[e[w]]=m+k[w];d.call(b,t)})}},capitalFirst:function(d){return d?d.charAt(0).toUpperCase()+d.substr(1):d}};d.eachAxisDim=d.createNameEach(["x","y","z","radius","angle"],["axisIndex","axis","index"]);d.normalizeToArray=function(d){return d instanceof Array?d:null==d?[]:[d]};d.createLinkedNodesFinder=function(d,e,f){function k(k,d){var g=!1;e(function(t){n.each(f(k,t)||[],function(f){d.records[t.name][f]&&(g=!0)})});return g}function u(k,d){d.nodes.push(k);e(function(g){n.each(f(k,g)||[],function(f){d.records[g.name][f]=!0})})}return function(f){function b(f){0<=n.indexOf(g.nodes,f)||!k(f,g)||(u(f,g),t=!0)}var g={nodes:[],records:{}};e(function(f){g.records[f.name]={}});if(!f)return g;u(f,g);var t;do t=!1,d(b);while(t);return g}};d.defaultEmphasis=function(d,e){if(d){var f=d.emphasis=d.emphasis||{},k=d.normal=d.normal||{};n.each(e,function(d){var m=n.retrieve(f[d],k[d]);null!=m&&(f[d]=m)})}};d.LABEL_OPTIONS=["position","show","textStyle","distance","formatter"];d.getDataItemValue=function(d){return d&&(null==d.value?d:d.value)};d.isDataItemOption=function(d){return n.isObject(d)&&!(d instanceof Array)};d.converDataValue=function(d,e){var f=e&&e.type;if("ordinal"===f)return d;"time"!==f||isFinite(d)||null==d||"-"===d||(d=+l.parseDate(d));return null==d||""===d?NaN:+d};d.createDataFormatModel=function(m,b){var f=new e;n.mixin(f,d.dataFormatMixin);f.seriesIndex=b.seriesIndex;f.name=b.name||"";f.mainType=b.mainType;f.subType=b.subType;f.getData=function(){return m};return f};d.dataFormatMixin={getDataParams:function(d,e){var f=this.getData(e),k=this.seriesIndex,u=this.name,b=this.getRawValue(d,e),v=f.getRawIndex(d),g=f.getName(d,!0),t=f.getRawDataItem(d);return{componentType:this.mainType,componentSubType:this.subType,seriesType:"series"===this.mainType?this.subType:null,seriesIndex:k,seriesName:u,name:g,dataIndex:v,data:t,dataType:e,value:b,color:f.getItemVisual(d,"color"),$vars:["seriesName","name","value"]}},getFormattedLabel:function(d,e,f,k){e=e||"normal";var u=this.getData(f).getItemModel(d);d=this.getDataParams(d,f);null!=k&&d.value instanceof Array&&(d.value=d.value[k]);k=u.get(["label",e,"formatter"]);if("function"===typeof k)return d.status=e,k(d);if("string"===typeof k)return h.formatTpl(k,d)},getRawValue:function(d,e){var f=this.getData(e).getRawDataItem(d);if(null!=f)return!n.isObject(f)||f instanceof Array?f:f.value},formatTooltip:n.noop};d.mappingToExists=function(m,e){e=(e||[]).slice();var f=n.map(m||[],function(f,d){return{exist:f}});n.each(e,function(k,m){if(n.isObject(k))for(var b=0;b<f.length;b++){var v=f[b].exist;if(!f[b].option&&(null!=k.id&&v.id===k.id+""||null!=k.name&&!d.isIdInner(k)&&!d.isIdInner(v)&&v.name===k.name+"")){f[b].option=k;e[m]=null;break}}});n.each(e,function(k,m){if(n.isObject(k)){for(var e=0;e<f.length;e++){var b=f[e].exist;if(!f[e].option&&!d.isIdInner(b)&&null==k.id){f[e].option=k;break}}e>=f.length&&f.push({option:k})}});return f};d.isIdInner=function(d){return n.isObject(d)&&d.id&&0===(d.id+"").indexOf("\x00_ec_\x00")};d.compressBatches=function(m,e){function f(f,g,t){for(var k=0,m=f.length;k<m;k++)for(var e=f[k].seriesId,b=d.normalizeToArray(f[k].dataIndex),u=t&&t[e],r=0,x=b.length;r<x;r++){var c=b[r];u&&u[c]?u[c]=null:(g[e]||(g[e]={}))[c]=1}}function k(f,g){var t=[],d;for(d in f)if(f.hasOwnProperty(d)&&null!=f[d])if(g)t.push(+d);else{var m=k(f[d],!0);m.length&&t.push({seriesId:d,dataIndex:m})}return t}var u={},b={};f(m||[],u);f(e||[],b,u);return[k(u),k(b)]};c.exports=d},function(c,p,b){function h(d){return 10>d?"0"+d:d}var l=b(4),e=b(7);p=b(8);var n="abcdefg".split("");c.exports={normalizeCssArray:function(d){var m=d.length;return"number"===typeof d?[d,d,d,d]:2===m?[d[0],d[1],d[0],d[1]]:3===m?[d[0],d[1],d[2],d[1]]:d},addCommas:function(d){if(isNaN(d))return"-";d=(d+"").split(".");return d[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(1<d.length?"."+d[1]:"")},toCamelCase:function(d){return d.toLowerCase().replace(/-(.)/g,function(d,e){return e.toUpperCase()})},encodeHTML:function(d){return String(d).replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;").replace(/"/g,"\x26quot;").replace(/'/g,"\x26#39;")},formatTpl:function(d,m){l.isArray(m)||(m=[m]);var e=m.length;if(!e)return"";for(var f=m[0].$vars||[],k=0;k<f.length;k++){var b=n[k];d=d.replace("{"+b+"}","{"+b+0+"}")}for(k=0;k<e;k++)for(b=0;b<f.length;b++)d=d.replace("{"+n[b]+(null==k?"":k)+"}",m[k][f[b]]);return d},formatTime:function(d,m){if("week"===d||"month"===d||"quarter"===d||"half-year"===d||"year"===d)d="MM-dd\nyyyy";var b=e.parseDate(m),f=b.getFullYear(),k=b.getMonth()+1,u=b.getDate(),x=b.getHours(),v=b.getMinutes(),b=b.getSeconds();return d=d.replace("MM",h(k)).toLowerCase().replace("yyyy",f).replace("yy",f%100).replace("dd",h(u)).replace("d",u).replace("hh",h(x)).replace("h",x).replace("mm",h(v)).replace("m",v).replace("ss",h(b)).replace("s",b)},truncateText:p.truncateText}},function(c,p){var b={linearMap:function(b,c,e,n){var d=c[1]-c[0],m=e[1]-e[0];if(0===d)return 0===m?e[0]:(e[0]+e[1])/2;if(n)if(0<d){if(b<=c[0])return e[0];if(b>=c[1])return e[1]}else{if(b>=c[0])return e[0];if(b<=c[1])return e[1]}else{if(b===c[0])return e[0];if(b===c[1])return e[1]}return(b-c[0])/d*m+e[0]},parsePercent:function(b,c){switch(b){case "center":case "middle":b="50%";break;case "left":case "top":b="0%";break;case "right":case "bottom":b="100%"}return"string"===typeof b?b.replace(/^\s+/,"").replace(/\s+$/,"").match(/%$/)?parseFloat(b)/100*c:parseFloat(b):null==b?NaN:+b},round:function(b){return+(+b).toFixed(10)},asc:function(b){b.sort(function(b,e){return b-e});return b},getPrecision:function(b){b=+b;if(isNaN(b))return 0;for(var c=1,e=0;Math.round(b*c)/c!==b;)c*=10,e++;return e},getPixelPrecision:function(b,c){var e=Math.log,n=Math.LN10,d=Math.floor(e(b[1]-b[0])/n),e=Math.round(e(Math.abs(c[1]-c[0]))/n);return Math.max(-d+e,0)},MAX_SAFE_INTEGER:9007199254740991,remRadian:function(b){var c=2*Math.PI;return(b%c+c)%c},isRadianAroundZero:function(b){return-1E-4<b&&1E-4>b},parseDate:function(b){return b instanceof Date?b:new Date("string"===typeof b?new Date(b.replace(/-/g,"/"))-new Date("1970/01/01"):Math.round(b))},quantity:function(b){return Math.pow(10,Math.floor(Math.log(b)/Math.LN10))},nice:function(c,l){var e=b.quantity(c),n=c/e;return(l?1.5>n?1:2.5>n?2:4>n?3:7>n?5:10:1>n?1:2>n?2:3>n?3:5>n?5:10)*e}};c.exports=b},function(c,p,b){function h(f,k){var d=f+":"+k;if(l[d])return l[d];for(var m=(f+"").split("\n"),b=0,g=0,t=m.length;g<t;g++)b=Math.max(r.measureText(m[g],k).width,b);5E3<e&&(e=0,l={});e++;return l[d]=b}var l={},e=0,n=b(4),d=b(9),m=n.retrieve,r={getWidth:h,getBoundingRect:function(f,k,m,e){var b=((f||"")+"").split("\n").length;f=h(f,k);k=h("\u56fd",k);b=new d(0,0,f,b*k);b.lineHeight=k;switch(e){case "bottom":case "alphabetic":b.y-=k;break;case "middle":b.y-=k/2}switch(m){case "end":case "right":b.x-=b.width;break;case "center":b.x-=b.width/2}return b},adjustTextPositionOnRect:function(f,k,d,m){var e=k.x,g=k.y,t=k.height;k=k.width;d=d.height;var w=t/2-d/2,b="left";switch(f){case "left":e-=m;g+=w;b="right";break;case "right":e+=m+k;g+=w;b="left";break;case "top":e+=k/2;g-=m+d;b="center";break;case "bottom":e+=k/2;g+=t+m;b="center";break;case "inside":e+=k/2;g+=w;b="center";break;case "insideLeft":e+=m;g+=w;b="left";break;case "insideRight":e+=k-m;g+=w;b="right";break;case "insideTop":e+=k/2;g+=m;b="center";break;case "insideBottom":e+=k/2;g+=t-d-m;b="center";break;case "insideTopLeft":e+=m;g+=m;b="left";break;case "insideTopRight":e+=k-m;g+=m;b="right";break;case "insideBottomLeft":e+=m;g+=t-d-m;break;case "insideBottomRight":e+=k-m,g+=t-d-m,b="right"}return{x:e,y:g,textAlign:b,textBaseline:"top"}},truncateText:function(f,k,d,e,b){if(!k)return"";b=b||{};e=m(e,"...");var g=m(b.maxIterations,2),t=m(b.minChar,0),w=h("\u56fd",d),y=h("a",d);b=m(b.placeholder,"");for(var r=k=Math.max(0,k-1),c=0;c<t&&r>=y;c++)r-=y;c=h(e);c>r&&(e="",c=0);r=k-c;f=(f+"").split("\n");c=0;for(t=f.length;c<t;c++){var n=f[c],l=h(n,d);if(!(l<=k)){for(var F=0;;F++){if(l<=r||F>=g){n+=e;break}if(0===F){for(var l=n,N=r,E=y,p=w,q=0,H=0,L=l.length;H<L&&q<N;H++)var I=l.charCodeAt(H),q=q+(0<=I&&127>=I?E:p);l=H}else l=0<l?Math.floor(n.length*r/l):0;n=n.substr(0,l);l=h(n,d)}""===n&&(n=b);f[c]=n}}return f.join("\n")},measureText:function(f,k){var d=n.getContext();d.font=k||"12px sans-serif";return d.measureText(f)}};c.exports=r},function(c,p,b){function h(d,f,k,m){this.x=d;this.y=f;this.width=k;this.height=m}p=b(10);var l=b(11),e=p.applyTransform,n=Math.min,d=Math.abs,m=Math.max;h.prototype={constructor:h,union:function(d){var f=n(d.x,this.x),k=n(d.y,this.y);this.width=m(d.x+d.width,this.x+this.width)-f;this.height=m(d.y+d.height,this.y+this.height)-k;this.x=f;this.y=k},applyTransform:function(){var m=[],f=[];return function(k){k&&(m[0]=this.x,m[1]=this.y,f[0]=this.x+this.width,f[1]=this.y+this.height,e(m,m,k),e(f,f,k),this.x=n(m[0],f[0]),this.y=n(m[1],f[1]),this.width=d(f[0]-m[0]),this.height=d(f[1]-m[1]))}}(),calculateTransform:function(d){var f=d.width/this.width,k=d.height/this.height,m=l.create();l.translate(m,m,[-this.x,-this.y]);l.scale(m,m,[f,k]);l.translate(m,m,[d.x,d.y]);return m},intersect:function(d){var f=this.x,k=this.y,m=this.y+this.height,e=d.x+d.width,b=d.y,g=d.y+d.height;return!(this.x+this.width<d.x||e<f||m<b||g<k)},contain:function(d,f){return d>=this.x&&d<=this.x+this.width&&f>=this.y&&f<=this.y+this.height},clone:function(){return new h(this.x,this.y,this.width,this.height)},copy:function(d){this.x=d.x;this.y=d.y;this.width=d.width;this.height=d.height}};c.exports=h},function(c,p){var b="undefined"===typeof Float32Array?Array:Float32Array,h={create:function(c,e){var n=new b(2);null==c&&(c=0);null==e&&(e=0);n[0]=c;n[1]=e;return n},copy:function(b,e){b[0]=e[0];b[1]=e[1];return b},clone:function(c){var e=new b(2);e[0]=c[0];e[1]=c[1];return e},set:function(b,e,c){b[0]=e;b[1]=c;return b},add:function(b,e,c){b[0]=e[0]+c[0];b[1]=e[1]+c[1];return b},scaleAndAdd:function(b,e,c,d){b[0]=e[0]+c[0]*d;b[1]=e[1]+c[1]*d;return b},sub:function(b,e,c){b[0]=e[0]-c[0];b[1]=e[1]-c[1];return b},len:function(b){return Math.sqrt(this.lenSquare(b))},lenSquare:function(b){return b[0]*b[0]+b[1]*b[1]},mul:function(b,e,c){b[0]=e[0]*c[0];b[1]=e[1]*c[1];return b},div:function(b,e,c){b[0]=e[0]/c[0];b[1]=e[1]/c[1];return b},dot:function(b,e){return b[0]*e[0]+b[1]*e[1]},scale:function(b,e,c){b[0]=e[0]*c;b[1]=e[1]*c;return b},normalize:function(b,e){var c=h.len(e);0===c?(b[0]=0,b[1]=0):(b[0]=e[0]/c,b[1]=e[1]/c);return b},distance:function(b,e){return Math.sqrt((b[0]-e[0])*(b[0]-e[0])+(b[1]-e[1])*(b[1]-e[1]))},distanceSquare:function(b,e){return(b[0]-e[0])*(b[0]-e[0])+(b[1]-e[1])*(b[1]-e[1])},negate:function(b,e){b[0]=-e[0];b[1]=-e[1];return b},lerp:function(b,e,c,d){b[0]=e[0]+d*(c[0]-e[0]);b[1]=e[1]+d*(c[1]-e[1]);return b},applyTransform:function(b,e,c){var d=e[0];e=e[1];b[0]=c[0]*d+c[2]*e+c[4];b[1]=c[1]*d+c[3]*e+c[5];return b},min:function(b,e,c){b[0]=Math.min(e[0],c[0]);b[1]=Math.min(e[1],c[1]);return b},max:function(b,e,c){b[0]=Math.max(e[0],c[0]);b[1]=Math.max(e[1],c[1]);return b}};h.length=h.len;h.lengthSquare=h.lenSquare;h.dist=h.distance;h.distSquare=h.distanceSquare;c.exports=h},function(c,p){var b="undefined"===typeof Float32Array?Array:Float32Array,h={create:function(){var c=new b(6);h.identity(c);return c},identity:function(b){b[0]=1;b[1]=0;b[2]=0;b[3]=1;b[4]=0;b[5]=0;return b},copy:function(b,e){b[0]=e[0];b[1]=e[1];b[2]=e[2];b[3]=e[3];b[4]=e[4];b[5]=e[5];return b},mul:function(b,e,c){var d=e[1]*c[0]+e[3]*c[1],m=e[0]*c[2]+e[2]*c[3],r=e[1]*c[2]+e[3]*c[3],f=e[0]*c[4]+e[2]*c[5]+e[4],k=e[1]*c[4]+e[3]*c[5]+e[5];b[0]=e[0]*c[0]+e[2]*c[1];b[1]=d;b[2]=m;b[3]=r;b[4]=f;b[5]=k;return b},translate:function(b,e,c){b[0]=e[0];b[1]=e[1];b[2]=e[2];b[3]=e[3];b[4]=e[4]+c[0];b[5]=e[5]+c[1];return b},rotate:function(b,e,c){var d=e[0],m=e[2],r=e[4],f=e[1],k=e[3];e=e[5];var u=Math.sin(c);c=Math.cos(c);b[0]=d*c+f*u;b[1]=-d*u+f*c;b[2]=m*c+k*u;b[3]=-m*u+c*k;b[4]=c*r+u*e;b[5]=c*e-u*r;return b},scale:function(b,e,c){var d=c[0];c=c[1];b[0]=e[0]*d;b[1]=e[1]*c;b[2]=e[2]*d;b[3]=e[3]*c;b[4]=e[4]*d;b[5]=e[5]*c;return b},invert:function(b,e){var c=e[0],d=e[2],m=e[4],r=e[1],f=e[3],k=e[5],u=c*f-r*d;if(!u)return null;u=1/u;b[0]=f*u;b[1]=-r*u;b[2]=-d*u;b[3]=c*u;b[4]=(d*k-f*m)*u;b[5]=(r*m-c*k)*u;return b}};c.exports=h},function(c,p,b){function h(b,d,m){this.parentModel=d;this.ecModel=m;this.option=b}var l=b(4),e=b(13);h.prototype={constructor:h,init:null,mergeOption:function(b){l.merge(this.option,b,!0)},get:function(b,d){if(!b)return this.option;"string"===typeof b&&(b=b.split("."));for(var m=this.option,e=this.parentModel,f=0;f<b.length&&(!b[f]||(m=m&&"object"===typeof m?m[b[f]]:null,null!=m));f++);null==m&&e&&!d&&(m=e.get(b));return m},getShallow:function(b,d){var m=this.option,m=m&&m[b],e=this.parentModel;null==m&&e&&!d&&(m=e.getShallow(b));return m},getModel:function(b,d){var m=this.get(b,!0),e=this.parentModel;return new h(m,d||e&&e.getModel(b),this.ecModel)},isEmpty:function(){return null==this.option},restoreData:function(){},clone:function(){return new this.constructor(l.clone(this.option))},setReadOnly:function(b){e.setReadOnly(this,b)}};e.enableClassExtend(h);p=l.mixin;p(h,b(14));p(h,b(16));p(h,b(17));p(h,b(18));c.exports=h},function(c,p,b){function h(d,b){var r=e.slice(arguments,2);return this.superClass.prototype[b].apply(d,r)}function l(d,b,e){return this.superClass.prototype[b].apply(d,e)}var e=b(4);p={};var n=p.parseClassType=function(d){var b={main:"",sub:""};d&&(d=d.split("."),b.main=d[0]||"",b.sub=d[1]||"");return b};p.enableClassExtend=function(d){d.$constructor=d;d.extend=function(d){var b=this,f=function(){d.$constructor?d.$constructor.apply(this,arguments):b.apply(this,arguments)};e.extend(f.prototype,d);f.extend=this.extend;f.superCall=h;f.superApply=l;e.inherits(f,this);f.superClass=b;return f}};p.enableClassManagement=function(d,b){b=b||{};var r={};d.registerClass=function(f,d){if(d)if(d=n(d),!d.sub)r[d.main]&&console.warn(d.main+" exists."),r[d.main]=f;else if("___EC__COMPONENT__CONTAINER___"!==d.sub){var b=r[d.main];b&&b.___EC__COMPONENT__CONTAINER___||(b=r[d.main]={},b.___EC__COMPONENT__CONTAINER___=!0);b[d.sub]=f}return f};d.getClass=function(f,d,b){var m=r[f];m&&m.___EC__COMPONENT__CONTAINER___&&(m=d?m[d]:null);if(b&&!m)throw Error("Component "+f+"."+(d||"")+" not exists. Load it first.");return m};d.getClassesByMainType=function(f){f=n(f);var d=[];(f=r[f.main])&&f.___EC__COMPONENT__CONTAINER___?e.each(f,function(f,k){"___EC__COMPONENT__CONTAINER___"!==k&&d.push(f)}):d.push(f);return d};d.hasClass=function(f){f=n(f);return!!r[f.main]};d.getAllClassMainTypes=function(){var f=[];e.each(r,function(d,b){f.push(b)});return f};d.hasSubTypes=function(f){f=n(f);return(f=r[f.main])&&f.___EC__COMPONENT__CONTAINER___};d.parseClassType=n;if(b.registerWhenExtend){var f=d.extend;f&&(d.extend=function(k){var b=f.call(this,k);return d.registerClass(b,k.type)})}return d};p.setReadOnly=function(d,b){};c.exports=p},function(c,p,b){var h=b(15)([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);c.exports={getLineStyle:function(b){b=h.call(this,b);var e=this.getLineDash();e&&(b.lineDash=e);return b},getLineDash:function(){var b=this.get("type");return"solid"===b||null==b?null:"dashed"===b?[5,5]:[1,1]}}},function(c,p,b){var h=b(4);c.exports=function(b){for(var e=0;e<b.length;e++)b[e][1]||(b[e][1]=b[e][0]);return function(e){for(var d={},m=0;m<b.length;m++){var r=b[m][1];e&&0<=h.indexOf(e,r)||(r=this.getShallow(r),null!=r&&(d[b[m][0]]=r))}return d}}},function(c,p,b){c.exports={getAreaStyle:b(15)([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]])}},function(c,p,b){var h=b(8);c.exports={getTextColor:function(){var b=this.ecModel;return this.getShallow("color")||b&&b.get("textStyle.color")},getFont:function(){var b=this.ecModel,b=b&&b.getModel("textStyle");return[this.getShallow("fontStyle")||b&&b.getShallow("fontStyle"),this.getShallow("fontWeight")||b&&b.getShallow("fontWeight"),(this.getShallow("fontSize")||b&&b.getShallow("fontSize")||12)+"px",this.getShallow("fontFamily")||b&&b.getShallow("fontFamily")||"sans-serif"].join(" ")},getTextRect:function(b){var e=this.get("textStyle")||{};return h.getBoundingRect(b,this.getFont(),e.align,e.baseline)},truncateText:function(b,e,c,d){return h.truncateText(b,e,this.getFont(),c,d)}}},function(c,p,b){var h=b(15)([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);c.exports={getItemStyle:function(b){b=h.call(this,b);var e=this.getBorderLineDash();e&&(b.lineDash=e);return b},getBorderLineDash:function(){var b=this.get("borderType");return"solid"===b||null==b?null:"dashed"===b?[5,5]:[1,1]}}},function(c,p,b){var h=b(12),l=b(4),e=Array.prototype.push,n=b(20),d=b(13),m=b(21),r=h.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(f,d,b,m){h.call(this,f,d,b,m);l.extend(this,m);this.uid=n.getUID("componentModel")},init:function(f,d,b,m){this.mergeDefaultAndTheme(f,b)},mergeDefaultAndTheme:function(f,d){var b=this.layoutMode,e=b?m.getLayoutParams(f):{},r=d.getTheme();l.merge(f,r.get(this.mainType));l.merge(f,this.getDefaultOption());b&&m.mergeLayoutParam(f,e,b)},mergeOption:function(f){l.merge(this.option,f,!0);var d=this.layoutMode;d&&m.mergeLayoutParam(this.option,f,d)},optionUpdated:function(f,d){},getDefaultOption:function(){if(!this.hasOwnProperty("__defaultOption")){for(var f=[],d=this.constructor;d;){var b=d.prototype.defaultOption;b&&f.push(b);d=d.superClass}d={};for(b=f.length-1;0<=b;b--)d=l.merge(d,f[b],!0);this.__defaultOption=d}return this.__defaultOption}});d.enableClassManagement(r,{registerWhenExtend:!0});n.enableSubTypeDefaulter(r);n.enableTopologicalTravel(r,function(f){var k=[];l.each(r.getClassesByMainType(f),function(f){e.apply(k,f.prototype.dependencies||[])});return l.map(k,function(f){return d.parseClassType(f).main})});l.mixin(r,b(22));c.exports=r},function(c,p,b){var h=b(4),l=b(13).parseClassType,e=0;c.exports={getUID:function(b){return[b||"",e++,Math.random()].join("_")},enableSubTypeDefaulter:function(b){var d={};b.registerSubTypeDefaulter=function(b,e){b=l(b);d[b.main]=e};b.determineSubType=function(m,e){var f=e.type;if(!f){var k=l(m).main;b.hasSubTypes(m)&&d[k]&&(f=d[k](e))}return f};return b},enableTopologicalTravel:function(b,d){function m(k){var b={},m=[];h.each(k,function(c){var g=e(b,c),t=g.originalDeps=d(c),t=f(t,k);g.entryCount=t.length;0===g.entryCount&&m.push(c);h.each(t,function(f){0>h.indexOf(g.predecessor,f)&&g.predecessor.push(f);var t=e(b,f);0>h.indexOf(t.successor,f)&&t.successor.push(c)})});return{graph:b,noEntryList:m}}function e(f,d){f[d]||(f[d]={predecessor:[],successor:[]});return f[d]}function f(f,d){var b=[];h.each(f,function(f){0<=h.indexOf(d,f)&&b.push(f)});return b}b.topologicalTravel=function(f,d,b,e){function g(g){w[g].entryCount--;0===w[g].entryCount&&y.push(g)}function t(f){r[f]=!0;g(f)}if(f.length){d=m(d);var w=d.graph,y=d.noEntryList,r={};for(h.each(f,function(g){r[g]=!0});y.length;){f=y.pop();d=w[f];var c=!!r[f];c&&(b.call(e,f,d.originalDeps.slice()),delete r[f]);h.each(d.successor,c?t:g)}h.each(r,function(){throw Error("Circle dependency may exists");})}}}}},function(c,p,b){function h(f,d,b,m,g){var t=0,w=0;null==m&&(m=Infinity);null==g&&(g=Infinity);var e=0;d.eachChild(function(r,c){var n=r.position,h=r.getBoundingRect(),l=d.childAt(c+1),l=l&&l.getBoundingRect(),N,E;"horizontal"===f?(l=h.width+(l?-l.x+h.x:0),N=t+l,N>m||r.newline?(t=0,N=l,w+=e+b,e=h.height):e=Math.max(e,h.height)):(l=h.height+(l?-l.y+h.y:0),E=w+l,E>g||r.newline?(t+=e+b,w=0,E=l,e=h.width):e=Math.max(e,h.width));r.newline||(n[0]=t,n[1]=w,"horizontal"===f?t=N+b:w=E+b)})}var l=b(4),e=b(9);p=b(7);var n=b(6),d=p.parsePercent,m=l.each,r={},f="left right top bottom width height".split(" ");r.box=h;r.vbox=l.curry(h,"vertical");r.hbox=l.curry(h,"horizontal");r.getAvailableSize=function(f,b,m){var e=b.width;b=b.height;var g=d(f.x,e),t=d(f.y,b),w=d(f.x2,e),y=d(f.y2,b);(isNaN(g)||isNaN(parseFloat(f.x)))&&(g=0);(isNaN(w)||isNaN(parseFloat(f.x2)))&&(w=e);(isNaN(t)||isNaN(parseFloat(f.y)))&&(t=0);(isNaN(y)||isNaN(parseFloat(f.y2)))&&(y=b);m=n.normalizeCssArray(m||0);return{width:Math.max(w-g-m[1]-m[3],0),height:Math.max(y-t-m[0]-m[2],0)}};r.getLayoutRect=function(f,b,m){m=n.normalizeCssArray(m||0);var r=b.width;b=b.height;var g=d(f.left,r),t=d(f.top,b),w=d(f.right,r),y=d(f.bottom,b),c=d(f.width,r),h=d(f.height,b),l=m[2]+m[0],B=m[1]+m[3],F=f.aspect;isNaN(c)&&(c=r-w-B-g);isNaN(h)&&(h=b-y-l-t);isNaN(c)&&isNaN(h)&&(F>r/b?c=.8*r:h=.8*b);null!=F&&(isNaN(c)&&(c=F*h),isNaN(h)&&(h=c/F));isNaN(g)&&(g=r-w-c-B);isNaN(t)&&(t=b-y-h-l);switch(f.left||f.right){case "center":g=r/2-c/2-m[3];break;case "right":g=r-c-B}switch(f.top||f.bottom){case "middle":case "center":t=b/2-h/2-m[0];break;case "bottom":t=b-h-l}g=g||0;t=t||0;isNaN(c)&&(c=r-g-(w||0));isNaN(h)&&(h=b-t-(y||0));f=new e(g+m[3],t+m[0],c,h);f.margin=m;return f};r.positionGroup=function(f,d,b,m){var g=f.getBoundingRect();d=l.extend(l.clone(d),{width:g.width,height:g.height});d=r.getLayoutRect(d,b,m);f.attr("position",[d.x-g.x,d.y-g.y])};r.mergeLayoutParam=function(f,d,b){function e(g){var t={},w=0,y={},r=0,c=b.ignoreSize?1:2;m(g,function(g){y[g]=f[g]});m(g,function(g){d.hasOwnProperty(g)&&(t[g]=y[g]=d[g]);null!=t[g]&&"auto"!==t[g]&&w++;null!=y[g]&&"auto"!==y[g]&&r++});if(r!==c&&w){if(!(w>=c))for(c=0;c<g.length;c++){var v=g[c];if(!t.hasOwnProperty(v)&&f.hasOwnProperty(v)){t[v]=f[v];break}}return t}return y}function g(g,f,d){m(g,function(g){f[g]=d[g]})}!l.isObject(b)&&(b={});var t=["width","left","right"],w=["height","top","bottom"],y=e(t),r=e(w);g(t,f,y);g(w,f,r)};r.getLayoutParams=function(f){return r.copyLayoutParams({},f)};r.copyLayoutParams=function(d,b){b&&d&&m(f,function(f){b.hasOwnProperty(f)&&(d[f]=b[f])});return d};c.exports=r},function(c,p){c.exports={getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}}},function(c,p){var b="";"undefined"!==typeof navigator&&(b=navigator.platform||"");c.exports={color:"#c23531 #2f4554 #61a0a8 #d48265 #91c7ae #749f83 #ca8622 #bda29a #6e7074 #546570 #c4ccd3".split(" "),grid:{},textStyle:{fontFamily:b.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:!0,animationDuration:1E3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2E3,progressiveThreshold:3E3,progressive:400,hoverLayerThreshold:3E3}},function(c,p){c.exports={clearColorPalette:function(){this._colorIdx=0;this._colorNameMap={}},getColorFromPalette:function(b,c){c=c||this;var l=c._colorIdx||0,e=c._colorNameMap||(c._colorNameMap={});if(e[b])return e[b];var n=this.get("color",!0)||[];if(n.length){var d=n[l];b&&(e[b]=d);c._colorIdx=(l+1)%n.length;return d}}}},function(c,p,b){var h=b(4),l="getDom getZr getWidth getHeight dispatchAction isDisposed on off getDataURL getConnectedDataURL getModel getOption".split(" ");c.exports=function(b){h.each(l,function(c){this[c]=h.bind(b[c],b)},this)}},function(c,p){function b(){this._coordinateSystems=[]}var h={};b.prototype={constructor:b,create:function(b,e){var c=[],d;for(d in h){var m=h[d].create(b,e);m&&(c=c.concat(m))}this._coordinateSystems=c},update:function(b,e){for(var c=this._coordinateSystems,d=0;d<c.length;d++)c[d].update&&c[d].update(b,e)}};b.register=function(b,e){h[b]=e};b.get=function(b){return h[b]};c.exports=b},function(c,p,b){function h(g){this._api=g;this._timelineOptions=[];this._mediaList=[];this._currentMediaIndices=[]}function l(g,f,d){var b=[],e=[],r,u,c=g.timeline;g.baseOption&&(u=g.baseOption);if(c||g.options)u=u||{},b=(g.options||[]).slice();g.media&&(u=u||{},k(g.media,function(g){g&&g.option&&(g.query?e.push(g):r||(r=g))}));u||(u=g);u.timeline||(u.timeline=c);k([u].concat(b).concat(m.map(e,function(g){return g.option})),function(g){k(f,function(f){f(g,d)})});return{baseOption:u,timelineOptions:b,mediaDefault:r,mediaList:e}}function e(f,d,b){var k={width:d,height:b,aspectratio:d/b},e=!0;m.each(f,function(f,d){var t=d.match(g);if(t&&t[1]&&t[2]){var b=t[1],t=t[2].toLowerCase();t=k[t];("min"===b?t>=f:"max"===b?t<=f:t===f)||(e=!1)}});return e}function n(g,f){return g.join(",")===f.join(",")}function d(g,d){d=d||{};k(d,function(d,b){if(null!=d){var k=g[b];f.hasClass(b)?(d=r.normalizeToArray(d),k=r.normalizeToArray(k),k=r.mappingToExists(k,d),g[b]=x(k,function(g){return g.option&&g.exist?v(g.exist,g.option,!0):g.exist||g.option})):g[b]=v(k,d,!0)}})}var m=b(4),r=b(5),f=b(19),k=m.each,u=m.clone,x=m.map,v=m.merge,g=/^(min|max)?(.+)$/;h.prototype={constructor:h,setOption:function(g,f){g=u(g,!0);var b=this._optionBackup,k=l.call(this,g,f,!b);this._newBaseOption=k.baseOption;b?(d(b.baseOption,k.baseOption),k.timelineOptions.length&&(b.timelineOptions=k.timelineOptions),k.mediaList.length&&(b.mediaList=k.mediaList),k.mediaDefault&&(b.mediaDefault=k.mediaDefault)):this._optionBackup=k},mountOption:function(g){var f=this._optionBackup;this._timelineOptions=x(f.timelineOptions,u);this._mediaList=x(f.mediaList,u);this._mediaDefault=u(f.mediaDefault);this._currentMediaIndices=[];return u(g?f.baseOption:this._newBaseOption)},getTimelineOption:function(g){var f,d=this._timelineOptions;d.length&&(g=g.getComponent("timeline"))&&(f=u(d[g.getCurrentIndex()],!0));return f},getMediaOption:function(g){g=this._api.getWidth();var f=this._api.getHeight(),d=this._mediaList,b=this._mediaDefault,k=[],m=[];if(!d.length&&!b)return m;for(var r=0,c=d.length;r<c;r++)e(d[r].query,g,f)&&k.push(r);!k.length&&b&&(k=[-1]);k.length&&!n(k,this._currentMediaIndices)&&(m=x(k,function(g){return u(-1===g?b.option:d[g].option)}));this._currentMediaIndices=k;return m}};c.exports=h},function(c,p,b){var h=b(4),l=b(6),e=b(5);p=b(19);var n=b(24),d=b(2),m=l.encodeHTML,r=l.addCommas;b=p.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendDataProvider:null,visualColorAccessPath:"itemStyle.normal.color",init:function(f,d,b,m){this.seriesIndex=this.componentIndex;this.mergeDefaultAndTheme(f,b);this._dataBeforeProcessed=this.getInitialData(f,b);this._data=this._dataBeforeProcessed.cloneShallow()},mergeDefaultAndTheme:function(f,d){h.merge(f,d.getTheme().get(this.subType));h.merge(f,this.getDefaultOption());e.defaultEmphasis(f.label,e.LABEL_OPTIONS);this.fillDataTextStyle(f.data)},mergeOption:function(f,d){f=h.merge(this.option,f,!0);this.fillDataTextStyle(f.data);var b=this.getInitialData(f,d);b&&(this._data=b,this._dataBeforeProcessed=b.cloneShallow())},fillDataTextStyle:function(f){if(f)for(var d=0;d<f.length;d++)f[d]&&f[d].label&&e.defaultEmphasis(f[d].label,e.LABEL_OPTIONS)},getInitialData:function(){},getData:function(f){return null==f?this._data:this._data.getLinkedData(f)},setData:function(f){this._data=f},getRawData:function(){return this._dataBeforeProcessed},coordDimToDataDim:function(f){return[f]},dataDimToCoordDim:function(f){return f},getBaseAxis:function(){var f=this.coordinateSystem;return f&&f.getBaseAxis&&f.getBaseAxis()},formatTooltip:function(f,d,b){function e(g){return h.map(g,function(g,f){var t=c.getDimensionInfo(f),t=t&&t.type;return"ordinal"===t?g:"time"===t?d?"":l.formatTime("yyyy/mm/dd hh:mm:ss",g):r(g)}).filter(function(g){return!!g}).join(", ")}var c=this._data;b=this.getRawValue(f);b=h.isArray(b)?e(b):r(b);var g=c.getName(f);f='\x3cspan style\x3d"display:inline-block;margin-right:5px;border-radius:10px;width:9px;height:9px;background-color:'+c.getItemVisual(f,"color")+'"\x3e\x3c/span\x3e';var t=this.name;"\x00-"===t&&(t="");return d?f+m(this.name)+" : "+b:(t&&m(t)+"\x3cbr /\x3e")+f+(g?m(g)+" : "+b:b)},ifEnableAnimation:function(){if(d.node)return!1;var f=this.getShallow("animation");f&&this.getData().count()>this.getShallow("animationThreshold")&&(f=!1);return f},restoreData:function(){this._data=this._dataBeforeProcessed.cloneShallow()},getColorFromPalette:function(f,d){var b=this.ecModel,m=n.getColorFromPalette.call(this,f,d);m||(m=b.getColorFromPalette(f,d));return m},getAxisTooltipDataIndex:null});h.mixin(b,e.dataFormatMixin);h.mixin(b,n);c.exports=b},function(c,p,b){var h=b(30),l=b(20);p=b(13);b=function(){this.group=new h;this.uid=l.getUID("viewComponent")};b.prototype={constructor:b,init:function(b,d){},render:function(b,d,m,e){},dispose:function(){}};var e=b.prototype;e.updateView=e.updateLayout=e.updateVisual=function(b,d,m,e){};p.enableClassExtend(b);p.enableClassManagement(b,{registerWhenExtend:!0});c.exports=b},function(c,p,b){var h=b(4),l=b(31),e=b(9),n=function(d){d=d||{};l.call(this,d);for(var b in d)this[b]=d[b];this._children=[];this.__storage=null;this.__dirty=!0};n.prototype={constructor:n,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(d){return this._children[d]},childOfName:function(d){for(var b=this._children,e=0;e<b.length;e++)if(b[e].name===d)return b[e]},childCount:function(){return this._children.length},add:function(d){d&&d!==this&&d.parent!==this&&(this._children.push(d),this._doAdd(d));return this},addBefore:function(d,b){if(d&&d!==this&&d.parent!==this&&b&&b.parent===this){var e=this._children,f=e.indexOf(b);0<=f&&(e.splice(f,0,d),this._doAdd(d))}return this},_doAdd:function(d){d.parent&&d.parent.remove(d);d.parent=this;var b=this.__storage,e=this.__zr;b&&b!==d.__storage&&(b.addToMap(d),d instanceof n&&d.addChildrenToStorage(b));e&&e.refresh()},remove:function(d){var b=this.__zr,e=this.__storage,f=this._children,k=h.indexOf(f,d);if(0>k)return this;f.splice(k,1);d.parent=null;e&&(e.delFromMap(d.id),d instanceof n&&d.delChildrenFromStorage(e));b&&b.refresh();return this},removeAll:function(){var d=this._children,b=this.__storage,e,f;for(f=0;f<d.length;f++)e=d[f],b&&(b.delFromMap(e.id),e instanceof n&&e.delChildrenFromStorage(b)),e.parent=null;d.length=0;return this},eachChild:function(d,b){for(var e=this._children,f=0;f<e.length;f++)d.call(b,e[f],f);return this},traverse:function(d,b){for(var e=0;e<this._children.length;e++){var f=this._children[e];d.call(b,f);"group"===f.type&&f.traverse(d,b)}return this},addChildrenToStorage:function(d){for(var b=0;b<this._children.length;b++){var e=this._children[b];d.addToMap(e);e instanceof n&&e.addChildrenToStorage(d)}},delChildrenFromStorage:function(d){for(var b=0;b<this._children.length;b++){var e=this._children[b];d.delFromMap(e.id);e instanceof n&&e.delChildrenFromStorage(d)}},dirty:function(){this.__dirty=!0;this.__zr&&this.__zr.refresh();return this},getBoundingRect:function(d){var b=null,c=new e(0,0,0,0);d=d||this._children;for(var f=[],k=0;k<d.length;k++){var u=d[k];if(!u.ignore&&!u.invisible){var x=u.getBoundingRect();(u=u.getLocalTransform(f))?(c.copy(x),c.applyTransform(u),b=b||c.clone(),b.union(c)):(b=b||x.clone(),b.union(x))}}return b||c}};h.inherits(n,l);c.exports=n},function(c,p,b){var h=b(32),l=b(33),e=b(34),n=b(35),d=b(4);p=function(d){e.call(this,d);l.call(this,d);n.call(this,d);this.id=d.id||h()};p.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,drift:function(d,b){switch(this.draggable){case "horizontal":b=0;break;case "vertical":d=0}var f=this.transform;f||(f=this.transform=[1,0,0,1,0,0]);f[4]+=d;f[5]+=b;this.decomposeTransform();this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(d,b){},attrKV:function(d,b){if("position"===d||"scale"===d||"origin"===d){if(b){var f=this[d];f||(f=this[d]=[]);f[0]=b[0];f[1]=b[1]}}else this[d]=b},hide:function(){this.ignore=!0;this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1;this.__zr&&this.__zr.refresh()},attr:function(b,e){if("string"===typeof b)this.attrKV(b,e);else if(d.isObject(b))for(var f in b)b.hasOwnProperty(f)&&this.attrKV(f,b[f]);this.dirty(!1);return this},setClipPath:function(d){var b=this.__zr;b&&d.addSelfToZr(b);this.clipPath&&this.clipPath!==d&&this.removeClipPath();this.clipPath=d;d.__zr=b;d.__clipTarget=this;this.dirty(!1)},removeClipPath:function(){var d=this.clipPath;d&&(d.__zr&&d.removeSelfFromZr(d.__zr),d.__zr=null,this.clipPath=d.__clipTarget=null,this.dirty(!1))},addSelfToZr:function(d){this.__zr=d;var b=this.animators;if(b)for(var f=0;f<b.length;f++)d.animation.addAnimator(b[f]);this.clipPath&&this.clipPath.addSelfToZr(d)},removeSelfFromZr:function(d){this.__zr=null;var b=this.animators;if(b)for(var f=0;f<b.length;f++)d.animation.removeAnimator(b[f]);this.clipPath&&this.clipPath.removeSelfFromZr(d)}};d.mixin(p,n);d.mixin(p,e);d.mixin(p,l);c.exports=p},function(c,p){var b=2311;c.exports=function(){return b++}},function(c,p){var b=Array.prototype.slice,h=function(){this._$handlers={}};h.prototype={constructor:h,one:function(b,e,c){var d=this._$handlers;if(!e||!b)return this;d[b]||(d[b]=[]);for(var m=0;m<d[b].length;m++)if(d[b][m].h===e)return this;d[b].push({h:e,one:!0,ctx:c||this});return this},on:function(b,e,c){var d=this._$handlers;if(!e||!b)return this;d[b]||(d[b]=[]);for(var m=0;m<d[b].length;m++)if(d[b][m].h===e)return this;d[b].push({h:e,one:!1,ctx:c||this});return this},isSilent:function(b){var e=this._$handlers;return e[b]&&e[b].length},off:function(b,e){var c=this._$handlers;if(!b)return this._$handlers={},this;if(e){if(c[b]){for(var d=[],m=0,r=c[b].length;m<r;m++)c[b][m].h!=e&&d.push(c[b][m]);c[b]=d}c[b]&&0===c[b].length&&delete c[b]}else delete c[b];return this},trigger:function(c){if(this._$handlers[c]){var e=arguments,h=e.length;3<h&&(e=b.call(e,1));for(var d=this._$handlers[c],m=d.length,r=0;r<m;){switch(h){case 1:d[r].h.call(d[r].ctx);break;case 2:d[r].h.call(d[r].ctx,e[1]);break;case 3:d[r].h.call(d[r].ctx,e[1],e[2]);break;default:d[r].h.apply(d[r].ctx,e)}d[r].one?(d.splice(r,1),m--):r++}}return this},triggerWithContext:function(c){if(this._$handlers[c]){var e=arguments,h=e.length;4<h&&(e=b.call(e,1,e.length-1));for(var d=e[e.length-1],m=this._$handlers[c],r=m.length,f=0;f<r;){switch(h){case 1:m[f].h.call(d);break;case 2:m[f].h.call(d,e[1]);break;case 3:m[f].h.call(d,e[1],e[2]);break;default:m[f].h.apply(d,e)}m[f].one?(m.splice(f,1),r--):f++}}return this}};c.exports=h},function(c,p,b){function h(d){return 5E-5<d||-5E-5>d}var l=b(11),e=b(10),n=l.identity;p=function(d){d=d||{};d.position||(this.position=[0,0]);null==d.rotation&&(this.rotation=0);d.scale||(this.scale=[1,1]);this.origin=this.origin||null};b=p.prototype;b.transform=null;b.needLocalTransform=function(){return h(this.rotation)||h(this.position[0])||h(this.position[1])||h(this.scale[0]-1)||h(this.scale[1]-1)};b.updateTransform=function(){var d=this.parent,b=d&&d.transform,f=this.needLocalTransform(),k=this.transform;f||b?(k=k||l.create(),f?this.getLocalTransform(k):n(k),b&&(f?l.mul(k,d.transform,k):l.copy(k,d.transform)),this.transform=k,this.invTransform=this.invTransform||l.create(),l.invert(this.invTransform,k)):k&&n(k)};b.getLocalTransform=function(d){d=d||[];n(d);var b=this.origin,f=this.scale,k=this.rotation,e=this.position;b&&(d[4]-=b[0],d[5]-=b[1]);l.scale(d,d,f);k&&l.rotate(d,d,k);b&&(d[4]+=b[0],d[5]+=b[1]);d[4]+=e[0];d[5]+=e[1];return d};b.setTransform=function(d){var b=this.transform;b&&d.transform(b[0],b[1],b[2],b[3],b[4],b[5])};b.restoreTransform=function(d){var b=this.invTransform;b&&d.transform(b[0],b[1],b[2],b[3],b[4],b[5])};var d=[];b.decomposeTransform=function(){if(this.transform){var b=this.parent,e=this.transform;b&&b.transform&&(l.mul(d,b.invTransform,e),e=d);var b=e[0]*e[0]+e[1]*e[1],f=e[2]*e[2]+e[3]*e[3],k=this.position,c=this.scale;h(b-1)&&(b=Math.sqrt(b));h(f-1)&&(f=Math.sqrt(f));0>e[0]&&(b=-b);0>e[3]&&(f=-f);k[0]=e[4];k[1]=e[5];c[0]=b;c[1]=f;this.rotation=Math.atan2(-e[1]/f,e[0]/b)}};b.getGlobalScale=function(){var d=this.transform;if(!d)return[1,1];var b=Math.sqrt(d[0]*d[0]+d[1]*d[1]),f=Math.sqrt(d[2]*d[2]+d[3]*d[3]);0>d[0]&&(b=-b);0>d[3]&&(f=-f);return[b,f]};b.transformCoordToLocal=function(d,b){var f=[d,b],k=this.invTransform;k&&e.applyTransform(f,f,k);return f};b.transformCoordToGlobal=function(d,b){var f=[d,b],k=this.transform;k&&e.applyTransform(f,f,k);return f};c.exports=p},function(c,p,b){var h=b(36),l=b(4),e=l.isString,n=l.isFunction,d=l.isObject,m=b(40);p=function(){this.animators=[]};p.prototype={constructor:p,animate:function(d,f){var b,e=!1,c=this,v=this.__zr;if(d){for(var g=d.split("."),t=c,e="shape"===g[0],w=0,y=g.length;w<y;w++)t&&(t=t[g[w]]);t&&(b=t)}else b=c;if(b){var z=c.animators,n=new h(b,f);n.during(function(g){c.dirty(e)}).done(function(){z.splice(l.indexOf(z,n),1)});z.push(n);v&&v.animation.addAnimator(n);return n}m('Property "'+d+'" is not existed in element '+c.id)},stopAnimation:function(d){for(var f=this.animators,b=f.length,e=0;e<b;e++)f[e].stop(d);f.length=0;return this},animateTo:function(d,f,b,m,c){function v(){g--;g||c&&c()}e(b)?(c=m,m=b,b=0):n(m)?(c=m,m="linear",b=0):n(b)?(c=b,b=0):n(f)?(c=f,f=500):f||(f=500);this.stopAnimation();this._animateToShallow("",this,d,f,b,m,c);d=this.animators.slice();var g=d.length;g||c&&c();for(f=0;f<d.length;f++)d[f].done(v).start(m)},_animateToShallow:function(b,f,k,e,m){var c={},g=0,t;for(t in k)if(null!=f[t])d(k[t])&&!l.isArrayLike(k[t])?this._animateToShallow(b?b+"."+t:t,f[t],k[t],e,m):(c[t]=k[t],g++);else if(null!=k[t])if(b){var w={};w[b]={};w[b][t]=k[t];this.attr(w)}else this.attr(t,k[t]);0<g&&this.animate(b,!1).when(null==e?500:e,c).delay(m||0);return this}};c.exports=p},function(c,p,b){function h(g,f){return g[f]}function l(g,f,d){g[f]=d}function e(g,f,d,b,t){var k=g.length;if(1==t)for(t=0;t<k;t++){var e=g[t];b[t]=(f[t]-e)*d+e}else for(e=g[0].length,t=0;t<k;t++)for(var m=0;m<e;m++){var c=g[t][m];b[t][m]=(f[t][m]-c)*d+c}}function n(g,f,d){var b=g.length,k=f.length;if(b!==k)if(b>k)g.length=k;else for(;b<k;b++)g.push(1===d?f[b]:t.call(f[b]));k=g[0]&&g[0].length;for(b=0;b<g.length;b++)if(1===d)isNaN(g[b])&&(g[b]=f[b]);else for(var e=0;e<k;e++)isNaN(g[b][e])&&(g[b][e]=f[b][e])}function d(g,f,d){if(g===f)return!0;var b=g.length;if(b!==f.length)return!1;if(1===d)for(d=0;d<b;d++){if(g[d]!==f[d])return!1}else{var t=g[0].length;for(d=0;d<b;d++)for(var k=0;k<t;k++)if(g[d][k]!==f[d][k])return!1}return!0}function m(g,f,d,b,t,k,e,m,c){var u=g.length;if(1==c)for(c=0;c<u;c++)m[c]=r(g[c],f[c],d[c],b[c],t,k,e);else{var x=g[0].length;for(c=0;c<u;c++)for(var v=0;v<x;v++)m[c][v]=r(g[c][v],f[c][v],d[c][v],b[c][v],t,k,e)}}function r(g,f,d,b,t,k,e){g=.5*(d-g);b=.5*(b-f);return(2*(f-d)+g+b)*e+(-3*(f-d)-2*g-b)*k+g*t+f}function f(f){if(g(f)){var d=f.length;if(g(f[0])){for(var b=[],k=0;k<d;k++)b.push(t.call(f[k]));return b}return t.call(f)}return f}function k(g){g[0]=Math.floor(g[0]);g[1]=Math.floor(g[1]);g[2]=Math.floor(g[2]);return"rgba("+g.join(",")+")"}function u(f,b,t,c,u){var h=f._getter,l=f._setter,N="spline"===b,E=c.length;if(E){var p=c[0].value,q=g(p),H=!1,L=!1,I=q&&g(p[0])?2:1;c.sort(function(g,f){return g.time-f.time});for(var p=c[E-1].time,K=[],O=[],M=c[0].value,J=!0,P=0;P<E;P++){K.push(c[P].time/p);var T=c[P].value;q&&d(T,M,I)||!q&&T===M||(J=!1);M=T;if("string"==typeof T){var S=v.parse(T);S?(T=S,H=!0):L=!0}O.push(T)}if(!J){c=O[E-1];for(P=0;P<E-1;P++)q?n(O[P],c,I):!isNaN(O[P])||isNaN(c)||L||H||(O[P]=c);q&&n(h(f._target,u),c,I);var R=0,Q=0,U,V,W,Z,ba,ga;if(H)var fa=[0,0,0,0];f=new x({target:f._target,life:p,loop:f._loop,delay:f._delay,onframe:function(g,f){var d;if(f<Q){for(d=U=Math.min(R+1,E-1);0<=d&&!(K[d]<=f);d--);d=Math.min(d,E-2)}else{for(d=R;d<E&&!(K[d]>f);d++);d=Math.min(d-1,E-2)}R=d;Q=f;var b=K[d+1]-K[d];if(0!==b)if(V=(f-K[d])/b,N)if(Z=O[d],W=O[0===d?d:d-1],ba=O[d>E-2?E-1:d+1],ga=O[d>E-3?E-1:d+2],q)m(W,Z,ba,ga,V,V*V,V*V*V,h(g,u),I);else{if(H)m(W,Z,ba,ga,V,V*V,V*V*V,fa,1),d=k(fa);else{if(L)return.5<V?ba:Z;d=r(W,Z,ba,ga,V,V*V,V*V*V)}l(g,u,d)}else if(q)e(O[d],O[d+1],V,h(g,u),I);else{if(H)e(O[d],O[d+1],V,fa,1),d=k(fa);else{if(L)return.5<V?O[d+1]:O[d];b=O[d];d=(O[d+1]-b)*V+b}l(g,u,d)}},ondestroy:t});b&&"spline"!==b&&(f.easing=b);return f}}}var x=b(37),v=b(39),g=b(4).isArrayLike,t=Array.prototype.slice;p=function(g,f,d,b){this._tracks={};this._target=g;this._loop=f||!1;this._getter=d||h;this._setter=b||l;this._delay=this._clipCount=0;this._doneList=[];this._onframeList=[];this._clipList=[]};p.prototype={when:function(g,d){var b=this._tracks,t;for(t in d){if(!b[t]){b[t]=[];var k=this._getter(this._target,t);if(null==k)continue;0!==g&&b[t].push({time:0,value:f(k)})}b[t].push({time:g,value:d[t]})}return this},during:function(g){this._onframeList.push(g);return this},_doneCallback:function(){this._tracks={};this._clipList.length=0;for(var g=this._doneList,f=g.length,d=0;d<f;d++)g[d].call(this)},start:function(g){var f=this,d=0,b=function(){d--;d||f._doneCallback()},t,k;for(k in this._tracks){var e=u(this,g,b,this._tracks[k],k);e&&(this._clipList.push(e),d++,this.animation&&this.animation.addClip(e),t=e)}if(t){var m=t.onframe;t.onframe=function(g,d){m(g,d);for(var b=0;b<f._onframeList.length;b++)f._onframeList[b](g,d)}}d||this._doneCallback();return this},stop:function(g){for(var f=this._clipList,d=this.animation,b=0;b<f.length;b++){var t=f[b];if(g)t.onframe(this._target,1);d&&d.removeClip(t)}f.length=0},delay:function(g){this._delay=g;return this},done:function(g){g&&this._doneList.push(g);return this},getClips:function(){return this._clipList}};c.exports=p},function(c,p,b){function h(b){this._target=b.target;this._life=b.life||1E3;this._delay=b.delay||0;this._initialized=!1;this.loop=null==b.loop?!1:b.loop;this.gap=b.gap||0;this.easing=b.easing||"Linear";this.onframe=b.onframe;this.ondestroy=b.ondestroy;this.onrestart=b.onrestart}var l=b(38);h.prototype={constructor:h,step:function(b){this._initialized||(this._startTime=(new Date).getTime()+this._delay,this._initialized=!0);b=(b-this._startTime)/this._life;if(!(0>b)){b=Math.min(b,1);var c=this.easing,c="string"==typeof c?l[c]:c,c="function"===typeof c?c(b):b;this.fire("frame",c);if(1==b){if(this.loop)return this.restart(),"restart";this._needsRemove=!0;return"destroy"}return null}},restart:function(){var b=((new Date).getTime()-this._startTime)%this._life;this._startTime=(new Date).getTime()-b+this.gap;this._needsRemove=!1},fire:function(b,c){b="on"+b;if(this[b])this[b](this._target,c)}};c.exports=h},function(c,p){var b={linear:function(b){return b},quadraticIn:function(b){return b*b},quadraticOut:function(b){return b*(2-b)},quadraticInOut:function(b){return 1>(b*=2)?.5*b*b:-.5*(--b*(b-2)-1)},cubicIn:function(b){return b*b*b},cubicOut:function(b){return--b*b*b+1},cubicInOut:function(b){return 1>(b*=2)?.5*b*b*b:.5*((b-=2)*b*b+2)},quarticIn:function(b){return b*b*b*b},quarticOut:function(b){return 1- --b*b*b*b},quarticInOut:function(b){return 1>(b*=2)?.5*b*b*b*b:-.5*((b-=2)*b*b*b-2)},quinticIn:function(b){return b*b*b*b*b},quinticOut:function(b){return--b*b*b*b*b+1},quinticInOut:function(b){return 1>(b*=2)?.5*b*b*b*b*b:.5*((b-=2)*b*b*b*b+2)},sinusoidalIn:function(b){return 1-Math.cos(b*Math.PI/2)},sinusoidalOut:function(b){return Math.sin(b*Math.PI/2)},sinusoidalInOut:function(b){return.5*(1-Math.cos(Math.PI*b))},exponentialIn:function(b){return 0===b?0:Math.pow(1024,b-1)},exponentialOut:function(b){return 1===b?1:1-Math.pow(2,-10*b)},exponentialInOut:function(b){return 0===b?0:1===b?1:1>(b*=2)?.5*Math.pow(1024,b-1):.5*(-Math.pow(2,-10*(b-1))+2)},circularIn:function(b){return 1-Math.sqrt(1-b*b)},circularOut:function(b){return Math.sqrt(1- --b*b)},circularInOut:function(b){return 1>(b*=2)?-.5*(Math.sqrt(1-b*b)-1):.5*(Math.sqrt(1-(b-=2)*b)+1)},elasticIn:function(b){var c,e=.1;if(0===b)return 0;if(1===b)return 1;!e||1>e?(e=1,c=.1):c=.4*Math.asin(1/e)/(2*Math.PI);return-(e*Math.pow(2,10*--b)*Math.sin(2*(b-c)*Math.PI/.4))},elasticOut:function(b){var c,e=.1;if(0===b)return 0;if(1===b)return 1;!e||1>e?(e=1,c=.1):c=.4*Math.asin(1/e)/(2*Math.PI);return e*Math.pow(2,-10*b)*Math.sin(2*(b-c)*Math.PI/.4)+1},elasticInOut:function(b){var c,e=.1;if(0===b)return 0;if(1===b)return 1;!e||1>e?(e=1,c=.1):c=.4*Math.asin(1/e)/(2*Math.PI);return 1>(b*=2)?-.5*e*Math.pow(2,10*--b)*Math.sin(2*(b-c)*Math.PI/.4):e*Math.pow(2,-10*--b)*Math.sin(2*(b-c)*Math.PI/.4)*.5+1},backIn:function(b){return b*b*(2.70158*b-1.70158)},backOut:function(b){return--b*b*(2.70158*b+1.70158)+1},backInOut:function(b){return 1>(b*=2)?.5*b*b*(3.5949095*b-2.5949095):.5*((b-=2)*b*(3.5949095*b+2.5949095)+2)},bounceIn:function(c){return 1-b.bounceOut(1-c)},bounceOut:function(b){return b<1/2.75?7.5625*b*b:b<2/2.75?7.5625*(b-=1.5/2.75)*b+.75:b<2.5/2.75?7.5625*(b-=2.25/2.75)*b+.9375:7.5625*(b-=2.625/2.75)*b+.984375},bounceInOut:function(c){return.5>c?.5*b.bounceIn(2*c):.5*b.bounceOut(2*c-1)+.5}};c.exports=b},function(c,p){function b(b){b=Math.round(b);return 0>b?0:255<b?255:b}function h(b){return 0>b?0:1<b?1:b}function l(f){return f.length&&"%"===f.charAt(f.length-1)?b(parseFloat(f)/100*255):b(parseInt(f,10))}function e(b){return b.length&&"%"===b.charAt(b.length-1)?h(parseFloat(b)/100):h(parseFloat(b))}function n(b,f,d){0>d?d+=1:1<d&&--d;return 1>6*d?b+(f-b)*d*6:1>2*d?f:2>3*d?b+(f-b)*(2/3-d)*6:b}function d(b,f,d){return b+(f-b)*d}function m(b){if(b){var f=(b+"").replace(/ /g,"").toLowerCase();if(f in k)return k[f].slice();if("#"===f.charAt(0))if(4===f.length){if(b=parseInt(f.substr(1),16),0<=b&&4095>=b)return[(b&3840)>>4|(b&3840)>>8,b&240|(b&240)>>4,b&15|(b&15)<<4,1]}else{if(7===f.length&&(b=parseInt(f.substr(1),16),0<=b&&16777215>=b))return[(b&16711680)>>16,(b&65280)>>8,b&255,1]}else{var d=f.indexOf("("),g=f.indexOf(")");if(-1!==d&&g+1===f.length)switch(b=f.substr(0,d),f=f.substr(d+1,g-(d+1)).split(","),d=1,b){case "rgba":if(4!==f.length)break;d=e(f.pop());case "rgb":if(3!==f.length)break;return[l(f[0]),l(f[1]),l(f[2]),d];case "hsla":if(4!==f.length)break;f[3]=e(f[3]);return r(f);case "hsl":if(3===f.length)return r(f)}}}}function r(f){var d=(parseFloat(f[0])%360+360)%360/360,k=e(f[1]),g=e(f[2]),k=.5>=g?g*(k+1):g+k-g*k,g=2*g-k,d=[b(255*n(g,k,d+1/3)),b(255*n(g,k,d)),b(255*n(g,k,d-1/3))];4===f.length&&(d[3]=f[3]);return d}function f(b,f){var d=b[0]+","+b[1]+","+b[2];if("rgba"===f||"hsva"===f||"hsla"===f)d+=","+b[3];return f+"("+d+")"}var k={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};c.exports={parse:m,lift:function(b,d){var k=m(b);if(k){for(var g=0;3>g;g++)k[g]=0>d?k[g]*(1-d)|0:(255-k[g])*d+k[g]|0;return f(k,4===k.length?"rgba":"rgb")}},toHex:function(b,f){var d=m(b);if(d)return(16777216+(d[0]<<16)+(d[1]<<8)+ +d[2]).toString(16).slice(1)},fastMapToColor:function(f,k,e){if(k&&k.length&&0<=f&&1>=f){e=e||[0,0,0,0];var g=f*(k.length-1),t=Math.floor(g);f=k[t];k=k[Math.ceil(g)];g-=t;e[0]=b(d(f[0],k[0],g));e[1]=b(d(f[1],k[1],g));e[2]=b(d(f[2],k[2],g));e[3]=b(d(f[3],k[3],g));return e}},mapToColor:function(k,e,c){if(e&&e.length&&0<=k&&1>=k){k*=e.length-1;var g=Math.floor(k),t=Math.ceil(k),w=m(e[g]);e=m(e[t]);var y=k-g,w=f([b(d(w[0],e[0],y)),b(d(w[1],e[1],y)),b(d(w[2],e[2],y)),h(d(w[3],e[3],y))],"rgba");return c?{color:w,leftIndex:g,rightIndex:t,value:k}:w}},modifyHSL:function(b,d,k,g){if(b=m(b)){if(b){var t=b[0]/255,w=b[1]/255,c=b[2]/255,z=Math.min(t,w,c),n=Math.max(t,w,c),l=n-z,h=(n+z)/2,F;if(0===l)z=F=0;else{var z=.5>h?l/(n+z):l/(2-n-z),N=((n-t)/6+l/2)/l,p=((n-w)/6+l/2)/l,l=((n-c)/6+l/2)/l;t===n?F=l-p:w===n?F=1/3+N-l:c===n&&(F=2/3+p-N);0>F&&(F+=1);1<F&&--F}t=[360*F,z,h];null!=b[3]&&t.push(b[3]);b=t}else b=void 0;null!=d&&(d=Math.round(d),b[0]=0>d?0:360<d?360:d);null!=k&&(b[1]=e(k));null!=g&&(b[2]=e(g));return f(r(b),"rgba")}},modifyAlpha:function(b,d){if((b=m(b))&&null!=d)return b[3]=h(d),f(b,"rgba")},stringify:f}},function(c,p,b){var h=b(41);c.exports=function(){if(0!==h.debugMode)if(1==h.debugMode)for(var b in arguments)throw Error(arguments[b]);else if(1<h.debugMode)for(b in arguments)console.log(arguments[b])}},function(c,p){var b=1;"undefined"!==typeof window&&(b=Math.max(window.devicePixelRatio||1,1));c.exports={debugMode:0,devicePixelRatio:b}},function(c,p,b){function h(){this.group=new n;this.uid=d.getUID("viewChart")}function l(b,d){if(b&&(b.trigger(d),"group"===b.type))for(var f=0;f<b.childCount();f++)l(b.childAt(f),d)}function e(b,d,f){var k=d&&d.dataIndex;d=d&&d.name;if(null!=k){k=k instanceof Array?k:[k];d=0;for(var e=k.length;d<e;d++)l(b.getItemGraphicEl(k[d]),f)}else if(d){var c=d instanceof Array?d:[d];d=0;for(e=c.length;d<e;d++)k=b.indexOfName(c[d]),l(b.getItemGraphicEl(k),f)}else b.eachItemGraphicEl(function(b){l(b,f)})}var n=b(30),d=b(20);p=b(13);h.prototype={type:"chart",init:function(b,d){},render:function(b,d,f,k){},highlight:function(b,d,f,k){e(b.getData(),k,"emphasis")},downplay:function(b,d,f,k){e(b.getData(),k,"normal")},remove:function(b,d){this.group.removeAll()},dispose:function(){}};b=h.prototype;b.updateView=b.updateLayout=b.updateVisual=function(b,d,f,k){this.render(b,d,f,k)};p.enableClassExtend(h);p.enableClassManagement(h,{registerWhenExtend:!0});c.exports=h},function(c,p,b){function h(g){return"string"===typeof g?z.lift(g,-.1):g}function l(g){if(g.__hoverStlDirty){var b=g.style.stroke,f=g.style.fill,d=g.__hoverStl;d.fill=d.fill||(null!=f&&"none"!=f?h(f):null);d.stroke=d.stroke||(null!=b&&"none"!=b?h(b):null);var b={},t;for(t in d)d.hasOwnProperty(t)&&(b[t]=g.style[t]);g.__normalStl=b;g.__hoverStlDirty=!1}}function e(g){g.__isHover||(l(g),g.useHoverLayer?g.__zr&&g.__zr.addHover(g,g.__hoverStl):(g.setStyle(g.__hoverStl),g.z2+=1),g.__isHover=!0)}function n(g){if(g.__isHover){var b=g.__normalStl;g.useHoverLayer?g.__zr&&g.__zr.removeHover(g):(b&&g.setStyle(b),--g.z2);g.__isHover=!1}}function d(g){"group"===g.type?g.traverse(function(g){"group"!==g.type&&e(g)}):e(g)}function m(g){"group"===g.type?g.traverse(function(g){"group"!==g.type&&n(g)}):n(g)}function r(g,b){g.__hoverStl=g.hoverStyle||b||{};g.__hoverStlDirty=!0;g.__isHover&&l(g)}function f(){!this.__isEmphasis&&d(this)}function k(){!this.__isEmphasis&&m(this)}function u(){this.__isEmphasis=!0;d(this)}function x(){this.__isEmphasis=!1;m(this)}function v(g,b,f,d,t,k){"function"===typeof t&&(k=t,t=null);if(d&&(d.ifEnableAnimation?d.ifEnableAnimation():d.getShallow("animation"))){var e=g?"Update":"";g=d&&d.getShallow("animationDuration"+e);var w=d&&d.getShallow("animationEasing"+e);d=d&&d.getShallow("animationDelay"+e);"function"===typeof d&&(d=d(t));0<g?b.animateTo(f,g,d||0,w,k):(b.attr(f),k&&k())}else b.attr(f),k&&k()}var g=b(4),t=b(44),w=Math.round,y=b(45),z=b(39),D=b(11),A=b(10);b(61);var B={};B.Group=b(30);B.Image=b(62);B.Text=b(64);B.Circle=b(65);B.Sector=b(66);B.Ring=b(67);B.Polygon=b(68);B.Polyline=b(72);B.Rect=b(73);B.Line=b(75);B.BezierCurve=b(76);B.Arc=b(77);B.CompoundPath=b(78);B.LinearGradient=b(79);B.RadialGradient=b(80);B.BoundingRect=b(9);B.extendShape=function(g){return y.extend(g)};B.extendPath=function(g,b){return t.extendFromString(g,b)};B.makePath=function(g,b,f,d){g=t.createFromString(g,b);b=g.getBoundingRect();if(f){b=b.width/b.height;if("center"===d){d=f.height*b;d<=f.width?b=f.height:(d=f.width,b=d/b);var k=f.y+f.height/2;f.x=f.x+f.width/2-d/2;f.y=k-b/2;f.width=d;f.height=b}this.resizePath(g,f)}return g};B.mergePath=t.mergePath;B.resizePath=function(g,b){if(g.applyTransform){var f=g.getBoundingRect().calculateTransform(b);g.applyTransform(f)}};B.subPixelOptimizeLine=function(g){var b=B.subPixelOptimize,f=g.shape,d=g.style.lineWidth;w(2*f.x1)===w(2*f.x2)&&(f.x1=f.x2=b(f.x1,d,!0));w(2*f.y1)===w(2*f.y2)&&(f.y1=f.y2=b(f.y1,d,!0));return g};B.subPixelOptimizeRect=function(g){var b=B.subPixelOptimize,f=g.shape,d=g.style.lineWidth,t=f.x,k=f.y,e=f.width,w=f.height;f.x=b(f.x,d,!0);f.y=b(f.y,d,!0);f.width=Math.max(b(t+e,d,!1)-f.x,0===e?0:1);f.height=Math.max(b(k+w,d,!1)-f.y,0===w?0:1);return g};B.subPixelOptimize=function(g,b,f){g=w(2*g);return 0===(g+w(b))%2?g/2:(g+(f?1:-1))/2};B.setHoverStyle=function(g,b){"group"===g.type?g.traverse(function(g){"group"!==g.type&&r(g,b)}):r(g,b);g.on("mouseover",f).on("mouseout",k);g.on("emphasis",u).on("normal",x)};B.setText=function(b,f,d){var t=f.getShallow("position")||"inside";d=0<=t.indexOf("inside")?"white":d;var k=f.getModel("textStyle");g.extend(b,{textDistance:f.getShallow("distance")||5,textFont:k.getFont(),textPosition:t,textFill:k.getTextColor()||d})};B.updateProps=function(g,b,f,d,t){v(!0,g,b,f,d,t)};B.initProps=function(g,b,f,d,t){v(!1,g,b,f,d,t)};B.getTransform=function(g,b){for(var f=D.identity([]);g&&g!==b;)D.mul(f,g.getLocalTransform(),f),g=g.parent;return f};B.applyTransform=function(g,b,f){f&&(b=D.invert([],b));return A.applyTransform([],g,b)};B.transformDirection=function(g,b,f){var d=0===b[4]||0===b[5]||0===b[0]?1:Math.abs(2*b[4]/b[0]),t=0===b[4]||0===b[5]||0===b[2]?1:Math.abs(2*b[4]/b[2]);g=["left"===g?-d:"right"===g?d:0,"top"===g?-t:"bottom"===g?t:0];g=B.applyTransform(g,b,f);return Math.abs(g[0])>Math.abs(g[1])?0<g[0]?"right":"left":0<g[1]?"bottom":"top"};B.groupTransition=function(b,f,d,t){function k(g){var b={};g.traverse(function(g){!g.isGroup&&g.anid&&(b[g.anid]=g)});return b}function e(b){var f={position:A.clone(b.position),rotation:b.rotation};b.shape&&(f.shape=g.extend({},b.shape));return f}if(b&&f){var w=k(b);f.traverse(function(g){if(!g.isGroup&&g.anid){var b=w[g.anid];if(b){var f=e(g);g.attr(e(b));B.updateProps(g,f,d,g.dataIndex)}}})}};c.exports=B},function(c,p,b){function h(b,f,d,e,m,c,r,n,l,h,q){l*=v/180;var p=x(l)*(b-d)/2+u(l)*(f-e)/2,L=-1*u(l)*(b-d)/2+x(l)*(f-e)/2,I=p*p/(r*r)+L*L/(n*n);1<I&&(r*=k(I),n*=k(I));I=(m===c?-1:1)*k((r*r*n*n-r*r*L*L-n*n*p*p)/(r*r*L*L+n*n*p*p))||0;m=I*r*L/n;I=I*-n*p/r;b=(b+d)/2+x(l)*m-u(l)*I;f=(f+e)/2+u(l)*m+x(l)*I;e=t([1,0],[(p-m)/r,(L-I)/n]);d=[(p-m)/r,(L-I)/n];p=[(-1*p-m)/r,(-1*L-I)/n];L=t(d,p);-1>=g(d,p)&&(L=v);1<=g(d,p)&&(L=0);0===c&&0<L&&(L-=2*v);1===c&&0>L&&(L+=2*v);q.addData(h,b,f,r,n,e,L,l,c)}function l(g){if(!g)return[];var b=g.replace(/-/g," -").replace(/  /g," ").replace(/ /g,",").replace(/,,/g,",");for(g=0;g<f.length;g++)b=b.replace(new RegExp(f[g],"g"),"|"+f[g]);var b=b.split("|"),t=0,k=0,e=new d,m=d.CMD,c;for(g=1;g<b.length;g++){var u=b[g],r=u.charAt(0),v=0,u=u.slice(1).replace(/e,-/g,"e-").split(","),x;0<u.length&&""===u[0]&&u.shift();for(var n=0;n<u.length;n++)u[n]=parseFloat(u[n]);for(;v<u.length&&!isNaN(u[v])&&!isNaN(u[0]);){var l,p,K,O,M,J;switch(r){case "l":t+=u[v++];k+=u[v++];x=m.L;e.addData(x,t,k);break;case "L":t=u[v++];k=u[v++];x=m.L;e.addData(x,t,k);break;case "m":t+=u[v++];k+=u[v++];x=m.M;e.addData(x,t,k);r="l";break;case "M":t=u[v++];k=u[v++];x=m.M;e.addData(x,t,k);r="L";break;case "h":t+=u[v++];x=m.L;e.addData(x,t,k);break;case "H":t=u[v++];x=m.L;e.addData(x,t,k);break;case "v":k+=u[v++];x=m.L;e.addData(x,t,k);break;case "V":k=u[v++];x=m.L;e.addData(x,t,k);break;case "C":x=m.C;e.addData(x,u[v++],u[v++],u[v++],u[v++],u[v++],u[v++]);t=u[v-2];k=u[v-1];break;case "c":x=m.C;e.addData(x,u[v++]+t,u[v++]+k,u[v++]+t,u[v++]+k,u[v++]+t,u[v++]+k);t+=u[v-2];k+=u[v-1];break;case "S":l=t;p=k;x=e.len();n=e.data;c===m.C&&(l+=t-n[x-4],p+=k-n[x-3]);x=m.C;n=u[v++];J=u[v++];t=u[v++];k=u[v++];e.addData(x,l,p,n,J,t,k);break;case "s":l=t;p=k;x=e.len();n=e.data;c===m.C&&(l+=t-n[x-4],p+=k-n[x-3]);x=m.C;n=t+u[v++];J=k+u[v++];t+=u[v++];k+=u[v++];e.addData(x,l,p,n,J,t,k);break;case "Q":n=u[v++];J=u[v++];t=u[v++];k=u[v++];x=m.Q;e.addData(x,n,J,t,k);break;case "q":n=u[v++]+t;J=u[v++]+k;t+=u[v++];k+=u[v++];x=m.Q;e.addData(x,n,J,t,k);break;case "T":l=t;p=k;x=e.len();n=e.data;c===m.Q&&(l+=t-n[x-4],p+=k-n[x-3]);t=u[v++];k=u[v++];x=m.Q;e.addData(x,l,p,t,k);break;case "t":l=t;p=k;x=e.len();n=e.data;c===m.Q&&(l+=t-n[x-4],p+=k-n[x-3]);t+=u[v++];k+=u[v++];x=m.Q;e.addData(x,l,p,t,k);break;case "A":l=u[v++];p=u[v++];K=u[v++];O=u[v++];M=u[v++];n=t;J=k;t=u[v++];k=u[v++];x=m.A;h(n,J,t,k,O,M,l,p,K,x,e);break;case "a":l=u[v++],p=u[v++],K=u[v++],O=u[v++],M=u[v++],n=t,J=k,t+=u[v++],k+=u[v++],x=m.A,h(n,J,t,k,O,M,l,p,K,x,e)}}if("z"===r||"Z"===r)x=m.Z,e.addData(x);c=x}e.toStatic();return e}function e(g,b){var f=l(g),d;b=b||{};b.buildPath=function(g){g.setData(f.data);d&&m(g,d);var b=g.getContext();b&&g.rebuildPath(b)};b.applyTransform=function(g){d||(d=r.create());r.mul(d,g,d)};return b}var n=b(45),d=b(49),m=b(60),r=b(11),f="mMlLvVhHzZcCqQtTsSaA".split(""),k=Math.sqrt,u=Math.sin,x=Math.cos,v=Math.PI,g=function(g,b){return(g[0]*b[0]+g[1]*b[1])/(Math.sqrt(g[0]*g[0]+g[1]*g[1])*Math.sqrt(b[0]*b[0]+b[1]*b[1]))},t=function(b,f){return(b[0]*f[1]<b[1]*f[0]?-1:1)*Math.acos(g(b,f))};c.exports={createFromString:function(g,b){return new n(e(g,b))},extendFromString:function(g,b){return n.extend(e(g,b))},mergePath:function(g,b){for(var f=[],d=g.length,t=0;t<d;t++){var k=g[t];k.__dirty&&k.buildPath(k.path,k.shape,!0);f.push(k.path)}d=new n(b);d.buildPath=function(g){g.appendPath(f);var b=g.getContext();b&&g.rebuildPath(b)};return d}}},function(c,p,b){function h(b){l.call(this,b);this.path=new n}var l=b(46),e=b(4),n=b(49),d=b(52),m=b(59).prototype.getCanvasPattern,r=Math.abs;h.prototype={constructor:h,type:"path",__dirtyPath:!0,strokeContainThreshold:5,brush:function(b,d){var e=this.style,c=this.path,v=e.hasStroke(),g=e.hasFill(),t=e.fill,w=e.stroke,y=g&&!!t.colorStops,r=v&&!!w.colorStops,n=g&&!!t.image,l=v&&!!w.image;e.bind(b,this,d);this.setTransform(b);if(this.__dirty){var h=this.getBoundingRect();y&&(this._fillGradient=e.getGradient(b,t,h));r&&(this._strokeGradient=e.getGradient(b,w,h))}y?b.fillStyle=this._fillGradient:n&&(b.fillStyle=m.call(t,b));r?b.strokeStyle=this._strokeGradient:l&&(b.strokeStyle=m.call(w,b));t=e.lineDash;w=e.lineDashOffset;y=!!b.setLineDash;r=this.getGlobalScale();c.setScale(r[0],r[1]);this.__dirtyPath||t&&!y&&v?(c=this.path.beginPath(b),t&&!y&&(c.setLineDash(t),c.setLineDashOffset(w)),this.buildPath(c,this.shape,!1),this.__dirtyPath=!1):(b.beginPath(),this.path.rebuildPath(b));g&&c.fill(b);t&&y&&(b.setLineDash(t),b.lineDashOffset=w);v&&c.stroke(b);t&&y&&b.setLineDash([]);this.restoreTransform(b);(e.text||0===e.text)&&this.drawRectText(b,this.getBoundingRect())},buildPath:function(b,d,e){},getBoundingRect:function(){var b=this._rect,d=this.style,e=!b;if(e){var m=this.path;this.__dirtyPath&&(m.beginPath(),this.buildPath(m,this.shape,!1));b=m.getBoundingRect()}this._rect=b;if(d.hasStroke()){m=this._rectWithStroke||(this._rectWithStroke=b.clone());if(this.__dirty||e)m.copy(b),e=d.lineWidth,b=d.strokeNoScale?this.getLineScale():1,d.hasFill()||(e=Math.max(e,this.strokeContainThreshold||4)),1E-10<b&&(m.width+=e/b,m.height+=e/b,m.x-=e/b/2,m.y-=e/b/2);return m}return b},contain:function(b,k){var e=this.transformCoordToLocal(b,k),m=this.getBoundingRect(),c=this.style;b=e[0];k=e[1];if(m.contain(b,k)){e=this.path.data;if(c.hasStroke()){var m=c.lineWidth,g=c.strokeNoScale?this.getLineScale():1;if(1E-10<g&&(c.hasFill()||(m=Math.max(m,this.strokeContainThreshold)),d.containStroke(e,m/g,b,k)))return!0}if(c.hasFill())return d.contain(e,b,k)}return!1},dirty:function(b){null==b&&(b=!0);b&&(this.__dirtyPath=b,this._rect=null);this.__dirty=!0;this.__zr&&this.__zr.refresh();this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(b){return this.animate("shape",b)},attrKV:function(b,d){"shape"===b?(this.setShape(d),this.__dirtyPath=!0,this._rect=null):l.prototype.attrKV.call(this,b,d)},setShape:function(b,d){var m=this.shape;if(m){if(e.isObject(b))for(var c in b)m[c]=b[c];else m[b]=d;this.dirty(!0)}return this},getLineScale:function(){var b=this.transform;return b&&1E-10<r(b[0]-1)&&1E-10<r(b[3]-1)?Math.sqrt(r(b[0]*b[3]-b[2]*b[1])):1}};h.extend=function(b){var d=function(d){h.call(this,d);b.style&&this.style.extendFrom(b.style,!1);var k=b.shape;if(k){var g=this.shape=this.shape||{},t;for(t in k)!g.hasOwnProperty(t)&&k.hasOwnProperty(t)&&(g[t]=k[t])}b.init&&b.init.call(this,d)};e.inherits(d,h);for(var m in b)"style"!==m&&"shape"!==m&&(d.prototype[m]=b[m]);return d};e.inherits(h,l);c.exports=h},function(c,p,b){function h(b){b=b||{};e.call(this,b);for(var d in b)b.hasOwnProperty(d)&&"style"!==d&&(this[d]=b[d]);this.style=new l(b.style);this._rect=null;this.__clipPaths=[]}p=b(4);var l=b(47),e=b(31);b=b(48);h.prototype={constructor:h,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:-1,beforeBrush:function(b){},afterBrush:function(b){},brush:function(b,d){},getBoundingRect:function(){},contain:function(b,d){return this.rectContain(b,d)},traverse:function(b,d){b.call(d,this)},rectContain:function(b,d){var e=this.transformCoordToLocal(b,d);return this.getBoundingRect().contain(e[0],e[1])},dirty:function(){this.__dirty=!0;this._rect=null;this.__zr&&this.__zr.refresh()},animateStyle:function(b){return this.animate("style",b)},attrKV:function(b,d){"style"!==b?e.prototype.attrKV.call(this,b,d):this.style.set(d)},setStyle:function(b,d){this.style.set(b,d);this.dirty(!1);return this},useStyle:function(b){this.style=new l(b);this.dirty(!1);return this}};p.inherits(h,e);p.mixin(h,b);c.exports=h},function(c,p){function b(b,d,k){var e=d.x,m=d.x2,c=d.y,g=d.y2;d.global||(e=e*k.width+k.x,m=m*k.width+k.x,c=c*k.height+k.y,g=g*k.height+k.y);return b.createLinearGradient(e,c,m,g)}function h(b,d,k){var e=k.width,m=k.height,c=Math.min(e,m),g=d.x,t=d.y,w=d.r;d.global||(g=g*e+k.x,t=t*m+k.y,w*=c);return b.createRadialGradient(g,t,0,g,t,w)}var l=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],e=function(b){this.extendFrom(b)};e.prototype={constructor:e,fill:"#000000",stroke:null,opacity:1,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,textFill:"#000",textStroke:null,textPosition:"inside",textBaseline:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,blend:null,bind:function(b,d,k){k=k&&k.style;for(var e=!k,m=0;m<l.length;m++){var c=l[m],g=c[0];if(e||this[g]!==k[g])b[g]=this[g]||c[1]}if(e||this.fill!==k.fill)b.fillStyle=this.fill;if(e||this.stroke!==k.stroke)b.strokeStyle=this.stroke;if(e||this.opacity!==k.opacity)b.globalAlpha=null==this.opacity?1:this.opacity;if(e||this.blend!==k.blend)b.globalCompositeOperation=this.blend||"source-over";this.hasStroke()&&(b.lineWidth=this.lineWidth/(this.strokeNoScale&&d&&d.getLineScale?d.getLineScale():1))},hasFill:function(){var b=this.fill;return null!=b&&"none"!==b},hasStroke:function(){var b=this.stroke;return null!=b&&"none"!==b&&0<this.lineWidth},extendFrom:function(b,d){if(b)for(var k in b)!b.hasOwnProperty(k)||!d&&this.hasOwnProperty(k)||(this[k]=b[k])},set:function(b,d){"string"===typeof b?this[b]=d:this.extendFrom(b,!0)},clone:function(){var b=new this.constructor;b.extendFrom(this,!0);return b},getGradient:function(d,f,k){d=("radial"===f.type?h:b)(d,f,k);f=f.colorStops;for(k=0;k<f.length;k++)d.addColorStop(f[k].offset,f[k].color);return d}};for(var n=e.prototype,d=0;d<l.length;d++){var m=l[d];m[0]in n||(n[m[0]]=m[1])}e.getGradient=n.getGradient;c.exports=e},function(c,p,b){function h(b,d){return"string"===typeof b?0<=b.lastIndexOf("%")?parseFloat(b)/100*d:parseFloat(b):b}var l=b(8),e=new (b(9));p=function(){};p.prototype={constructor:p,drawRectText:function(b,d,m){var c=this.style,f=c.text;null!=f&&(f+="");if(f){b.save();var k,u=c.textPosition;k=c.textDistance;var x=c.textAlign,v=c.textFont||c.font,g=c.textBaseline,t=c.textVerticalAlign;m=m||l.getBoundingRect(f,v,x,g);var w=this.transform;w&&(e.copy(d),e.applyTransform(w),d=e);if(u instanceof Array){if(k=d.x+h(u[0],d.width),d=d.y+h(u[1],d.height),x=x||"left",g=g||"top",t){switch(t){case "middle":d-=m.height/2-m.lineHeight/2;break;case "bottom":d-=m.height-m.lineHeight/2;break;default:d+=m.lineHeight/2}g="middle"}}else t=l.adjustTextPositionOnRect(u,d,m,k),k=t.x,d=t.y,x=x||t.textAlign,g=g||t.textBaseline;b.textAlign=x||"left";b.textBaseline=g||"alphabetic";x=c.textFill;g=c.textStroke;x&&(b.fillStyle=x);g&&(b.strokeStyle=g);b.font=v;b.shadowBlur=c.textShadowBlur;b.shadowColor=c.textShadowColor||"transparent";b.shadowOffsetX=c.textShadowOffsetX;b.shadowOffsetY=c.textShadowOffsetY;c=f.split("\n");for(f=0;f<c.length;f++)x&&b.fillText(c[f],k,d),g&&b.strokeText(c[f],k,d),d+=m.lineHeight;b.restore()}}};c.exports=p},function(c,p,b){var h=b(50),l=b(10),e=b(51),n=b(9),d=b(41).devicePixelRatio,m={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},r=[],f=[],k=[],u=[],x=Math.min,v=Math.max,g=Math.cos,t=Math.sin,w=Math.sqrt,y=Math.abs,z="undefined"!=typeof Float32Array;p=function(){this.data=[];this._len=0;this._ctx=null;this._uy=this._ux=this._y0=this._x0=this._yi=this._xi=0};p.prototype={constructor:p,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(g,b){this._ux=y(1/d/g)||0;this._uy=y(1/d/b)||0},getContext:function(){return this._ctx},beginPath:function(g){(this._ctx=g)&&g.beginPath();this._len=0;this._lineDash&&(this._lineDash=null,this._dashOffset=0);return this},moveTo:function(g,b){this.addData(m.M,g,b);this._ctx&&this._ctx.moveTo(g,b);this._x0=g;this._y0=b;this._xi=g;this._yi=b;return this},lineTo:function(g,b){var d=y(g-this._xi)>this._ux||y(b-this._yi)>this._uy||5>this._len;this.addData(m.L,g,b);this._ctx&&d&&(this._needsDash()?this._dashedLineTo(g,b):this._ctx.lineTo(g,b));d&&(this._xi=g,this._yi=b);return this},bezierCurveTo:function(g,b,d,f,t,k){this.addData(m.C,g,b,d,f,t,k);this._ctx&&(this._needsDash()?this._dashedBezierTo(g,b,d,f,t,k):this._ctx.bezierCurveTo(g,b,d,f,t,k));this._xi=t;this._yi=k;return this},quadraticCurveTo:function(g,b,d,f){this.addData(m.Q,g,b,d,f);this._ctx&&(this._needsDash()?this._dashedQuadraticTo(g,b,d,f):this._ctx.quadraticCurveTo(g,b,d,f));this._xi=d;this._yi=f;return this},arc:function(b,d,f,k,e,w){this.addData(m.A,b,d,f,f,k,e-k,0,w?0:1);this._ctx&&this._ctx.arc(b,d,f,k,e,w);this._xi=g(e)*f+b;this._xi=t(e)*f+b;return this},arcTo:function(g,b,d,f,t){this._ctx&&this._ctx.arcTo(g,b,d,f,t);return this},rect:function(g,b,d,f){this._ctx&&this._ctx.rect(g,b,d,f);this.addData(m.R,g,b,d,f);return this},closePath:function(){this.addData(m.Z);var g=this._ctx,b=this._x0,d=this._y0;g&&(this._needsDash()&&this._dashedLineTo(b,d),g.closePath());this._xi=b;this._yi=d;return this},fill:function(g){g&&g.fill();this.toStatic()},stroke:function(g){g&&g.stroke();this.toStatic()},setLineDash:function(g){if(g instanceof Array){this._lineDash=g;for(var b=this._dashIdx=0,d=0;d<g.length;d++)b+=g[d];this._dashSum=b}return this},setLineDashOffset:function(g){this._dashOffset=g;return this},len:function(){return this._len},setData:function(g){var b=g.length;this.data&&this.data.length==b||!z||(this.data=new Float32Array(b));for(var d=0;d<b;d++)this.data[d]=g[d];this._len=b},appendPath:function(g){g instanceof Array||(g=[g]);for(var b=g.length,d=0,f=this._len,t=0;t<b;t++)d+=g[t].len();z&&this.data instanceof Float32Array&&(this.data=new Float32Array(f+d));for(t=0;t<b;t++)for(var d=g[t].data,k=0;k<d.length;k++)this.data[f++]=d[k];this._len=f},addData:function(g){var b=this.data;this._len+arguments.length>b.length&&(this._expandData(),b=this.data);for(var d=0;d<arguments.length;d++)b[this._len++]=arguments[d];this._prevCmd=g},_expandData:function(){if(!(this.data instanceof Array)){for(var g=[],b=0;b<this._len;b++)g[b]=this.data[b];this.data=g}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(g,b){var d=this._dashSum,f=this._dashOffset,t=this._lineDash,k=this._ctx,e=this._xi,m=this._yi,c=g-e,y=b-m,u=w(c*c+y*y),r=t.length,z,c=c/u,y=y/u;0>f&&(f=d+f);f%=d;d=e-f*c;for(f=m-f*y;0<c&&d<=g||0>c&&d>=g||0==c&&(0<y&&f<=b||0>y&&f>=b);)if(z=this._dashIdx,u=t[z],d+=c*u,f+=y*u,this._dashIdx=(z+1)%r,!(0<c&&d<e||0>c&&d>e||0<y&&f<m||0>y&&f>m))k[z%2?"moveTo":"lineTo"](0<=c?x(d,g):v(d,g),0<=y?x(f,b):v(f,b));c=d-g;y=f-b;this._dashOffset=-w(c*c+y*y)},_dashedBezierTo:function(g,b,d,f,t,k){var e=this._dashSum,m=this._dashOffset,c=this._lineDash,y=this._ctx,u=this._xi,v=this._yi,r,x,z=h.cubicAt,n=0,l=this._dashIdx,p=c.length,R,Q,U=0;0>m&&(m=e+m);m%=e;for(e=0;1>e;e+=.1)r=z(u,g,d,t,e+.1)-z(u,g,d,t,e),x=z(v,b,f,k,e+.1)-z(v,b,f,k,e),n+=w(r*r+x*x);for(;l<p&&!(U+=c[l],U>m);l++);for(e=(U-m)/n;1>=e;)R=z(u,g,d,t,e),Q=z(v,b,f,k,e),l%2?y.moveTo(R,Q):y.lineTo(R,Q),e+=c[l]/n,l=(l+1)%p;0!==l%2&&y.lineTo(t,k);r=t-R;x=k-Q;this._dashOffset=-w(r*r+x*x)},_dashedQuadraticTo:function(g,b,d,f){var t=d,k=f;d=(d+2*g)/3;f=(f+2*b)/3;g=(this._xi+2*g)/3;b=(this._yi+2*b)/3;this._dashedBezierTo(g,b,d,f,t,k)},toStatic:function(){var g=this.data;g instanceof Array&&(g.length=this._len,z&&(this.data=new Float32Array(g)))},getBoundingRect:function(){r[0]=r[1]=k[0]=k[1]=Number.MAX_VALUE;f[0]=f[1]=u[0]=u[1]=-Number.MAX_VALUE;for(var b=this.data,d=0,w=0,c=0,y=0,v=0;v<b.length;){var x=b[v++];1==v&&(d=b[v],w=b[v+1],c=d,y=w);switch(x){case m.M:c=b[v++];y=b[v++];d=c;w=y;k[0]=c;k[1]=y;u[0]=c;u[1]=y;break;case m.L:e.fromLine(d,w,b[v],b[v+1],k,u);d=b[v++];w=b[v++];break;case m.C:e.fromCubic(d,w,b[v++],b[v++],b[v++],b[v++],b[v],b[v+1],k,u);d=b[v++];w=b[v++];break;case m.Q:e.fromQuadratic(d,w,b[v++],b[v++],b[v],b[v+1],k,u);d=b[v++];w=b[v++];break;case m.A:var d=b[v++],w=b[v++],z=b[v++],x=b[v++],h=b[v++],p=b[v++]+h;v++;var I=1-b[v++];1==v&&(c=g(h)*z+d,y=t(h)*x+w);e.fromArc(d,w,z,x,h,p,I,k,u);d=g(p)*z+d;w=t(p)*x+w;break;case m.R:c=d=b[v++];y=w=b[v++];x=b[v++];p=b[v++];e.fromLine(c,y,c+x,y+p,k,u);break;case m.Z:d=c,w=y}l.min(r,r,k);l.max(f,f,u)}0===v&&(r[0]=r[1]=f[0]=f[1]=0);return new n(r[0],r[1],f[0]-r[0],f[1]-r[1])},rebuildPath:function(b){for(var d=this.data,f,k,e,w,c,u,v=this._ux,r=this._uy,x=this._len,z=0;z<x;)switch(c=d[z++],1==z&&(e=d[z],w=d[z+1],f=e,k=w),c){case m.M:f=e=d[z++];k=w=d[z++];b.moveTo(e,w);break;case m.L:c=d[z++];u=d[z++];if(y(c-e)>v||y(u-w)>r||z===x-1)b.lineTo(c,u),e=c,w=u;break;case m.C:b.bezierCurveTo(d[z++],d[z++],d[z++],d[z++],d[z++],d[z++]);e=d[z-2];w=d[z-1];break;case m.Q:b.quadraticCurveTo(d[z++],d[z++],d[z++],d[z++]);e=d[z-2];w=d[z-1];break;case m.A:e=d[z++];w=d[z++];u=d[z++];c=d[z++];var n=d[z++],l=d[z++],h=d[z++],p=d[z++],T=u>c?u:c,S=u>c?1:u/c,R=u>c?c/u:1,l=n+l;.001<Math.abs(u-c)?(b.translate(e,w),b.rotate(h),b.scale(S,R),b.arc(0,0,T,n,l,1-p),b.scale(1/S,1/R),b.rotate(-h),b.translate(-e,-w)):b.arc(e,w,T,n,l,1-p);1==z&&(f=g(n)*u+e,k=t(n)*c+w);e=g(l)*u+e;w=t(l)*c+w;break;case m.R:f=e=d[z];k=w=d[z+1];b.rect(d[z++],d[z++],d[z++],d[z++]);break;case m.Z:b.closePath(),e=f,w=k}}};p.CMD=m;c.exports=p},function(c,p,b){function h(b,d,g,f,k){var e=1-k;return e*e*(e*b+3*k*d)+k*k*(k*f+3*e*g)}function l(b,d,g,f){var k=1-f;return k*(k*b+2*f*d)+f*f*g}p=b(10);b=p.create;var e=p.distSquare,n=Math.pow,d=Math.sqrt,m=d(3),r=1/3,f=b(),k=b(),u=b();c.exports={cubicAt:h,cubicDerivativeAt:function(b,d,g,f,k){var e=1-k;return 3*(((d-b)*e+2*(g-d)*k)*e+(f-g)*k*k)},cubicRootAt:function(b,f,g,t,k,e){t=t+3*(f-g)-b;g=3*(g-2*f+b);var c=3*(f-b),u=b-k;k=g*g-3*t*c;f=g*c-9*t*u;b=0;if(-1E-8<k&&1E-8>k&&-1E-8<f&&1E-8>f)-1E-8<g&&1E-8>g?e[0]=0:(k=-c/g,0<=k&&1>=k&&(e[b++]=k));else if(c=f*f-4*k*(c*c-3*g*u),-1E-8<c&&1E-8>c)f/=k,k=-g/t+f,f=-f/2,0<=k&&1>=k&&(e[b++]=k),0<=f&&1>=f&&(e[b++]=f);else if(0<c)u=d(c),c=k*g+1.5*t*(-f+u),k=k*g+1.5*t*(-f-u),c=0>c?-n(-c,r):n(c,r),k=0>k?-n(-k,r):n(k,r),k=(-g-(c+k))/(3*t),0<=k&&1>=k&&(e[b++]=k);else{f=(2*k*g-3*t*f)/(2*d(k*k*k));var c=Math.acos(f)/3,u=d(k),l=Math.cos(c);k=(-g-2*u*l)/(3*t);f=(-g+u*(l+m*Math.sin(c)))/(3*t);t=(-g+u*(l-m*Math.sin(c)))/(3*t);0<=k&&1>=k&&(e[b++]=k);0<=f&&1>=f&&(e[b++]=f);0<=t&&1>=t&&(e[b++]=t)}return b},cubicExtrema:function(b,f,g,t,k){var e=6*g-12*f+6*b;g=9*f+3*t-3*b-9*g;f=3*f-3*b;b=0;if(-1E-8<g&&1E-8>g){if(1E-8<e||-1E-8>e)f=-f/e,0<=f&&1>=f&&(k[b++]=f)}else f=e*e-4*g*f,-1E-8<f&&1E-8>f?k[0]=-e/(2*g):0<f&&(t=d(f),f=(-e+t)/(2*g),e=(-e-t)/(2*g),0<=f&&1>=f&&(k[b++]=f),0<=e&&1>=e&&(k[b++]=e));return b},cubicSubdivide:function(b,d,g,f,k,e){var m=(d-b)*k+b,c=(g-d)*k+d;g=(f-g)*k+g;d=(c-m)*k+m;c=(g-c)*k+c;k=(c-d)*k+d;e[0]=b;e[1]=m;e[2]=d;e[3]=k;e[4]=k;e[5]=c;e[6]=g;e[7]=f},cubicProjectPoint:function(b,m,g,t,c,y,r,n,l,B,F){var N,p=.005,G=Infinity,q;f[0]=l;f[1]=B;for(l=0;1>l;l+=.05)k[0]=h(b,g,c,r,l),k[1]=h(m,t,y,n,l),B=e(f,k),B<G&&(N=l,G=B);for(var G=Infinity,H=0;32>H&&!(1E-4>p);H++)q=N-p,l=N+p,k[0]=h(b,g,c,r,q),k[1]=h(m,t,y,n,q),B=e(k,f),0<=q&&B<G?(N=q,G=B):(u[0]=h(b,g,c,r,l),u[1]=h(m,t,y,n,l),B=e(u,f),1>=l&&B<G?(N=l,G=B):p*=.5);F&&(F[0]=h(b,g,c,r,N),F[1]=h(m,t,y,n,N));return d(G)},quadraticAt:l,quadraticDerivativeAt:function(b,d,g,f){return 2*((1-f)*(d-b)+f*(g-d))},quadraticRootAt:function(b,f,g,t,k){g=b-2*f+g;f=2*(f-b);t=b-t;b=0;if(-1E-8<g&&1E-8>g){if(1E-8<f||-1E-8>f)t=-t/f,0<=t&&1>=t&&(k[b++]=t)}else if(t=f*f-4*g*t,-1E-8<t&&1E-8>t)t=-f/(2*g),0<=t&&1>=t&&(k[b++]=t);else if(0<t){var e=d(t);t=(-f+e)/(2*g);g=(-f-e)/(2*g);0<=t&&1>=t&&(k[b++]=t);0<=g&&1>=g&&(k[b++]=g)}return b},quadraticExtremum:function(b,d,g){g=b+g-2*d;return 0===g?.5:(b-d)/g},quadraticSubdivide:function(b,d,g,f,k){var e=(d-b)*f+b;d=(g-d)*f+d;f=(d-e)*f+e;k[0]=b;k[1]=e;k[2]=f;k[3]=f;k[4]=d;k[5]=g},quadraticProjectPoint:function(b,m,g,t,c,y,r,n,h){var B,F=.005,N=Infinity;f[0]=r;f[1]=n;for(n=0;1>n;n+=.05)k[0]=l(b,g,c,n),k[1]=l(m,t,y,n),r=e(f,k),r<N&&(B=n,N=r);N=Infinity;for(n=0;32>n&&!(1E-4>F);n++){var p=B-F,G=B+F;k[0]=l(b,g,c,p);k[1]=l(m,t,y,p);r=e(k,f);0<=p&&r<N?(B=p,N=r):(u[0]=l(b,g,c,G),u[1]=l(m,t,y,G),r=e(u,f),1>=G&&r<N?(B=G,N=r):F*=.5)}h&&(h[0]=l(b,g,c,B),h[1]=l(m,t,y,B));return d(N)}}},function(c,p,b){var h=b(10),l=b(50);p={};var e=Math.min,n=Math.max,d=Math.sin,m=Math.cos,r=h.create(),f=h.create(),k=h.create(),u=2*Math.PI;p.fromPoints=function(g,b,d){if(0!==g.length){var f=g[0],k=f[0],m=f[0],c=f[1],u=f[1],r;for(r=1;r<g.length;r++)f=g[r],k=e(k,f[0]),m=n(m,f[0]),c=e(c,f[1]),u=n(u,f[1]);b[0]=k;b[1]=c;d[0]=m;d[1]=u}};p.fromLine=function(g,b,d,f,k,m){k[0]=e(g,d);k[1]=e(b,f);m[0]=n(g,d);m[1]=n(b,f)};var x=[],v=[];p.fromCubic=function(g,b,d,f,k,m,c,u,r,h){var p=l.cubicExtrema,G=l.cubicAt,q,H=p(g,d,k,c,x);r[0]=Infinity;r[1]=Infinity;h[0]=-Infinity;h[1]=-Infinity;for(q=0;q<H;q++){var L=G(g,d,k,c,x[q]);r[0]=e(L,r[0]);h[0]=n(L,h[0])}H=p(b,f,m,u,v);for(q=0;q<H;q++)d=G(b,f,m,u,v[q]),r[1]=e(d,r[1]),h[1]=n(d,h[1]);r[0]=e(g,r[0]);h[0]=n(g,h[0]);r[0]=e(c,r[0]);h[0]=n(c,h[0]);r[1]=e(b,r[1]);h[1]=n(b,h[1]);r[1]=e(u,r[1]);h[1]=n(u,h[1])};p.fromQuadratic=function(g,b,d,f,k,m,c,u){var r=l.quadraticExtremum,v=l.quadraticAt,x=n(e(r(g,d,k),1),0),r=n(e(r(b,f,m),1),0);d=v(g,d,k,x);f=v(b,f,m,r);c[0]=e(g,k,d);c[1]=e(b,m,f);u[0]=n(g,k,d);u[1]=n(b,m,f)};p.fromArc=function(g,b,e,c,v,x,n,l,F){var p=h.min,E=h.max,G=Math.abs(v-x);if(1E-4>G%u&&1E-4<G)l[0]=g-e,l[1]=b-c,F[0]=g+e,F[1]=b+c;else for(r[0]=m(v)*e+g,r[1]=d(v)*c+b,f[0]=m(x)*e+g,f[1]=d(x)*c+b,p(l,r,f),E(F,r,f),v%=u,0>v&&(v+=u),x%=u,0>x&&(x+=u),v>x&&!n?x+=u:v<x&&n&&(v+=u),n&&(n=x,x=v,v=n),n=0;n<x;n+=Math.PI/2)n>v&&(k[0]=m(n)*e+g,k[1]=d(n)*c+b,p(l,k,l),E(F,k,F))};c.exports=p},function(c,p,b){function h(g,b,c,y,z){for(var h=0,A=0,B=0,F=0,p=0,E=0;E<g.length;){var G=g[E++];G===l.M&&1<E&&(c||(h+=f(A,B,F,p,y,z)));1==E&&(A=g[E],B=g[E+1],F=A,p=B);switch(G){case l.M:F=g[E++];p=g[E++];A=F;B=p;break;case l.L:if(c){if(k(A,B,g[E],g[E+1],b,y,z))return!0}else h+=f(A,B,g[E],g[E+1],y,z)||0;A=g[E++];B=g[E++];break;case l.C:if(c){if(e.containStroke(A,B,g[E++],g[E++],g[E++],g[E++],g[E],g[E+1],b,y,z))return!0}else{var G=h,q;q=A;var H=B,L=g[E++],I=g[E++],K=g[E++],B=g[E++],A=g[E],h=g[E+1],O=y;if(z>H&&z>I&&z>B&&z>h||z<H&&z<I&&z<B&&z<h)q=0;else{var M=r.cubicRootAt(H,I,B,h,z,x);if(0===M)q=0;else{for(var J=0,P=-1,T=void 0,S=void 0,R=0;R<M;R++){var Q=x[R],U=0===Q||1===Q?.5:1;r.cubicAt(q,L,K,A,Q)<O||(0>P&&(P=r.cubicExtrema(H,I,B,h,v),v[1]<v[0]&&1<P&&(T=v[0],v[0]=v[1],v[1]=T),T=r.cubicAt(H,I,B,h,v[0]),1<P&&(S=r.cubicAt(H,I,B,h,v[1]))),J=2==P?Q<v[0]?J+(T<H?U:-U):Q<v[1]?J+(S<T?U:-U):J+(h<S?U:-U):Q<v[0]?J+(T<H?U:-U):J+(h<T?U:-U))}q=J}}h=G+(q||0)}A=g[E++];B=g[E++];break;case l.Q:if(c){if(n.containStroke(A,B,g[E++],g[E++],g[E],g[E+1],b,y,z))return!0}else{G=h;q=A;H=B;L=g[E++];M=g[E++];I=g[E];K=g[E+1];B=y;if(z>H&&z>M&&z>K||z<H&&z<M&&z<K)q=0;else if(A=r.quadraticRootAt(H,M,K,z,x),0===A)q=0;else if(h=r.quadraticExtremum(H,M,K),0<=h&&1>=h){O=0;M=r.quadraticAt(H,M,K,h);for(J=0;J<A;J++)P=0===x[J]||1===x[J]?.5:1,S=r.quadraticAt(q,L,I,x[J]),S<B||(O=x[J]<h?O+(M<H?P:-P):O+(K<M?P:-P));q=O}else P=0===x[0]||1===x[0]?.5:1,S=r.quadraticAt(q,L,I,x[0]),q=S<B?0:K<H?P:-P;h=G+(q||0)}A=g[E++];B=g[E++];break;case l.A:G=g[E++];q=g[E++];H=g[E++];L=g[E++];I=g[E++];K=g[E++];E++;M=1-g[E++];O=Math.cos(I)*H+G;J=Math.sin(I)*L+q;1<E?h+=f(A,B,O,J,y,z):(F=O,p=J);J=(y-G)*L/H+G;if(c){if(d.containStroke(G,q,L,I,I+K,M,b,J,z))return!0}else{B=h;A=G;h=I;O=I+K;P=z;P-=q;if(P>L||P<-L)A=0;else if(S=Math.sqrt(L*L-P*P),x[0]=-S,x[1]=S,S=Math.abs(h-O),1E-4>S)A=0;else if(1E-4>S%u)A=J>=x[0]+A&&J<=x[1]+A?M?1:-1:0;else{M?(S=h,h=m(O),O=m(S)):(h=m(h),O=m(O));h>O&&(O+=u);for(R=S=0;2>R;R++)if(Q=x[R],Q+A>J&&(U=Math.atan2(P,Q),Q=M?1:-1,0>U&&(U=u+U),U>=h&&U<=O||U+u>=h&&U+u<=O))U>Math.PI/2&&U<1.5*Math.PI&&(Q=-Q),S+=Q;A=S}h=B+A}A=Math.cos(I+K)*H+G;B=Math.sin(I+K)*L+q;break;case l.R:F=A=g[E++];p=B=g[E++];q=g[E++];G=g[E++];O=F+q;J=p+G;if(c){if(k(F,p,O,p,b,y,z)||k(O,p,O,J,b,y,z)||k(O,J,F,J,b,y,z)||k(F,J,F,p,b,y,z))return!0}else h+=f(O,p,O,J,y,z),h+=f(F,J,F,p,y,z);break;case l.Z:if(c){if(k(A,B,F,p,b,y,z))return!0}else h+=f(A,B,F,p,y,z);A=F;B=p}}c||1E-4>Math.abs(B-p)||(h+=f(A,B,F,p,y,z)||0);return 0!==h}var l=b(49).CMD;p=b(53);var e=b(54),n=b(55),d=b(56),m=b(57).normalizeRadian,r=b(50),f=b(58),k=p.containStroke,u=2*Math.PI,x=[-1,-1,-1],v=[-1,-1];c.exports={contain:function(g,b,d){return h(g,0,!1,b,d)},containStroke:function(g,b,d,f){return h(g,b,!0,d,f)}}},function(c,p){c.exports={containStroke:function(b,c,l,e,n,d,m){if(0===n)return!1;var r;if(m>c+n&&m>e+n||m<c-n&&m<e-n||d>b+n&&d>l+n||d<b-n&&d<l-n)return!1;if(b!==l)r=(c-e)/(b-l);else return Math.abs(d-b)<=n/2;b=r*d-m+(b*e-l*c)/(b-l);return b*b/(r*r+1)<=n/2*n/2}}},function(c,p,b){var h=b(50);c.exports={containStroke:function(b,e,c,d,m,r,f,k,u,x,v){return 0===u||v>e+u&&v>d+u&&v>r+u&&v>k+u||v<e-u&&v<d-u&&v<r-u&&v<k-u||x>b+u&&x>c+u&&x>m+u&&x>f+u||x<b-u&&x<c-u&&x<m-u&&x<f-u?!1:h.cubicProjectPoint(b,e,c,d,m,r,f,k,x,v,null)<=u/2}}},function(c,p,b){var h=b(50);c.exports={containStroke:function(b,e,c,d,m,r,f,k,u){return 0===f||u>e+f&&u>d+f&&u>r+f||u<e-f&&u<d-f&&u<r-f||k>b+f&&k>c+f&&k>m+f||k<b-f&&k<c-f&&k<m-f?!1:h.quadraticProjectPoint(b,e,c,d,m,r,k,u,null)<=f/2}}},function(c,p,b){var h=b(57).normalizeRadian,l=2*Math.PI;c.exports={containStroke:function(b,c,d,m,r,f,k,u,x){if(0===k)return!1;u-=b;x-=c;b=Math.sqrt(u*u+x*x);if(b-k>d||b+k<d)return!1;if(1E-4>Math.abs(m-r)%l)return!0;f?(d=m,m=h(r),r=h(d)):(m=h(m),r=h(r));m>r&&(r+=l);u=Math.atan2(x,u);0>u&&(u+=l);return u>=m&&u<=r||u+l>=m&&u+l<=r}}},function(c,p){var b=2*Math.PI;c.exports={normalizeRadian:function(c){c%=b;0>c&&(c+=b);return c}}},function(c,p){c.exports=function(b,c,l,e,n,d){if(d>c&&d>e||d<c&&d<e||e===c)return 0;var m=e<c?1:-1;d=(d-c)/(e-c);if(1===d||0===d)m=e<c?.5:-.5;return d*(l-b)+b>n?m:0}},function(c,p){var b=function(b,c){this.image=b;this.repeat=c;this.type="pattern"};b.prototype.getCanvasPattern=function(b){return this._canvasPattern||(this._canvasPattern=b.createPattern(this.image,this.repeat))};c.exports=b},function(c,p,b){var h=b(49).CMD,l=b(10).applyTransform,e=[[],[],[]],n=Math.sqrt,d=Math.atan2;c.exports=function(b,c){var f=b.data,k,u,x,v,g,t=h.M,w=h.C,y=h.L,z=h.R,D=h.A,A=h.Q;for(x=0;x<f.length;){k=f[x++];v=x;u=0;switch(k){case t:u=1;break;case y:u=1;break;case w:u=3;break;case A:u=2;break;case D:v=c[4];k=c[5];var B=n(c[0]*c[0]+c[1]*c[1]),F=n(c[2]*c[2]+c[3]*c[3]),p=d(-c[1]/F,c[0]/B);f[x++]+=v;f[x++]+=k;f[x++]*=B;f[x++]*=F;f[x++]+=p;f[x++]+=p;v=x+=2;break;case z:g[0]=f[x++],g[1]=f[x++],l(g,g,c),f[v++]=g[0],f[v++]=g[1],g[0]+=f[x++],g[1]+=f[x++],l(g,g,c),f[v++]=g[0],f[v++]=g[1]}for(k=0;k<u;k++)g=e[k],g[0]=f[x++],g[1]=f[x++],l(g,g,c),f[v++]=g[0],f[v++]=g[1]}}},function(c,p){var b=function(b){this.colorStops=b||[]};b.prototype={constructor:b,addColorStop:function(b,c){this.colorStops.push({offset:b,color:c})}};c.exports=b},function(c,p,b){function h(b){l.call(this,b)}var l=b(46),e=b(9);p=b(4);var n=new (b(63))(50);h.prototype={constructor:h,type:"image",brush:function(b,e){var c=this.style,f=c.image,k;c.bind(b,this,e);k="string"===typeof f?this._image:f;if(!k&&f){var u=n.get(f);if(u){if(this._image=k=u.image,!k.width||!k.height){u.pending.push(this);return}}else{k=new Image;k.onload=function(){k.onload=null;for(var g=0;g<u.pending.length;g++)u.pending[g].dirty()};u={image:k,pending:[this]};k.src=f;n.put(f,u);this._image=k;return}}if(k){var f=c.width||k.width,x=c.height||k.height,v=c.x||0,g=c.y||0;if(k.width&&k.height){this.setTransform(b);if(c.sWidth&&c.sHeight){var t=c.sx||0,w=c.sy||0;b.drawImage(k,t,w,c.sWidth,c.sHeight,v,g,f,x)}else c.sx&&c.sy?(t=c.sx,w=c.sy,b.drawImage(k,t,w,f-t,x-w,v,g,f,x)):b.drawImage(k,v,g,f,x);null==c.width&&(c.width=f);null==c.height&&(c.height=x);this.restoreTransform(b);null!=c.text&&this.drawRectText(b,this.getBoundingRect())}}},getBoundingRect:function(){var b=this.style;this._rect||(this._rect=new e(b.x||0,b.y||0,b.width||0,b.height||0));return this._rect}};p.inherits(h,l);c.exports=h},function(c,p){var b=function(){this.tail=this.head=null;this._len=0},h=b.prototype;h.insert=function(b){b=new l(b);this.insertEntry(b);return b};h.insertEntry=function(b){this.head?(this.tail.next=b,b.prev=this.tail,this.tail=b):this.head=this.tail=b;this._len++};h.remove=function(b){var d=b.prev,e=b.next;d?d.next=e:this.head=e;e?e.prev=d:this.tail=d;b.next=b.prev=null;this._len--};h.len=function(){return this._len};var l=function(b){this.value=b},h=function(e){this._list=new b;this._map={};this._maxSize=e||10},e=h.prototype;e.put=function(b,d){var e=this._list,c=this._map;if(null==c[b]){var f=e.len();f>=this._maxSize&&0<f&&(f=e.head,e.remove(f),delete c[f.key]);e=e.insert(d);e.key=b;c[b]=e}};e.get=function(b){b=this._map[b];var d=this._list;if(null!=b)return b!==d.tail&&(d.remove(b),d.insertEntry(b)),b.value};e.clear=function(){this._list.clear();this._map={}};c.exports=h},function(c,p,b){var h=b(46);p=b(4);var l=b(8);b=function(b){h.call(this,b)};b.prototype={constructor:b,type:"text",brush:function(b,c){var d=this.style,m=d.x||0,r=d.y||0,f=d.text;null!=f&&(f+="");d.bind(b,this,c);if(f){this.setTransform(b);var k,u=d.textAlign,x=d.textFont||d.font;if(d.textVerticalAlign){var v=l.getBoundingRect(f,x,d.textAlign,"top");k="middle";switch(d.textVerticalAlign){case "middle":r-=v.height/2-v.lineHeight/2;break;case "bottom":r-=v.height-v.lineHeight/2;break;default:r+=v.lineHeight/2}}else k=d.textBaseline;b.font=x;b.textAlign=u||"left";b.textAlign!==u&&(b.textAlign="left");b.textBaseline=k||"alphabetic";b.textBaseline!==k&&(b.textBaseline="alphabetic");k=l.measureText("\u56fd",b.font).width;f=f.split("\n");for(u=0;u<f.length;u++)d.hasFill()&&b.fillText(f[u],m,r),d.hasStroke()&&b.strokeText(f[u],m,r),r+=k;this.restoreTransform(b)}},getBoundingRect:function(){if(!this._rect){var b=this.style,c=b.textVerticalAlign,d=l.getBoundingRect(b.text+"",b.textFont||b.font,b.textAlign,c?"top":b.textBaseline);switch(c){case "middle":d.y-=d.height/2;break;case "bottom":d.y-=d.height}d.x+=b.x||0;d.y+=b.y||0;this._rect=d}return this._rect}};p.inherits(b,h);c.exports=b},function(c,p,b){c.exports=b(45).extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(b,c,e){e&&b.moveTo(c.cx+c.r,c.cy);b.arc(c.cx,c.cy,c.r,0,2*Math.PI,!0)}})},function(c,p,b){c.exports=b(45).extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},buildPath:function(b,c){var e=c.cx,n=c.cy,d=Math.max(c.r0||0,0),m=Math.max(c.r,0),r=c.startAngle,f=c.endAngle,k=c.clockwise,u=Math.cos(r),x=Math.sin(r);b.moveTo(u*d+e,x*d+n);b.lineTo(u*m+e,x*m+n);b.arc(e,n,m,r,f,!k);b.lineTo(Math.cos(f)*d+e,Math.sin(f)*d+n);0!==d&&b.arc(e,n,d,f,r,k);b.closePath()}})},function(c,p,b){c.exports=b(45).extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(b,c){var e=c.cx,n=c.cy,d=2*Math.PI;b.moveTo(e+c.r,n);b.arc(e,n,c.r,0,d,!1);b.moveTo(e+c.r0,n);b.arc(e,n,c.r0,0,d,!0)}})},function(c,p,b){var h=b(69);c.exports=b(45).extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(b,e){h.buildPath(b,e,!0)}})},function(c,p,b){var h=b(70),l=b(71);c.exports={buildPath:function(b,c,d){var m=c.points,r=c.smooth;if(m&&2<=m.length){if(r&&"spline"!==r){r=l(m,r,d,c.smoothConstraint);b.moveTo(m[0][0],m[0][1]);var f=m.length;for(c=0;c<(d?f:f-1);c++){var k=r[2*c],u=r[2*c+1],x=m[(c+1)%f];b.bezierCurveTo(k[0],k[1],u[0],u[1],x[0],x[1])}}else for("spline"===r&&(m=h(m,d)),b.moveTo(m[0][0],m[0][1]),c=1,r=m.length;c<r;c++)b.lineTo(m[c][0],m[c][1]);d&&b.closePath()}}}},function(c,p,b){function h(b,c,d,m,r,f,k){b=.5*(d-b);m=.5*(m-c);return(2*(c-d)+b+m)*k+(-3*(c-d)-2*b-m)*f+b*r+c}var l=b(10);c.exports=function(b,c){for(var d=b.length,m=[],r=0,f=1;f<d;f++)r+=l.distance(b[f-1],b[f]);r/=2;r=r<d?d:r;for(f=0;f<r;f++){var k=f/(r-1)*(c?d:d-1),u=Math.floor(k),k=k-u,x,v=b[u%d],g;c?(x=b[(u-1+d)%d],g=b[(u+1)%d],u=b[(u+2)%d]):(x=b[0===u?u:u-1],g=b[u>d-2?d-1:u+1],u=b[u>d-3?d-1:u+2]);var t=k*k,w=k*t;m.push([h(x[0],v[0],g[0],u[0],k,t,w),h(x[1],v[1],g[1],u[1],k,t,w)])}return m}},function(c,p,b){var h=b(10),l=h.min,e=h.max,n=h.scale,d=h.distance,m=h.add;c.exports=function(b,f,k,c){var x=[],v=[],g=[],t=[],w,y,z,D;if(c){z=[Infinity,Infinity];D=[-Infinity,-Infinity];for(var A=0,B=b.length;A<B;A++)l(z,z,b[A]),e(D,D,b[A]);l(z,z,c[0]);e(D,D,c[1])}A=0;for(B=b.length;A<B;A++){var F=b[A];if(k)w=b[A?A-1:B-1],y=b[(A+1)%B];else if(0===A||A===B-1){x.push(h.clone(b[A]));continue}else w=b[A-1],y=b[A+1];h.sub(v,y,w);n(v,v,f);w=d(F,w);y=d(F,y);var p=w+y;0!==p&&(w/=p,y/=p);n(g,v,-w);n(t,v,y);w=m([],F,g);F=m([],F,t);c&&(e(w,w,z),l(w,w,D),e(F,F,z),l(F,F,D));x.push(w);x.push(F)}k&&x.push(x.shift());return x}},function(c,p,b){var h=b(69);c.exports=b(45).extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(b,e){h.buildPath(b,e,!1)}})},function(c,p,b){var h=b(74);c.exports=b(45).extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(b,e){var c=e.x,d=e.y,m=e.width,r=e.height;e.r?h.buildPath(b,e):b.rect(c,d,m,r);b.closePath()}})},function(c,p){c.exports={buildPath:function(b,c){var l=c.x,e=c.y,n=c.width,d=c.height,m=c.r,r,f,k,u;0>n&&(l+=n,n=-n);0>d&&(e+=d,d=-d);"number"===typeof m?r=f=k=u=m:m instanceof Array?1===m.length?r=f=k=u=m[0]:2===m.length?(r=k=m[0],f=u=m[1]):3===m.length?(r=m[0],f=u=m[1],k=m[2]):(r=m[0],f=m[1],k=m[2],u=m[3]):r=f=k=u=0;r+f>n&&(m=r+f,r*=n/m,f*=n/m);k+u>n&&(m=k+u,k*=n/m,u*=n/m);f+k>d&&(m=f+k,f*=d/m,k*=d/m);r+u>d&&(m=r+u,r*=d/m,u*=d/m);b.moveTo(l+r,e);b.lineTo(l+n-f,e);0!==f&&b.quadraticCurveTo(l+n,e,l+n,e+f);b.lineTo(l+n,e+d-k);0!==k&&b.quadraticCurveTo(l+n,e+d,l+n-k,e+d);b.lineTo(l+u,e+d);0!==u&&b.quadraticCurveTo(l,e+d,l,e+d-u);b.lineTo(l,e+r);0!==r&&b.quadraticCurveTo(l,e,l+r,e)}}},function(c,p,b){c.exports=b(45).extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(b,c){var e=c.x1,n=c.y1,d=c.x2,m=c.y2,r=c.percent;0!==r&&(b.moveTo(e,n),1>r&&(d=e*(1-r)+d*r,m=n*(1-r)+m*r),b.lineTo(d,m))},pointAt:function(b){var c=this.shape;return[c.x1*(1-b)+c.x2*b,c.y1*(1-b)+c.y2*b]}})},function(c,p,b){function h(b,k,e){var g=b.cpy2;return null===b.cpx2||null===g?[(e?f:m)(b.x1,b.cpx1,b.cpx2,b.x2,k),(e?f:m)(b.y1,b.cpy1,b.cpy2,b.y2,k)]:[(e?r:d)(b.x1,b.cpx1,b.x2,k),(e?r:d)(b.y1,b.cpy1,b.y2,k)]}p=b(50);var l=b(10),e=p.quadraticSubdivide,n=p.cubicSubdivide,d=p.quadraticAt,m=p.cubicAt,r=p.quadraticDerivativeAt,f=p.cubicDerivativeAt,k=[];c.exports=b(45).extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(b,d){var f=d.x1,g=d.y1,t=d.x2,c=d.y2,m=d.cpx1,r=d.cpy1,l=d.cpx2,h=d.cpy2,B=d.percent;0!==B&&(b.moveTo(f,g),null==l||null==h?(1>B&&(e(f,m,t,B,k),m=k[1],t=k[2],e(g,r,c,B,k),r=k[1],c=k[2]),b.quadraticCurveTo(m,r,t,c)):(1>B&&(n(f,m,l,t,B,k),m=k[1],l=k[2],t=k[3],n(g,r,h,c,B,k),r=k[1],h=k[2],c=k[3]),b.bezierCurveTo(m,r,l,h,t,c)))},pointAt:function(b){return h(this.shape,b,!1)},tangentAt:function(b){b=h(this.shape,b,!0);return l.normalize(b,b)}})},function(c,p,b){c.exports=b(45).extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(b,c){var e=c.cx,n=c.cy,d=Math.max(c.r,0),m=c.startAngle,r=c.endAngle,f=c.clockwise;b.moveTo(Math.cos(m)*d+e,Math.sin(m)*d+n);b.arc(e,n,d,m,r,!f)}})},function(c,p,b){var h=b(45);c.exports=h.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var b=this.__dirtyPath,e=this.shape.paths,c=0;c<e.length;c++)b=b||e[c].__dirtyPath;this.__dirtyPath=b;this.__dirty=this.__dirty||b},beforeBrush:function(){this._updatePathDirty();for(var b=this.shape.paths||[],e=this.getGlobalScale(),c=0;c<b.length;c++)b[c].path.setScale(e[0],e[1])},buildPath:function(b,e){for(var c=e.paths||[],d=0;d<c.length;d++)c[d].buildPath(b,c[d].shape,!0)},afterBrush:function(){for(var b=this.shape.paths,e=0;e<b.length;e++)b[e].__dirtyPath=!1},getBoundingRect:function(){this._updatePathDirty();return h.prototype.getBoundingRect.call(this)}})},function(c,p,b){p=b(4);var h=b(61);b=function(b,e,c,d,m,r){this.x=null==b?0:b;this.y=null==e?0:e;this.x2=null==c?1:c;this.y2=null==d?0:d;this.type="linear";this.global=r||!1;h.call(this,m)};b.prototype={constructor:b};p.inherits(b,h);c.exports=b},function(c,p,b){p=b(4);var h=b(61);b=function(b,e,c,d,m){this.x=null==b?.5:b;this.y=null==e?.5:e;this.r=null==c?.5:c;this.type="radial";this.global=m||!1;h.call(this,d)};b.prototype={constructor:b};p.inherits(b,h);c.exports=b},function(c,p,b){var h=b(32),l=b(2),e=b(82),n=b(84),d=b(86),m=b(89),r=!l.canvasSupported,f={canvas:b(91)},k={},u={version:"3.1.2",init:function(b,g){var d=new x(h(),b,g);return k[d.id]=d},dispose:function(b){if(b)b.dispose();else{for(var g in k)k[g].dispose();k={}}return u},getInstance:function(b){return k[b]},registerPainter:function(b,g){f[b]=g}},x=function(b,g,k){k=k||{};this.dom=g;this.id=b;var c=this,u=new n;b=k.renderer;if(r){if(!f.vml)throw Error("You need to require 'zrender/vml/vml' to support IE8");b="vml"}else b&&f[b]||(b="canvas");g=new f[b](g,u,k);this.storage=u;this.painter=g;k=l.node?null:new m(g.getViewportRoot());this.handler=new e(u,g,k);this.animation=new d({stage:{update:function(){c._needsRefresh&&c.refreshImmediately();c._needsRefreshHover&&c.refreshHoverImmediately()}}});this.animation.start();var x=u.delFromMap,h=u.addToMap;u.delFromMap=function(b){var g=u.get(b);x.call(u,b);g&&g.removeSelfFromZr(c)};u.addToMap=function(b){h.call(u,b);b.addSelfToZr(c)}};x.prototype={constructor:x,getId:function(){return this.id},add:function(b){this.storage.addRoot(b);this._needsRefresh=!0},remove:function(b){this.storage.delRoot(b);this._needsRefresh=!0},configLayer:function(b,g){this.painter.configLayer(b,g);this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=!1;this.painter.refresh();this._needsRefresh=!1},refresh:function(){this._needsRefresh=!0},addHover:function(b,g){this.painter.addHover&&(this.painter.addHover(b,g),this.refreshHover())},removeHover:function(b){this.painter.removeHover&&(this.painter.removeHover(b),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1;this.painter.refreshHover&&this.painter.refreshHover()},resize:function(){this.painter.resize();this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(b,g,d){var f=h();return this.painter.pathToImage(f,b,g,d)},setCursorStyle:function(b){this.handler.setCursorStyle(b)},on:function(b,g,d){this.handler.on(b,g,d)},off:function(b,g){this.handler.off(b,g)},trigger:function(b,g){this.handler.trigger(b,g)},clear:function(){this.storage.delRoot();this.painter.clear()},dispose:function(){this.animation.stop();this.clear();this.storage.dispose();this.painter.dispose();this.handler.dispose();this.animation=this.storage=this.painter=this.handler=null;delete k[this.id]}};c.exports=u},function(c,p,b){function h(){}var l=b(4),e=b(83),n=b(33);h.prototype.dispose=function(){};var d="click dblclick mousewheel mouseout mouseup mousedown mousemove".split(" "),m=function(b,f,k){n.call(this);this.storage=b;this.painter=f;this.proxy=k=k||new h;k.handler=this;e.call(this);l.each(d,function(b){k.on&&k.on(b,this[b],this)},this)};m.prototype={constructor:m,mousemove:function(b){var d=this.findHover(b.zrX,b.zrY,null),k=this._hovered,e=this.proxy;this._hovered=d;e.setCursor&&e.setCursor(d?d.cursor:"default");k&&d!==k&&k.__zr&&this.dispatchToElement(k,"mouseout",b);this.dispatchToElement(d,"mousemove",b);d&&d!==k&&this.dispatchToElement(d,"mouseover",b)},mouseout:function(b){this.dispatchToElement(this._hovered,"mouseout",b);this.trigger("globalout",{event:b})},resize:function(b){this._hovered=null},dispatch:function(b,d){var k=this[b];k&&k.call(this,d)},dispose:function(){this.proxy.dispose();this.storage=this.proxy=this.painter=null},setCursorStyle:function(b){var d=this.proxy;d.setCursor&&d.setCursor(b)},dispatchToElement:function(b,d,k){for(var e="on"+d,c={type:d,event:k,target:b,cancelBubble:!1,offsetX:k.zrX,offsetY:k.zrY,gestureEvent:k.gestureEvent,pinchX:k.pinchX,pinchY:k.pinchY,pinchScale:k.pinchScale,wheelDelta:k.zrDelta};b&&(b[e]&&(c.cancelBubble=b[e].call(b,c)),b.trigger(d,c),b=b.parent,!c.cancelBubble););c.cancelBubble||(this.trigger(d,c),this.painter&&this.painter.eachOtherLayer(function(b){"function"==typeof b[e]&&b[e].call(b,c);b.trigger&&b.trigger(d,c)}))},findHover:function(b,d,k){for(var e=this.storage.getDisplayList(),c=e.length-1;0<=c;c--){var m;if(m=!e[c].silent&&e[c]!==k&&!e[c].ignore)a:{var g=e[c];m=b;var t=d;if(g[g.rectHover?"rectContain":"contain"](m,t)){for(;g;){if(g.silent||g.clipPath&&!g.clipPath.contain(m,t)){m=!1;break a}g=g.parent}m=!0}else m=!1}if(m)return e[c]}}};l.each(["click","mousedown","mouseup","mousewheel","dblclick"],function(b){m.prototype[b]=function(d){var k=this.findHover(d.zrX,d.zrY,null);if("mousedown"===b)this._upel=this._downel=k;else if("mosueup"===b)this._upel=k;else if("click"===b&&this._downel!==this._upel)return;this.dispatchToElement(k,b,d)}});l.mixin(m,n);l.mixin(m,e);c.exports=m},function(c,p){function b(){this.on("mousedown",this._dragStart,this);this.on("mousemove",this._drag,this);this.on("mouseup",this._dragEnd,this);this.on("globalout",this._dragEnd,this)}b.prototype={constructor:b,_dragStart:function(b){var c=b.target;c&&c.draggable&&(this._draggingTarget=c,c.dragging=!0,this._x=b.offsetX,this._y=b.offsetY,this.dispatchToElement(c,"dragstart",b.event))},_drag:function(b){var c=this._draggingTarget;if(c){var e=b.offsetX,n=b.offsetY,d=e-this._x,m=n-this._y;this._x=e;this._y=n;c.drift(d,m,b);this.dispatchToElement(c,"drag",b.event);e=this.findHover(e,n,c);n=this._dropTarget;this._dropTarget=e;c!==e&&(n&&e!==n&&this.dispatchToElement(n,"dragleave",b.event),e&&e!==n&&this.dispatchToElement(e,"dragenter",b.event))}},_dragEnd:function(b){var c=this._draggingTarget;c&&(c.dragging=!1);this.dispatchToElement(c,"dragend",b.event);this._dropTarget&&this.dispatchToElement(this._dropTarget,"drop",b.event);this._dropTarget=this._draggingTarget=null}};c.exports=b},function(c,p,b){function h(b,d){return b.zlevel===d.zlevel?b.z===d.z?b.z2-d.z2:b.z-d.z:b.zlevel-d.zlevel}var l=b(4),e=b(2),n=b(30),d=b(85);p=function(){this._elements={};this._roots=[];this._displayList=[];this._displayListLen=0};p.prototype={constructor:p,traverse:function(b,d){for(var f=0;f<this._roots.length;f++)this._roots[f].traverse(b,d)},getDisplayList:function(b,d){b&&this.updateDisplayList(d||!1);return this._displayList},updateDisplayList:function(b){this._displayListLen=0;for(var c=this._roots,f=this._displayList,k=0,u=c.length;k<u;k++)this._updateAndAddDisplayable(c[k],null,b);f.length=this._displayListLen;e.canvasSupported&&d(f,h)},_updateAndAddDisplayable:function(b,d,f){if(!b.ignore||f){b.beforeUpdate();b.__dirty&&b.update();b.afterUpdate();var k=b.clipPath;k&&(k.parent=b,k.updateTransform(),d?(d=d.slice(),d.push(k)):d=[k]);if(b.isGroup){for(var k=b._children,e=0;e<k.length;e++){var c=k[e];b.__dirty&&(c.__dirty=!0);this._updateAndAddDisplayable(c,d,f)}b.__dirty=!1}else b.__clipPaths=d,this._displayList[this._displayListLen++]=b}},addRoot:function(b){this._elements[b.id]||(b instanceof n&&b.addChildrenToStorage(this),this.addToMap(b),this._roots.push(b))},delRoot:function(b){if(null==b){for(var d=0;d<this._roots.length;d++)b=this._roots[d],b instanceof n&&b.delChildrenFromStorage(this);this._elements={};this._roots=[];this._displayList=[];this._displayListLen=0}else if(b instanceof Array)for(var d=0,f=b.length;d<f;d++)this.delRoot(b[d]);else d="string"==typeof b?this._elements[b]:b,b=l.indexOf(this._roots,d),0<=b&&(this.delFromMap(d.id),this._roots.splice(b,1),d instanceof n&&d.delChildrenFromStorage(this))},addToMap:function(b){b instanceof n&&(b.__storage=this);b.dirty();this._elements[b.id]=b;return this},get:function(b){return this._elements[b]},delFromMap:function(b){var d=this._elements,f=d[b];f&&(delete d[b],f instanceof n&&(f.__storage=null));return this},dispose:function(){this._elements=this._renderList=this._roots=null},displayableSortFunc:h};c.exports=p},function(c,p){function b(b,e,c,f){var k=e+1;if(k===c)return 1;if(0>f(b[k++],b[e])){for(;k<c&&0>f(b[k],b[k-1]);)k++;c=e;f=k;for(f--;c<f;){var u=b[c];b[c++]=b[f];b[f--]=u}}else for(;k<c&&0<=f(b[k],b[k-1]);)k++;return k-e}function h(b,e,c,f,k){for(f===e&&f++;f<c;f++){for(var u=b[f],x=e,v=f,g;x<v;)g=x+v>>>1,0>k(u,b[g])?v=g:x=g+1;v=f-x;switch(v){case 3:b[x+3]=b[x+2];case 2:b[x+2]=b[x+1];case 1:b[x+1]=b[x];break;default:for(;0<v;)b[x+v]=b[x+v-1],v--}b[x]=u}}function l(b,e,c,f,k,u){var x=0,v=1;if(0<u(b,e[c+k])){for(f-=k;v<f&&0<u(b,e[c+k+v]);)x=v,v=(v<<1)+1,0>=v&&(v=f);v>f&&(v=f);x+=k;v+=k}else{for(f=k+1;v<f&&0>=u(b,e[c+k-v]);)x=v,v=(v<<1)+1,0>=v&&(v=f);v>f&&(v=f);f=x;x=k-v;v=k-f}for(x++;x<v;)k=x+(v-x>>>1),0<u(b,e[c+k])?x=k+1:v=k;return v}function e(b,e,c,f,k,u){var x=0,v=1;if(0>u(b,e[c+k])){for(f=k+1;v<f&&0>u(b,e[c+k-v]);)x=v,v=(v<<1)+1,0>=v&&(v=f);v>f&&(v=f);f=x;x=k-v;v=k-f}else{for(f-=k;v<f&&0<=u(b,e[c+k+v]);)x=v,v=(v<<1)+1,0>=v&&(v=f);v>f&&(v=f);x+=k;v+=k}for(x++;x<v;)k=x+(v-x>>>1),0>u(b,e[c+k])?v=k:x=k+1;return v}function n(b,c){function r(g){var t=k[g],w=u[g],y=k[g+1],r=u[g+1];u[g]=w+r;g===x-3&&(k[g+1]=k[g+2],u[g+1]=u[g+2]);x--;g=e(b[y],b,t,w,0,c);t+=g;w-=g;if(0!==w&&(r=l(b[t+w-1],b,y,r,r-1,c),0!==r))if(w<=r){for(var n=t,t=w,w=r,r=0;r<t;r++)v[r]=b[n+r];g=0;b[n++]=b[y++];if(0===--w)for(r=0;r<t;r++)b[n+r]=v[g+r];else if(1===t){for(r=0;r<w;r++)b[n+r]=b[y+r];b[n+w]=v[g]}else{for(var h=f,B,F,p;;){F=B=0;p=!1;do if(0>c(b[y],v[g])){if(b[n++]=b[y++],F++,B=0,0===--w){p=!0;break}}else if(b[n++]=v[g++],B++,F=0,1===--t){p=!0;break}while((B|F)<h);if(p)break;do{B=e(b[y],v,g,t,0,c);if(0!==B){for(r=0;r<B;r++)b[n+r]=v[g+r];n+=B;g+=B;t-=B;if(1>=t){p=!0;break}}b[n++]=b[y++];if(0===--w){p=!0;break}F=l(v[g],b,y,w,0,c);if(0!==F){for(r=0;r<F;r++)b[n+r]=b[y+r];n+=F;y+=F;w-=F;if(0===w){p=!0;break}}b[n++]=v[g++];if(1===--t){p=!0;break}h--}while(7<=B||7<=F);if(p)break;0>h&&(h=0);h+=2}f=h;1>f&&(f=1);if(1===t){for(r=0;r<w;r++)b[n+r]=b[y+r];b[n+w]=v[g]}else{if(0===t)throw Error();for(r=0;r<t;r++)b[n+r]=v[g+r]}}}else{for(g=0;g<r;g++)v[g]=b[y+g];n=t+w-1;h=r-1;y=y+r-1;b[y--]=b[n--];if(0===--w)for(B=y-(r-1),g=0;g<r;g++)b[B+g]=v[g];else if(1===r){y-=w;F=y+1;B=n-w+1;for(g=w-1;0<=g;g--)b[F+g]=b[B+g];b[y]=v[h]}else{for(p=f;;){var E=0,G=0,q=!1;do if(0>c(v[h],b[n])){if(b[y--]=b[n--],E++,G=0,0===--w){q=!0;break}}else if(b[y--]=v[h--],G++,E=0,1===--r){q=!0;break}while((E|G)<p);if(q)break;do{E=w-e(v[h],b,t,w,w-1,c);if(0!==E){y-=E;n-=E;w-=E;F=y+1;B=n+1;for(g=E-1;0<=g;g--)b[F+g]=b[B+g];if(0===w){q=!0;break}}b[y--]=v[h--];if(1===--r){q=!0;break}G=r-l(b[n],v,0,r,r-1,c);if(0!==G){y-=G;h-=G;r-=G;F=y+1;B=h+1;for(g=0;g<G;g++)b[F+g]=v[B+g];if(1>=r){q=!0;break}}b[y--]=b[n--];if(0===--w){q=!0;break}p--}while(7<=E||7<=G);if(q)break;0>p&&(p=0);p+=2}f=p;1>f&&(f=1);if(1===r){y-=w;F=y+1;B=n-w+1;for(g=w-1;0<=g;g--)b[F+g]=b[B+g];b[y]=v[h]}else{if(0===r)throw Error();B=y-(r-1);for(g=0;g<r;g++)b[B+g]=v[g]}}}}var f=7,k,u,x=0,v=[];k=[];u=[];this.mergeRuns=function(){for(;1<x;){var b=x-2;if(1<=b&&u[b-1]<=u[b]+u[b+1]||2<=b&&u[b-2]<=u[b]+u[b-1])u[b-1]<u[b+1]&&b--;else if(u[b]>u[b+1])break;r(b)}};this.forceMergeRuns=function(){for(;1<x;){var b=x-2;0<b&&u[b-1]<u[b+1]&&b--;r(b)}};this.pushRun=function(b,d){k[x]=b;u[x]=d;x+=1}}c.exports=function(d,e,c,f){c||(c=0);f||(f=d.length);var k=f-c;if(!(2>k)){var u;if(32>k)u=b(d,c,f,e),h(d,c,f,c+u,e);else{var x=new n(d,e),v;u=k;for(v=0;32<=u;)v|=u&1,u>>=1;v=u+v;do{u=b(d,c,f,e);if(u<v){var g=k;g>v&&(g=v);h(d,c,c+g,c+u,e);u=g}x.pushRun(c,u);x.mergeRuns();k-=u;c+=u}while(0!==k);x.forceMergeRuns()}}}},function(c,p,b){var h=b(4),l=b(87).Dispatcher,e=b(88),n=b(36);p=function(b){b=b||{};this.stage=b.stage||{};this.onframe=b.onframe||function(){};this._clips=[];this._running=!1;this._time=0;l.call(this)};p.prototype={constructor:p,addClip:function(b){this._clips.push(b)},addAnimator:function(b){b.animation=this;b=b.getClips();for(var e=0;e<b.length;e++)this.addClip(b[e])},removeClip:function(b){b=h.indexOf(this._clips,b);0<=b&&this._clips.splice(b,1)},removeAnimator:function(b){for(var e=b.getClips(),c=0;c<e.length;c++)this.removeClip(e[c]);b.animation=null},_update:function(){for(var b=(new Date).getTime(),e=b-this._time,c=this._clips,f=c.length,k=[],u=[],x=0;x<f;x++){var v=c[x],g=v.step(b);g&&(k.push(g),u.push(v))}for(x=0;x<f;)c[x]._needsRemove?(c[x]=c[f-1],c.pop(),f--):x++;f=k.length;for(x=0;x<f;x++)u[x].fire(k[x]);this._time=b;this.onframe(e);this.trigger("frame",e);this.stage.update&&this.stage.update()},start:function(){function b(){c._running&&(e(b),c._update())}var c=this;this._running=!0;this._time=(new Date).getTime();e(b)},stop:function(){this._running=!1},clear:function(){this._clips=[]},animate:function(b,e){e=e||{};return new n(b,e.loop,e.getter,e.setter)}};h.mixin(p,l);c.exports=p},function(c,p,b){function h(b,c,d){b=b.getBoundingClientRect?b.getBoundingClientRect():{left:0,top:0};d=d||{};d.zrX=c.clientX-b.left;d.zrY=c.clientY-b.top;return d}p=b(33);var l="undefined"!==typeof window&&!!window.addEventListener;c.exports={clientToLocal:h,normalizeEvent:function(b,c){c=c||window.event;if(null!=c.zrX)return c;var d=c.type;d&&0<=d.indexOf("touch")?(d="touchend"!=d?c.targetTouches[0]:c.changedTouches[0])&&h(b,d,c):(h(b,c,c),c.zrDelta=c.wheelDelta?c.wheelDelta/120:-(c.detail||0)/3);return c},addEventListener:function(b,c,d){l?b.addEventListener(c,d):b.attachEvent("on"+c,d)},removeEventListener:function(b,c,d){l?b.removeEventListener(c,d):b.detachEvent("on"+c,d)},stop:l?function(b){b.preventDefault();b.stopPropagation();b.cancelBubble=!0}:function(b){b.returnValue=!1;b.cancelBubble=!0},Dispatcher:p}},function(c,p){c.exports="undefined"!==typeof window&&(window.requestAnimationFrame||window.msRequestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(b){setTimeout(b,16)}},function(c,p,b){function h(b){return"mousewheel"===b&&f.browser.firefox?"DOMMouseScroll":b}function l(b,g,d){var f=b._gestureMgr;"start"===d&&f.clear();var k=f.recognize(g,b.handler.findHover(g.zrX,g.zrY,null),b.dom);"end"===d&&f.clear();k&&(d=k.type,g.gestureEvent=d,b.handler.dispatchToElement(k.target,d,k.event))}function e(b){b._touching=!0;clearTimeout(b._touchTimer);b._touchTimer=setTimeout(function(){b._touching=!1},700)}function n(b){function d(b,g){return function(){if(!g._touching)return b.apply(g,arguments)}}for(var f=0;f<t.length;f++){var k=t[f];b._handlers[k]=m.bind(w[k],b)}for(f=0;f<g.length;f++)k=g[f],b._handlers[k]=d(w[k],b)}function d(b){function d(g,f){m.each(g,function(g){u(b,h(g),f._handlers[g])},f)}r.call(this);this.dom=b;this._touching=!1;this._gestureMgr=new k;this._handlers={};n(this);f.touchEventsSupported&&d(t,this);d(g,this)}p=b(87);var m=b(4),r=b(33),f=b(2),k=b(90),u=p.addEventListener,x=p.removeEventListener,v=p.normalizeEvent,g="click dblclick mousewheel mouseout mouseup mousedown mousemove".split(" "),t=["touchstart","touchend","touchmove"],w={mousemove:function(b){b=v(this.dom,b);this.trigger("mousemove",b)},mouseout:function(b){b=v(this.dom,b);var g=b.toElement||b.relatedTarget;if(g!=this.dom)for(;g&&9!=g.nodeType;){if(g===this.dom)return;g=g.parentNode}this.trigger("mouseout",b)},touchstart:function(b){b=v(this.dom,b);this._lastTouchMoment=new Date;l(this,b,"start");w.mousemove.call(this,b);w.mousedown.call(this,b);e(this)},touchmove:function(b){b=v(this.dom,b);l(this,b,"change");w.mousemove.call(this,b);e(this)},touchend:function(b){b=v(this.dom,b);l(this,b,"end");w.mouseup.call(this,b);300>+new Date-this._lastTouchMoment&&w.click.call(this,b);e(this)}};m.each(["click","mousedown","mouseup","mousewheel","dblclick"],function(b){w[b]=function(g){g=v(this.dom,g);this.trigger(b,g)}});b=d.prototype;b.dispose=function(){for(var b=g.concat(t),d=0;d<b.length;d++){var f=b[d];x(this.dom,h(f),this._handlers[f])}};b.setCursor=function(b){this.dom.style.cursor=b||"default"};m.mixin(d,r);c.exports=d},function(c,p,b){function h(b){var d=b[1][0]-b[0][0];b=b[1][1]-b[0][1];return Math.sqrt(d*d+b*b)}var l=b(87);p=function(){this._track=[]};p.prototype={constructor:p,recognize:function(b,d,e){this._doTrack(b,d,e);return this._recognize(b)},clear:function(){this._track.length=0;return this},_doTrack:function(b,d,e){var c=b.touches;if(c){b={points:[],touches:[],target:d,event:b};d=0;for(var f=c.length;d<f;d++){var k=c[d],u=l.clientToLocal(e,k);b.points.push([u.zrX,u.zrY]);b.touches.push(k)}this._track.push(b)}},_recognize:function(b){for(var d in e)if(e.hasOwnProperty(d)){var c=e[d](this._track,b);if(c)return c}}};var e={pinch:function(b,d){var c=b.length;if(c){var e=(b[c-1]||{}).points;if((c=(b[c-2]||{}).points||e)&&1<c.length&&e&&1<e.length)return c=h(e)/h(c),!isFinite(c)&&(c=1),d.pinchScale=c,e=[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2],d.pinchX=e[0],d.pinchY=e[1],{type:"pinch",target:b[0].target,event:d}}}};c.exports=p},function(c,p,b){function h(b){b.__unusedCount++}function l(b){1==b.__unusedCount&&b.clear()}var e=b(41),n=b(4),d=b(40);p=b(9);var m=b(85),r=b(92),f=b(88),k=new p(0,0,0,0),u=new p(0,0,0,0);p=function(b,d,g){var f=!b.nodeName||"CANVAS"===b.nodeName.toUpperCase();g=g||{};this.dpr=g.devicePixelRatio||e.devicePixelRatio;this._singleCanvas=f;this.root=b;if(g=b.style)g["-webkit-tap-highlight-color"]="transparent",g["-webkit-user-select"]=g["user-select"]=g["-webkit-touch-callout"]="none",b.innerHTML="";this.storage=d;d=this._zlevelList=[];g=this._layers={};this._layerConfig={};if(f)f=b.height,this._width=b.width,this._height=f,b=new r(b,this,1),b.initContext(),g[0]=b,d.push(0);else{this._width=this._getWidth();this._height=this._getHeight();f=this._width;d=this._height;g=document.createElement("div");var k=g.style;k.position="relative";k.overflow="hidden";k.width=f+"px";k.height=d+"px";f=this._domRoot=g;b.appendChild(f)}this.pathToImage=this._createPathToImage();this._progressiveLayers=[];this._hoverElements=[]};p.prototype={constructor:p,isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._singleCanvas?this._layers[0].dom:this._domRoot},refresh:function(b){var d=this.storage.getDisplayList(!0),g=this._zlevelList;this._paintList(d,b);for(b=0;b<g.length;b++)d=this._layers[g[b]],!d.isBuildin&&d.refresh&&d.refresh();this.refreshHover();this._progressiveLayers.length&&this._startProgessive();return this},addHover:function(b,d){if(!b.__hoverMir){var g=new b.constructor({style:b.style,shape:b.shape});g.__from=b;b.__hoverMir=g;g.setStyle(d);this._hoverElements.push(g)}},removeHover:function(b){var d=this._hoverElements,g=n.indexOf(d,b.__hoverMir);0<=g&&d.splice(g,1);b.__hoverMir=null},clearHover:function(b){b=this._hoverElements;for(var d=0;d<b.length;d++){var g=b[d].__from;g&&(g.__hoverMir=null)}b.length=0},refreshHover:function(){var b=this._hoverElements,d=b.length,g=this._hoverlayer;g&&g.clear();if(d){m(b,this.storage.displayableSortFunc);g||(g=this._hoverlayer=this.getLayer(1E5));var f={};g.ctx.save();for(var k=0;k<d;){var e=b[k],c=e.__from;c&&c.__zr?(k++,c.invisible||(e.transform=c.transform,e.invTransform=c.invTransform,e.__clipPaths=c.__clipPaths,this._doPaintEl(e,g,!0,f))):(b.splice(k,1),c.__hoverMir=null,d--)}g.ctx.restore()}},_startProgessive:function(){function b(){g===d._progressiveToken&&d.storage&&(d._doPaintList(d.storage.getDisplayList()),d._furtherProgressive?(d._progress++,f(b)):d._progressiveToken=-1)}var d=this;if(d._furtherProgressive){var g=d._progressiveToken=+new Date;d._progress++;f(b)}},_clearProgressive:function(){this._progressiveToken=-1;this._progress=0;n.each(this._progressiveLayers,function(b){b.__dirty&&b.clear()})},_paintList:function(b,d){null==d&&(d=!1);this._updateLayerStatus(b);this._clearProgressive();this.eachBuildinLayer(h);this._doPaintList(b,d);this.eachBuildinLayer(l)},_doPaintList:function(b,f){function g(b){e.save();e.globalAlpha=1;e.shadowBlur=0;k.__dirty=!0;e.drawImage(b.dom,0,0,h,l);e.restore();k.ctx.restore()}for(var k,c,e,m,u=0,r,h=this._width,l=this._height,p,E=this._progress,G=0,q=b.length;G<q;G++){var H=b[G];p=this._singleCanvas?0:H.zlevel;var L=H.__frame;0>L&&r&&(g(r),r=null);c!==p&&(e&&e.restore(),m={},c=p,k=this.getLayer(c),k.isBuildin||d("ZLevel "+c+" has been used by unkown layer "+k.id),e=k.ctx,e.save(),k.__unusedCount=0,(k.__dirty||f)&&k.clear());if(k.__dirty||f){if(0<=L){if(!r){r=this._progressiveLayers[Math.min(u++,4)];r.ctx.save();r.renderScope={};if(r&&r.__progress>r.__maxProgress){G=r.__nextIdxNotProg-1;continue}p=r.__progress;r.__dirty||(E=p);r.__progress=E+1}L===E&&this._doPaintEl(H,r,!0,r.renderScope)}else this._doPaintEl(H,k,f,m);H.__dirty=!1}}r&&g(r);e&&e.restore();this._furtherProgressive=!1;n.each(this._progressiveLayers,function(b){b.__maxProgress>=b.__progress&&(this._furtherProgressive=!0)},this)},_doPaintEl:function(b,d,g,f){var e=d.ctx;if(g=(d.__dirty||g)&&!b.invisible&&0!==b.style.opacity&&b.scale[0]&&b.scale[1]){if(g=b.culling){g=this._width;var c=this._height;k.copy(b.getBoundingRect());b.transform&&k.applyTransform(b.transform);u.width=g;u.height=c;g=!k.intersect(u)}g=!g}if(g){g=b.__clipPaths;if(!(c=f.prevClipLayer!==d))a:if(c=f.prevElClipPaths,g==c)c=!1;else if(g&&c&&g.length===c.length){for(var m=0;m<g.length;m++)if(g[m]!==c[m]){c=!0;break a}c=void 0}else c=!0;if(c&&(f.prevElClipPaths&&(f.prevClipLayer.ctx.restore(),f.prevClipLayer=f.prevElClipPaths=null,f.prevEl=null),g)){e.save();for(c=0;c<g.length;c++){var m=g[c],r;m.transform&&(r=m.transform,e.transform(r[0],r[1],r[2],r[3],r[4],r[5]));r=m.path;r.beginPath(e);m.buildPath(r,m.shape);e.clip();m.transform&&(r=m.invTransform,e.transform(r[0],r[1],r[2],r[3],r[4],r[5]))}f.prevClipLayer=d;f.prevElClipPaths=g}b.beforeBrush&&b.beforeBrush(e);b.brush(e,f.prevEl||null);f.prevEl=b;b.afterBrush&&b.afterBrush(e)}},getLayer:function(b){if(this._singleCanvas)return this._layers[0];var d=this._layers[b];d||(d=new r("zr_"+b,this,this.dpr),d.isBuildin=!0,this._layerConfig[b]&&n.merge(d,this._layerConfig[b],!0),this.insertLayer(b,d),d.initContext());return d},insertLayer:function(b,f){var g=this._layers,k=this._zlevelList,c=k.length,e=null,m=-1,u=this._domRoot;if(g[b])d("ZLevel "+b+" has been used already");else if(f&&(f.isBuildin||"function"===typeof f.resize&&"function"===typeof f.refresh)){if(0<c&&b>k[0]){for(m=0;m<c-1&&!(k[m]<b&&k[m+1]>b);m++);e=g[k[m]]}k.splice(m+1,0,b);e?(k=e.dom,k.nextSibling?u.insertBefore(f.dom,k.nextSibling):u.appendChild(f.dom)):u.firstChild?u.insertBefore(f.dom,u.firstChild):u.appendChild(f.dom);g[b]=f}else d("Layer of zlevel "+b+" is not valid")},eachLayer:function(b,d){var g=this._zlevelList,f,k;for(k=0;k<g.length;k++)f=g[k],b.call(d,this._layers[f],f)},eachBuildinLayer:function(b,d){var g=this._zlevelList,f,k,c;for(c=0;c<g.length;c++)k=g[c],f=this._layers[k],f.isBuildin&&b.call(d,f,k)},eachOtherLayer:function(b,d){var g=this._zlevelList,f,k,c;for(c=0;c<g.length;c++)k=g[c],f=this._layers[k],f.isBuildin||b.call(d,f,k)},getLayers:function(){return this._layers},_updateLayerStatus:function(b){var d=this._layers,g=this._progressiveLayers,f={},k={};this.eachBuildinLayer(function(b,g){f[g]=b.elCount;b.elCount=0;b.__dirty=!1});n.each(g,function(b,g){k[g]=b.elCount;b.elCount=0;b.__dirty=!1});for(var c=0,e,m,u=0,h=0,l=b.length;h<l;h++){var p=b[h],E=d[this._singleCanvas?0:p.zlevel],G=p.progressive;E&&(E.elCount++,E.__dirty=E.__dirty||p.__dirty);if(0<=G){m!==G&&(m=G,u++);G=p.__frame=u-1;if(!e){var q=Math.min(c,4);e=g[q];e||(e=g[q]=new r("progressive",this,this.dpr),e.initContext());e.__maxProgress=0}e.__dirty=e.__dirty||p.__dirty;e.elCount++;e.__maxProgress=Math.max(e.__maxProgress,G);e.__maxProgress>=e.__progress&&(E.__dirty=!0)}else p.__frame=-1,e&&(e.__nextIdxNotProg=h,c++,e=null)}e&&(c++,e.__nextIdxNotProg=h);this.eachBuildinLayer(function(b,g){f[g]!==b.elCount&&(b.__dirty=!0)});g.length=Math.min(c,5);n.each(g,function(b,g){k[g]!==b.elCount&&(p.__dirty=!0);b.__dirty&&(b.__progress=0)})},clear:function(){this.eachBuildinLayer(this._clearLayer);return this},_clearLayer:function(b){b.clear()},configLayer:function(b,d){if(d){var g=this._layerConfig;g[b]?n.merge(g[b],d,!0):g[b]=d;var f=this._layers[b];f&&n.merge(f,g[b],!0)}},delLayer:function(b){var d=this._layers,g=this._zlevelList,f=d[b];f&&(f.dom.parentNode.removeChild(f.dom),delete d[b],g.splice(n.indexOf(g,b),1))},resize:function(b,d){var g=this._domRoot;g.style.display="none";b=b||this._getWidth();d=d||this._getHeight();g.style.display="";if(this._width!=b||d!=this._height){g.style.width=b+"px";g.style.height=d+"px";for(var f in this._layers)this._layers[f].resize(b,d);this.refresh(!0)}this._width=b;this._height=d;return this},clearLayer:function(b){(b=this._layers[b])&&b.clear()},dispose:function(){this.root.innerHTML="";this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(b){b=b||{};if(this._singleCanvas)return this._layers[0].dom;var d=new r("image",this,b.pixelRatio||this.dpr);d.initContext();d.clearColor=b.backgroundColor;d.clear();b=this.storage.getDisplayList(!0);for(var g={},f=0;f<b.length;f++)this._doPaintEl(b[f],d,!0,g);return d.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getWidth:function(){var b=this.root,d=document.defaultView.getComputedStyle(b);return(b.clientWidth||parseInt(d.width,10)||parseInt(b.style.width,10))-(parseInt(d.paddingLeft,10)||0)-(parseInt(d.paddingRight,10)||0)|0},_getHeight:function(){var b=this.root,d=document.defaultView.getComputedStyle(b);return(b.clientHeight||parseInt(d.height,10)||parseInt(b.style.height,10))-(parseInt(d.paddingTop,10)||0)-(parseInt(d.paddingBottom,10)||0)|0},_pathToImage:function(d,f,g,k,e){var c=document.createElement("canvas"),m=c.getContext("2d");c.width=g*e;c.height=k*e;m.clearRect(0,0,g*e,k*e);g=f.position;k=f.rotation;e=f.scale;f.position=[0,0,0];f.rotation=0;f.scale=[1,1];f&&f.brush(m);d=new (b(62))({id:d,style:{x:0,y:0,image:c}});null!=g&&(d.position=f.position=g);null!=k&&(d.rotation=f.rotation=k);null!=e&&(d.scale=f.scale=e);return d},_createPathToImage:function(){var b=this;return function(d,g,f,k){return b._pathToImage(d,g,f,k,b.dpr)}}};c.exports=p},function(c,p,b){function h(){return!1}function l(b,d,k,e){d=document.createElement(d);var c=k.getWidth();k=k.getHeight();var m=d.style;m.position="absolute";m.left=0;m.top=0;m.width=c+"px";m.height=k+"px";d.width=c*e;d.height=k*e;d.setAttribute("data-zr-dom-id",b);return d}var e=b(4),n=b(41),d=b(47),m=b(59);p=function(b,d,k){var c;k=k||n.devicePixelRatio;"string"===typeof b?c=l(b,"canvas",d,k):e.isObject(b)&&(c=b,b=c.id);this.id=b;this.dom=c;if(b=c.style)c.onselectstart=h,b["-webkit-user-select"]="none",b["user-select"]="none",b["-webkit-touch-callout"]="none",b["-webkit-tap-highlight-color"]="rgba(0,0,0,0)";this.ctxBack=this.domBack=null;this.painter=d;this.config=null;this.clearColor=0;this.motionBlur=!1;this.lastFrameAlpha=.7;this.dpr=k};p.prototype={constructor:p,elCount:0,__dirty:!0,initContext:function(){this.ctx=this.dom.getContext("2d");var b=this.dpr;1!=b&&this.ctx.scale(b,b)},createBackBuffer:function(){var b=this.dpr;this.domBack=l("back-"+this.id,"canvas",this.painter,b);this.ctxBack=this.domBack.getContext("2d");1!=b&&this.ctxBack.scale(b,b)},resize:function(b,d){var k=this.dpr,c=this.dom,e=c.style,m=this.domBack;e.width=b+"px";e.height=d+"px";c.width=b*k;c.height=d*k;1!=k&&this.ctx.scale(k,k);m&&(m.width=b*k,m.height=d*k,1!=k&&this.ctxBack.scale(k,k))},clear:function(b){var f=this.dom,k=this.ctx,c=f.width,e=f.height,v=this.clearColor,g=this.motionBlur&&!b;b=this.lastFrameAlpha;var t=this.dpr;g&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(f,0,0,c/t,e/t));k.clearRect(0,0,c/t,e/t);if(v){var w;v.colorStops?(w=v.__canvasGradient||d.getGradient(k,v,{x:0,y:0,width:c/t,height:e/t}),v.__canvasGradient=w):v.image&&(w=m.prototype.getCanvasPattern.call(v,k));k.save();k.fillStyle=w||v;k.fillRect(0,0,c/t,e/t);k.restore()}g&&(f=this.domBack,k.save(),k.globalAlpha=b,k.drawImage(f,0,0,c/t,e/t),k.restore())}};c.exports=p},function(c,p,b){var h=b(43),l=b(4),e=Math.PI;c.exports=function(b,d){d=d||{};l.defaults(d,{text:"loading",color:"#c23531",textColor:"#000",maskColor:"rgba(255, 255, 255, 0.8)",zlevel:0});var c=new h.Rect({style:{fill:d.maskColor},zlevel:d.zlevel,z:1E4}),r=new h.Arc({shape:{startAngle:-e/2,endAngle:-e/2+.1,r:10},style:{stroke:d.color,lineCap:"round",lineWidth:5},zlevel:d.zlevel,z:10001}),f=new h.Rect({style:{fill:"none",text:d.text,textPosition:"right",textDistance:10,textFill:d.textColor},zlevel:d.zlevel,z:10001});r.animateShape(!0).when(1E3,{endAngle:3*e/2}).start("circularInOut");r.animateShape(!0).when(1E3,{startAngle:3*e/2}).delay(300).start("circularInOut");var k=new h.Group;k.add(r);k.add(f);k.add(c);k.resize=function(){var d=b.getWidth()/2,k=b.getHeight()/2;r.setShape({cx:d,cy:k});var e=r.shape.r;f.setShape({x:d-e,y:k-e,width:2*e,height:2*e});c.setShape({x:0,y:0,width:b.getWidth(),height:b.getHeight()})};k.resize();return k}},function(c,p,b){var h=b(61);c.exports=function(b){b.eachRawSeries(function(c){var n=(c.visualColorAccessPath||"itemStyle.normal.color").split("."),d=c.getData(),m=c.get(n)||c.getColorFromPalette(c.get("name"));d.setVisual("color",m);b.isSeriesFiltered(c)||("function"!==typeof m||m instanceof h||d.each(function(b){d.setItemVisual(b,"color",m(c.getDataParams(b)))}),d.each(function(b){var f=d.getItemModel(b).get(n,!0);null!=f&&d.setItemVisual(b,"color",f)}))})}},function(c,p,b){function h(b){r(n,function(d){d[0]in b&&!(d[1]in b)&&(b[d[1]]=b[d[0]])})}var l=b(4),e=b(96),n=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],d="grid geo parallel legend toolbox title visualMap dataZoom timeline".split(" "),m="bar boxplot candlestick chord effectScatter funnel gauge lines graph heatmap line map parallel pie radar sankey scatter treemap".split(" "),r=l.each;c.exports=function(b){r(b.series,function(b){if(l.isObject(b)){var d=b.type;e(b);"pie"!==d&&"gauge"!==d||null==b.clockWise||(b.clockwise=b.clockWise);if("gauge"===d){for(var d=["pointer.color"],f=b,c=0;c<d.length&&(f=f&&f[d[c]],null!=f);c++);d=f;if(null!=d){for(var f=["itemStyle.normal.color"],c=b,g,t=0;t<f.length-1;t++)g=f[t],null==c[g]&&(c[g]={}),c=c[g];null==c[f[t]]&&(c[f[t]]=d)}}for(d=0;d<m.length;d++)if(m[d]===b.type){h(b);break}}});b.dataRange&&(b.visualMap=b.dataRange);r(d,function(d){if(d=b[d])l.isArray(d)||(d=[d]),r(d,function(b){h(b)})})}},function(c,p,b){function h(b){var d=b&&b.itemStyle;d&&l.each(e,function(c){var e=d.normal,f=d.emphasis;e&&e[c]&&(b[c]=b[c]||{},b[c].normal?l.merge(b[c].normal,e[c]):b[c].normal=e[c],e[c]=null);f&&f[c]&&(b[c]=b[c]||{},b[c].emphasis?l.merge(b[c].emphasis,f[c]):b[c].emphasis=f[c],f[c]=null)})}var l=b(4),e="areaStyle lineStyle nodeStyle linkStyle chordStyle label labelLine".split(" ");c.exports=function(b){if(b){h(b);h(b.markPoint);h(b.markLine);var d=b.data;if(d){for(var c=0;c<d.length;c++)h(d[c]);if((c=b.markPoint)&&c.data)for(d=c.data,c=0;c<d.length;c++)h(d[c]);if((b=b.markLine)&&b.data)for(b=b.data,c=0;c<b.length;c++)l.isArray(b[c])?(h(b[c][0]),h(b[c][1])):h(b[c])}}}},function(c,p,b){(function(h){function l(b){r.isArray(b)||(b=[b]);return b}function e(b,g){var d=b.dimensions,f=new v(r.map(d,b.getDimensionInfo,b),b.hostModel);x(f,b);for(var k=f._storage={},c=b._storage,e=0;e<d.length;e++){var m=d[e],u=c[m];0<=r.indexOf(g,m)?k[m]=new u.constructor(c[m].length):k[m]=c[m]}return f}h="undefined"===typeof window?h:window;var n={"float":"undefined"===typeof h.Float64Array?Array:h.Float64Array,"int":"undefined"===typeof h.Int32Array?Array:h.Int32Array,ordinal:Array,number:Array,time:Array},d=b(12),m=b(98),r=b(4),f=b(5),k=r.isObject,u=["stackedOn","hasItemOption","_nameList","_idList","_rawData"],x=function(b,g){r.each(u.concat(g.__wrappedMethods||[]),function(d){g.hasOwnProperty(d)&&(b[d]=g[d])});b.__wrappedMethods=g.__wrappedMethods},v=function(b,g){b=b||["x","y"];for(var d={},f=[],k=0;k<b.length;k++){var c,e;"string"===typeof b[k]?(c=b[k],e={name:c,stackable:!1,type:"number"}):(e=b[k],c=e.name,e.type=e.type||"number");f.push(c);d[c]=e}this.dimensions=f;this._dimensionInfos=d;this.hostModel=g;this.indices=[];this._storage={};this._nameList=[];this._idList=[];this._optionModels=[];this.stackedOn=null;this._visual={};this._layout={};this._itemVisuals=[];this._itemLayouts=[];this._graphicEls=[]};h=v.prototype;h.type="list";h.hasItemOption=!0;h.getDimension=function(b){isNaN(b)||(b=this.dimensions[b]||b);return b};h.getDimensionInfo=function(b){return r.clone(this._dimensionInfos[this.getDimension(b)])};h.initData=function(b,g,d){b=b||[];if(!r.isArray(b))throw Error("Invalid data.");this._rawData=b;var k=this._storage={},c=this.indices=[],e=this.dimensions,m=b.length,u=this._dimensionInfos,v=[],x={};g=g||[];for(var h=0;h<e.length;h++)k[e[h]]=new n[u[e[h]].type](m);var q=this;d||(q.hasItemOption=!1);d=d||function(b,g,d,k){d=f.getDataItemValue(b);f.isDataItemOption(b)&&(q.hasItemOption=!0);return f.converDataValue(d instanceof Array?d[k]:d,u[g])};for(h=0;h<b.length;h++){for(var m=b[h],l=0;l<e.length;l++){var p=e[l];k[p][h]=d(m,p,h,l)}c.push(h)}for(h=0;h<b.length;h++)!g[h]&&b[h]&&null!=b[h].name&&(g[h]=b[h].name),d=g[h]||"",k=b[h]&&b[h].id,!k&&d&&(x[d]=x[d]||0,k=d,0<x[d]&&(k+="__ec__"+x[d]),x[d]++),k&&(v[h]=k);this._nameList=g;this._idList=v};h.count=function(){return this.indices.length};h.get=function(b,g,d){var f=this._storage,k=this.indices[g];if(null==k)return NaN;f=f[b]&&f[b][k];if(d&&(d=this._dimensionInfos[b])&&d.stackable)for(d=this.stackedOn;d;){k=d.get(b,g);if(0<=f&&0<k||0>=f&&0>k)f+=k;d=d.stackedOn}return f};h.getValues=function(b,g,d){var f=[];r.isArray(b)||(d=g,g=b,b=this.dimensions);for(var k=0,c=b.length;k<c;k++)f.push(this.get(b[k],g,d));return f};h.hasValue=function(b){for(var g=this.dimensions,d=this._dimensionInfos,f=0,k=g.length;f<k;f++)if("ordinal"!==d[g[f]].type&&isNaN(this.get(g[f],b)))return!1;return!0};h.getDataExtent=function(b,g){b=this.getDimension(b);var d=this._storage[b],f=this.getDimensionInfo(b);g=f&&f.stackable&&g;if(f=(this._extent||(this._extent={}))[b+!!g])return f;if(d){for(var f=Infinity,k=-Infinity,c=0,e=this.count();c<e;c++)d=this.get(b,c,g),d<f&&(f=d),d>k&&(k=d);return this._extent[b+!!g]=[f,k]}return[Infinity,-Infinity]};h.getSum=function(b,g){var d=0;if(this._storage[b])for(var f=0,k=this.count();f<k;f++){var c=this.get(b,f,g);isNaN(c)||(d+=c)}return d};h.indexOf=function(b,g){var d=this._storage[b],f=this.indices;if(d)for(var k=0,c=f.length;k<c;k++)if(d[f[k]]===g)return k;return-1};h.indexOfName=function(b){for(var g=this.indices,d=this._nameList,f=0,k=g.length;f<k;f++)if(d[g[f]]===b)return f;return-1};h.indexOfRawIndex=function(b){for(var g=this.indices,d=0,f=g.length-1;d<=f;){var k=(d+f)/2|0;if(g[k]<b)d=k+1;else if(g[k]>b)f=k-1;else return k}return-1};h.indexOfNearest=function(b,g,d,f){var k=this._storage[b];null==f&&(f=Infinity);var c=-1;if(k)for(var k=Number.MAX_VALUE,e=0,m=this.count();e<m;e++){var u=g-this.get(b,e,d),r=Math.abs(u);u<=f&&(r<k||r===k&&0<u)&&(k=r,c=e)}return c};h.getRawIndex=function(b){b=this.indices[b];return null==b?-1:b};h.getRawDataItem=function(b){return this._rawData[this.getRawIndex(b)]};h.getName=function(b){return this._nameList[this.indices[b]]||""};h.getId=function(b){return this._idList[this.indices[b]]||this.getRawIndex(b)+""};h.each=function(b,g,d,f){"function"===typeof b&&(f=d,d=g,g=b,b=[]);b=r.map(l(b),this.getDimension,this);var k=[],c=b.length,e=this.indices;f=f||this;for(var m=0;m<e.length;m++)switch(c){case 0:g.call(f,m);break;case 1:g.call(f,this.get(b[0],m,d),m);break;case 2:g.call(f,this.get(b[0],m,d),this.get(b[1],m,d),m);break;default:for(var u=0;u<c;u++)k[u]=this.get(b[u],m,d);k[u]=m;g.apply(f,k)}};h.filterSelf=function(b,g,d,f){"function"===typeof b&&(f=d,d=g,g=b,b=[]);b=r.map(l(b),this.getDimension,this);var k=[],c=[],e=b.length,m=this.indices;f=f||this;for(var u=0;u<m.length;u++){var v;if(1===e)v=g.call(f,this.get(b[0],u,d),u);else{for(v=0;v<e;v++)c[v]=this.get(b[v],u,d);c[v]=u;v=g.apply(f,c)}v&&k.push(m[u])}this.indices=k;this._extent={};return this};h.mapArray=function(b,g,d,f){"function"===typeof b&&(f=d,d=g,g=b,b=[]);var k=[];this.each(b,function(){k.push(g&&g.apply(this,arguments))},d,f);return k};h.map=function(b,g,d,f){b=r.map(l(b),this.getDimension,this);var k=e(this,b),c=k.indices=this.indices,m=k._storage,u=[];this.each(b,function(){var d=arguments[arguments.length-1],f=g&&g.apply(this,arguments);if(null!=f){"number"===typeof f&&(u[0]=f,f=u);for(var k=0;k<f.length;k++){var e=m[b[k]],r=c[d];e&&(e[r]=f[k])}}},d,f);return k};h.downSample=function(b,g,d,f){var k=e(this,[b]),c=this._storage,m=k._storage,u=this.indices,r=k.indices=[],v=[],h=[];g=Math.floor(1/g);for(var q=m[b],x=this.count(),n=0;n<c[b].length;n++)m[b][n]=c[b][n];for(n=0;n<x;n+=g){g>x-n&&(g=x-n,v.length=g);for(c=0;c<g;c++)b=u[n+c],v[c]=q[b],h[c]=b;c=d(v);b=h[f(v,c)||0];q[b]=c;r.push(b)}return k};h.getItemModel=function(b){var g=this.hostModel;b=this.indices[b];return new d(this._rawData[b],g,g&&g.ecModel)};h.diff=function(b){var g=this._idList,d=b&&b._idList;return new m(b?b.indices:[],this.indices,function(b){return d[b]||b+""},function(b){return g[b]||b+""})};h.getVisual=function(b){var g=this._visual;return g&&g[b]};h.setVisual=function(b,g){if(k(b))for(var d in b)b.hasOwnProperty(d)&&this.setVisual(d,b[d]);else this._visual=this._visual||{},this._visual[b]=g};h.setLayout=function(b,g){if(k(b))for(var d in b)b.hasOwnProperty(d)&&this.setLayout(d,b[d]);else this._layout[b]=g};h.getLayout=function(b){return this._layout[b]};h.getItemLayout=function(b){return this._itemLayouts[b]};h.setItemLayout=function(b,g,d){this._itemLayouts[b]=d?r.extend(this._itemLayouts[b]||{},g):g};h.clearItemLayouts=function(){this._itemLayouts.length=0};h.getItemVisual=function(b,g,d){b=(b=this._itemVisuals[b])&&b[g];return null!=b||d?b:this.getVisual(g)};h.setItemVisual=function(b,g,d){var f=this._itemVisuals[b]||{};this._itemVisuals[b]=f;if(k(g))for(var c in g)g.hasOwnProperty(c)&&(f[c]=g[c]);else f[g]=d};h.clearAllVisual=function(){this._visual={};this._itemVisuals=[]};var g=function(b){b.seriesIndex=this.seriesIndex;b.dataIndex=this.dataIndex;b.dataType=this.dataType};h.setItemGraphicEl=function(b,d){var f=this.hostModel;d&&(d.dataIndex=b,d.dataType=this.dataType,d.seriesIndex=f&&f.seriesIndex,"group"===d.type&&d.traverse(g,d));this._graphicEls[b]=d};h.getItemGraphicEl=function(b){return this._graphicEls[b]};h.eachItemGraphicEl=function(b,g){r.each(this._graphicEls,function(d,f){d&&b&&b.call(g,d,f)})};h.cloneShallow=function(){var b=r.map(this.dimensions,this.getDimensionInfo,this),b=new v(b,this.hostModel);b._storage=this._storage;x(b,this);b.indices=this.indices.slice();this._extent&&(b._extent=r.extend({},this._extent));return b};h.wrapMethod=function(b,g){var d=this[b];"function"===typeof d&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(b),this[b]=function(){var b=d.apply(this,arguments);return g.apply(this,[b].concat(r.slice(arguments)))})};h.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"];h.CHANGABLE_METHODS=["filterSelf"];c.exports=v}).call(p,function(){return this}())},function(c,p){function b(b){return b}function h(c,h,d,m){this._old=c;this._new=h;this._oldKeyGetter=d||b;this._newKeyGetter=m||b}function l(b,c,d,m){for(var r=0;r<b.length;r++){var f=m(b[r],r),k=c[f];null==k?(d.push(f),c[f]=r):(k.length||(c[f]=k=[k]),k.push(r))}}h.prototype={constructor:h,add:function(b){this._add=b;return this},update:function(b){this._update=b;return this},remove:function(b){this._remove=b;return this},execute:function(){var b=this._old,c=this._new,d=this._newKeyGetter,m={},r=[],f=[];l(b,{},r,this._oldKeyGetter);l(c,m,f,d);for(c=0;c<b.length;c++){var k=r[c],d=m[k];if(null!=d){var u=d.length;u?(1===u&&(m[k]=null),d=d.unshift()):m[k]=null;this._update&&this._update(d,c)}else this._remove&&this._remove(c)}for(c=0;c<f.length;c++)if(k=f[c],m.hasOwnProperty(k)&&(d=m[k],null!=d))if(d.length)for(b=0,u=d.length;b<u;b++)this._add&&this._add(d[b]);else this._add&&this._add(d)}};c.exports=h},function(c,p,b){c=b(4);p=b(1);var h=p.PRIORITY;b(100);b(103);p.registerVisual(c.curry(b(109),"line","circle","line"));p.registerLayout(c.curry(b(110),"line"));p.registerProcessor(h.PROCESSOR.STATISTIC,c.curry(b(111),"line"));b(112)},function(c,p,b){var h=b(101);p=b(28);c.exports=p.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(b,c){var n=b.coordinateSystem;if("polar"!==n&&"cartesian2d"!==n)throw Error("Line not support coordinateSystem besides cartesian and polar");return h(b.data,this,c)},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,polarIndex:0,clipOverflow:!0,label:{normal:{position:"top"}},lineStyle:{normal:{width:2,type:"solid"}},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:!1,connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:Infinity}})},function(c,p,b){function h(b){for(var d=0;d<b.length&&null==b[d];)d++;b=b[d];return null!=b&&!r.isArray(u(b))}function l(b){return"category"!==b&&"time"!==b}function e(b){return"category"===b?"ordinal":"time"===b?"time":"float"}function n(b,d){var f=[],k=b&&b.dimensions[b.categoryIndex],c;k&&(c=b.categoryAxesModels[k.name]);if(c&&(k=c.getCategories()))if(c=d.length,r.isArray(d[0])&&1<d[0].length)for(var f=[],e=0;e<c;e++)f[e]=k[d[e][b.categoryIndex||0]];else f=k.slice(0);return f}var d=b(97),m=b(102),r=b(4),f=b(5),k=b(26),u=f.getDataItemValue,x=f.converDataValue,v={cartesian2d:function(b,d,f){var k=f.getComponent("xAxis",d.get("xAxisIndex"));f=f.getComponent("yAxis",d.get("yAxisIndex"));if(!k)throw Error('xAxis "'+d.get("xAxisIndex")+'" not found');if(!f)throw Error('yAxis "'+d.get("yAxisIndex")+'" not found');var c=k.get("type"),u=f.get("type");d=[{name:"x",type:e(c),stackable:l(c)},{name:"y",type:e(u),stackable:l(u)}];c="category"===c;u="category"===u;m(d,b,["x","y","z"]);b={};c&&(b.x=k);u&&(b.y=f);return{dimensions:d,categoryIndex:c?0:u?1:-1,categoryAxesModels:b}},polar:function(b,d,f){var k=d.get("polarIndex")||0,c=function(b){return b.get("polarIndex")===k};d=f.findComponents({mainType:"angleAxis",filter:c})[0];f=f.findComponents({mainType:"radiusAxis",filter:c})[0];if(!d)throw Error("angleAxis option not found");if(!f)throw Error("radiusAxis option not found");var u=f.get("type"),r=d.get("type"),c=[{name:"radius",type:e(u),stackable:l(u)},{name:"angle",type:e(r),stackable:l(r)}],r="category"===r,u="category"===u;m(c,b,["radius","angle","value"]);b={};u&&(b.radius=f);r&&(b.angle=d);return{dimensions:c,categoryIndex:r?1:u?0:-1,categoryAxesModels:b}},geo:function(b,d,f){return{dimensions:m([{name:"lng"},{name:"lat"}],b,["lng","lat","value"])}}};c.exports=function(b,c,e){b=b||[];if(!r.isArray(b))throw Error("Invalid data.");var y=c.get("coordinateSystem"),l=v[y],y=k.get(y),D=l&&l(b,c,e),A=D&&D.dimensions;A||(A=y&&y.dimensions||["x","y"],A=m(A,b,A.concat(["value"])));var B=D?D.categoryIndex:-1,F=new d(A,c);c=n(D,b);var p={};e=0<=B&&h(b)?function(b,g,d,k){f.isDataItemOption(b)&&(F.hasItemOption=!0);return k===B?d:x(u(b),A[k])}:function(b,g,d,k){d=u(b);k=x(d&&d[k],A[k]);f.isDataItemOption(b)&&(F.hasItemOption=!0);(b=D&&D.categoryAxesModels)&&b[g]&&"string"===typeof k&&(p[g]=p[g]||b[g].getCategories(),k=r.indexOf(p[g],k),0>k&&!isNaN(k)&&(k=+k));return k};F.hasItemOption=!1;F.initData(b,c,e);return F}},function(c,p,b){function h(b,c,r,f){if(!c)return b;var k=l(c[0]),k=e.isArray(k)&&k.length||1;r=r||[];f=f||"extra";for(var u=0;u<k;u++)if(!b[u]){var h=r[u]||f+(u-r.length);b[u]=n(c,u)?{type:"ordinal",name:h}:h}return b}function l(b){return e.isArray(b)?b:e.isObject(b)?b.value:b}var e=b(4),n=h.guessOrdinal=function(b,c){for(var r=0,f=b.length;r<f;r++){var k=l(b[r]);if(!e.isArray(k))break;k=k[c];if(null!=k&&isFinite(k))break;else if(e.isString(k)&&"-"!==k)return!0}return!1};c.exports=h},function(c,p,b){function h(b,g){if(b.length===g.length){for(var d=0;d<b.length;d++){var f=b[d],k=g[d];if(f[0]!==k[0]||f[1]!==k[1])return}return!0}}function l(b){return"number"===typeof b?b:b?.3:0}function e(b){var g=b.getGlobalExtent();if(b.onBand){b=b.getBandWidth()/2-1;var d=g[1]>g[0]?1:-1;g[0]+=d*b;g[1]-=d*b}return g}function n(b){return 0<=b?1:-1}function d(b,g){var d=b.getBaseAxis(),f=b.getOtherAxis(d),k=d.onZero?0:f.scale.getExtent()[0],c=f.dim,e="x"===c||"radius"===c?1:0;return g.mapArray([c],function(f,t){for(var m,w=g.stackedOn;w&&n(w.get(c,t))===n(f);){m=w;break}w=[];w[e]=g.get(d.dim,t);w[1-e]=m?m.get(c,t,!0):k;return b.dataToPoint(w)},!0)}function m(b,g){if(null!=g.dataIndex)return g.dataIndex;if(null!=g.name)return b.indexOfName(g.name)}function r(b,g,d){if("polar"===b.type){var f=b.getAngleAxis(),k=b.getRadiusAxis().getExtent(),c=f.getExtent(),t=Math.PI/180;b=new w.Sector({shape:{cx:b.cx,cy:b.cy,r0:k[0],r:k[1],startAngle:-c[0]*t,endAngle:-c[1]*t,clockwise:f.inverse}});g&&(b.shape.endAngle=-c[0]*t,w.initProps(b,{shape:{endAngle:-c[1]*t}},d));g=b}else{f=e(b.getAxis("x"));k=e(b.getAxis("y"));b=b.getBaseAxis().isHorizontal();var c=Math.min(f[0],f[1]),t=Math.min(k[0],k[1]),f=Math.max(f[0],f[1])-c,k=Math.max(k[0],k[1])-t,m=d.get("lineStyle.normal.width")||2,m=d.get("clipOverflow")?m/2:Math.max(f,k);b?(t-=m,k+=2*m):(c-=m,f+=2*m);c=new w.Rect({shape:{x:c,y:t,width:f,height:k}});g&&(c.shape[b?"width":"height"]=0,w.initProps(c,{shape:{width:f,height:k}},d));g=c}return g}function f(b,g,d){g=g.getBaseAxis();g="x"===g.dim||"radius"===g.dim?0:1;for(var f=[],k=0;k<b.length-1;k++){var c=b[k+1],e=b[k];f.push(e);var t=[];switch(d){case "end":t[g]=c[g];t[1-g]=e[1-g];f.push(t);break;case "middle":var m=[];t[g]=m[g]=(e[g]+c[g])/2;t[1-g]=e[1-g];m[1-g]=c[1-g];f.push(t);f.push(m);break;default:t[g]=e[g],t[1-g]=c[1-g],f.push(t)}}b[k]&&f.push(b[k]);return f}function k(b,g){return Math.max(Math.min(b,g[1]),g[0])}function u(b,g){var d=b.getVisual("visualMeta");if(d&&d.length){for(var f,c=d.length-1;0<=c;c--)if(2>d[c].dimension){f=d[c];break}if(f&&"cartesian2d"===g.type){var d=b.dimensions[f.dimension],e=b.getDataExtent(d),t=f.stops,m=[];t[0].interval&&t.sort(function(b,g){return b.interval[0]-g.interval[0]});f=t[0];var u=t[t.length-1];f=f.interval?k(f.interval[0],e):f.value;var u=u.interval?k(u.interval[1],e):u.value,r=u-f;if(0===r)return b.getItemVisual(0,"color");for(c=0;c<t.length;c++)t[c].interval?t[c].interval[1]!==t[c].interval[0]&&m.push({offset:(k(t[c].interval[0],e)-f)/r,color:t[c].color},{offset:(k(t[c].interval[1],e)-f)/r,color:t[c].color}):m.push({offset:(t[c].value-f)/r,color:t[c].color});e=new w.LinearGradient(0,0,0,0,m,!0);c=g.getAxis(d);f=Math.round(c.toGlobalCoord(c.dataToCoord(f)));u=Math.round(c.toGlobalCoord(c.dataToCoord(u)));e[d]=f;e[d+"2"]=u;return e}console.warn("Visual map on line style only support x or y dimension.")}}var x=b(4),v=b(104),g=b(105),t=b(107),w=b(43),y=b(108),z=b(42);c.exports=z.extend({type:"line",init:function(){var b=new w.Group,g=new v;this.group.add(g.group);this._symbolDraw=g;this._lineGroup=b},render:function(b,g,k){g=b.coordinateSystem;var c=this.group,e=b.getData(),t=b.getModel("lineStyle.normal"),m=b.getModel("areaStyle.normal"),w=e.mapArray(e.getItemLayout,!0),v="polar"===g.type,y=this._coordSys,n=this._symbolDraw,z=this._polyline,p=this._polygon,M=this._lineGroup,J=b.get("animation"),P=!m.isEmpty(),T=d(g,e),S=b.get("showSymbol"),R=S&&!v&&!b.get("showAllSymbol")&&this._getSymbolIgnoreFunc(e,g),Q=this._data;Q&&Q.eachItemGraphicEl(function(b,g){b.__temp&&(c.remove(b),Q.setItemGraphicEl(g,null))});S||n.remove();c.add(M);v=!v&&b.get("step");z&&y.type===g.type&&v===this._step?(P&&!p?p=this._newPolygon(w,T,g,J):p&&!P&&(M.remove(p),p=this._polygon=null),M.setClipPath(r(g,!1,b)),S&&n.updateData(e,R),e.eachItemGraphicEl(function(b){b.stopAnimation(!0)}),h(this._stackedOnPoints,T)&&h(this._points,w)||(J?this._updateAnimation(e,T,g,k,v):(z.setShape({points:w}),p&&p.setShape({points:w,stackedOnPoints:T})))):(S&&n.updateData(e,R),v&&(w=f(w,g,v),T=f(T,g,v)),z=this._newPolyline(w,g,J),P&&(p=this._newPolygon(w,T,g,J)),M.setClipPath(r(g,!0,b)));k=u(e,g)||e.getVisual("color");z.useStyle(x.defaults(t.getLineStyle(),{fill:"none",stroke:k,lineJoin:"bevel"}));t=b.get("smooth");t=l(b.get("smooth"));z.setShape({smooth:t,smoothMonotone:b.get("smoothMonotone"),connectNulls:b.get("connectNulls")});p&&(z=e.stackedOn,y=0,p.useStyle(x.defaults(m.getAreaStyle(),{fill:k,opacity:.7,lineJoin:"bevel"})),z&&(y=l(z.hostModel.get("smooth"))),p.setShape({smooth:t,stackedOnSmooth:y,smoothMonotone:b.get("smoothMonotone"),connectNulls:b.get("connectNulls")}));this._data=e;this._coordSys=g;this._stackedOnPoints=T;this._points=w;this._step=v},highlight:function(b,d,f,k){var c=b.getData(),e=m(c,k);!(e instanceof Array)&&null!=e&&0<=e?(d=c.getItemGraphicEl(e),d||(f=c.getItemLayout(e),d=new g(c,e),d.position=f,d.setZ(b.get("zlevel"),b.get("z")),d.ignore=isNaN(f[0])||isNaN(f[1]),d.__temp=!0,c.setItemGraphicEl(e,d),d.stopSymbolAnimation(!0),this.group.add(d)),d.highlight()):z.prototype.highlight.call(this,b,d,f,k)},downplay:function(b,g,d,f){var c=b.getData(),k=m(c,f);if(null!=k&&0<=k){if(b=c.getItemGraphicEl(k))b.__temp?(c.setItemGraphicEl(k,null),this.group.remove(b)):b.downplay()}else z.prototype.downplay.call(this,b,g,d,f)},_newPolyline:function(b){var g=this._polyline;g&&this._lineGroup.remove(g);g=new y.Polyline({shape:{points:b},silent:!0,z2:10});this._lineGroup.add(g);return this._polyline=g},_newPolygon:function(b,g){var d=this._polygon;d&&this._lineGroup.remove(d);d=new y.Polygon({shape:{points:b,stackedOnPoints:g},silent:!0});this._lineGroup.add(d);return this._polygon=d},_getSymbolIgnoreFunc:function(b,g){var d=g.getAxesByScale("ordinal")[0];if(d&&d.isLabelIgnored)return x.bind(d.isLabelIgnored,d)},_updateAnimation:function(b,g,d,k,c){var e=this._polyline;k=this._polygon;var m=b.hostModel;g=t(this._data,b,this._stackedOnPoints,g,this._coordSys,d);var u=g.current,r=g.stackedOnCurrent,v=g.next,y=g.stackedOnNext;c&&(u=f(g.current,d,c),r=f(g.stackedOnCurrent,d,c),v=f(g.next,d,c),y=f(g.stackedOnNext,d,c));e.shape.__points=g.current;e.shape.points=u;w.updateProps(e,{shape:{points:v}},m);k&&(k.setShape({points:u,stackedOnPoints:r}),w.updateProps(k,{shape:{points:v,stackedOnPoints:y,__points:g.next}},m));var h=[];d=g.status;for(c=0;c<d.length;c++)"\x3d"===d[c].cmd&&(k=b.getItemGraphicEl(d[c].idx1))&&h.push({el:k,ptIdx:c});e.animators&&e.animators.length&&e.animators[0].during(function(){for(var b=0;b<h.length;b++)h[b].el.attr("position",e.shape.__points[h[b].ptIdx])})},remove:function(b){var g=this.group,d=this._data;this._lineGroup.removeAll();this._symbolDraw.remove(!0);d&&d.eachItemGraphicEl(function(b,f){b.__temp&&(g.remove(b),d.setItemGraphicEl(f,null))});this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}})},function(c,p,b){function h(b){this.group=new e.Group;this._symbolCtor=b||n}function l(b,c,e){var f=b.getItemLayout(c);return f&&!isNaN(f[0])&&!isNaN(f[1])&&!(e&&e(c))&&"none"!==b.getItemVisual(c,"symbol")}var e=b(43),n=b(105);p=h.prototype;p.updateData=function(b,c){var r=this.group,f=b.hostModel,k=this._data,u=this._symbolCtor,h={itemStyle:f.getModel("itemStyle.normal").getItemStyle(["color"]),hoverItemStyle:f.getModel("itemStyle.emphasis").getItemStyle(),symbolRotate:f.get("symbolRotate"),symbolOffset:f.get("symbolOffset"),hoverAnimation:f.get("hoverAnimation"),labelModel:f.getModel("label.normal"),hoverLabelModel:f.getModel("label.emphasis")};b.diff(k).add(function(f){var g=b.getItemLayout(f);if(l(b,f,c)){var k=new u(b,f,h);k.attr("position",g);b.setItemGraphicEl(f,k);r.add(k)}}).update(function(v,g){var t=k.getItemGraphicEl(g),w=b.getItemLayout(v);l(b,v,c)?(t?(t.updateData(b,v,h),e.updateProps(t,{position:w},f)):(t=new u(b,v),t.attr("position",w)),r.add(t),b.setItemGraphicEl(v,t)):r.remove(t)}).remove(function(b){var g=k.getItemGraphicEl(b);g&&g.fadeOut(function(){r.remove(g)})}).execute();this._data=b};p.updateLayout=function(){var b=this._data;b&&b.eachItemGraphicEl(function(c,e){var f=b.getItemLayout(e);c.attr("position",f)})};p.remove=function(b){var c=this.group,e=this._data;e&&(b?e.eachItemGraphicEl(function(b){b.fadeOut(function(){c.remove(b)})}):c.removeAll())};c.exports=h},function(c,p,b){function h(b){b instanceof Array||(b=[+b,+b]);return b}function l(b,g,d){m.Group.call(this);this.updateData(b,g,d)}function e(b,g){this.parent.drift(b,g)}var n=b(4),d=b(106),m=b(43),r=b(7);p=l.prototype;p._createSymbol=function(b,g,f){this.removeAll();var c=g.hostModel,k=g.getItemVisual(f,"color"),k=d.createSymbol(b,-.5,-.5,1,1,k);k.attr({z2:100,culling:!0,scale:[0,0]});k.drift=e;g=h(g.getItemVisual(f,"symbolSize"));m.initProps(k,{scale:g},c,f);this._symbolType=b;this.add(k)};p.stopSymbolAnimation=function(b){this.childAt(0).stopAnimation(b)};p.getScale=function(){return this.childAt(0).scale};p.highlight=function(){this.childAt(0).trigger("emphasis")};p.downplay=function(){this.childAt(0).trigger("normal")};p.setZ=function(b,g){var d=this.childAt(0);d.zlevel=b;d.z=g};p.setDraggable=function(b){var g=this.childAt(0);g.draggable=b;g.cursor=b?"move":"pointer"};p.updateData=function(b,g,d){this.silent=!1;var f=b.getItemVisual(g,"symbol")||"circle",c=b.hostModel,k=h(b.getItemVisual(g,"symbolSize"));f!==this._symbolType?this._createSymbol(f,b,g):(f=this.childAt(0),m.updateProps(f,{scale:k},c,g));this._updateCommon(b,g,k,d);this._seriesModel=c};var f=["itemStyle","normal"],k=["itemStyle","emphasis"],u=["label","normal"],x=["label","emphasis"];p._updateCommon=function(b,g,d,c){var e=this.childAt(0),l=b.hostModel,D=b.getItemVisual(g,"color");"image"!==e.type&&e.useStyle({strokeNoScale:!0});var A=(c=c||null)&&c.itemStyle,B=c&&c.hoverItemStyle,F=c&&c.symbolRotate,p=c&&c.symbolOffset,E=c&&c.labelModel,G=c&&c.hoverLabelModel,q=c&&c.hoverAnimation;!c||b.hasItemOption?(q=b.getItemModel(g),A=q.getModel(f).getItemStyle(["color"]),B=q.getModel(k).getItemStyle(),F=q.getShallow("symbolRotate"),p=q.getShallow("symbolOffset"),E=q.getModel(u),G=q.getModel(x),q=q.getShallow("hoverAnimation")):B=n.extend({},B);c=e.style;e.rotation=(F||0)*Math.PI/180||0;p&&e.attr("position",[r.parsePercent(p[0],d[0]),r.parsePercent(p[1],d[1])]);e.setColor(D);e.setStyle(A);d=b.getItemVisual(g,"opacity");null!=d&&(c.opacity=d);d=b.dimensions.slice();for(var H,L;d.length&&(H=d.pop(),L=b.getDimensionInfo(H).type,"ordinal"===L||"time"===L););null!=H&&E.getShallow("show")?(m.setText(c,E,D),c.text=n.retrieve(l.getFormattedLabel(g,"normal"),b.get(H,g))):c.text="";null!=H&&G.getShallow("show")?(m.setText(B,G,D),B.text=n.retrieve(l.getFormattedLabel(g,"emphasis"),b.get(H,g))):B.text="";var I=h(b.getItemVisual(g,"symbolSize"));e.off("mouseover").off("mouseout").off("emphasis").off("normal");m.setHoverStyle(e,B);q&&l.ifEnableAnimation()&&(b=function(){this.animateTo({scale:[Math.max(1.1*I[0],I[0]+3),Math.max(1.1*I[1],I[1]+I[1]/I[0]*3)]},400,"elasticOut")},g=function(){this.animateTo({scale:I},400,"elasticOut")},e.on("mouseover",b).on("mouseout",g).on("emphasis",b).on("normal",g))};p.fadeOut=function(b){var g=this.childAt(0);this.silent=!0;g.style.text="";m.updateProps(g,{scale:[0,0]},this._seriesModel,this.dataIndex,b)};n.inherits(l,m.Group);c.exports=l},function(c,p,b){var h=b(43),l=b(9);p=h.extendShape({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(b,d){var f=d.cx,g=d.cy,c=d.width/2,k=d.height/2;b.moveTo(f,g-k);b.lineTo(f+c,g+k);b.lineTo(f-c,g+k);b.closePath()}});b=h.extendShape({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(b,d){var f=d.cx,g=d.cy,c=d.width/2,k=d.height/2;b.moveTo(f,g-k);b.lineTo(f+c,g);b.lineTo(f,g+k);b.lineTo(f-c,g);b.closePath()}});var e=h.extendShape({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(b,d){var f=d.x,g=d.y,c=d.width/5*3,k=Math.max(c,d.height),e=c/2,c=e*e/(k-e),k=g-k+e+c,m=Math.asin(c/e),r=Math.cos(m)*e,h=Math.sin(m),n=Math.cos(m);b.arc(f,k,e,Math.PI-m,2*Math.PI+m);m=.6*e;e*=.7;b.bezierCurveTo(f+r-h*m,k+c+n*m,f,g-e,f,g);b.bezierCurveTo(f,g-e,f-r+h*m,k+c+n*m,f-r,k+c);b.closePath()}}),n=h.extendShape({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(b,d){var f=d.height,g=d.x,c=d.y,k=d.width/3*2;b.moveTo(g,c);b.lineTo(g+k,c+f);b.lineTo(g,c+f/4*3);b.lineTo(g-k,c+f);b.lineTo(g,c);b.closePath()}});p={line:h.Line,rect:h.Rect,roundRect:h.Rect,square:h.Rect,circle:h.Circle,diamond:b,pin:e,arrow:n,triangle:p};var d={line:function(b,d,f,g,c){c.x1=b;c.y1=d+g/2;c.x2=b+f;c.y2=d+g/2},rect:function(b,d,f,g,c){c.x=b;c.y=d;c.width=f;c.height=g},roundRect:function(b,d,f,g,c){c.x=b;c.y=d;c.width=f;c.height=g;c.r=Math.min(f,g)/4},square:function(b,d,f,g,c){f=Math.min(f,g);c.x=b;c.y=d;c.width=f;c.height=f},circle:function(b,d,f,g,c){c.cx=b+f/2;c.cy=d+g/2;c.r=Math.min(f,g)/2},diamond:function(b,d,f,g,c){c.cx=b+f/2;c.cy=d+g/2;c.width=f;c.height=g},pin:function(b,d,f,g,c){c.x=b+f/2;c.y=d+g/2;c.width=f;c.height=g},arrow:function(b,d,f,g,c){c.x=b+f/2;c.y=d+g/2;c.width=f;c.height=g},triangle:function(b,d,f,g,c){c.cx=b+f/2;c.cy=d+g/2;c.width=f;c.height=g}},m={},r;for(r in p)m[r]=new p[r];var f=h.extendShape({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},beforeBrush:function(){var b=this.style;"pin"===this.shape.symbolType&&"inside"===b.textPosition&&(b.textPosition=["50%","40%"],b.textAlign="center",b.textVerticalAlign="middle")},buildPath:function(b,f,c){var g=f.symbolType,k=m[g];"none"!==f.symbolType&&(k||(g="rect",k=m[g]),d[g](f.x,f.y,f.width,f.height,k.shape),k.buildPath(b,k.shape,c))}}),k=function(b){if("image"!==this.type){var d=this.style,f=this.shape;f&&"line"===f.symbolType?d.stroke=b:this.__isEmptyBrush?(d.stroke=b,d.fill="#fff"):(d.fill&&(d.fill=b),d.stroke&&(d.stroke=b));this.dirty(!1)}};c.exports={createSymbol:function(b,d,c,g,e,m){var r=0===b.indexOf("empty");r&&(b=b.substr(5,1).toLowerCase()+b.substr(6));b=0===b.indexOf("image://")?new h.Image({style:{image:b.slice(8),x:d,y:c,width:g,height:e}}):0===b.indexOf("path://")?h.makePath(b.slice(7),{},new l(d,c,g,e)):new f({shape:{symbolType:b,x:d,y:c,width:g,height:e}});b.__isEmptyBrush=r;b.setColor=k;b.setColor(m);return b}}},function(c,p){function b(b){return 0<=b?1:-1}function h(c,h,d){for(var m=c.getBaseAxis(),r=c.getOtherAxis(m),f=m.onZero?0:r.scale.getExtent()[0],r=r.dim,k="x"===r||"radius"===r?1:0,u,l=h.stackedOn,v=h.get(r,d);l&&b(l.get(r,d))===b(v);){u=l;break}l=[];l[k]=h.get(m.dim,d);l[1-k]=u?u.get(r,d,!0):f;return c.dataToPoint(l)}function l(b,c){var d=[];c.diff(b).add(function(b){d.push({cmd:"+",idx:b})}).update(function(b,c){d.push({cmd:"\x3d",idx:c,idx1:b})}).remove(function(b){d.push({cmd:"-",idx:b})}).execute();return d}c.exports=function(b,c,d,m,r,f){for(var k=l(b,c),u=[],x=[],v=[],g=[],t=[],w=[],y=[],z=f.dimensions,D=0;D<k.length;D++){var A=k[D],B=!0;switch(A.cmd){case "\x3d":var F=b.getItemLayout(A.idx),p=c.getItemLayout(A.idx1);if(isNaN(F[0])||isNaN(F[1]))F=p.slice();u.push(F);x.push(p);v.push(d[A.idx]);g.push(m[A.idx1]);y.push(c.getRawIndex(A.idx1));break;case "+":F=A.idx;u.push(r.dataToPoint([c.get(z[0],F,!0),c.get(z[1],F,!0)]));x.push(c.getItemLayout(F).slice());v.push(h(r,c,F));g.push(m[F]);y.push(c.getRawIndex(F));break;case "-":F=A.idx,p=b.getRawIndex(F),p!==F?(u.push(b.getItemLayout(F)),x.push(f.dataToPoint([b.get(z[0],F,!0),b.get(z[1],F,!0)])),v.push(d[F]),g.push(h(f,b,F)),y.push(p)):B=!1}B&&(t.push(A),w.push(w.length))}w.sort(function(b,g){return y[b]-y[g]});b=[];c=[];d=[];m=[];r=[];for(D=0;D<w.length;D++)F=w[D],b[D]=u[F],c[D]=x[F],d[D]=v[F],m[D]=g[F],r[D]=t[F];return{current:b,next:c,stackedOnCurrent:d,stackedOnNext:m,status:r}}},function(c,p,b){function h(b){return isNaN(b[0])||isNaN(b[1])}function l(b,g,c,e,y,l,D,A,B,p,N){for(var E=0,G=c,q=0;q<e;q++){var H=g[G];if(G>=y||0>G)break;if(h(H)){if(N){G+=l;continue}break}if(G===c)b[0<l?"moveTo":"lineTo"](H[0],H[1]),f(u,H);else if(0<B){var L=G+l,I=g[L];if(N)for(;I&&h(g[L]);)L+=l,I=g[L];var K=.5,E=g[E],I=g[L];!I||h(I)?f(x,H):(h(I)&&!N&&(I=H),n.sub(k,I,E),"x"===p||"y"===p?(K="x"===p?0:1,L=Math.abs(H[K]-E[K]),I=Math.abs(H[K]-I[K])):(L=n.dist(H,E),I=n.dist(H,I)),K=I/(I+L),r(x,H,k,-B*(1-K)));d(u,u,A);m(u,u,D);d(x,x,A);m(x,x,D);b.bezierCurveTo(u[0],u[1],x[0],x[1],H[0],H[1]);r(u,H,k,B*K)}else b.lineTo(H[0],H[1]);E=G;G+=l}return q}function e(b,g){var d=[Infinity,Infinity],f=[-Infinity,-Infinity];if(g)for(var c=0;c<b.length;c++){var k=b[c];k[0]<d[0]&&(d[0]=k[0]);k[1]<d[1]&&(d[1]=k[1]);k[0]>f[0]&&(f[0]=k[0]);k[1]>f[1]&&(f[1]=k[1])}return{min:g?d:f,max:g?f:d}}p=b(45);var n=b(10),d=n.min,m=n.max,r=n.scaleAndAdd,f=n.copy,k=[],u=[],x=[];c.exports={Polyline:p.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},buildPath:function(b,g){var d=g.points,f=0,c=d.length,k=e(d,g.smoothConstraint);if(g.connectNulls){for(;0<c&&h(d[c-1]);c--);for(;f<c&&h(d[f]);f++);}for(;f<c;)f+=l(b,d,f,c,c,1,k.min,k.max,g.smooth,g.smoothMonotone,g.connectNulls)+1}}),Polygon:p.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},buildPath:function(b,g){var d=g.points,f=g.stackedOnPoints,c=0,k=d.length,m=g.smoothMonotone,u=e(d,g.smoothConstraint),r=e(f,g.smoothConstraint);if(g.connectNulls){for(;0<k&&h(d[k-1]);k--);for(;c<k&&h(d[c]);c++);}for(;c<k;){var n=l(b,d,c,k,k,1,u.min,u.max,g.smooth,m,g.connectNulls);l(b,f,c+n-1,n,k,-1,r.min,r.max,g.stackedOnSmooth,m,g.connectNulls);c+=n+1;b.closePath()}}})}},function(c,p){c.exports=function(b,c,l,e,n){e.eachRawSeriesByType(b,function(b){var m=b.getData(),r=b.get("symbol")||c,f=b.get("symbolSize");m.setVisual({legendSymbol:l||r,symbol:r,symbolSize:f});e.isSeriesFiltered(b)||("function"===typeof f&&m.each(function(c){var e=b.getRawValue(c),r=b.getDataParams(c);m.setItemVisual(c,"symbolSize",f(e,r))}),m.each(function(b){var d=m.getItemModel(b),f=d.getShallow("symbol",!0),d=d.getShallow("symbolSize",!0);null!=f&&m.setItemVisual(b,"symbol",f);null!=d&&m.setItemVisual(b,"symbolSize",d)}))})}},function(c,p){c.exports=function(b,c){c.eachSeriesByType(b,function(b){var c=b.getData(),h=b.coordinateSystem;h&&(b=h.dimensions,"singleAxis"===h.type?c.each(b[0],function(b,m){c.setItemLayout(m,isNaN(b)?[NaN,NaN]:h.dataToPoint(b))}):c.each(b,function(b,m,r){c.setItemLayout(r,isNaN(b)||isNaN(m)?[NaN,NaN]:h.dataToPoint([b,m]))},!0))})}},function(c,p){var b={average:function(b){for(var c=0,h=0,d=0;d<b.length;d++)isNaN(b[d])||(c+=b[d],h++);return 0===h?NaN:c/h},sum:function(b){for(var c=0,h=0;h<b.length;h++)c+=b[h]||0;return c},max:function(b){for(var c=-Infinity,h=0;h<b.length;h++)b[h]>c&&(c=b[h]);return c},min:function(b){for(var c=Infinity,h=0;h<b.length;h++)b[h]<c&&(c=b[h]);return c},nearest:function(b){return b[0]}},h=function(b,c){return Math.round(b.length/2)};c.exports=function(c,e,n){e.eachSeriesByType(c,function(d){var c=d.getData(),e=d.get("sampling"),f=d.coordinateSystem;if("cartesian2d"===f.type&&e){var k=f.getBaseAxis(),f=f.getOtherAxis(k),k=k.getExtent(),k=k[1]-k[0],k=Math.round(c.count()/k);if(1<k){var u;"string"===typeof e?u=b[e]:"function"===typeof e&&(u=e);u&&(c=c.downSample(f.dim,1/k,u,h),d.setData(c))}}},this)}},function(c,p,b){var h=b(43),l=b(4);b(113);b(130);b(1).extendComponentView({type:"grid",render:function(b,c){this.group.removeAll();b.get("show")&&this.group.add(new h.Rect({shape:b.coordinateSystem.getRect(),style:l.defaults({fill:b.get("backgroundColor")},b.getItemStyle()),silent:!0}))}})},function(c,p,b){function h(b,g,d){return d.getComponent("grid",b.get("gridIndex"))===g}function l(b,g,d){this._coordsMap={};this._coordsList=[];this._axesMap={};this._axesList=[];this._initCartesian(b,g,d);this._model=b}function e(b,g){var d=b.getExtent(),f=d[0]+d[1];b.toGlobalCoord="x"===b.dim?function(b){return b+g}:function(b){return f-b+g};b.toLocalCoord="x"===b.dim?function(b){return b-g}:function(b){return f-b+g}}var n=b(21),d=b(114),m=b(4),r=b(120),f=b(122),k=m.each,u=d.ifAxisCrossZero,x=d.niceScaleExtent;b(125);p=l.prototype;p.type="grid";p.getRect=function(){return this._rect};p.update=function(b,g){function d(b){b=f[b];for(var g in b){var c=b[g];if(c&&("category"===c.type||!u(c)))return!0}return!1}var f=this._axesMap;this._updateScale(b,this._model);k(f.x,function(b){x(b,b.model)});k(f.y,function(b){x(b,b.model)});k(f.x,function(b){d("y")&&(b.onZero=!1)});k(f.y,function(b){d("x")&&(b.onZero=!1)});this.resize(this._model,g)};p.resize=function(b,g){function d(){k(c,function(b){var g=b.isHorizontal(),d=g?[0,f.width]:[0,f.height],c=b.inverse?1:0;b.setExtent(d[c],d[1-c]);e(b,g?f.x:f.y)})}var f=n.getLayoutRect(b.getBoxLayoutParams(),{width:g.getWidth(),height:g.getHeight()});this._rect=f;var c=this._axesList;d();b.get("containLabel")&&(k(c,function(b){if(!b.model.get("axisLabel.inside")){var g;g=b.model;var d=g.getFormattedLabels(),c,k=1,e=d.length;40<e&&(k=Math.ceil(e/40));for(var t=0;t<e;t+=k)if(!b.isLabelIgnored(t)){var m=g.getTextRect(d[t]);c?c.union(m):c=m}if(g=c)d=b.isHorizontal()?"height":"width",c=b.model.get("axisLabel.margin"),f[d]-=g[d]+c,"top"===b.position?f.y+=g.height+c:"left"===b.position&&(f.x+=g.width+c)}}),d())};p.getAxis=function(b,g){var d=this._axesMap[b];if(null!=d){if(null==g)for(var f in d)return d[f];return d[g]}};p.getCartesian=function(b,g){if(null!=b&&null!=g)return this._coordsMap["x"+b+"y"+g];for(var d=0,f=this._coordsList;d<f.length;d++)if(f[d].getAxis("x").index===b||f[d].getAxis("y").index===g)return f[d]};p._initCartesian=function(b,g,c){function e(c){return function(k,e){if(h(k,b,g)){var t=k.get("position");"x"===c?"top"!==t&&"bottom"!==t&&(t="bottom",m[t]&&(t="top"===t?"bottom":"top")):"left"!==t&&"right"!==t&&(t="left",m[t]&&(t="left"===t?"right":"left"));m[t]=!0;t=new f(c,d.createScaleByModel(k),[0,0],k.get("type"),t);t.onBand="category"===t.type&&k.get("boundaryGap");t.inverse=k.get("inverse");t.onZero=k.get("axisLine.onZero");k.axis=t;t.model=k;t.grid=this;t.index=e;this._axesList.push(t);u[c][e]=t;l[c]++}}}var m={left:!1,right:!1,top:!1,bottom:!1},u={x:{},y:{}},l={x:0,y:0};g.eachComponent("xAxis",e("x"),this);g.eachComponent("yAxis",e("y"),this);l.x&&l.y?(this._axesMap=u,k(u.x,function(b,g){k(u.y,function(d,f){var c="x"+g+"y"+f,k=new r(c);k.grid=this;this._coordsMap[c]=k;this._coordsList.push(k);k.addAxis(b);k.addAxis(d)},this)},this)):(this._axesMap={},this._axesList=[])};p._updateScale=function(b,g){function d(b,g,f){k(f.coordDimToDataDim(g.dim),function(d){g.scale.unionExtent(b.getDataExtent(d,"ordinal"!==g.scale.type))})}m.each(this._axesList,function(b){b.scale.setExtent(Infinity,-Infinity)});b.eachSeries(function(f){if("cartesian2d"===f.get("coordinateSystem")){var c=f.get("xAxisIndex"),k=f.get("yAxisIndex"),e=b.getComponent("xAxis",c),m=b.getComponent("yAxis",k);h(e,g,b)&&h(m,g,b)&&(e=this.getCartesian(c,k),c=f.getData(),k=e.getAxis("x"),e=e.getAxis("y"),"list"===c.type&&(d(c,k,f),d(c,e,f)))}},this)};l.create=function(b,g){var d=[];b.eachComponent("grid",function(f,c){var k=new l(f,b,g);k.name="grid_"+c;k.resize(f,g);f.coordinateSystem=k;d.push(k)});b.eachSeries(function(g){if("cartesian2d"===g.get("coordinateSystem")){var f=g.get("xAxisIndex"),c=g.get("yAxisIndex"),k=b.getComponent("xAxis",f),e=b.getComponent("yAxis",c);if(k.get("gridIndex")!==e.get("gridIndex"))throw Error("xAxis and yAxis must use the same grid");k=d[k.get("gridIndex")];g.coordinateSystem=k.getCartesian(f,c)}});return d};l.dimensions=r.prototype.dimensions;b(26).register("cartesian2d",l);c.exports=l},function(c,p,b){var h=b(115),l=b(117);b(118);b(119);var e=b(116),n=b(7),d=b(4),m=b(8),r={getScaleExtent:function(b,c){var e=b.scale,m=e.getExtent(),r=m[1]-m[0];if("ordinal"===e.type)return isFinite(r)?m:[0,0];var e=c.getMin?c.getMin():c.get("min"),g=c.getMax?c.getMax():c.get("max"),t=c.getNeedCrossZero?c.getNeedCrossZero():!c.get("scale"),w=c.get("boundaryGap");d.isArray(w)||(w=[w||0,w||0]);w[0]=n.parsePercent(w[0],1);w[1]=n.parsePercent(w[1],1);var h=!0,l=!0;null==e&&(e=m[0]-w[0]*r,h=!1);null==g&&(g=m[1]+w[1]*r,l=!1);"dataMin"===e&&(e=m[0]);"dataMax"===g&&(g=m[1]);t&&(0<e&&0<g&&!h&&(e=0),0>e&&0>g&&!l&&(g=0));return[e,g]},niceScaleExtent:function(b,d){var c=b.scale,e=r.getScaleExtent(b,d),m=null!=(d.getMin?d.getMin():d.get("min")),g=null!=(d.getMax?d.getMax():d.get("max")),t=d.get("splitNumber");c.setExtent(e[0],e[1]);c.niceExtent(t,m,g);e=d.get("minInterval");!isFinite(e)||m||g||"interval"!==c.type||(m=c.getInterval(),m=Math.max(Math.abs(m),e)/m,e=c.getExtent(),c.setExtent(m*e[0],e[1]*m),c.niceExtent(t));m=d.get("interval");null!=m&&c.setInterval&&c.setInterval(m)},createScaleByModel:function(b,d){if(d=d||b.get("type"))switch(d){case "category":return new h(b.getCategories(),[Infinity,-Infinity]);case "value":return new l;default:return(e.getClass(d)||l).create(b)}},ifAxisCrossZero:function(b){var d=b.scale.getExtent();b=d[0];d=d[1];return!(0<b&&0<d||0>b&&0>d)},getAxisLabelInterval:function(b,d,c,e){var r,g=0,t=0,w=1;40<d.length&&(w=Math.floor(d.length/40));for(var h=0;h<b.length;h+=w){var l=b[h],n=m.getBoundingRect(d[h],c,"center","top");n[e?"x":"y"]+=l;n[e?"width":"height"]*=1.3;r?r.intersect(n)?(t++,g=Math.max(g,t)):(r.union(n),t=0):r=n.clone()}return 0===g&&1<w?w:(g+1)*w-1},getFormattedLabels:function(b,c){var e=b.scale,m=e.getTicksLabels(),r=e.getTicks();return"string"===typeof c?(c=function(b){return function(d){return b.replace("{value}",d)}}(c),d.map(m,c)):"function"===typeof c?d.map(r,function(g,d){return c("category"===b.type?e.getLabel(g):g,d)},this):m}};c.exports=r},function(c,p,b){var h=b(4);p=b(116);var l=p.prototype,e=p.extend({type:"ordinal",init:function(b,d){this._data=b;this._extent=d||[0,b.length-1]},parse:function(b){return"string"===typeof b?h.indexOf(this._data,b):Math.round(b)},contain:function(b){b=this.parse(b);return l.contain.call(this,b)&&null!=this._data[b]},normalize:function(b){return l.normalize.call(this,this.parse(b))},scale:function(b){return Math.round(l.scale.call(this,b))},getTicks:function(){for(var b=[],d=this._extent,c=d[0];c<=d[1];)b.push(c),c++;return b},getLabel:function(b){return this._data[b]},count:function(){return this._extent[1]-this._extent[0]+1},niceTicks:h.noop,niceExtent:h.noop});e.create=function(){return new e};c.exports=e},function(c,p,b){function h(){this._extent=[Infinity,-Infinity];this._interval=0;this.init&&this.init.apply(this,arguments)}p=b(13);b=h.prototype;b.parse=function(b){return b};b.contain=function(b){var c=this._extent;return b>=c[0]&&b<=c[1]};b.normalize=function(b){var c=this._extent;return c[1]===c[0]?.5:(b-c[0])/(c[1]-c[0])};b.scale=function(b){var c=this._extent;return b*(c[1]-c[0])+c[0]};b.unionExtent=function(b){var c=this._extent;b[0]<c[0]&&(c[0]=b[0]);b[1]>c[1]&&(c[1]=b[1])};b.getExtent=function(){return this._extent.slice()};b.setExtent=function(b,c){var h=this._extent;isNaN(b)||(h[0]=b);isNaN(c)||(h[1]=c)};b.getTicksLabels=function(){for(var b=[],c=this.getTicks(),h=0;h<c.length;h++)b.push(this.getLabel(c[h]));return b};p.enableClassExtend(h);p.enableClassManagement(h,{registerWhenExtend:!0});c.exports=h},function(c,p,b){var h=b(7),l=b(6);p=b(116);var e=Math.floor,n=Math.ceil,d=p.extend({type:"interval",_interval:0,setExtent:function(b,d){var f=this._extent;isNaN(b)||(f[0]=parseFloat(b));isNaN(d)||(f[1]=parseFloat(d))},unionExtent:function(b){var c=this._extent;b[0]<c[0]&&(c[0]=b[0]);b[1]>c[1]&&(c[1]=b[1]);d.prototype.setExtent.call(this,c[0],c[1])},getInterval:function(){this._interval||this.niceTicks();return this._interval},setInterval:function(b){this._interval=b;this._niceExtent=this._extent.slice()},getTicks:function(){this._interval||this.niceTicks();var b=this._interval,d=this._extent,f=[];if(b){var c=this._niceExtent;d[0]<c[0]&&f.push(d[0]);for(var e=c[0];e<=c[1];)if(f.push(e),e=h.round(e+b),1E4<f.length)return[];d[1]>c[1]&&f.push(d[1])}return f},getTicksLabels:function(){for(var b=[],d=this.getTicks(),f=0;f<d.length;f++)b.push(this.getLabel(d[f]));return b},getLabel:function(b){return l.addCommas(b)},niceTicks:function(b){b=b||5;var d=this._extent,f=d[1]-d[0];isFinite(f)&&(0>f&&(f=-f,d.reverse()),b=h.nice(f/b,!0),d=[h.round(n(d[0]/b)*b),h.round(e(d[1]/b)*b)],this._interval=b,this._niceExtent=d)},niceExtent:function(b,d,f){var c=this._extent;if(c[0]===c[1])if(0!==c[0]){var u=c[0];f||(c[1]+=u/2);c[0]-=u/2}else c[1]=1;isFinite(c[1]-c[0])||(c[0]=0,c[1]=1);this.niceTicks(b);b=this._interval;d||(c[0]=h.round(e(c[0]/b)*b));f||(c[1]=h.round(n(c[1]/b)*b))}});d.create=function(){return new d};c.exports=d},function(c,p,b){p=b(4);var h=b(7),l=b(6);b=b(117);var e=b.prototype,n=Math.ceil,d=Math.floor,m=b.extend({type:"time",getLabel:function(b){return l.formatTime(this._stepLvl[0],new Date(b))},niceExtent:function(b,c,e){var m=this._extent;m[0]===m[1]&&(m[0]-=864E5,m[1]+=864E5);if(-Infinity===m[1]&&Infinity===m[0]){var r=new Date;m[1]=new Date(r.getFullYear(),r.getMonth(),r.getDate());m[0]=m[1]-864E5}this.niceTicks(b);b=this._interval;c||(m[0]=h.round(d(m[0]/b)*b));e||(m[1]=h.round(n(m[1]/b)*b))},niceTicks:function(b){b=b||10;for(var c=this._extent,e=c[1]-c[0],m=r.length,l=0,g=m;l<g;){var t=l+g>>>1;r[t][2]<e/b?l=t+1:g=t}m=r[Math.min(l,m-1)];l=m[2];"year"===m[0]&&(b=h.nice(e/l/b,!0),l*=b);c=[n(c[0]/l)*l,d(c[1]/l)*l];this._stepLvl=m;this._interval=l;this._niceExtent=c},parse:function(b){return+h.parseDate(b)}});p.each(["contain","normalize"],function(b){m.prototype[b]=function(d){return e[b].call(this,this.parse(d))}});var r=[["hh:mm:ss",1,1E3],["hh:mm:ss",5,5E3],["hh:mm:ss",10,1E4],["hh:mm:ss",15,15E3],["hh:mm:ss",30,3E4],["hh:mm\nMM-dd",1,6E4],["hh:mm\nMM-dd",5,3E5],["hh:mm\nMM-dd",10,6E5],["hh:mm\nMM-dd",15,9E5],["hh:mm\nMM-dd",30,18E5],["hh:mm\nMM-dd",1,36E5],["hh:mm\nMM-dd",2,72E5],["hh:mm\nMM-dd",6,216E5],["hh:mm\nMM-dd",12,432E5],["MM-dd\nyyyy",1,864E5],["week",7,6048E5],["month",1,26784E5],["quarter",3,8208E6],["half-year",6,16416E6],["year",1,32832E6]];m.create=function(){return new m};c.exports=m},function(c,p,b){var h=b(4);p=b(116);var l=b(7);b=b(117);var e=p.prototype,n=b.prototype,d=Math.floor,m=Math.ceil,r=Math.pow,f=Math.log,k=p.extend({type:"log",getTicks:function(){return h.map(n.getTicks.call(this),function(b){return l.round(r(10,b))})},getLabel:n.getLabel,scale:function(b){b=e.scale.call(this,b);return r(10,b)},setExtent:function(b,d){b=f(b)/f(10);d=f(d)/f(10);n.setExtent.call(this,b,d)},getExtent:function(){var b=e.getExtent.call(this);b[0]=r(10,b[0]);b[1]=r(10,b[1]);return b},unionExtent:function(b){b[0]=f(b[0])/f(10);b[1]=f(b[1])/f(10);e.unionExtent.call(this,b)},niceTicks:function(b){b=b||10;var c=this._extent,k=c[1]-c[0];if(!(Infinity===k||0>=k)){var g=r(10,d(f(k/b)/Math.LN10));.5>=b/k*g&&(g*=10);b=[l.round(m(c[0]/g)*g),l.round(d(c[1]/g)*g)];this._interval=g;this._niceExtent=b}},niceExtent:n.niceExtent});h.each(["contain","normalize"],function(b){k.prototype[b]=function(d){d=f(d)/f(10);return e[b].call(this,d)}});k.create=function(){return new k};c.exports=k},function(c,p,b){function h(b){l.call(this,b)}p=b(4);var l=b(121);h.prototype={constructor:h,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(b){var c=this.getAxis("x"),d=this.getAxis("y");return c.contain(c.toLocalCoord(b[0]))&&d.contain(d.toLocalCoord(b[1]))},containData:function(b){return this.getAxis("x").containData(b[0])&&this.getAxis("y").containData(b[1])},dataToPoints:function(b,c){return b.mapArray(["x","y"],function(b,c){return this.dataToPoint([b,c])},c,this)},dataToPoint:function(b,c){var d=this.getAxis("x"),m=this.getAxis("y");return[d.toGlobalCoord(d.dataToCoord(b[0],c)),m.toGlobalCoord(m.dataToCoord(b[1],c))]},pointToData:function(b,c){var d=this.getAxis("x"),m=this.getAxis("y");return[d.coordToData(d.toLocalCoord(b[0]),c),m.coordToData(m.toLocalCoord(b[1]),c)]},getOtherAxis:function(b){return this.getAxis("x"===b.dim?"y":"x")}};p.inherits(h,l);c.exports=h},function(c,p,b){function h(b){return this._axes[b]}var l=b(4);p=function(b){this._axes={};this._dimList=[];this.name=b||""};p.prototype={constructor:p,type:"cartesian",getAxis:function(b){return this._axes[b]},getAxes:function(){return l.map(this._dimList,h,this)},getAxesByScale:function(b){b=b.toLowerCase();return l.filter(this.getAxes(),function(c){return c.scale.type===b})},addAxis:function(b){var c=b.dim;this._axes[c]=b;this._dimList.push(c)},dataToCoord:function(b){return this._dataCoordConvert(b,"dataToCoord")},coordToData:function(b){return this._dataCoordConvert(b,"coordToData")},_dataCoordConvert:function(b,c){for(var d=this._dimList,m=b instanceof Array?[]:{},r=0;r<d.length;r++){var f=d[r];m[f]=this._axes[f][c](b[f])}return m}};c.exports=p},function(c,p,b){p=b(4);var h=b(123),l=b(124);b=function(b,c,d,m,r){h.call(this,b,c,d);this.type=m||"value";this.position=r||"bottom"};b.prototype={constructor:b,index:0,onZero:!1,model:null,isHorizontal:function(){var b=this.position;return"top"===b||"bottom"===b},getGlobalExtent:function(){var b=this.getExtent();b[0]=this.toGlobalCoord(b[0]);b[1]=this.toGlobalCoord(b[1]);return b},getLabelInterval:function(){var b=this._labelInterval;b||(b=this._labelInterval=l(this));return b},isLabelIgnored:function(b){if("category"===this.type){var c=this.getLabelInterval();return"function"===typeof c&&!c(b,this.scale.getLabel(b))||b%(c+1)}},toLocalCoord:null,toGlobalCoord:null};p.inherits(b,h);c.exports=b},function(c,p,b){function h(b,d){var f=(b[1]-b[0])/d/2;b[0]+=f;b[1]-=f}var l=b(7),e=l.linearMap,n=b(4),d=[0,1];p=function(b,d,f){this.dim=b;this.scale=d;this._extent=f||[0,0];this.onBand=this.inverse=!1};p.prototype={constructor:p,contain:function(b){var d=this._extent,f=Math.max(d[0],d[1]);return b>=Math.min(d[0],d[1])&&b<=f},containData:function(b){return this.contain(this.dataToCoord(b))},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(b){return l.getPixelPrecision(b||this.scale.getExtent(),this._extent)},setExtent:function(b,d){var f=this._extent;f[0]=b;f[1]=d},dataToCoord:function(b,c){var f=this._extent,k=this.scale;b=k.normalize(b);this.onBand&&"ordinal"===k.type&&(f=f.slice(),h(f,k.count()));return e(b,d,f,c)},coordToData:function(b,c){var f=this._extent,k=this.scale;this.onBand&&"ordinal"===k.type&&(f=f.slice(),h(f,k.count()));f=e(b,f,d,c);return this.scale.scale(f)},getTicksCoords:function(b){if(this.onBand&&!b){b=this.getBands();for(var d=[],f=0;f<b.length;f++)d.push(b[f][0]);b[f-1]&&d.push(b[f-1][1]);return d}return n.map(this.scale.getTicks(),this.dataToCoord,this)},getLabelsCoords:function(){return n.map(this.scale.getTicks(),this.dataToCoord,this)},getBands:function(){for(var b=this.getExtent(),d=[],f=this.scale.count(),c=b[0],b=b[1]-c,e=0;e<f;e++)d.push([b*e/f+c,b*(e+1)/f+c]);return d},getBandWidth:function(){var b=this._extent,d=this.scale.getExtent(),d=d[1]-d[0]+(this.onBand?1:0);0===d&&(d=1);return Math.abs(Math.abs(b[1]-b[0]))/d}};c.exports=p},function(c,p,b){var h=b(4),l=b(114);c.exports=function(b){var c=b.model,d=c.getModel("axisLabel"),m=d.get("interval");return"category"!==b.type||"auto"!==m?"auto"===m?0:m:l.getAxisLabelInterval(h.map(b.scale.getTicks(),b.dataToCoord,b),c.getFormattedLabels(),d.getModel("textStyle").getFont(),b.isHorizontal())}},function(c,p,b){b(126);p=b(19);c.exports=p.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}})},function(c,p,b){function h(b,c){return c.type||(c.data?"category":"value")}var l=b(19),e=b(4);p=b(127);var n=l.extend({type:"cartesian2dAxis",axis:null,init:function(){n.superApply(this,"init",arguments);this._resetRange()},mergeOption:function(){n.superApply(this,"mergeOption",arguments);this._resetRange()},restoreData:function(){n.superApply(this,"restoreData",arguments);this._resetRange()},setRange:function(b,c){this.option.rangeStart=b;this.option.rangeEnd=c},getMin:function(){var b=this.option;return null!=b.rangeStart?b.rangeStart:b.min},getMax:function(){var b=this.option;return null!=b.rangeEnd?b.rangeEnd:b.max},getNeedCrossZero:function(){var b=this.option;return null!=b.rangeStart||null!=b.rangeEnd?!1:!b.scale},_resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}});e.merge(n.prototype,b(129));b={gridIndex:0,offset:0};p("x",n,h,b);p("y",n,h,b);c.exports=n},function(c,p,b){var h=b(128),l=b(4),e=b(19),n=b(21),d=["value","category","time","log"];c.exports=function(b,c,f,k){l.each(d,function(d){c.extend({type:b+"Axis."+d,mergeDefaultAndTheme:function(c,k){var g=this.layoutMode,e=g?n.getLayoutParams(c):{},w=k.getTheme();l.merge(c,w.get(d+"Axis"));l.merge(c,this.getDefaultOption());c.type=f(b,c);g&&n.mergeLayoutParam(c,e,g)},defaultOption:l.mergeAll([{},h[d+"Axis"],k],!0)})});e.registerSubTypeDefaulter(b+"Axis",l.curry(f,b))}},function(c,p,b){b=b(4);var h={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisLine:{show:!0,onZero:!0,lineStyle:{color:"#333",width:1,type:"solid"}},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,margin:8,textStyle:{fontSize:12}},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}};p=b.merge({boundaryGap:!0,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},h);var h=b.merge({boundaryGap:[0,0],splitNumber:5},h),l=b.defaults({scale:!0,min:"dataMin",max:"dataMax"},h);b=b.defaults({},h);b.scale=!0;c.exports={categoryAxis:p,valueAxis:h,timeAxis:l,logAxis:b}},function(c,p,b){function h(b){return l.isObject(b)&&null!=b.value?b.value:b}var l=b(4),e=b(114);c.exports={getFormattedLabels:function(){return e.getFormattedLabels(this.axis,this.get("axisLabel.formatter"))},getCategories:function(){return"category"===this.get("type")&&l.map(this.get("data"),h)}}},function(c,p,b){b(126);b(131)},function(c,p,b){function h(b,d){function f(b,g){var d=c.getAxis(b);return d.toGlobalCoord(d.dataToCoord(0))}var c=b.coordinateSystem,g=d.axis,e={},m=g.position,r=g.onZero?"onZero":m,h=g.dim,l=c.getRect(),l=[l.x,l.x+l.width,l.y,l.y+l.height],n=d.get("offset")||0,n={x:{top:l[2]-n,bottom:l[3]+n},y:{left:l[0]-n,right:l[1]+n}};n.x.onZero=Math.max(Math.min(f("y"),n.x.bottom),n.x.top);n.y.onZero=Math.max(Math.min(f("x"),n.y.right),n.y.left);e.position=["y"===h?n.y[r]:l[0],"x"===h?n.x[r]:l[3]];e.rotation=Math.PI/2*("x"===h?0:1);e.labelDirection=e.tickDirection=e.nameDirection={top:-1,bottom:1,left:-1,right:1}[m];g.onZero&&(e.labelOffset=n[h][m]-n[h].onZero);d.getModel("axisTick").get("inside")&&(e.tickDirection=-e.tickDirection);d.getModel("axisLabel").get("inside")&&(e.labelDirection=-e.labelDirection);m=d.getModel("axisLabel").get("rotate");e.labelRotation="top"===r?-m:m;e.labelInterval=g.getLabelInterval();e.z2=1;return e}var l=b(4),e=b(43),n=b(132),d=n.ifIgnoreOnTick,m=n.getInterval,r=["axisLine","axisLabel","axisTick","axisName"],f=["splitArea","splitLine"];c=b(1).extendComponentView({type:"axis",render:function(b,d){this.group.removeAll();var c=this._axisGroup;this._axisGroup=new e.Group;this.group.add(this._axisGroup);if(b.get("show")){var m=d.getComponent("grid",b.get("gridIndex")),g=h(m,b),t=new n(b,g);l.each(r,t.add,t);this._axisGroup.add(t.getGroup());l.each(f,function(d){if(b.get(d+".show"))this["_"+d](b,m,g.labelInterval)},this);e.groupTransition(c,this._axisGroup,b)}},_splitLine:function(b,f,c){var r=b.axis,g=b.getModel("splitLine"),t=g.getModel("lineStyle");b=t.get("color");c=m(g,c);b=l.isArray(b)?b:[b];f=f.coordinateSystem.getRect();for(var g=r.isHorizontal(),w=0,h=r.getTicksCoords(),n=r.scale.getTicks(),D=[],A=[],t=t.getLineStyle(),B=0;B<h.length;B++)if(!d(r,B,c)){var p=r.toGlobalCoord(h[B]);g?(D[0]=p,D[1]=f.y,A[0]=p,A[1]=f.y+f.height):(D[0]=f.x,D[1]=p,A[0]=f.x+f.width,A[1]=p);p=w++%b.length;this._axisGroup.add(new e.Line(e.subPixelOptimizeLine({anid:"line_"+n[B],shape:{x1:D[0],y1:D[1],x2:A[0],y2:A[1]},style:l.defaults({stroke:b[p]},t),silent:!0})))}},_splitArea:function(b,f,c){var r=b.axis,g=b.getModel("splitArea"),t=g.getModel("areaStyle");b=t.get("color");f=f.coordinateSystem.getRect();var w=r.getTicksCoords(),h=r.scale.getTicks(),n=r.toGlobalCoord(w[0]),D=r.toGlobalCoord(w[0]),A=0;c=m(g,c);t=t.getAreaStyle();b=l.isArray(b)?b:[b];for(g=1;g<w.length;g++)if(!d(r,g,c)){var B=r.toGlobalCoord(w[g]),p;r.isHorizontal()?(D=f.y,p=B-n,B=f.height):(n=f.x,p=f.width,B-=D);var N=A++%b.length;this._axisGroup.add(new e.Rect({anid:"area_"+h[g],shape:{x:n,y:D,width:p,height:B},style:l.defaults({fill:b[N]},t),silent:!0}));n+=p;D+=B}}});c.extend({type:"xAxis"});c.extend({type:"yAxis"})},function(c,p,b){function h(b){var g={componentType:b.mainType};g[b.mainType+"Index"]=b.componentIndex;return g}function l(b,d,f){b=k(d-b.rotation);u(b)?(d=0<f?"top":"bottom",f="center"):u(b-g)?(d=0<f?"bottom":"top",f="center"):(d="middle",f=0<b&&b<g?0<f?"right":"left":0<f?"left":"right");return{rotation:b,textAlign:f,verticalAlign:d}}function e(b,d,f,c){b=k(f-b.rotation);c=c[0]>c[1];c="start"===d&&!c||"start"!==d&&c;u(b-g/2)?(d=c?"bottom":"top",c="center"):u(b-1.5*g)?(d=c?"top":"bottom",c="center"):(d="middle",c=b<1.5*g&&b>g/2?c?"left":"right":c?"right":"left");return{rotation:b,textAlign:c,verticalAlign:d}}function n(b){var g=b.get("tooltip");return b.get("silent")||!(b.get("triggerEvent")||g&&g.show)}var d=b(4),m=b(6),r=b(43),f=b(12);p=b(7);var k=p.remRadian,u=p.isRadianAroundZero,x=b(10).applyTransform,v=d.retrieve,g=Math.PI;b=function(b,g){this.opt=g;this.axisModel=b;d.defaults(g,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0});this.group=new r.Group;var f=new r.Group({position:g.position.slice(),rotation:g.rotation});f.updateTransform();this._transform=f.transform;this._dumbGroup=f};b.prototype={constructor:b,hasBuilder:function(b){return!!t[b]},add:function(b){t[b].call(this)},getGroup:function(){return this.group}};var t={axisLine:function(){var b=this.opt,g=this.axisModel;if(g.get("axisLine.show")){var f=this.axisModel.axis.getExtent(),c=this._transform,k=[f[0],0],f=[f[1],0];c&&(x(k,k,c),x(f,f,c));this.group.add(new r.Line(r.subPixelOptimizeLine({anid:"line",shape:{x1:k[0],y1:k[1],x2:f[0],y2:f[1]},style:d.extend({lineCap:"round"},g.getModel("axisLine.lineStyle").getLineStyle()),strokeContainThreshold:b.strokeContainThreshold||5,silent:!0,z2:1})))}},axisTick:function(){var b=this.axisModel;if(b.get("axisTick.show"))for(var g=b.axis,f=b.getModel("axisTick"),c=this.opt,k=f.getModel("lineStyle"),e=f.get("length"),t=y(f,c.labelInterval),f=g.getTicksCoords(f.get("alignWithLabel")),m=g.scale.getTicks(),u=[],h=[],l=this._transform,n=0;n<f.length;n++)if(!w(g,n,t)){var v=f[n];u[0]=v;u[1]=0;h[0]=v;h[1]=c.tickDirection*e;l&&(x(u,u,l),x(h,h,l));this.group.add(new r.Line(r.subPixelOptimizeLine({anid:"tick_"+m[n],shape:{x1:u[0],y1:u[1],x2:h[0],y2:h[1]},style:d.defaults(k.getLineStyle(),{stroke:b.get("axisLine.lineStyle.color")}),z2:2,silent:!0})))}},axisLabel:function(){function b(g,d){var f=g&&g.getBoundingRect().clone(),c=d&&d.getBoundingRect().clone();if(f&&c)return f.applyTransform(g.getLocalTransform()),c.applyTransform(d.getLocalTransform()),f.intersect(c)}var d=this.opt,c=this.axisModel;if(v(d.axisLabelShow,c.get("axisLabel.show"))){for(var k=c.axis,e=c.getModel("axisLabel"),t=e.getModel("textStyle"),m=e.get("margin"),u=k.scale.getTicks(),q=c.getFormattedLabels(),e=v(d.labelRotation,e.get("rotate"))||0,e=e*g/180,y=l(d,e,d.labelDirection),x=c.get("data"),e=[],p=n(c),K=c.get("triggerEvent"),O=0;O<u.length;O++)if(!w(k,O,d.labelInterval)){var M=t;x&&x[O]&&x[O].textStyle&&(M=new f(x[O].textStyle,t,c.ecModel));var J=M.getTextColor()||c.get("axisLine.lineStyle.color"),P=[k.dataToCoord(u[O]),d.labelOffset+d.labelDirection*m],T=k.scale.getLabel(u[O]),M=new r.Text({anid:"label_"+u[O],style:{text:q[O],textAlign:M.get("align",!0)||y.textAlign,textVerticalAlign:M.get("baseline",!0)||y.verticalAlign,textFont:M.getFont(),fill:"function"===typeof J?J(T):J},position:P,rotation:y.rotation,silent:p,z2:10});K&&(M.eventData=h(c),M.eventData.targetType="axisLabel",M.eventData.value=T);this._dumbGroup.add(M);M.updateTransform();e.push(M);this.group.add(M);M.decomposeTransform()}if("category"!==k.type){if(c.getMin?c.getMin():c.get("min"))d=e[0],b(d,e[1])&&(d.ignore=!0);if(c.getMax?c.getMax():c.get("max"))c=e[e.length-1],b(e[e.length-2],c)&&(c.ignore=!0)}}},axisName:function(){var b=this.opt,f=this.axisModel,c=v(b.axisName,f.get("name"));if(c){var k=f.get("nameLocation"),t=b.nameDirection,w=f.getModel("nameTextStyle"),u=f.get("nameGap")||0,y=this.axisModel.axis.getExtent(),q=y[0]>y[1]?-1:1,u=["start"===k?y[0]-q*u:"end"===k?y[1]+q*u:(y[0]+y[1])/2,"middle"===k?b.labelOffset+t*u:0],q=f.get("nameRotate");null!=q&&(q=q*g/180);var x;"middle"===k?k=l(b,null!=q?q:b.rotation,t):(k=e(b,k,q||0,y),x=b.axisNameAvailableWidth,null!=x&&(x=Math.abs(x/Math.sin(k.rotation)),!isFinite(x)&&(x=null)));b=w.getFont();t=f.get("nameTruncate",!0)||{};y=t.ellipsis;x=v(t.maxWidth,x);x=null!=y&&null!=x?m.truncateText(c,x,b,y,{minChar:2,placeholder:t.placeholder}):c;t=f.get("tooltip",!0);y=f.mainType;q={componentType:y,name:c,$vars:["name"]};q[y+"Index"]=f.componentIndex;w=new r.Text({anid:"name",__fullText:c,__truncatedText:x,style:{text:x,textFont:b,fill:w.getTextColor()||f.get("axisLine.lineStyle.color"),textAlign:k.textAlign,textVerticalAlign:k.verticalAlign},position:u,rotation:k.rotation,silent:n(f),z2:1,tooltip:t&&t.show?d.extend({content:c,formatter:function(){return c},formatterParams:q},t):null});f.get("triggerEvent")&&(w.eventData=h(f),w.eventData.targetType="axisName",w.eventData.name=c);this._dumbGroup.add(w);w.updateTransform();this.group.add(w);w.decomposeTransform()}}},w=b.ifIgnoreOnTick=function(b,g,d){var f;b=b.scale;return"ordinal"===b.type&&("function"===typeof d?(f=b.getTicks()[g],!d(f,b.getLabel(f))):g%(d+1))},y=b.getInterval=function(b,g){var d=b.get("interval");if(null==d||"auto"==d)d=g;return d};c.exports=b},function(c,p,b){c=b(4);b(113);b(134);b(135);p=b(137);var h=b(1);h.registerLayout(c.curry(p,"bar"));h.registerVisual(function(b){b.eachSeriesByType("bar",function(b){b.getData().setVisual("legendSymbol","roundRect")})});b(112)},function(c,p,b){p=b(28);var h=b(101);c.exports=p.extend({type:"series.bar",dependencies:["grid","polar"],getInitialData:function(b,c){if("cartesian2d"!==b.coordinateSystem)throw Error("Bar only support cartesian2d coordinateSystem");return h(b.data,this,c)},getMarkerPosition:function(b){var c=this.coordinateSystem;if(c){b=c.dataToPoint(b,!0);var h=this.getData(),d=h.getLayout("offset"),h=h.getLayout("size"),c=c.getBaseAxis().isHorizontal()?0:1;b[c]+=d+h/2;return b}return[NaN,NaN]},brushSelector:"rect",defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,barMinHeight:0,itemStyle:{normal:{},emphasis:{}}}})},function(c,p,b){function h(b,d){var c=0<b.width?1:-1,e=0<b.height?1:-1;d=Math.min(d,Math.abs(b.width),Math.abs(b.height));b.x+=c*d/2;b.y+=e*d/2;b.width-=c*d;b.height-=e*d}var l=b(4),e=b(43);l.extend(b(12).prototype,b(136));c.exports=b(1).extendChartView({type:"bar",render:function(b,d,c){"cartesian2d"===b.get("coordinateSystem")&&this._renderOnCartesian(b,d,c);return this.group},_renderOnCartesian:function(b,d,c){function r(d,f){var c=k.getItemLayout(d),m=k.getItemModel(d).get(g)||0;h(c,m);m=new e.Rect({shape:l.extend({},c)});if(v){var u=x?"height":"width",r={};m.shape[u]=0;r[u]=c[u];e[f?"updateProps":"initProps"](m,{shape:r},b,d)}return m}var f=this.group,k=b.getData(),u=this._data,x=b.coordinateSystem.getBaseAxis().isHorizontal(),v=b.get("animation"),g=["itemStyle","normal","barBorderWidth"];k.diff(u).add(function(b){if(k.hasValue(b)){var g=r(b);k.setItemGraphicEl(b,g);f.add(g)}}).update(function(d,c){var m=u.getItemGraphicEl(c);if(k.hasValue(d)){m||(m=r(d,!0));var l=k.getItemLayout(d),x=k.getItemModel(d).get(g)||0;h(l,x);e.updateProps(m,{shape:l},b,d);k.setItemGraphicEl(d,m);f.add(m)}else f.remove(m)}).remove(function(g){var d=u.getItemGraphicEl(g);d&&(d.style.text="",e.updateProps(d,{shape:{width:0}},b,g,function(){f.remove(d)}))}).execute();this._updateStyle(b,k,x);this._data=k},_updateStyle:function(b,d,c){d.eachItemGraphicEl(function(r,f){var k=d.getItemModel(f),u=d.getItemVisual(f,"color"),h=d.getItemVisual(f,"opacity"),v=d.getItemLayout(f),g=k.getModel("itemStyle.normal"),t=k.getModel("itemStyle.emphasis").getBarItemStyle();r.setShape("r",g.get("barBorderRadius")||0);r.useStyle(l.defaults({fill:u,opacity:h},g.getBarItemStyle()));h=c?0<v.height?"bottom":"top":0<v.width?"left":"right";v=k.getModel("label.normal");k=k.getModel("label.emphasis");g=r.style;if(v.get("show")){var w=l.retrieve(b.getFormattedLabel(f,"normal"),b.getRawValue(f));e.setText(g,v,u);g.text=w;"outside"===g.textPosition&&(g.textPosition=h)}else g.text="";k.get("show")?(v=l.retrieve(b.getFormattedLabel(f,"emphasis"),b.getRawValue(f)),e.setText(t,k,u),t.text=v,"outside"===t.textPosition&&(t.textPosition=h)):t.text="";e.setHoverStyle(r,t)})},remove:function(b,d){var c=this.group;b.get("animation")?this._data&&this._data.eachItemGraphicEl(function(d){d.style.text="";e.updateProps(d,{shape:{width:0}},b,d.dataIndex,function(){c.remove(d)})}):c.removeAll()}})},function(c,p,b){var h=b(15)([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);c.exports={getBarItemStyle:function(b){b=h.call(this,b);if(this.getBorderLineDash){var c=this.getBorderLineDash();c&&(b.lineDash=c)}return b}}},function(c,p,b){function h(b){return b.get("stack")||"__ec_stack_"+b.seriesIndex}function l(b,c){var r={};e.each(b,function(b,d){var f=b.getData(),c=b.coordinateSystem.getBaseAxis(),g=c.getExtent(),e="category"===c.type?c.getBandWidth():Math.abs(g[1]-g[0])/f.count(),f=r[c.dim+c.index]||{bandWidth:e,remainedWidth:e,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},g=f.stacks;r[c.dim+c.index]=f;c=h(b);g[c]||f.autoWidthCount++;g[c]=g[c]||{width:0,maxWidth:0};var m=n(b.get("barWidth"),e),e=n(b.get("barMaxWidth"),e),y=b.get("barGap"),l=b.get("barCategoryGap");m&&!g[c].width&&(m=Math.min(f.remainedWidth,m),g[c].width=m,f.remainedWidth-=m);e&&(g[c].maxWidth=e);null!=y&&(f.gap=y);null!=l&&(f.categoryGap=l)});var f={};e.each(r,function(b,d){f[d]={};var c=b.stacks,m=n(b.categoryGap,b.bandWidth),g=n(b.gap,1),t=b.remainedWidth,w=b.autoWidthCount,r=(t-m)/(w+(w-1)*g),r=Math.max(r,0);e.each(c,function(b,g){var d=b.maxWidth;!b.width&&d&&d<r&&(d=Math.min(d,t),t-=d,b.width=d,w--)});var r=(t-m)/(w+(w-1)*g),r=Math.max(r,0),h=0,l;e.each(c,function(b,d){b.width||(b.width=r);l=b;h+=b.width*(1+g)});l&&(h-=l.width*g);var A=-h/2;e.each(c,function(b,c){f[d][c]=f[d][c]||{offset:A,width:b.width};A+=b.width*(1+g)})});return f}var e=b(4),n=b(7).parsePercent;c.exports=function(b,c,r){var f=l(e.filter(c.getSeriesByType(b),function(b){return!c.isSeriesFiltered(b)&&b.coordinateSystem&&"cartesian2d"===b.coordinateSystem.type})),k={};c.eachSeriesByType(b,function(b){var d=b.getData(),c=b.coordinateSystem,g=c.getBaseAxis(),e=h(b),m=f[g.dim+g.index][e],r=m.offset,l=m.width,n=c.getOtherAxis(g),A=b.get("barMinHeight")||0,B=g.onZero?n.toGlobalCoord(n.dataToCoord(0)):n.getGlobalExtent()[0],p=c.dataToPoints(d,!0);k[e]=k[e]||[];d.setLayout({offset:r,size:l});d.each(n.dim,function(b,g){if(!isNaN(b)){k[e][g]||(k[e][g]={p:B,n:B});var f=0<=b?"p":"n",c=p[g],m=k[e][g][f],w,u,h;n.isHorizontal()?(w=m,u=c[1]+r,h=c[0]-m,c=l,Math.abs(h)<A&&(h=(0>h?-1:1)*A),k[e][g][f]+=h):(w=c[0]+r,u=m,h=l,c=c[1]-m,Math.abs(c)<A&&(c=(0>=c?-1:1)*A),k[e][g][f]+=c);d.setItemLayout(g,{x:w,y:u,width:h,height:c})}},!0)},this)}},function(c,p,b){c=b(4);p=b(1);b(139);b(141);b(142)("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]);p.registerVisual(c.curry(b(143),"pie"));p.registerLayout(c.curry(b(144),"pie"));p.registerProcessor(c.curry(b(146),"pie"))},function(c,p,b){var h=b(97);p=b(4);var l=b(5),e=b(102),n=b(140),d=b(1).extendSeriesModel({type:"series.pie",init:function(b){d.superApply(this,"init",arguments);this.legendDataProvider=function(){return this._dataBeforeProcessed};this.updateSelectedMap(b.data);this._defaultLabelLine(b)},mergeOption:function(b){d.superCall(this,"mergeOption",b);this.updateSelectedMap(this.option.data)},getInitialData:function(b,d){var f=e(["value"],b.data),f=new h(f,this);f.initData(b.data);return f},getDataParams:function(b){var c=this._data,f=d.superCall(this,"getDataParams",b),k=c.getSum("value");f.percent=k?+(c.get("value",b)/k*100).toFixed(2):0;f.$vars.push("percent");return f},_defaultLabelLine:function(b){l.defaultEmphasis(b.labelLine,["show"]);var d=b.labelLine.normal,f=b.labelLine.emphasis;d.show=d.show&&b.label.normal.show;f.show=f.show&&b.label.emphasis.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,selectedOffset:10,avoidLabelOverlap:!0,label:{normal:{rotate:!1,show:!0,position:"outer"},emphasis:{}},labelLine:{normal:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}}},itemStyle:{normal:{borderWidth:1},emphasis:{}},animationEasing:"cubicOut",data:[]}});p.mixin(d,n);c.exports=d},function(c,p,b){var h=b(4);c.exports={updateSelectedMap:function(b){this._selectTargetMap=h.reduce(b||[],function(b,c){b[c.name]=c;return b},{})},select:function(b){var c=this._selectTargetMap;b=c[b];"single"===this.get("selectedMode")&&h.each(c,function(b){b.selected=!1});b&&(b.selected=!0)},unSelect:function(b){(b=this._selectTargetMap[b])&&(b.selected=!1)},toggleSelected:function(b){var c=this._selectTargetMap[b];if(null!=c)return this[c.selected?"unSelect":"select"](b),c.selected},isSelected:function(b){return(b=this._selectTargetMap[b])&&b.selected}}},function(c,p,b){function h(b,d,c,e){var m=d.getData(),h=m.getName(this.dataIndex),g=d.get("selectedOffset");e.dispatchAction({type:"pieToggleSelect",from:b,name:h,seriesId:d.id});m.each(function(b){l(m.getItemGraphicEl(b),m.getItemLayout(b),d.isSelected(m.getName(b)),g,c)})}function l(b,d,c,e,m){d=(d.startAngle+d.endAngle)/2;c=c?e:0;c=[Math.cos(d)*c,Math.sin(d)*c];m?b.animate().when(200,{position:c}).start("bounceOut"):b.attr("position",c)}function e(b,f){function c(){h.ignore=h.hoverIgnore;g.ignore=g.hoverIgnore}function e(){h.ignore=h.normalIgnore;g.ignore=g.normalIgnore}d.Group.call(this);var m=new d.Sector({z2:2}),h=new d.Polyline,g=new d.Text;this.add(m);this.add(h);this.add(g);this.updateData(b,f,!0);this.on("emphasis",c).on("normal",e).on("mouseover",c).on("mouseout",e)}function n(b,d,c,e,h){e=e.getModel("textStyle");h="inside"===h||"inner"===h;return{fill:e.getTextColor()||(h?"#fff":b.getItemVisual(d,"color")),opacity:b.getItemVisual(d,"opacity"),textFont:e.getFont(),text:m.retrieve(b.hostModel.getFormattedLabel(d,c),b.getName(d))}}var d=b(43),m=b(4);p=e.prototype;p.updateData=function(b,f,c){function e(){n.stopAnimation(!0);n.animateTo({shape:{r:w.r+10}},300,"elasticOut")}function h(){n.stopAnimation(!0);n.animateTo({shape:{r:w.r}},300,"elasticOut")}var n=this.childAt(0),g=b.hostModel,t=b.getItemModel(f),w=b.getItemLayout(f),y=m.extend({},w);y.label=null;c?(n.setShape(y),n.shape.endAngle=w.startAngle,d.updateProps(n,{shape:{endAngle:w.endAngle}},g,f)):d.updateProps(n,{shape:y},g,f);c=t.getModel("itemStyle");y=b.getItemVisual(f,"color");n.useStyle(m.defaults({lineJoin:"bevel",fill:y},c.getModel("normal").getItemStyle()));n.hoverStyle=c.getModel("emphasis").getItemStyle();l(this,b.getItemLayout(f),t.get("selected"),g.get("selectedOffset"),g.get("animation"));n.off("mouseover").off("mouseout").off("emphasis").off("normal");if(t.get("hoverAnimation")&&g.ifEnableAnimation())n.on("mouseover",e).on("mouseout",h).on("emphasis",e).on("normal",h);this._updateLabel(b,f);d.setHoverStyle(this)};p._updateLabel=function(b,f){var c=this.childAt(1),e=this.childAt(2),m=b.hostModel,h=b.getItemModel(f),g=b.getItemLayout(f).label,t=b.getItemVisual(f,"color");d.updateProps(c,{shape:{points:g.linePoints||[[g.x,g.y],[g.x,g.y],[g.x,g.y]]}},m,f);d.updateProps(e,{style:{x:g.x,y:g.y}},m,f);e.attr({style:{textVerticalAlign:g.verticalAlign,textAlign:g.textAlign,textFont:g.font},rotation:g.rotation,origin:[g.x,g.y],z2:10});var m=h.getModel("label.normal"),g=h.getModel("label.emphasis"),w=h.getModel("labelLine.normal"),h=h.getModel("labelLine.emphasis"),y=m.get("position")||g.get("position");e.setStyle(n(b,f,"normal",m,y));e.ignore=e.normalIgnore=!m.get("show");e.hoverIgnore=!g.get("show");c.ignore=c.normalIgnore=!w.get("show");c.hoverIgnore=!h.get("show");c.setStyle({stroke:t,opacity:b.getItemVisual(f,"opacity")});c.setStyle(w.getModel("lineStyle").getLineStyle());e.hoverStyle=n(b,f,"emphasis",g,y);c.hoverStyle=h.getModel("lineStyle").getLineStyle();(e=w.get("smooth"))&&!0===e&&(e=.4);c.setShape({smooth:e})};m.inherits(e,d.Group);b=b(42).extend({type:"pie",init:function(){this._sectorGroup=new d.Group},render:function(b,d,c,u){if(!u||u.from!==this.uid){var l=b.getData(),n=this._data,g=this.group;d=d.get("animation");var t=!n,w=m.curry(h,this.uid,b,d,c),y=b.get("selectedMode");l.diff(n).add(function(b){var d=new e(l,b);t&&d.eachChild(function(b){b.stopAnimation(!0)});y&&d.on("click",w);l.setItemGraphicEl(b,d);g.add(d)}).update(function(b,d){var f=n.getItemGraphicEl(d);f.updateData(l,b);f.off("click");y&&f.on("click",w);g.add(f);l.setItemGraphicEl(b,f)}).remove(function(b){b=n.getItemGraphicEl(b);g.remove(b)}).execute();d&&t&&0<l.count()&&(d=l.getItemLayout(0),c=Math.max(c.getWidth(),c.getHeight())/2,u=m.bind(g.removeClipPath,g),g.setClipPath(this._createClipPath(d.cx,d.cy,c,d.startAngle,d.clockwise,u,b)));this._data=l}},_createClipPath:function(b,f,c,e,m,h,g){b=new d.Sector({shape:{cx:b,cy:f,r0:0,r:c,startAngle:e,endAngle:e,clockwise:m}});d.initProps(b,{shape:{endAngle:e+(m?1:-1)*Math.PI*2}},g,h);return b}});c.exports=b},function(c,p,b){var h=b(1),l=b(4);c.exports=function(b,c){l.each(c,function(d){d.update="updateView";h.registerAction(d,function(c,r){var f={};r.eachComponent({mainType:"series",subType:b,query:c},function(b){if(b[d.method])b[d.method](c.name);var e=b.getData();e.each(function(d){d=e.getName(d);f[d]=b.isSelected(d)||!1})});return{name:c.name,selected:f}})})}},function(c,p){c.exports=function(b,c){var l={};c.eachRawSeriesByType(b,function(b){var n=b.getRawData(),d={};if(!c.isSeriesFiltered(b)){var m=b.getData();m.each(function(b){var f=m.getRawIndex(b);d[f]=b});n.each(function(c){var f=n.getItemModel(c),k=d[c],u=m.getItemVisual(k,"color",!0);u?n.setItemVisual(c,"color",u):(f=f.get("itemStyle.normal.color")||b.getColorFromPalette(n.getName(c),l),n.setItemVisual(c,"color",f),m.setItemVisual(k,"color",f))})}})}},function(c,p,b){var h=b(7),l=h.parsePercent,e=b(145),n=b(4),d=2*Math.PI,m=Math.PI/180;c.exports=function(b,f,c,u){f.eachSeriesByType(b,function(b){var f=b.get("center"),g=b.get("radius");n.isArray(g)||(g=[0,g]);n.isArray(f)||(f=[f,f]);var t=c.getWidth(),w=c.getHeight(),u=Math.min(t,w),r=l(f[0],t),p=l(f[1],w),A=l(g[0],u/2),B=l(g[1],u/2),F=b.getData(),N=-b.get("startAngle")*m,E=b.get("minAngle")*m,G=F.getSum("value"),q=Math.PI/(G||F.count())*2,H=b.get("clockwise"),L=b.get("roseType"),I=F.getDataExtent("value");I[0]=0;var K=d,O=0,M=N,J=H?1:-1;F.each("value",function(b,g){var f;f="area"!==L?0===G?q:b*q:d/(F.count()||1);f<E?(f=E,K-=E):O+=b;var c=M+J*f;F.setItemLayout(g,{angle:f,startAngle:M,endAngle:c,clockwise:H,cx:r,cy:p,r0:A,r:L?h.linearMap(b,I,[A,B]):B});M=c},!0);if(K<d)if(.001>=K){var P=d/F.count();F.each(function(b){var g=F.getItemLayout(b);g.startAngle=N+J*b*P;g.endAngle=N+J*(b+1)*P})}else q=K/O,M=N,F.each("value",function(b,g){var d=F.getItemLayout(g),f=d.angle===E?E:b*q;d.startAngle=M;d.endAngle=M+J*f;M+=f});e(b,B,t,w)})}},function(c,p,b){function h(b,d,c,e,f,k,u){function h(g,d,f,c){for(c=g;c<d;c++)if(b[c].y+=f,c>g&&c+1<d&&b[c+1].y>b[c].y+b[c].height){l(c,f/2);return}l(d-1,f/2)}function l(g,d){for(var f=g;0<=f&&!(b[f].y-=d,0<f&&b[f].y>b[f-1].y+b[f-1].height);f--);}function g(b,g,d,f,c,k){for(var e=g?Number.MAX_VALUE:0,t=0,m=b.length;t<m;t++)if("center"!==b[t].position){var w=Math.abs(b[t].y-f),u=b[t].len,h=b[t].len2,w=w<c+u?Math.sqrt((c+u+h)*(c+u+h)-w*w):Math.abs(b[t].x-d);g&&w>=e&&(w=e-10);!g&&w<=e&&(w=e+10);b[t].x=d+w*k;e=w}}b.sort(function(b,g){return b.y-g.y});var t=0;k=b.length;for(var w=[],y=[],z=0;z<k;z++)t=b[z].y-t,0>t&&h(z,k,-t,f),t=b[z].y+b[z].height;0>u-t&&l(k-1,t-u);for(z=0;z<k;z++)b[z].y>=c?y.push(b[z]):w.push(b[z]);g(w,!1,d,c,e,f);g(y,!0,d,c,e,f)}function l(b,d,c,e,f,k){for(var u=[],l=[],v=0;v<b.length;v++)b[v].x<d?u.push(b[v]):l.push(b[v]);h(l,d,c,e,1,f,k);h(u,d,c,e,-1,f,k);for(v=0;v<b.length;v++)if(c=b[v].linePoints)e=c[1][0]-c[2][0],c[2][0]=b[v].x<d?b[v].x+3:b[v].x-3,c[1][1]=c[2][1]=b[v].y,c[1][0]=c[2][0]+e}var e=b(8);c.exports=function(b,d,c,h){var f=b.getData(),k=[],u,x,v=!1;f.each(function(g){var c=f.getItemLayout(g),m=f.getItemModel(g),h=m.getModel("label.normal"),r=h.get("position")||m.get("label.emphasis.position"),l=m.getModel("labelLine.normal"),m=l.get("length"),l=l.get("length2"),A=(c.startAngle+c.endAngle)/2,B=Math.cos(A),p=Math.sin(A),N,E,G,q;u=c.cx;x=c.cy;var H="inside"===r||"inner"===r;if("center"===r)N=c.cx,E=c.cy,q="center";else{q=(H?(c.r+c.r0)/2*B:c.r*B)+u;var L=(H?(c.r+c.r0)/2*p:c.r*p)+x;N=q+3*B;E=L+3*p;if(!H){G=q+B*(m+d-c.r);var p=L+p*(m+d-c.r),I=G+(0>B?-1:1)*l;N=I+(0>B?-5:5);E=p;G=[[q,L],[G,p],[I,p]]}q=H?"center":0<B?"left":"right"}L=h.getModel("textStyle").getFont();h=h.get("rotate")?0>B?-A+Math.PI:-A:0;g=b.getFormattedLabel(g,"normal")||f.getName(g);g=e.getBoundingRect(g,L,q,"top");v=!!h;c.label={x:N,y:E,position:r,height:g.height,len:m,len2:l,linePoints:G,textAlign:q,verticalAlign:"middle",font:L,rotation:h};H||k.push(c.label)});!v&&b.get("avoidLabelOverlap")&&l(k,u,x,d,c,h)}},function(c,p){c.exports=function(b,c){var l=c.findComponents({mainType:"legend"});l&&l.length&&c.eachSeriesByType(b,function(b){var c=b.getData();c.filterSelf(function(b){b=c.getName(b);for(var e=0;e<l.length;e++)if(!l[e].isSelected(b))return!1;return!0},this)},this)}},function(c,p,b){c=b(4);p=b(1);b(148);b(149);p.registerVisual(c.curry(b(109),"scatter","circle",null));p.registerLayout(c.curry(b(110),"scatter"));b(112)},function(c,p,b){var h=b(101);p=b(28);c.exports=p.extend({type:"series.scatter",dependencies:["grid","polar"],getInitialData:function(b,c){return h(b.data,this,c)},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,polarIndex:0,geoIndex:0,symbolSize:10,large:!1,largeThreshold:2E3,itemStyle:{normal:{opacity:.8}}}})},function(c,p,b){var h=b(104),l=b(150);b(1).extendChartView({type:"scatter",init:function(){this._normalSymbolDraw=new h;this._largeSymbolDraw=new l},render:function(b,c,d){c=b.getData();d=this._largeSymbolDraw;var m=this._normalSymbolDraw,h=this.group;this._symbolDraw=b=b.get("large")&&c.count()>b.get("largeThreshold")?d:m;b.updateData(c);h.add(b.group);h.remove(b===d?m.group:d.group)},updateLayout:function(b){this._symbolDraw.updateLayout(b)},remove:function(b,c){this._symbolDraw&&this._symbolDraw.remove(c,!0)}})},function(c,p,b){function h(){this.group=new l.Group;this._symbolEl=new n({})}var l=b(43),e=b(106),n=l.extendShape({shape:{points:null,sizes:null},symbolProxy:null,buildPath:function(b,c){for(var e=c.points,f=c.sizes,k=this.symbolProxy,u=k.shape,h=0;h<e.length;h++){var l=e[h],g=f[h];4>g[0]?b.rect(l[0]-g[0]/2,l[1]-g[1]/2,g[0],g[1]):(u.x=l[0]-g[0]/2,u.y=l[1]-g[1]/2,u.width=g[0],u.height=g[1],k.buildPath(b,u,!0))}},findDataIndex:function(b,c){for(var e=this.shape,f=e.points,e=e.sizes,k=f.length-1;0<=k;k--){var u=f[k],h=e[k],l=u[0]-h[0]/2,u=u[1]-h[1]/2;if(b>=l&&c>=u&&b<=l+h[0]&&c<=u+h[1])return k}return-1}});p=h.prototype;p.updateData=function(b){this.group.removeAll();var c=this._symbolEl,h=b.hostModel;c.setShape({points:b.mapArray(b.getItemLayout),sizes:b.mapArray(function(f){f=b.getItemVisual(f,"symbolSize");f instanceof Array||(f=[f,f]);return f})});c.symbolProxy=e.createSymbol(b.getVisual("symbol"),0,0,0,0);c.setColor=c.symbolProxy.setColor;c.useStyle(h.getModel("itemStyle.normal").getItemStyle(["color"]));var f=b.getVisual("color");f&&c.setColor(f);c.seriesIndex=h.seriesIndex;c.on("mousemove",function(b){c.dataIndex=null;b=c.findDataIndex(b.offsetX,b.offsetY);0<b&&(c.dataIndex=b)});this.group.add(c)};p.updateLayout=function(b){b=b.getData();this._symbolEl.setShape({points:b.mapArray(b.getItemLayout)})};p.remove=function(){this.group.removeAll()};c.exports=h},function(c,p,b){c=b(4);p=b(1);b(152);b(157);b(158);p.registerVisual(c.curry(b(143),"radar"));p.registerVisual(c.curry(b(109),"radar","circle",null));p.registerLayout(b(159));p.registerProcessor(c.curry(b(146),"radar"));p.registerPreprocessor(b(160))},function(c,p,b){b(153);b(155);b(156)},function(c,p,b){function h(b,d,c){this._model=b;this.dimensions=[];this._indicatorAxes=l.map(b.getIndicatorModels(),function(b,d){var f="indicator_"+d,g=new e(f,new n);g.name=b.get("name");g.model=b;b.axis=g;this.dimensions.push(f);return g},this);this.resize(b,c)}var l=b(4),e=b(154),n=b(117),d=b(7),m=b(114);h.prototype.getIndicatorAxes=function(){return this._indicatorAxes};h.prototype.dataToPoint=function(b,d){return this.coordToPoint(this._indicatorAxes[d].dataToCoord(b),d)};h.prototype.coordToPoint=function(b,d){var c=this._indicatorAxes[d].angle;return[this.cx+b*Math.cos(c),this.cy-b*Math.sin(c)]};h.prototype.pointToData=function(b){var d=b[0]-this.cx,c=b[1]-this.cy;b=Math.sqrt(d*d+c*c);for(var d=Math.atan2(-(c/b),d/b),c=Infinity,e,m=-1,h=0;h<this._indicatorAxes.length;h++){var g=this._indicatorAxes[h],t=Math.abs(d-g.angle);t<c&&(e=g,m=h,c=t)}return[m,+(e&&e.coodToData(b))]};h.prototype.resize=function(b,f){var c=b.get("center"),e=f.getWidth(),m=f.getHeight(),h=Math.min(e,m)/2;this.cx=d.parsePercent(c[0],e);this.cy=d.parsePercent(c[1],m);this.startAngle=b.get("startAngle")*Math.PI/180;this.r=d.parsePercent(b.get("radius"),h);l.each(this._indicatorAxes,function(b,d){b.setExtent(0,this.r);var f=this.startAngle+d*Math.PI*2/this._indicatorAxes.length,f=Math.atan2(Math.sin(f),Math.cos(f));b.angle=f},this)};h.prototype.update=function(b,f){function c(b){var d=Math.pow(10,Math.floor(Math.log(b)/Math.LN10));b/=d;return(2===b?5:2*b)*d}var e=this._indicatorAxes,h=this._model;l.each(e,function(b){b.scale.setExtent(Infinity,-Infinity)});b.eachSeriesByType("radar",function(g,d){if("radar"===g.get("coordinateSystem")&&b.getComponent("radar",g.get("radarIndex"))===h){var f=g.getData();l.each(e,function(b){b.scale.unionExtent(f.getDataExtent(b.dim))})}},this);var n=h.get("splitNumber");l.each(e,function(b,f){var e=m.getScaleExtent(b,b.model);m.niceScaleExtent(b,b.model);var h=b.model,u=b.scale,r=h.get("min"),l=h.get("max"),h=u.getInterval();if(null!=r&&null!=l)u.setInterval((l-r)/n);else if(null!=r){do l=r+h*n,u.setExtent(+r,l),u.setInterval(h),h=c(h);while(l<e[1]&&isFinite(l)&&isFinite(e[1]))}else if(null!=l){do r=l-h*n,u.setExtent(r,+l),u.setInterval(h),h=c(h);while(r>e[0]&&isFinite(r)&&isFinite(e[0]))}else u.getTicks().length-1>n&&(h=c(h)),e=Math.round((e[0]+e[1])/2/h)*h,r=Math.round(n/2),u.setExtent(d.round(e-r*h),d.round(e+(n-r)*h)),u.setInterval(h)})};h.dimensions=[];h.create=function(b,d){var c=[];b.eachComponent("radar",function(e){var m=new h(e,b,d);c.push(m);e.coordinateSystem=m});b.eachSeriesByType("radar",function(b){"radar"===b.get("coordinateSystem")&&(b.coordinateSystem=c[b.get("radarIndex")||0])});return c};b(26).register("radar",h);c.exports=h},function(c,p,b){function h(b,c,d){l.call(this,b,c,d);this.type="value";this.angle=0;this.name=""}p=b(4);var l=b(123);p.inherits(h,l);c.exports=h},function(c,p,b){p=b(128).valueAxis;var h=b(12),l=b(4),e=b(129);b=b(1).extendComponentModel({type:"radar",optionUpdated:function(){var b=this.get("boundaryGap"),d=this.get("splitNumber"),c=this.get("scale"),r=this.get("axisLine"),f=this.get("axisTick"),k=this.get("axisLabel"),u=this.get("name.textStyle"),x=this.get("name.show"),v=this.get("name.formatter"),g=this.get("nameGap"),t=l.map(this.get("indicator")||[],function(t){null!=t.max&&0<t.max?t.min=0:null!=t.min&&0>t.min&&(t.max=0);t=l.merge(l.clone(t),{boundaryGap:b,splitNumber:d,scale:c,axisLine:r,axisTick:f,axisLabel:k,name:t.text,nameLocation:"end",nameGap:g,nameTextStyle:u},!1);x||(t.name="");"string"===typeof v?t.name=v.replace("{value}",t.name):"function"===typeof v&&(t.name=v(t.name,t));return l.extend(new h(t,null,this.ecModel),e)},this);this.getIndicatorModels=function(){return t}},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,name:{show:!0},boundaryGap:[0,0],splitNumber:5,nameGap:15,scale:!1,shape:"polygon",axisLine:l.merge({lineStyle:{color:"#bbb"}},p.axisLine),axisLabel:l.defaults({show:!1},p.axisLabel),axisTick:l.defaults({show:!1},p.axisTick),splitLine:l.defaults({show:!0},p.splitLine),splitArea:l.defaults({show:!0},p.splitArea),indicator:[]}});c.exports=b},function(c,p,b){var h=b(132),l=b(4),e=b(43),n=["axisLine","axisLabel","axisTick","axisName"];c.exports=b(1).extendComponentView({type:"radar",render:function(b,c,e){this.group.removeAll();this._buildAxes(b);this._buildSplitLineAndArea(b)},_buildAxes:function(b){var c=b.coordinateSystem;b=c.getIndicatorAxes();b=l.map(b,function(b){return new h(b.model,{position:[c.cx,c.cy],rotation:b.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})});l.each(b,function(b){l.each(n,b.add,b);this.group.add(b.getGroup())},this)},_buildSplitLineAndArea:function(b){function c(b,g,d){g=d%g.length;b[g]=b[g]||[];return g}var h=b.coordinateSystem,f=b.get("splitNumber"),k=h.getIndicatorAxes();if(k.length){var u=b.get("shape"),n=b.getModel("splitLine"),v=b.getModel("splitArea");b=n.getModel("lineStyle");var g=v.getModel("areaStyle"),n=n.get("show"),v=v.get("show"),t=b.get("color"),w=g.get("color"),t=l.isArray(t)?t:[t],w=l.isArray(w)?w:[w],y=[],z=[];if("circle"===u)for(var f=k[0].getTicksCoords(),k=h.cx,p=h.cy,u=0;u<f.length;u++){if(n){var A=c(y,t,u);y[A].push(new e.Circle({shape:{cx:k,cy:p,r:f[u]}}))}v&&u<f.length-1&&(A=c(z,w,u),z[A].push(new e.Ring({shape:{cx:k,cy:p,r0:f[u],r:f[u+1]}})))}else for(var p=l.map(k,function(b,g){var d=b.getTicksCoords();return l.map(d,function(b){return h.coordToPoint(b,g)})}),B=[],u=0;u<=f;u++){for(var F=[],A=0;A<k.length;A++)F.push(p[A][u]);F.push(F[0].slice());n&&(A=c(y,t,u),y[A].push(new e.Polyline({shape:{points:F}})));v&&B&&(A=c(z,w,u-1),z[A].push(new e.Polygon({shape:{points:F.concat(B)}})));B=F.slice().reverse()}var N=b.getLineStyle(),E=g.getAreaStyle();l.each(z,function(b,g){this.group.add(e.mergePath(b,{style:l.defaults({stroke:"none",fill:w[g%w.length]},E),silent:!0}))},this);l.each(y,function(b,g){this.group.add(e.mergePath(b,{style:l.defaults({fill:"none",stroke:t[g%t.length]},N),silent:!0}))},this)}}})},function(c,p,b){p=b(28);var h=b(97),l=b(102),e=b(4),n=p.extend({type:"series.radar",dependencies:["radar"],init:function(b){n.superApply(this,"init",arguments);this.legendDataProvider=function(){return this._dataBeforeProcessed}},getInitialData:function(b,c){var e=b.data||[],f=l([],e,[],"indicator_"),f=new h(f,this);f.initData(e);return f},formatTooltip:function(b){var c=this.getRawValue(b),h=this.coordinateSystem.getIndicatorAxes();return(""==this._data.getName(b)?this.name:this._data.getName(b))+"\x3cbr/\x3e"+e.map(h,function(b,d){return b.name+" : "+c[d]}).join("\x3cbr /\x3e")},defaultOption:{zlevel:0,z:2,coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{normal:{width:2,type:"solid"}},label:{normal:{position:"top"}},symbol:"emptyCircle",symbolSize:4}});c.exports=n},function(c,p,b){function h(b){e.isArray(b)||(b=[+b,+b]);return b}var l=b(43),e=b(4),n=b(106);c.exports=b(1).extendChartView({type:"radar",render:function(b,c,r){function f(g,c,f,e,k,m){f.removeAll();for(var u=0;u<c.length-1;u++){var r;r=e;var v=k,x=r.getItemVisual(v,"symbol")||"circle",p=r.getItemVisual(v,"color");"none"===x?r=void 0:(x=n.createSymbol(x,-.5,-.5,1,1,p),x.attr({style:{strokeNoScale:!0},z2:100,scale:h(r.getItemVisual(v,"symbolSize"))}),r=x);r&&(r.__dimIdx=u,g[u]?(r.attr("position",g[u]),l[m?"initProps":"updateProps"](r,{position:c[u]},b,k)):r.attr("position",c[u]),f.add(r))}}function k(b){return e.map(b,function(b){return[u.cx,u.cy]})}var u=b.coordinateSystem,x=this.group,v=b.getData(),g=this._data;v.diff(g).add(function(g){var c=v.getItemLayout(g);if(c){var e=new l.Polygon,m=new l.Polyline,h={shape:{points:c}};e.shape.points=k(c);m.shape.points=k(c);l.initProps(e,h,b,g);l.initProps(m,h,b,g);var h=new l.Group,u=new l.Group;h.add(m);h.add(e);h.add(u);f(m.shape.points,c,u,v,g,!0);v.setItemGraphicEl(g,h)}}).update(function(c,e){var k=g.getItemGraphicEl(e),m=k.childAt(0),h=k.childAt(1),u=k.childAt(2),r={shape:{points:v.getItemLayout(c)}};r.shape.points&&(f(m.shape.points,r.shape.points,u,v,c,!1),l.updateProps(m,r,b),l.updateProps(h,r,b),v.setItemGraphicEl(c,k))}).remove(function(b){x.remove(g.getItemGraphicEl(b))}).execute();v.eachItemGraphicEl(function(g,c){function f(){u.attr("ignore",q)}function k(){u.attr("ignore",G)}var m=v.getItemModel(c),h=g.childAt(0),u=g.childAt(1),r=g.childAt(2),n=v.getItemVisual(c,"color");x.add(g);h.useStyle(e.defaults(m.getModel("lineStyle.normal").getLineStyle(),{fill:"none",stroke:n}));h.hoverStyle=m.getModel("lineStyle.emphasis").getLineStyle();var h=m.getModel("areaStyle.normal"),p=m.getModel("areaStyle.emphasis"),G=h.isEmpty()&&h.parentModel.isEmpty(),q=p.isEmpty()&&p.parentModel.isEmpty(),q=q&&G;u.ignore=G;u.useStyle(e.defaults(h.getAreaStyle(),{fill:n,opacity:.7}));u.hoverStyle=p.getAreaStyle();var H=m.getModel("itemStyle.normal").getItemStyle(["color"]),L=m.getModel("itemStyle.emphasis").getItemStyle(),I=m.getModel("label.normal"),K=m.getModel("label.emphasis");r.eachChild(function(g){g.setStyle(H);g.hoverStyle=e.clone(L);var f=v.get(v.dimensions[g.__dimIdx],c);l.setText(g.style,I,n);g.setStyle({text:I.get("show")?e.retrieve(b.getFormattedLabel(c,"normal",null,g.__dimIdx),f):""});l.setText(g.hoverStyle,K,n);g.hoverStyle.text=K.get("show")?e.retrieve(b.getFormattedLabel(c,"emphasis",null,g.__dimIdx),f):""});g.off("mouseover").off("mouseout").off("normal").off("emphasis");g.on("emphasis",f).on("mouseover",f).on("normal",k).on("mouseout",k);l.setHoverStyle(g)});this._data=v},remove:function(){this.group.removeAll();this._data=null}})},function(c,p){c.exports=function(b){b.eachSeriesByType("radar",function(b){function c(b,f){n[f]=n[f]||[];n[f][m]=d.dataToPoint(b,m)}var e=b.getData(),n=[],d=b.coordinateSystem;if(d){for(var m=0;m<d.getIndicatorAxes().length;m++)e.each(e.dimensions[m],c);e.each(function(b){n[b][0]&&n[b].push(n[b][0].slice());e.setItemLayout(b,n[b])})}})}},function(c,p,b){var h=b(4);c.exports=function(b){var c=b.polar;if(c){h.isArray(c)||(c=[c]);var n=[];h.each(c,function(d,c){d.indicator?(d.type&&!d.shape&&(d.shape=d.type),b.radar=b.radar||[],h.isArray(b.radar)||(b.radar=[b.radar]),b.radar.push(d)):n.push(d)});b.polar=n}h.each(b.series,function(b){"radar"===b.type&&b.polarIndex&&(b.radarIndex=b.polarIndex)})}},function(c,p,b){c=b(1);p=c.PRIORITY;b(162);b(172);b(176);b(163);c.registerLayout(b(178));c.registerVisual(b(179));c.registerProcessor(p.PROCESSOR.STATISTIC,b(180));c.registerPreprocessor(b(181));b(142)("map",[{type:"mapToggleSelect",event:"mapselectchanged",method:"toggleSelected"},{type:"mapSelect",event:"mapselected",method:"select"},{type:"mapUnSelect",event:"mapunselected",method:"unSelect"}])},function(c,p,b){var h=b(97);p=b(28);var l=b(4),e=b(102),n=b(6),d=n.encodeHTML,m=n.addCommas,n=b(140),r=b(163),f=p.extend({type:"series.map",layoutMode:"box",needsDrawMap:!1,seriesGroup:[],init:function(b){this.option=b=this._fillOption(b,b.map);f.superApply(this,"init",arguments);this.updateSelectedMap(b.data)},getInitialData:function(b){var d=e(["value"],b.data||[]),d=new h(d,this);d.initData(b.data);return d},mergeOption:function(b){b.data&&(b=this._fillOption(b,this.option.map));f.superCall(this,"mergeOption",b);this.updateSelectedMap(this.option.data)},_fillOption:function(b,d){b=l.extend({},b);b.data=r.getFilledRegions(b.data,d);return b},getRawValue:function(b){return this._data.get("value",b)},getRegionModel:function(b){var d=this.getData();return d.getItemModel(d.indexOfName(b))},formatTooltip:function(b){var c=this.getData(),f=m(this.getRawValue(b));b=c.getName(b);for(var c=this.seriesGroup,e=[],g=0;g<c.length;g++){var t=c[g].originalData.indexOfName(b);isNaN(c[g].originalData.get("value",t))||e.push(d(c[g].name))}return e.join(", ")+"\x3cbr /\x3e"+b+" : "+f},defaultOption:{zlevel:0,z:2,coordinateSystem:"geo",map:"china",left:"center",top:"center",aspectScale:.75,showLegendSymbol:!0,dataRangeHoverLink:!0,center:null,zoom:1,scaleLimit:null,label:{normal:{show:!1,textStyle:{color:"#000"}},emphasis:{show:!0,textStyle:{color:"rgb(100,0,0)"}}},itemStyle:{normal:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{areaColor:"rgba(255,215,0,0.8)"}}},setZoom:function(b){this.option.zoom=b},setCenter:function(b){this.option.center=b}});l.mixin(f,n);c.exports=f},function(c,p,b){function h(b,d){var c=this.getBoundingRect(),g;g=b.get("layoutCenter");var f=b.get("layoutSize"),e=d.getWidth(),k=d.getHeight(),h=b.get("aspectScale")||.75,c=c.width/c.height*h,h=!1;g&&f&&(g=[m.parsePercent(g[0],e),m.parsePercent(g[1],k)],f=m.parsePercent(f,Math.min(e,k)),isNaN(g[0])||isNaN(g[1])||isNaN(f)?console.warn("Given layoutCenter or layoutSize data are invalid. Use left/top/width/height instead."):h=!0);h?(e={},1<c?(e.width=f,e.height=f/c):(e.height=f,e.width=f*c),e.y=g[1]-e.height/2,e.x=g[0]-e.width/2):(g=b.getBoxLayoutParams(),g.aspect=c,e=n.getLayoutRect(g,{width:e,height:k}));this.setViewRect(e.x,e.y,e.width,e.height);this.setCenter(b.get("center"));this.setZoom(b.get("zoom"))}function l(b,c){d.each(c.get("geoCoord"),function(d,g){b.addGeoCoord(g,d)})}var e=b(164),n=b(21),d=b(4),m=b(7),r={},f=function(b){console.error("Map "+b+" not exists. You can download map file on http://echarts.baidu.com/download-map.html")},k={dimensions:e.prototype.dimensions,create:function(b,c){var k=[];b.eachComponent("geo",function(b,g){var d=b.get("map"),m=r[d];m||f(d);d=new e(d+g,d,m&&m.geoJson,m&&m.specialAreas,b.get("nameMap"));d.zoomLimit=b.get("scaleLimit");k.push(d);l(d,b);b.coordinateSystem=d;d.model=b;d.resize=h;d.resize(b,c)});b.eachSeries(function(b){if("geo"===b.get("coordinateSystem")){var g=b.get("geoIndex")||0;b.coordinateSystem=k[g]}});var g={};b.eachSeriesByType("map",function(b){var d=b.get("map");g[d]=g[d]||[];g[d].push(b)});d.each(g,function(b,g){var m=r[g];m||f(b[0].get("map"));var u=d.map(b,function(b){return b.get("nameMap")}),n=new e(g,g,m&&m.geoJson,m&&m.specialAreas,d.mergeAll(u));n.zoomLimit=d.retrieve.apply(null,d.map(b,function(b){return b.get("scaleLimit")}));k.push(n);n.resize=h;n.resize(b[0],c);d.each(b,function(b){b.coordinateSystem=n;l(n,b)})});return k},registerMap:function(b,d,c){d.geoJson&&!d.features&&(c=d.specialAreas,d=d.geoJson);"string"===typeof d&&(d="undefined"!==typeof JSON&&JSON.parse?JSON.parse(d):(new Function("return ("+d+");"))());r[b]={geoJson:d,specialAreas:c}},getMap:function(b){return r[b]},getFilledRegions:function(b,d){var c=(b||[]).slice(),g=k.getMap(d),e=g&&g.geoJson;if(!e)return f(d),b;for(var g={},e=e.features,m=0;m<c.length;m++)g[c[m].name]=c[m];for(m=0;m<e.length;m++){var h=e[m].properties.name;g[h]||c.push({name:h})}return c}};p=b(1);p.registerMap=k.registerMap;p.getMap=k.getMap;p.loadMap=function(){};p.registerCoordinateSystem("geo",k);c.exports=k},function(c,p,b){function h(b,c,e,m,h){d.call(this,b);this.map=c;this._nameCoordMap={};this.loadGeoJson(e,m,h)}var l=b(165),e=b(4),n=b(9),d=b(168),m=[b(169),b(170),b(171)];h.prototype={constructor:h,type:"geo",dimensions:["lng","lat"],containCoord:function(b){for(var d=this.regions,c=0;c<d.length;c++)if(d[c].contain(b))return!0;return!1},loadGeoJson:function(b,d,c){try{this.regions=b?l(b):[]}catch(g){throw"Invalid geoJson format\n"+g;}d=d||{};c=c||{};b=this.regions;for(var h={},n=0;n<b.length;n++){var v=b[n].name,v=c[v]||v;b[n].name=v;h[v]=b[n];this.addGeoCoord(v,b[n].center);(v=d[v])&&b[n].transformTo(v.left,v.top,v.width,v.height)}this._regionsMap=h;this._rect=null;e.each(m,function(b){b(this)},this)},transformTo:function(b,d,c,e){var m=this.getBoundingRect(),m=m.clone();m.y=-m.y-m.height;var h=this._viewTransform;h.transform=m.calculateTransform(new n(b,d,c,e));h.decomposeTransform();b=h.scale;b[1]=-b[1];h.updateTransform();this._updateTransform()},getRegion:function(b){return this._regionsMap[b]},getRegionByCoord:function(b){for(var d=this.regions,c=0;c<d.length;c++)if(d[c].contain(b))return d[c]},addGeoCoord:function(b,d){this._nameCoordMap[b]=d},getGeoCoord:function(b){return this._nameCoordMap[b]},getBoundingRect:function(){if(this._rect)return this._rect;for(var b,d=this.regions,c=0;c<d.length;c++){var e=d[c].getBoundingRect();b=b||e.clone();b.union(e)}return this._rect=b||new n(0,0,0,0)},dataToPoints:function(b){var d=[];return b.mapArray(["lng","lat"],function(b,c){d[0]=b;d[1]=c;return this.dataToPoint(d)},this)},dataToPoint:function(b){"string"===typeof b&&(b=this.getGeoCoord(b));if(b)return d.prototype.dataToPoint.call(this,b)}};e.mixin(h,d);c.exports=h},function(c,p,b){function h(b){if(!b.UTF8Encoding)return b;for(var c=b.features,e=0;e<c.length;e++)for(var f=c[e].geometry,k=f.coordinates,h=f.encodeOffsets,n=0;n<k.length;n++){var v=k[n];if("Polygon"===f.type)k[n]=l(v,h[n]);else if("MultiPolygon"===f.type)for(var g=0;g<v.length;g++)v[g]=l(v[g],h[n][g])}b.UTF8Encoding=!1;return b}function l(b,c){for(var e=[],f=c[0],k=c[1],h=0;h<b.length;h+=2){var l=b.charCodeAt(h)-64,n=b.charCodeAt(h+1)-64,l=l>>1^-(l&1),n=n>>1^-(n&1),l=l+f,n=n+k,f=l,k=n;e.push([l/1024,n/1024])}return e}var e=b(4),n=b(166);c.exports=function(b){h(b);return e.map(e.filter(b.features,function(b){return b.geometry&&b.properties}),function(b){var d=b.properties;b=b.geometry;var c=b.coordinates;if("MultiPolygon"===b.type){b=c;for(var c=[],e=0;e<b.length;e++)for(var h=0;h<b[e].length;h++)c.push(b[e][h])}return new n(d.name,c,d.cp)})}},function(c,p,b){function h(b,d,c){this.name=b;this.contours=d;c?c=[c[0],c[1]]:(b=this.getBoundingRect(),c=[b.x+b.width/2,b.y+b.height/2]);this.center=c}var l=b(167),e=b(9),n=b(51),d=b(10);h.prototype={constructor:h,getBoundingRect:function(){var b=this._rect;if(b)return b;for(var c=Number.MAX_VALUE,b=[c,c],c=[-c,-c],f=[],k=[],h=this.contours,l=0;l<h.length;l++)n.fromPoints(h[l],f,k),d.min(b,b,f),d.max(c,c,k);0===l&&(b[0]=b[1]=c[0]=c[1]=0);return this._rect=new e(b[0],b[1],c[0]-b[0],c[1]-b[1])},contain:function(b){var d=this.getBoundingRect(),c=this.contours;if(d.contain(b[0],b[1]))for(var d=0,e=c.length;d<e;d++)if(l.contain(c[d],b[0],b[1]))return!0;return!1},transformTo:function(b,c,f,k){var h=this.getBoundingRect(),l=h.width/h.height;f?k||(k=f/l):f=l*k;b=new e(b,c,f,k);h=h.calculateTransform(b);c=this.contours;for(f=0;f<c.length;f++)for(k=0;k<c[f].length;k++)d.applyTransform(c[f][k],c[f][k],h);h=this._rect;h.copy(b);this.center=[h.x+h.width/2,h.y+h.height/2]}};c.exports=h},function(c,p,b){var h=b(58);c.exports={contain:function(b,c,n){var d=0,m=b[0];if(!m)return!1;for(var r=1;r<b.length;r++)var f=b[r],d=d+h(m[0],m[1],f[0],f[1],c,n),m=f;b=b[0];1E-8>Math.abs(m[0]-b[0])&&1E-8>Math.abs(m[1]-b[1])||(d+=h(m[0],m[1],b[0],b[1],c,n));return 0!==d}}},function(c,p,b){function h(){d.call(this)}function l(b){this.name=b;d.call(this);this._roamTransform=new h;this._viewTransform=new h;this._center;this._zoom}var e=b(10),n=b(11),d=b(34);p=b(4);var m=b(9),r=e.applyTransform;p.mixin(h,d);l.prototype={constructor:l,type:"view",dimensions:["x","y"],setBoundingRect:function(b,d,c,e){return this._rect=new m(b,d,c,e)},getBoundingRect:function(){return this._rect},setViewRect:function(b,d,c,e){this.transformTo(b,d,c,e);this._viewRect=new m(b,d,c,e)},transformTo:function(b,d,c,e){var h=this.getBoundingRect(),g=this._viewTransform;g.transform=h.calculateTransform(new m(b,d,c,e));g.decomposeTransform();this._updateTransform()},setCenter:function(b){b&&(this._center=b,this._updateCenterAndZoom())},setZoom:function(b){b=b||1;var d=this.zoomLimit;d&&(null!=d.max&&(b=Math.min(d.max,b)),null!=d.min&&(b=Math.max(d.min,b)));this._zoom=b;this._updateCenterAndZoom()},getDefaultCenter:function(){var b=this.getBoundingRect();return[b.x+b.width/2,b.y+b.height/2]},getCenter:function(){return this._center||this.getDefaultCenter()},getZoom:function(){return this._zoom||1},getRoamTransform:function(){return this._roamTransform},_updateCenterAndZoom:function(){var b=this._viewTransform.getLocalTransform(),d=this._roamTransform,c=this.getDefaultCenter(),m=this.getCenter(),h=this.getZoom(),m=e.applyTransform([],m,b),c=e.applyTransform([],c,b);d.origin=m;d.position=[c[0]-m[0],c[1]-m[1]];d.scale=[h,h];this._updateTransform()},_updateTransform:function(){var b=this._roamTransform,d=this._viewTransform;d.parent=b;b.updateTransform();d.updateTransform();d.transform&&n.copy(this.transform||(this.transform=[]),d.transform);this.transform?(this.invTransform=this.invTransform||[],n.invert(this.invTransform,this.transform)):this.invTransform=null;this.decomposeTransform()},getViewRect:function(){return this._viewRect},getViewRectAfterRoam:function(){var b=this.getBoundingRect().clone();b.applyTransform(this.transform);return b},dataToPoint:function(b){var d=this.transform;return d?r([],b,d):[b[0],b[1]]},pointToData:function(b){var d=this.invTransform;return d?r([],b,d):[b[0],b[1]]}};p.mixin(l,d);c.exports=l},function(c,p,b){var h=b(166),l=[126,25],e=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]];for(p=0;p<e.length;p++)for(b=0;b<e[p].length;b++)e[p][b][0]/=10.5,e[p][b][1]/=-14,e[p][b][0]+=l[0],e[p][b][1]+=l[1];c.exports=function(b){"china"===b.map&&b.regions.push(new h("\u5357\u6d77\u8bf8\u5c9b",e,l))}},function(c,p,b){var h=b(4),l={"\u5357\u6d77\u8bf8\u5c9b":[32,80],"\u5e7f\u4e1c":[0,-10],"\u9999\u6e2f":[10,5],"\u6fb3\u95e8":[-10,10],"\u5929\u6d25":[5,5]};c.exports=function(b){h.each(b.regions,function(b){var d=l[b.name];d&&(b=b.center,b[0]+=d[0]/10.5,b[1]+=-d[1]/14)})}},function(c,p,b){var h=b(4),l={Russia:[100,60],"United States of America":[-99,38]};c.exports=function(b){h.each(b.regions,function(b){var d=l[b.name];d&&(b=b.center,b[0]=d[0],b[1]=d[1])})}},function(c,p,b){var h=b(43),l=b(173);b(1).extendChartView({type:"map",render:function(b,c,d,m){if(!m||"mapToggleSelect"!==m.type||m.from!==this.uid){var h=this.group;h.removeAll();if(m&&"geoRoam"===m.type&&"series"===m.component&&m.name===b.name)(f=this._mapDraw)&&h.add(f.group);else if(b.needsDrawMap){var f=this._mapDraw||new l(d,!0);h.add(f.group);f.draw(b,c,d,this,m);this._mapDraw=f}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;b.get("showLegendSymbol")&&c.getComponent("legend")&&this._renderSymbols(b,c,d)}},remove:function(){this._mapDraw&&this._mapDraw.remove();this._mapDraw=null;this.group.removeAll()},_renderSymbols:function(b,c,d){var m=b.originalData,r=this.group;m.each("value",function(d,c){if(!isNaN(d)){var u=m.getItemLayout(c);if(u&&u.point){var l=u.point,u=u.offset,n=new h.Circle({style:{fill:b.getData().getVisual("color")},shape:{cx:l[0]+9*u,cy:l[1],r:3},silent:!0,z2:10});if(!u){var l=b.mainSeries.getData(),g=m.getName(c),u=l.indexOfName(g),t=m.getItemModel(c),w=t.getModel("label.normal"),y=t.getModel("label.emphasis"),z=w.getModel("textStyle"),p=y.getModel("textStyle"),l=l.getItemGraphicEl(u);n.setStyle({textPosition:"bottom"});u=function(){n.setStyle({text:y.get("show")?g:"",textFill:p.getTextColor(),textFont:p.getFont()})};t=function(){n.setStyle({text:w.get("show")?g:"",textFill:z.getTextColor(),textFont:z.getFont()})};l.on("mouseover",u).on("mouseout",t).on("emphasis",u).on("normal",t);t()}r.add(n)}}})}})},function(c,p,b){function h(b,d){var c=b.getItemStyle(),e=b.get("areaColor");e&&(c.fill=e);return c}function l(b,d,c,m){d.off("click");b.get("selectedMode")&&d.on("click",function(h){for(h=h.target;!h.__region;)h=h.parent;h&&(h={type:("geo"===b.mainType?"geo":"map")+"ToggleSelect",name:h.__region.name,from:m.uid},h[b.mainType+"Id"]=b.id,c.dispatchAction(h),e(b,d))})}function e(b,d){d.eachChild(function(d){d.__region&&d.trigger(b.isSelected(d.__region.name)?"emphasis":"normal")})}function n(b,c){var e=new m.Group;this._controller=new d(b.getZr(),c?e:null,null);this.group=e;this._updateGroup=c}var d=b(174),m=b(43),r=b(4);n.prototype={constructor:n,draw:function(b,d,c,n,v){var g=b.getData&&b.getData(),t=b.coordinateSystem,w=this.group,y=t.scale,z={position:t.position,scale:y};!w.childAt(0)||v?w.attr(z):m.updateProps(w,z,b);w.removeAll();var p=["itemStyle","normal"],A=["itemStyle","emphasis"],B=["label","normal"],F=["label","emphasis"];r.each(t.regions,function(d){var c=new m.Group,e=new m.CompoundPath({shape:{paths:[]}});c.add(e);var k=b.getRegionModel(d.name)||b,t=k.getModel(p),u=k.getModel(A),l=h(t,y),u=h(u,y),n=k.getModel(B),v=k.getModel(F),x;g&&(x=g.indexOfName(d.name),k=g.getItemVisual(x,"color",!0))&&(l.fill=k);k=n.getModel("textStyle");t=v.getModel("textStyle");r.each(d.contours,function(b){b=new m.Polygon({shape:{points:b}});e.shape.paths.push(b)});e.setStyle(l);e.style.strokeNoScale=!0;e.culling=!0;var l=n.get("show"),n=v.get("show"),v=g&&isNaN(g.get("value",x)),z=g&&g.getItemLayout(x);if(!g||v&&(l||n)||z&&z.showLabel)z=g?x:d.name,v=b.getFormattedLabel(z,"normal"),z=b.getFormattedLabel(z,"emphasis"),k=new m.Text({style:{text:l?v||d.name:"",fill:k.getTextColor(),textFont:k.getFont(),textAlign:"center",textVerticalAlign:"middle"},hoverStyle:{text:n?z||d.name:"",fill:t.getTextColor(),textFont:t.getFont()},position:d.center.slice(),scale:[1/y[0],1/y[1]],z2:10,silent:!0}),c.add(k);g?g.setItemGraphicEl(x,c):(k=b.getRegionModel(d.name),e.eventData={componentType:"geo",geoIndex:b.componentIndex,name:d.name,region:k&&k.option||{}});c.__region=d;m.setHoverStyle(c,u);w.add(c)});this._updateController(b,d,c);l(b,w,c,n);e(b,w)},remove:function(){this.group.removeAll();this._controller.dispose()},_updateController:function(b,d,c){function e(){var d={type:"geoRoam",componentType:g};d[g+"Id"]=b.id;return d}var m=b.coordinateSystem;d=this._controller;d.zoomLimit=b.get("scaleLimit");d.zoom=m.getZoom();d.enable(b.get("roam")||!1);var g=b.mainType;d.off("pan").on("pan",function(b,g){c.dispatchAction(r.extend(e(),{dx:b,dy:g}))});d.off("zoom").on("zoom",function(b,g,d){c.dispatchAction(r.extend(e(),{zoom:b,originX:g,originY:d}));if(this._updateGroup){b=this.group;var f=b.scale;b.traverse(function(b){"text"===b.type&&b.attr("scale",[1/f[0],1/f[1]])})}},this);d.rectProvider=function(){return m.getViewRectAfterRoam()}}};c.exports=n},function(c,p,b){function h(b){if(!b.target||!b.target.draggable){var g=b.offsetX;b=b.offsetY;var d=this.rectProvider&&this.rectProvider();d&&d.contain(g,b)&&(this._x=g,this._y=b,this._dragging=!0)}}function l(b){if(this._dragging&&(u.stop(b.event),"pinch"!==b.gestureEvent&&!x.isTaken(this._zr,"globalPan"))){var g=b.offsetX,d=b.offsetY,c=g-this._x,f=d-this._y;this._x=g;this._y=d;if(g=this.target)d=g.position,d[0]+=c,d[1]+=f,g.dirty();u.stop(b.event);this.trigger("pan",c,f)}}function e(b){this._dragging=!1}function n(b){m.call(this,b,0<b.wheelDelta?1.1:1/1.1,b.offsetX,b.offsetY)}function d(b){x.isTaken(this._zr,"globalPan")||m.call(this,b,1<b.pinchScale?1.1:1/1.1,b.pinchX,b.pinchY)}function m(b,g,d,c){var f=this.rectProvider&&this.rectProvider();if(f&&f.contain(d,c)){u.stop(b.event);b=this.target;var e=this.zoomLimit;if(b){var f=b.position,k=b.scale,m=this.zoom=this.zoom||1,m=m*g;e&&(m=Math.max(Math.min(e.max||Infinity,m),e.min||0));e=m/this.zoom;this.zoom=m;f[0]-=(d-f[0])*(e-1);f[1]-=(c-f[1])*(e-1);k[0]*=e;k[1]*=e;b.dirty()}this.trigger("zoom",g,d,c)}}function r(b,g,c){this.target=g;this.rectProvider=c;this._zr=b;g=k.bind;var m=g(h,this),u=g(l,this),r=g(e,this),x=g(n,this),A=g(d,this);f.call(this);this.enable=function(g){this.disable();null==g&&(g=!0);if(!0===g||"move"===g||"pan"===g)b.on("mousedown",m),b.on("mousemove",u),b.on("mouseup",r);if(!0===g||"scale"===g||"zoom"===g)b.on("mousewheel",x),b.on("pinch",A)};this.dispose=this.disable=function(){b.off("mousedown",m);b.off("mousemove",u);b.off("mouseup",r);b.off("mousewheel",x);b.off("pinch",A)};this.isDragging=function(){return this._dragging};this.isPinching=function(){return this._pinching}}var f=b(33),k=b(4),u=b(87),x=b(175);k.mixin(r,f);c.exports=r},function(c,p,b){b(1).registerAction({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){});c.exports={take:function(b,c,e){(b["\x00_ec_interaction_mutex"]||(b["\x00_ec_interaction_mutex"]={}))[c]=e},release:function(b,c,e){b=b["\x00_ec_interaction_mutex"]||(b["\x00_ec_interaction_mutex"]={});b[c]===e&&(b[c]=null)},isTaken:function(b,c){return!!(b["\x00_ec_interaction_mutex"]||(b["\x00_ec_interaction_mutex"]={}))[c]}}},function(c,p,b){var h=b(4),l=b(177);b(1).registerAction({type:"geoRoam",event:"geoRoam",update:"updateLayout"},function(b,c){var d=b.componentType||"series";c.eachComponent({mainType:d,query:b},function(c){var r=c.coordinateSystem;if("geo"===r.type){var f=l.updateCenterAndZoom(r,b,c.get("scaleLimit"));c.setCenter&&c.setCenter(f.center);c.setZoom&&c.setZoom(f.zoom);"series"===d&&h.each(c.seriesGroup,function(b){b.setCenter(f.center);b.setZoom(f.zoom)})}})})},function(c,p){c.exports={updateCenterAndZoom:function(b,c,l){var e=b.getZoom(),n=b.getCenter(),d=c.zoom,m=b.dataToPoint(n);null!=c.dx&&null!=c.dy&&(m[0]-=c.dx,m[1]-=c.dy,n=b.pointToData(m),b.setCenter(n));null!=d&&(l&&(d=Math.max(Math.min(e*d,l.max||Infinity),l.min||0)/e),b.scale[0]*=d,b.scale[1]*=d,l=b.position,n=(c.originY-l[1])*(d-1),l[0]-=(c.originX-l[0])*(d-1),l[1]-=n,b.updateTransform(),n=b.pointToData(m),b.setCenter(n),b.setZoom(d*e));return{center:b.getCenter(),zoom:b.getZoom()}}}},function(c,p,b){var h=b(4);c.exports=function(b){var c={};b.eachSeriesByType("map",function(n){var d=n.get("map");if(!c[d]){var m={};h.each(n.seriesGroup,function(d){var c=d.coordinateSystem,e=d.originalData;d.get("showLegendSymbol")&&b.getComponent("legend")&&e.each("value",function(b,d){var g=e.getName(d),f=c.getRegion(g);if(f&&!isNaN(b)){var h=m[g]||0,f=c.dataToPoint(f.center);m[g]=h+1;e.setItemLayout(d,{point:f,offset:h})}})});var r=n.getData();r.each(function(b){var d=r.getName(b),c=r.getItemLayout(b)||{};c.showLabel=!m[d];r.setItemLayout(b,c)});c[d]=!0}})}},function(c,p){c.exports=function(b){b.eachSeriesByType("map",function(b){var c=b.get("color"),e=b.getModel("itemStyle.normal"),n=e.get("areaColor"),c=e.get("color")||c[b.seriesIndex%c.length];b.getData().setVisual({areaColor:n,color:c})})}},function(c,p,b){function h(b,c){for(var d={},m=["value"],h=0;h<b.length;h++)b[h].each(m,function(c,k){var m=b[h].getName(k);d[m]=d[m]||[];isNaN(c)||d[m].push(c)});return b[0].map(m,function(f,k){for(var m=b[0].getName(k),h=0,r=Infinity,g=-Infinity,t=d[m].length,w=0;w<t;w++)r=Math.min(r,d[m][w]),g=Math.max(g,d[m][w]),h+=d[m][w];m="min"===c?r:"max"===c?g:"average"===c?h/t:h;return 0===t?NaN:m})}var l=b(4);c.exports=function(b){var c={};b.eachSeriesByType("map",function(b){var e=b.get("map");c[e]=c[e]||[];c[e].push(b)});l.each(c,function(b,c){for(var e=h(l.map(b,function(b){return b.getData()}),b[0].get("mapValueCalculation")),f=0;f<b.length;f++)b[f].originalData=b[f].getData();for(f=0;f<b.length;f++)b[f].seriesGroup=b,b[f].needsDrawMap=0===f,b[f].setData(e.cloneShallow()),b[f].mainSeries=b[0]})}},function(c,p,b){var h=b(4);c.exports=function(b){var c=[];h.each(b.series,function(b){"map"===b.type&&c.push(b)});h.each(c,function(b){b.map=b.map||b.mapType;h.defaults(b,b.mapLocation)})}},function(c,p,b){c=b(1);b(183);b(186);b(190);c.registerVisual(b(191));c.registerLayout(b(193))},function(c,p,b){function h(b,c){var f=0;d.each(b.children,function(b){h(b,c);b=b.value;d.isArray(b)&&(b=b[0]);f+=b});var e=b.value;0<=c&&(d.isArray(e)?e=e[0]:b.value=Array(c));if(null==e||isNaN(e))e=f;0>e&&(e=0);0<=c?b.value[0]=e:b.value=e}function l(b,c){var f=c.get("color");if(f){b=b||[];var e;d.each(b,function(b){b=new m(b);var d=b.get("color");if(b.get("itemStyle.normal.color")||d&&"none"!==d)e=!0});e||((b[0]||(b[0]={})).color=f.slice());return b}}var e=b(28),n=b(184),d=b(4),m=b(12);p=b(6);var r=p.encodeHTML,f=p.addCommas;c.exports=e.extend({type:"series.treemap",dependencies:["grid","polar"],_viewRoot:null,defaultOption:{progressive:0,hoverLayerThreshold:Infinity,left:"center",top:"middle",right:null,bottom:null,width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"\u25b6",visualDimension:0,zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{normal:{color:"rgba(0,0,0,0.7)",borderColor:"rgba(255,255,255,0.7)",borderWidth:1,shadowColor:"rgba(150,150,150,1)",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#fff"}},emphasis:{textStyle:{}}}},label:{normal:{show:!0,position:"inside",textStyle:{color:"#fff",ellipsis:!0}}},itemStyle:{normal:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{}},color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function(b,c){var f=b.data||[],e=b.name;null==e&&(e=b.name);e={name:e,children:b.data};f=(f[0]||{}).value;h(e,d.isArray(f)?f.length:-1);f=b.levels||[];f=b.levels=l(f,c);return n.createTree(e,this,f).data},optionUpdated:function(){this.resetViewRoot()},formatTooltip:function(b){var c=this.getData(),e=this.getRawValue(b),e=d.isArray(e)?f(e[0]):f(e);b=c.getName(b);return r(b)+": "+e},getDataParams:function(b){for(var d=e.prototype.getDataParams.apply(this,arguments),c=this.getData().tree.getNodeByDataIndex(b),f=d.treePathInfo=[];c;){var g=c.dataIndex;f.push({name:c.name,dataIndex:g,value:this.getRawValue(g)});c=c.parentNode}f.reverse();return d},setLayoutInfo:function(b){this.layoutInfo=this.layoutInfo||{};d.extend(this.layoutInfo,b)},mapIdToIndex:function(b){var d=this._idIndexMap;d||(d=this._idIndexMap={},this._idIndexMapCount=0);var c=d[b];null==c&&(d[b]=c=this._idIndexMapCount++);return c},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(b){b?this._viewRoot=b:b=this._viewRoot;var d=this.getData().tree.root;if(!b||b!==d&&!d.contains(b))this._viewRoot=d}})},function(c,p,b){function h(b,d){this._nodes=[];this.hostModel=b;this.levelModels=l.map(d||[],function(d){return new e(d,b,b.ecModel)})}var l=b(4),e=b(12),n=b(97),d=b(185),m=b(102),r=function(b,d){this.name=b||"";this.height=this.depth=0;this.parentNode=null;this.dataIndex=-1;this.children=[];this.viewChildren=[];this.hostTree=d};r.prototype={constructor:r,isRemoved:function(){return 0>this.dataIndex},eachNode:function(b,d,c){"function"===typeof b&&(c=d,d=b,b=null);b=b||{};l.isString(b)&&(b={order:b});var e=b.order||"preorder",m=this[b.attr||"children"],g;"preorder"===e&&(g=d.call(c,this));for(var t=0;!g&&t<m.length;t++)m[t].eachNode(b,d,c);"postorder"===e&&d.call(c,this)},updateDepthAndHeight:function(b){var d=0;this.depth=b;for(var c=0;c<this.children.length;c++){var e=this.children[c];e.updateDepthAndHeight(b+1);e.height>d&&(d=e.height)}this.height=d+1},getNodeById:function(b){if(this.getId()===b)return this;for(var d=0,c=this.children,e=c.length;d<e;d++){var m=c[d].getNodeById(b);if(m)return m}},contains:function(b){if(b===this)return!0;for(var d=0,c=this.children,e=c.length;d<e;d++){var m=c[d].contains(b);if(m)return m}},getAncestors:function(b){var d=[];for(b=b?this:this.parentNode;b;)d.push(b),b=b.parentNode;d.reverse();return d},getValue:function(b){var d=this.hostTree.data;return d.get(d.getDimension(b||"value"),this.dataIndex)},setLayout:function(b,d){0<=this.dataIndex&&this.hostTree.data.setItemLayout(this.dataIndex,b,d)},getLayout:function(){return this.hostTree.data.getItemLayout(this.dataIndex)},getModel:function(b){if(!(0>this.dataIndex)){var d=this.hostTree,c=d.data.getItemModel(this.dataIndex),e=this.getLevelModel();return c.getModel(b,(e||d.hostModel).getModel(b))}},getLevelModel:function(){return(this.hostTree.levelModels||[])[this.depth]},setVisual:function(b,d){0<=this.dataIndex&&this.hostTree.data.setItemVisual(this.dataIndex,b,d)},getVisual:function(b,d){return this.hostTree.data.getItemVisual(this.dataIndex,b,d)},getRawIndex:function(){return this.hostTree.data.getRawIndex(this.dataIndex)},getId:function(){return this.hostTree.data.getId(this.dataIndex)}};h.prototype={constructor:h,type:"tree",eachNode:function(b,d,c){this.root.eachNode(b,d,c)},getNodeByDataIndex:function(b){b=this.data.getRawIndex(b);return this._nodes[b]},getNodeByName:function(b){return this.root.getNodeByName(b)},update:function(){for(var b=this.data,d=this._nodes,c=0,e=d.length;c<e;c++)d[c].dataIndex=-1;c=0;for(e=b.count();c<e;c++)d[b.getRawIndex(c)].dataIndex=c},clearLayouts:function(){this.data.clearItemLayouts()}};h.createTree=function(b,c,e){function l(b,d){g.push(b);var c=new r(b.name,v);if(d){var f=d.children;c.parentNode!==d&&(f.push(c),c.parentNode=d)}else v.root=c;v._nodes.push(c);if(f=b.children)for(var e=0;e<f.length;e++)l(f[e],c)}var v=new h(c,e),g=[];l(b);v.root.updateDepthAndHeight(0);b=m([{name:"value"}],g);c=new n(b,c);c.initData(g);d({mainData:c,struct:v,structAttr:"tree"});v.update();return v};c.exports=h},function(c,p,b){function h(b,c){if(this["\x00__link_mainData"]===this){var f=r.extend({},this["\x00__link_datas"]);f[this.dataType]=c;d(c,f,b)}else m(c,this.dataType,this["\x00__link_mainData"],b);return c}function l(b,d){b.struct&&b.struct.update(this);return d}function e(b,d){f(d["\x00__link_datas"],function(c,f){c!==d&&m(c.cloneShallow(),f,d,b)});return d}function n(b){var d=this["\x00__link_mainData"];return null==b||null==d?d:d["\x00__link_datas"][b]}function d(b,d,c){b["\x00__link_datas"]={};f(d,function(d,g){m(d,g,b,c)})}function m(b,d,c,f){c["\x00__link_datas"][d]=b;b["\x00__link_mainData"]=c;b.dataType=d;f.struct&&(b[f.structAttr]=f.struct,f.struct[f.datasAttr[d]]=b);b.getLinkedData=n}var r=b(4),f=r.each;c.exports=function(b){var c=b.mainData,m=b.datas;m||(m={main:c},b.datasAttr={main:"data"});b.datas=b.mainData=null;d(c,m,b);f(m,function(d){f(c.TRANSFERABLE_METHODS,function(g){d.wrapMethod(g,r.curry(h,b))})});c.wrapMethod("cloneShallow",r.curry(e,b));f(c.CHANGABLE_METHODS,function(d){c.wrapMethod(d,r.curry(l,b))});r.assert(m[c.dataType]===c)}},function(c,p,b){function h(){return{nodeGroup:[],background:[],content:[]}}function l(b,d,c,f,k,m,h,w,r,l){function u(d){V.dataIndex=h.dataIndex;V.seriesIndex=b.seriesIndex;var g=J.borderWidth,c=Math.max(P-2*g,0),f=Math.max(T-2*g,0);V.culling=!0;V.setShape({x:g,y:g,width:c,height:f});var e=h.getVisual("color",!0);v(V,function(){var d={fill:e},g=h.getModel("itemStyle.emphasis").getItemStyle(),k=h.getModel(),m=k.get("name");if(J.isLeafRoot)var t=b.get("drillDownIcon",!0),m=t?t+" "+m:test;x(m,d,k,y,e,c,f);x(m,g,k,z,e,c,f);V.setStyle(d);n.setHoverStyle(V,g)});d.add(V)}function v(b,d){S?!b.invisible&&m.push(b):(d(),b.__tmWillVisible||(b.invisible=!1))}function x(b,d,g,c,f,e,k){g=g.getModel(c);c=g.getModel("textStyle");n.setText(d,g,f);d.textAlign=c.get("align");d.textVerticalAlign=c.get("baseline");f=c.getTextRect(b);!g.getShallow("show")||f.height>k?d.text="":d.text=f.width>e?c.get("ellipsis")?c.truncateText(b,e,null,{minChar:2}):"":b}function p(b,g,m,t){var w=null!=Q&&c[b][Q],r=k[b];w?(c[b][Q]=null,g=w,(r[R]={}).old="nodeGroup"===b?g.position.slice():e.extend({},g.shape)):S||(w=10*m+t,w=new g({z:(w-1)/w}),w.__tmDepth=m,w.__tmStorageName=b,r=r[R]={},!(t=h.parentNode)||f&&"drillDown"!==f.direction||(m=g=0,t=k.background[t.getRawIndex()],!f&&t&&t.old&&(g=t.old.width,m=t.old.height),r.old="nodeGroup"===b?[0,m]:{x:g,y:m,width:0,height:0}),r.fadein="nodeGroup"!==b);return d[b][R]=w}if(h){var J=h.getLayout();if(J&&J.isInView){var P=J.width,T=J.height,S=J.invisible,R=h.getRawIndex(),Q=w&&w.getRawIndex();if(w=p("nodeGroup",g)){r.add(w);w.attr("position",[J.x||0,J.y||0]);w.__tmNodeWidth=P;w.__tmNodeHeight=T;if(J.isAboveViewRoot)return w;var U=p("background",t,l,1);U&&(U.setShape({x:0,y:0,width:P,height:T}),v(U,function(){U.setStyle("fill",h.getVisual("borderColor",!0))}),w.add(U));r=h.viewChildren;if(!r||!r.length){var V=p("content",t,l,2);V&&u(w)}return w}}}}var e=b(4),n=b(43),d=b(98),m=b(187),r=b(188),f=b(174),k=b(9),u=b(11),x=b(189),v=e.bind,g=n.Group,t=n.Rect,w=e.each,y=["label","normal"],z=["label","emphasis"];c.exports=b(1).extendChartView({type:"treemap",init:function(b,d){this._storage=h();this._state="ready"},render:function(b,d,g,c){var f=d.findComponents({mainType:"series",subType:"treemap",query:c});if(!(0>e.indexOf(f,b))){this.seriesModel=b;this.api=g;this.ecModel=d;d=m.retrieveTargetInfo(c,b);var f=c&&c.type,k=b.layoutInfo,t=!this._oldTree,h=this._storage;c="treemapRootToNode"===f&&d&&h?{rootNodeGroup:h.nodeGroup[d.node.getRawIndex()],direction:c.direction}:null;k=this._giveContainerGroup(k);h=this._doRender(k,b,c);t||f&&"treemapZoomToNode"!==f&&"treemapRootToNode"!==f?h.renderFinally():this._doAnimation(k,h,b,c);this._resetController(g);this._renderBreadcrumb(b,g,d)}},_giveContainerGroup:function(b){var d=this._containerGroup;d||(d=this._containerGroup=new g,this._initEvents(d),this.group.add(d));d.attr("position",[b.x,b.y]);return d},_doRender:function(b,g,c){function f(b,g,c,k,m){function t(b){return b.getId()}function h(d,e){var t=null!=d?b[d]:null,w=null!=e?g[e]:null,r=y(t,w,c,m);r&&f(t&&t.viewChildren||[],w&&w.viewChildren||[],r,k,m+1)}k?(g=b,w(b,function(b,d){!b.isRemoved()&&h(d,d)})):(new d(g,b,t,t)).add(h).update(h).remove(e.curry(h,null)).execute()}var k=g.getData().tree,m=this._oldTree,t=h(),r=h(),u=this._storage,n=[],y=e.curry(l,g,r,u,c,t,n);f(k.root?[k.root]:[],m&&m.root?[m.root]:[],b,k===m||!m,0);var z=function(b){var d=h();b&&w(b,function(b,g){var c=d[g];w(b,function(b){b&&(c.push(b),b.__tmWillDelete=1)})});return d}(u);this._oldTree=k;this._storage=r;return{lastsForAnimation:t,willDeleteEls:z,renderFinally:function(){w(z,function(b){w(b,function(b){b.parent&&b.parent.remove(b)})});w(n,function(b){b.invisible=!0;b.dirty()})}}},_doAnimation:function(b,d,g,c){if(g.get("animation")){var f=g.get("animationDurationUpdate"),k=g.get("animationEasing"),m=x.createWrap();w(d.willDeleteEls,function(b,d){w(b,function(b,g){if(!b.invisible){var e=b.parent;if(c&&"drillDown"===c.direction)e=e===c.rootNodeGroup?{shape:{x:0,y:0,width:e.__tmNodeWidth,height:e.__tmNodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var t=0,h=0;e.__tmWillDelete||(t=e.__tmNodeWidth/2,h=e.__tmNodeHeight/2);e="nodeGroup"===d?{position:[t,h],style:{opacity:0}}:{shape:{x:t,y:h,width:0,height:0},style:{opacity:0}}}e&&m.add(b,e,f,k)}})});w(this._storage,function(b,g){w(b,function(b,c){var t=d.lastsForAnimation[g][c],h={};t&&("nodeGroup"===g?t.old&&(h.position=b.position.slice(),b.attr("position",t.old)):(t.old&&(h.shape=e.extend({},b.shape),b.setShape(t.old)),t.fadein?(b.setStyle("opacity",0),h.style={opacity:1}):1!==b.style.opacity&&(h.style={opacity:1})),m.add(b,h,f,k))})},this);this._state="animating";m.done(v(function(){this._state="ready";d.renderFinally()},this)).start()}},_resetController:function(b){var d=this._controller;d||(d=this._controller=new f(b.getZr()),d.enable(this.seriesModel.get("roam")),d.on("pan",v(this._onPan,this)),d.on("zoom",v(this._onZoom,this)));var g=new k(0,0,b.getWidth(),b.getHeight());d.rectProvider=function(){return g}},_clearController:function(){var b=this._controller;b&&b.off("pan").off("zoom")},_onPan:function(b,d){this._mayClick=!1;if("animating"!==this._state&&(3<Math.abs(b)||3<Math.abs(d))){var g=this.seriesModel.getData().tree.root;g&&(g=g.getLayout())&&this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:g.x+b,y:g.y+d,width:g.width,height:g.height}})}},_onZoom:function(b,d,g){this._mayClick=!1;if("animating"!==this._state){var c=this.seriesModel.getData().tree.root;if(c&&(c=c.getLayout())){var c=new k(c.x,c.y,c.width,c.height),f=this.seriesModel.layoutInfo;d-=f.x;g-=f.y;f=u.create();u.translate(f,f,[-d,-g]);u.scale(f,f,[b,b]);u.translate(f,f,[d,g]);c.applyTransform(f);this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:c.x,y:c.y,width:c.width,height:c.height}})}}},_initEvents:function(b){b.on("mousedown",function(b){"ready"===this._state&&(this._mayClick=!0)},this);b.on("mouseup",function(b){if(this._mayClick&&(this._mayClick=!1,"ready"===this._state)){var d=this.seriesModel.get("nodeClick",!0);if(d&&(b=this.findTarget(b.offsetX,b.offsetY))){var g=b.node;g.getLayout().isLeafRoot?this._rootToNode(b):"zoomToNode"===d?this._zoomToNode(b):"link"===d&&(b=g.hostTree.data.getItemModel(g.dataIndex),d=b.get("link",!0),b=b.get("target",!0)||"blank",d&&window.open(d,b))}}},this)},_renderBreadcrumb:function(b,d,g){function c(d){"animating"!==this._state&&(m.aboveViewRoot(b.getViewRoot(),d)?this._rootToNode({node:d}):this._zoomToNode({node:d}))}g||(g=this.findTarget(d.getWidth()/2,d.getHeight()/2))||(g={node:b.getData().tree.root});(this._breadcrumb||(this._breadcrumb=new r(this.group,v(c,this)))).render(b,d,g.node)},remove:function(){this._clearController();this._containerGroup&&this._containerGroup.removeAll();this._storage=h();this._state="ready";this._breadcrumb&&this._breadcrumb.remove()},dispose:function(){this._clearController()},_zoomToNode:function(b){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:b.node})},_rootToNode:function(b){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:b.node})},findTarget:function(b,d){var g;this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},function(c){var f=this._storage.background[c.getRawIndex()];if(f){var e=f.transformCoordToLocal(b,d),f=f.shape;if(f.x<=e[0]&&e[0]<=f.x+f.width&&f.y<=e[1]&&e[1]<=f.y+f.height)g={node:c,offsetX:e[0],offsetY:e[1]};else return!1}},this);return g}})},function(c,p,b){var h=b(4),l={retrieveTargetInfo:function(b,c){if(b&&("treemapZoomToNode"===b.type||"treemapRootToNode"===b.type)){var d=c.getData().tree.root,m=b.targetNode;if(m&&d.contains(m))return{node:m};var h=b.targetNodeId;if(null!=h&&(m=d.getNodeById(h)))return{node:m}}},getPathToRoot:function(b){for(var c=[];b;)(b=b.parentNode)&&c.push(b);return c.reverse()},aboveViewRoot:function(b,c){var d=l.getPathToRoot(b);return 0<=h.indexOf(d,c)}};c.exports=l},function(c,p,b){function h(b,c){this.group=new e.Group;b.add(this.group);this._onSelect=c||d.noop}function l(b,d,c,e,h,l){var n=[[h?b:b-5,d],[b+c,d],[b+c,d+e],[h?b:b-5,d+e]];!l&&n.splice(2,0,[b+c+5,d+e/2]);!h&&n.push([b,d+e/2]);return n}var e=b(43),n=b(21),d=b(4);h.prototype={constructor:h,render:function(b,d,c){b=b.getModel("breadcrumb");var e=this.group;e.removeAll();if(b.get("show")&&c){var h=b.getModel("itemStyle.normal"),l=h.getModel("textStyle");d={pos:{left:b.get("left"),right:b.get("right"),top:b.get("top"),bottom:b.get("bottom")},box:{width:d.getWidth(),height:d.getHeight()},emptyItemWidth:b.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(b,c,d,l);this._renderContent(b,c,d,h,l);n.positionGroup(e,d.pos,d.box)}},_prepare:function(b,d,c,e){for(b=d;b;b=b.parentNode){d=b.getModel().get("name");var h=e.getTextRect(d),h=Math.max(h.width+16,c.emptyItemWidth);c.totalWidth+=h+8;c.renderList.push({node:b,text:d,width:h})}},_renderContent:function(b,c,f,k,h){c=0;var x=f.emptyItemWidth;b=b.get("height");var v=n.getAvailableSize(f.pos,f.box),g=f.totalWidth;f=f.renderList;for(var t=f.length-1;0<=t;t--){var w=f[t],y=w.width,z=w.text;g>v.width&&(g-=y-x,y=x,z="");this.group.add(new e.Polygon({shape:{points:l(c,0,y,b,t===f.length-1,0===t)},style:d.defaults(k.getItemStyle(),{lineJoin:"bevel",text:z,textFill:h.getTextColor(),textFont:h.getFont()}),z:10,onclick:d.bind(this._onSelect,this,w.node)}));c+=y+8}},remove:function(){this.group.removeAll()}};c.exports=h},function(c,p,b){var h=b(4);c.exports={createWrap:function(){var b=[],c={},n;return{add:function(d,m,r,f,k){h.isString(f)&&(k=f,f=0);if(c[d.id])return!1;c[d.id]=1;b.push({el:d,target:m,time:r,delay:f,easing:k});return!0},done:function(b){n=b;return this},start:function(){function d(){m--;m||(b.length=0,c={},n&&n())}for(var m=b.length,h=0,f=b.length;h<f;h++){var k=b[h];k.el.animateTo(k.target,k.time,k.delay,k.easing,d)}return this}}}}},function(c,p,b){c=b(1);var h=b(187);b=function(){};p=["treemapZoomToNode","treemapRender","treemapMove"];for(var l=0;l<p.length;l++)c.registerAction({type:p[l],update:"updateView"},b);c.registerAction({type:"treemapRootToNode",update:"updateView"},function(b,c){c.eachComponent({mainType:"series",subType:"treemap",query:b},function(d,c){var r=h.retrieveTargetInfo(b,d);if(r){var f=d.getViewRoot();f&&(b.direction=h.aboveViewRoot(f,r.node)?"rollUp":"drillDown");d.resetViewRoot(r.node)}})})},function(c,p,b){function h(b,c,g,m,w,r){var u=b.getModel(),n=b.getLayout();if(n&&!n.invisible&&n.isInView){var A=b.getModel("itemStyle.normal"),B=l(A,c,g[b.depth],m),p=A.get("borderColor");c=A.get("borderColorSaturation");null!=c&&(p=e(B,b),p=null!=p?f.modifyHSL(p,null,null,c):null);b.setVisual("borderColor",p);if((c=b.viewChildren)&&c.length){var N=d(b,u,n,A,B,c);k.each(c,function(b,d){if(b.depth>=w.length||b===w[b.depth]){var c=k.extend({},B);if(N){var f=N.type,e="color"===f&&N.__drColorMappingBy,e="index"===e?d:"id"===e?r.mapIdToIndex(b.getId()):b.getValue(u.get("visualDimension"));c[f]=N.mapValueToVisual(e)}h(b,c,g,m,w,r)}})}else p=e(B,b),b.setVisual("color",p)}}function l(b,d,g,c){var f=k.extend({},d);k.each(["color","colorAlpha","colorSaturation"],function(e){var k=b.get(e,!0);null==k&&g&&(k=g[e]);null==k&&(k=d[e]);null==k&&(k=c.get(e));null!=k&&(f[e]=k)});return f}function e(b){var d=n(b,"color");if(d){var g=n(b,"colorAlpha");(b=n(b,"colorSaturation"))&&(d=f.modifyHSL(d,null,null,b));g&&(d=f.modifyAlpha(d,g));return d}}function n(b,d){var g=b[d];if(null!=g&&"none"!==g)return g}function d(b,d,g,c,f,e){if(e&&e.length&&(b=m(d,"color")||null!=f.color&&"none"!==f.color&&(m(d,"colorAlpha")||m(d,"colorSaturation"))))return d=d.get("colorMappingBy"),g={type:b.name,dataExtent:g.dataExtent,visual:b.range},"color"!==g.type||"index"!==d&&"id"!==d?g.mappingMethod="linear":(g.mappingMethod="category",g.loop=!0),g=new r(g),g.__drColorMappingBy=d,g}function m(b,d){var g=b.get(d);return u(g)&&g.length?{name:d,range:g}:null}var r=b(192),f=b(39),k=b(4),u=k.isArray;c.exports=function(b,d,g){b.eachComponent({mainType:"series",subType:"treemap",query:g},function(b){var d=b.getData().tree,g=d.root,c=b.getModel("itemStyle.normal");g.isRemoved()||(d=k.map(d.levelModels,function(b){return b?b.get("itemStyle.normal"):null}),h(g,{},d,c,b.getViewRoot().getAncestors(),b))})}},function(c,p,b){function h(b){var d=b.pieceList;b.hasSpecialVisual=!1;v.each(d,function(d,g){d.originIndex=g;null!=d.visual&&(b.hasSpecialVisual=!0)})}function l(b){var d=b.categories,g=b.visual,c=b.categoryMap={};w(d,function(b,d){c[b]=d});if(!v.isArray(g)){var f=[];v.isObject(g)?w(g,function(b,d){var g=c[d];f[null!=g?g:-1]=b}):f[-1]=g;g=b.visual=f}for(b=d.length-1;0<=b;b--)null==g[b]&&(delete c[d[b]],d.pop())}function e(b,d){var g=b.visual,c=[];v.isObject(g)?w(g,function(b){c.push(b)}):null!=g&&c.push(g);g={color:1,symbol:1};d||1!==c.length||b.type in g||(c[1]=c[0]);b.visual=c}function n(b){return{applyVisual:function(d,g,c){d=this.mapValueToVisual(d);c("color",b(g("color"),d))},_doMap:k([0,1])}}function d(b,d){var g=this.option.visual;return g[Math.round(t(d,[0,1],[0,g.length-1],!0))]||{}}function m(b){return function(d,g,c){c(b,this.mapValueToVisual(d))}}function r(b){var d=this.option.visual;return d[this.option.loop&&-1!==b?b%d.length:b]}function f(){return this.option.visual[0]}function k(b){return{linear:function(d){return t(d,b,this.option.visual,!0)},category:r,piecewise:function(d,g){var c=u.call(this,g);null==c&&(c=t(d,b,this.option.visual,!0));return c},fixed:f}}function u(b){var d=this.option,g=d.pieceList;if(d.hasSpecialVisual&&(b=z.findPieceIndex(b,g),(g=g[b])&&g.visual))return g.visual[this.type]}function x(b,d,g){return b?d<=g:d<g}var v=b(4),g=b(39),t=b(7).linearMap,w=v.each,y=v.isObject,z=function(b){var d=b.mappingMethod,g=b.type;b=this.option=v.clone(b);this.type=g;this.mappingMethod=d;this._normalizeData=A[d];g=D[g];this.applyVisual=g.applyVisual;this.getColorMapper=g.getColorMapper;this._doMap=g._doMap[d];"piecewise"===d?(e(b),h(b)):"category"===d?b.categories?l(b):e(b,!0):(v.assert("linear"!==d||b.dataExtent),e(b))};z.prototype={constructor:z,mapValueToVisual:function(b){var d=this._normalizeData(b);return this._doMap(d,b)},getNormalizer:function(){return v.bind(this._normalizeData,this)}};var D=z.visualHandlers={color:{applyVisual:m("color"),getColorMapper:function(){var b=this.option,d=v.map(b.visual,g.parse);return v.bind("category"===b.mappingMethod?function(b,d){!d&&(b=this._normalizeData(b));return r(this,b)}:function(b,c,f){var e=!!f;!c&&(b=this._normalizeData(b));f=g.fastMapToColor(b,d,f);return e?f:v.stringify(f,"rgba")},this)},_doMap:{linear:function(b){return g.mapToColor(b,this.option.visual)},category:r,piecewise:function(b,d){var c=u.call(this,d);null==c&&(c=g.mapToColor(b,this.option.visual));return c},fixed:f}},colorHue:n(function(b,d){return g.modifyHSL(b,d)}),colorSaturation:n(function(b,d){return g.modifyHSL(b,null,d)}),colorLightness:n(function(b,d){return g.modifyHSL(b,null,null,d)}),colorAlpha:n(function(b,d){return g.modifyAlpha(b,d)}),opacity:{applyVisual:m("opacity"),_doMap:k([0,1])},symbol:{applyVisual:function(b,d,g){b=this.mapValueToVisual(b);if(v.isString(b))g("symbol",b);else if(y(b))for(var c in b)b.hasOwnProperty(c)&&g(c,b[c])},_doMap:{linear:d,category:r,piecewise:function(b,g){var c=u.call(this,g);null==c&&(c=d.call(this,b));return c},fixed:f}},symbolSize:{applyVisual:m("symbolSize"),_doMap:k([0,1])}},A={linear:function(b){return t(b,this.option.dataExtent,[0,1],!0)},piecewise:function(b){var d=this.option.pieceList;b=z.findPieceIndex(b,d,!0);if(null!=b)return t(b,[0,d.length-1],[0,1],!0)},category:function(b){b=this.option.categories?this.option.categoryMap[b]:b;return null==b?-1:b},fixed:v.noop};z.addVisualHandler=function(b,d){D[b]=d};z.isValidType=function(b){return D.hasOwnProperty(b)};z.eachVisual=function(b,d,g){v.isObject(b)?v.each(b,d,g):d.call(g,b)};z.mapVisual=function(b,d,g){var c,f=v.isArray(b)?[]:v.isObject(b)?{}:(c=!0,null);z.eachVisual(b,function(b,e){var k=d.call(g,b,e);c?f=k:f[e]=k});return f};z.retrieveVisuals=function(b){var d={},g;b&&w(D,function(c,f){b.hasOwnProperty(f)&&(d[f]=b[f],g=!0)});return g?d:null};z.prepareVisualTypes=function(b){if(y(b)){var d=[];w(b,function(b,g){d.push(g)});b=d}else if(v.isArray(b))b=b.slice();else return[];b.sort(function(b,d){return"color"===d&&"color"!==b&&0===b.indexOf("color")?1:-1});return b};z.dependsOn=function(b,d){return"color"===d?!(!b||0!==b.indexOf(d)):b===d};z.findPieceIndex=function(b,d,g){function c(d,g){var k=Math.abs(d-b);k<e&&(e=k,f=g)}for(var f,e=Infinity,k=0,m=d.length;k<m;k++){var t=d[k].value;if(null!=t){if(t===b)return k;g&&c(t,k)}}k=0;for(m=d.length;k<m;k++){var h=d[k],t=h.interval,h=h.close;if(t){if(-Infinity===t[0]){if(x(h[1],b,t[1]))return k}else if(Infinity===t[1]){if(x(h[0],t[0],b))return k}else if(x(h[0],t[0],b)&&x(h[1],b,t[1]))return k;g&&c(t[0],k);g&&c(t[1],k)}}if(g)return Infinity===b?d.length-1:-Infinity===b?0:f};c.exports=z},function(c,p,b){function h(b,d,g,c){var f,e;if(!b.isRemoved()){var k=b.getLayout();f=k.width;e=k.height;var k=b.getModel("itemStyle.normal"),t=k.get("borderWidth"),k=k.get("gapWidth")/2,r=t-k,u=b.getModel();b.setLayout({borderWidth:t},!0);f=w(f-2*r,0);e=w(e-2*r,0);t=f*e;b=l(b,u,t,d,g,c);if(b.length){r={x:r,y:r,width:f,height:e};f=y(f,e);e=Infinity;for(var n=[],z=n.area=0,v=b.length;z<v;){var x=b[z];n.push(x);n.area+=x.getLayout().area;for(var p=n,A=f,D=d.squareRatio,x=0,Q=Infinity,U=0,V,W=p.length;U<W;U++)if(V=p[U].getLayout().area)V<Q&&(Q=V),V>x&&(x=V);p=p.area*p.area;A=A*A*D;x=p?w(A*x/p,p/(A*Q)):Infinity;x<=e?(z++,e=x):(n.area-=n.pop().getLayout().area,m(n,f,r,k,!1),f=y(r.width,r.height),n.length=n.area=0,e=Infinity)}n.length&&m(n,f,r,k,!0);g||(k=u.get("childrenVisibleMin"),null!=k&&t<k&&(g=!0));z=0;for(v=b.length;z<v;z++)h(b[z],d,g,c+1)}}}function l(b,g,c,f,k,m){var t=b.children||[],h=f.sort;"asc"!==h&&"desc"!==h&&(h=null);f=null!=f.leafDepth&&f.leafDepth<=m;if(k&&!f)return b.viewChildren=[];t=u.filter(t,function(b){return!b.isRemoved()});n(t,h);k=d(g,t,h);if(0===k.sum)return b.viewChildren=[];k.sum=e(g,c,k.sum,h,t);if(0===k.sum)return b.viewChildren=[];g=0;for(h=t.length;g<h;g++)m=t[g].getValue()/k.sum*c,t[g].setLayout({area:m});f&&(t.length&&b.setLayout({isLeafRoot:!0},!0),t.length=0);b.viewChildren=t;b.setLayout({dataExtent:k.dataExtent},!0);return t}function e(b,d,g,c,f){if(!c)return g;b=b.get("visibleMin");for(var e=f.length,k=e,m=e-1;0<=m;m--){var t=f["asc"===c?e-m-1:m].getValue();t/g*d<b&&(k=m,g-=t)}"asc"===c?f.splice(0,e-k):f.splice(k,e-k);return g}function n(b,d){d&&b.sort(function(b,g){return"asc"===d?b.getValue()-g.getValue():g.getValue()-b.getValue()});return b}function d(b,d,g){for(var c=0,f=0,e=d.length;f<e;f++)c+=d[f].getValue();var k=b.get("visualDimension"),m;d&&d.length?"value"===k&&g?(m=[d[d.length-1].getValue(),d[0].getValue()],"asc"===g&&m.reverse()):(m=[Infinity,-Infinity],A(d,function(b){b=b.getValue(k);b<m[0]&&(m[0]=b);b>m[1]&&(m[1]=b)})):m=[NaN,NaN];return{sum:c,dataExtent:m}}function m(b,d,g,c,f){var e=d===g.width?0:1,k=1-e,m=["x","y"],t=["width","height"],h=g[m[e]];d=d?b.area/d:0;if(f||d>g[t[k]])d=g[t[k]];f=0;for(var r=b.length;f<r;f++){var l=b[f],u={},n=d?l.getLayout().area/d:0,z=u[t[k]]=w(d-2*c,0),x=g[m[e]]+g[t[e]]-h,n=f===r-1||x<n?x:n,x=u[t[e]]=w(n-2*c,0);u[m[k]]=g[m[k]]+y(c,z/2);u[m[e]]=h+y(c,x/2);h+=n;l.setLayout(u,!0)}g[m[k]]+=d;g[t[k]]-=d}function r(b,d,g,c,f){var e=(d||{}).node;d=[c,f];if(!e||e===g)return d;g=c*f;for(var k=g*b.option.zoomToNodeRatio;b=e.parentNode;){for(var m=0,t=b.children,h=0,w=t.length;h<w;h++)m+=t[h].getValue();e=e.getValue();if(0===e)return d;k*=m/e;e=b.getModel("itemStyle.normal").get("borderWidth");isFinite(e)&&(k+=4*e*e+4*e*Math.pow(k,.5));k>x.MAX_SAFE_INTEGER&&(k=x.MAX_SAFE_INTEGER);e=b}k<g&&(k=g);d=Math.pow(k/g,.5);return[c*d,f*d]}function f(b,d,g){if(d)return{x:d.x,y:d.y};d={x:0,y:0};if(!g)return d;g=g.node;var c=g.getLayout();if(!c)return d;for(d=[c.width/2,c.height/2];g;)c=g.getLayout(),d[0]+=c.x,d[1]+=c.y,g=g.parentNode;return{x:b.width/2-d[0],y:b.height/2-d[1]}}function k(b,d,g,c,f){var e=b.getLayout(),m=g[f],h=m&&m===b;if(!(m&&!h||f===g.length&&b!==c)){b.setLayout({isInView:!0,invisible:!h&&!d.intersect(e),isAboveViewRoot:h},!0);var w=new t(d.x-e.x,d.y-e.y,d.width,d.height);A(b.viewChildren||[],function(b){k(b,w,g,c,f+1)})}}var u=b(4),x=b(7),v=b(21),g=b(187),t=b(9),g=b(187),w=Math.max,y=Math.min,z=x.parsePercent,D=u.retrieve,A=u.each;c.exports=function(b,d,c){b.eachComponent({mainType:"series",subType:"treemap",query:c},function(b){var e=d.getWidth(),m=d.getHeight(),w=b.option,l=w.size||[],n=z(D(w.width,l[0]),e),y=z(D(w.height,l[1]),m),l=v.getLayoutRect(b.getBoxLayoutParams(),{width:d.getWidth(),height:d.getHeight()}),x=c&&c.type,p=g.retrieveTargetInfo(c,b),B="treemapRender"===x||"treemapMove"===x?c.rootRect:null,P=b.getViewRoot(),T=g.getPathToRoot(P);if("treemapMove"!==x){n="treemapZoomToNode"===x?r(b,p,P,n,y):B?[B.width,B.height]:[n,y];(y=w.sort)&&"asc"!==y&&"desc"!==y&&(y="desc");w={squareRatio:w.squareRatio,sort:y,leafDepth:w.leafDepth};P.hostTree.clearLayouts();var S={x:0,y:0,width:n[0],height:n[1],area:n[0]*n[1]};P.setLayout(S);h(P,w,!1,0);S=P.getLayout();A(T,function(b,d){var g=(T[d+1]||P).getValue();b.setLayout(u.extend({dataExtent:[g,g],borderWidth:0},S))})}w=b.getData().tree.root;w.setLayout(f(l,B,p),!0);b.setLayoutInfo(l);k(w,new t(-l.x,-l.y,e,m),T,P,0)})}},function(c,p,b){c=b(1);p=b(4);b(195);b(198);b(203);c.registerProcessor(b(204));c.registerVisual(p.curry(b(109),"graph","circle",null));c.registerVisual(b(205));c.registerVisual(b(206));c.registerLayout(b(207));c.registerLayout(b(210));c.registerLayout(b(212));c.registerCoordinateSystem("graphView",{create:b(214)})},function(c,p,b){var h=b(97),l=b(4),e=b(5),n=b(12),d=b(196),m=b(1).extendSeriesModel({type:"series.graph",init:function(b){m.superApply(this,"init",arguments);this.legendDataProvider=function(){return this._categoriesData};this.fillDataTextStyle(b.edges||b.links);this._updateCategoriesData()},mergeOption:function(b){m.superApply(this,"mergeOption",arguments);this.fillDataTextStyle(b.edges||b.links);this._updateCategoriesData()},mergeDefaultAndTheme:function(b){m.superApply(this,"mergeDefaultAndTheme",arguments);e.defaultEmphasis(b.edgeLabel,e.LABEL_OPTIONS)},getInitialData:function(b,c){function e(b,d){b.wrapMethod("getItemModel",function(b){var d=l._categoriesModels,g=b.getShallow("category");if(d=d[g])d.parentModel=b.parentModel,b.parentModel=d;return b});var c=l.getModel("edgeLabel"),f=function(b,d){var g=(b||"").split(".");"label"===g[0]&&(d=d||c.getModel(g.slice(1)));g=n.prototype.getModel.call(this,g,d);g.getModel=f;return g};d.wrapMethod("getItemModel",function(b){b.getModel=f;return b})}var m=b.edges||b.links||[],h=b.data||b.nodes||[],l=this;if(h&&m)return d(h,m,this,!0,e).data},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(b,d,c){if("edge"===c){var e=this.getData(),h=this.getDataParams(b,c),l=e.graph.getEdgeByIndex(b),g=e.getName(l.node1.dataIndex),e=e.getName(l.node2.dataIndex),g=g+" \x3e "+e;h.value&&(g+=" : "+h.value);return g}return m.superApply(this,"formatTooltip",arguments)},_updateCategoriesData:function(){var b=l.map(this.option.categories||[],function(b){return null!=b.value?b:l.extend({value:0},b)}),d=new h(["value"],this);d.initData(b);this._categoriesData=d;this._categoriesModels=d.mapArray(function(b){return d.getItemModel(b,!0)})},setZoom:function(b){this.option.zoom=b},setCenter:function(b){this.option.center=b},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",xAxisIndex:0,yAxisIndex:0,polarIndex:0,geoIndex:0,legendHoverLink:!0,hoverAnimation:!0,layout:null,focusNodeAdjacency:!1,force:{initLayout:null,repulsion:50,gravity:.1,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{normal:{position:"middle"},emphasis:{}},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{normal:{show:!1,formatter:"{b}"},emphasis:{show:!0}},itemStyle:{normal:{},emphasis:{}},lineStyle:{normal:{color:"#aaa",width:1,curveness:0,opacity:.5},emphasis:{}}}});c.exports=m},function(c,p,b){var h=b(97),l=b(197),e=b(185),n=b(102),d=b(26),m=b(4),r=b(101);c.exports=function(b,c,u,x,v){x=new l(x);for(var g=0;g<b.length;g++)x.addNode(m.retrieve(b[g].id,b[g].name,g),g);for(var t=[],w=[],g=0;g<c.length;g++){var y=c[g],z=y.source,p=y.target;x.addEdge(z,p,g)&&(w.push(y),t.push(m.retrieve(y.id,z+" \x3e "+p)))}c=u.get("coordinateSystem");"cartesian2d"===c||"polar"===c?c=r(b,u,u.ecModel):(c=d.get(c),c=n((c&&"view"!==c.type?c.dimensions||[]:[]).concat(["value"]),b),c=new h(c,u),c.initData(b));b=new h(["value"],u);b.initData(w,t);v&&v(c,b);e({mainData:c,struct:x,structAttr:"graph",datas:{node:c,edge:b},datasAttr:{node:"data",edge:"edgeData"}});x.update();return x}},function(c,p,b){function h(b,d){this.id=null==b?"":b;this.inEdges=[];this.outEdges=[];this.edges=[];this.dataIndex=null==d?-1:d}function l(b,d,c){this.node1=b;this.node2=d;this.dataIndex=null==c?-1:c}p=b(4);var e=function(b){this._directed=b||!1;this.nodes=[];this.edges=[];this._nodesMap={};this._edgesMap={}};b=e.prototype;b.type="graph";b.isDirected=function(){return this._directed};b.addNode=function(b,d){b=b||""+d;var c=this._nodesMap;if(!c[b]){var e=new h(b,d);e.hostGraph=this;this.nodes.push(e);return c[b]=e}};b.getNodeByIndex=function(b){b=this.data.getRawIndex(b);return this.nodes[b]};b.getNodeById=function(b){return this._nodesMap[b]};b.addEdge=function(b,d,c){var e=this._nodesMap,f=this._edgesMap;"number"===typeof b&&(b=this.nodes[b]);"number"===typeof d&&(d=this.nodes[d]);b instanceof h||(b=e[b]);d instanceof h||(d=e[d]);if(b&&d&&(e=b.id+"-"+d.id,!f[e]))return c=new l(b,d,c),c.hostGraph=this,this._directed&&(b.outEdges.push(c),d.inEdges.push(c)),b.edges.push(c),b!==d&&d.edges.push(c),this.edges.push(c),f[e]=c};b.getEdgeByIndex=function(b){b=this.edgeData.getRawIndex(b);return this.edges[b]};b.getEdge=function(b,d){b instanceof h&&(b=b.id);d instanceof h&&(d=d.id);var c=this._edgesMap;return this._directed?c[b+"-"+d]:c[b+"-"+d]||c[d+"-"+b]};b.eachNode=function(b,d){for(var c=this.nodes,e=c.length,f=0;f<e;f++)0<=c[f].dataIndex&&b.call(d,c[f],f)};b.eachEdge=function(b,d){for(var c=this.edges,e=c.length,f=0;f<e;f++)0<=c[f].dataIndex&&0<=c[f].node1.dataIndex&&0<=c[f].node2.dataIndex&&b.call(d,c[f],f)};b.breadthFirstTraverse=function(b,d,c,e){d instanceof h||(d=this._nodesMap[d]);if(d){c="out"===c?"outEdges":"in"===c?"inEdges":"edges";for(var f=0;f<this.nodes.length;f++)this.nodes[f].__visited=!1;if(!b.call(e,d,null))for(d=[d];d.length;){e=d.shift();for(var k=e[c],f=0;f<k.length;f++){var l=k[f],l=l.node1===e?l.node2:l.node1;if(!l.__visited){if(b.call(l,l,e))return;d.push(l);l.__visited=!0}}}}};b.update=function(){for(var b=this.data,d=this.edgeData,c=this.nodes,e=this.edges,f=0,k=c.length;f<k;f++)c[f].dataIndex=-1;f=0;for(k=b.count();f<k;f++)c[b.getRawIndex(f)].dataIndex=f;d.filterSelf(function(b){b=e[d.getRawIndex(b)];return 0<=b.node1.dataIndex&&0<=b.node2.dataIndex});f=0;for(k=e.length;f<k;f++)e[f].dataIndex=-1;f=0;for(k=d.count();f<k;f++)e[d.getRawIndex(f)].dataIndex=f};b.clone=function(){for(var b=new e(this._directed),d=this.nodes,c=this.edges,h=0;h<d.length;h++)b.addNode(d[h].id,d[h].dataIndex);for(h=0;h<c.length;h++)d=c[h],b.addEdge(d.node1.id,d.node2.id,d.dataIndex);return b};h.prototype={constructor:h,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(b){if(!(0>this.dataIndex))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(b)}};l.prototype.getModel=function(b){if(!(0>this.dataIndex))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(b)};b=function(b,d){return{getValue:function(c){var e=this[b][d];return e.get(e.getDimension(c||"value"),this.dataIndex)},setVisual:function(c,e){0<=this.dataIndex&&this[b][d].setItemVisual(this.dataIndex,c,e)},getVisual:function(c,e){return this[b][d].getItemVisual(this.dataIndex,c,e)},setLayout:function(c,e){0<=this.dataIndex&&this[b][d].setItemLayout(this.dataIndex,c,e)},getLayout:function(){return this[b][d].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[b][d].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[b][d].getRawIndex(this.dataIndex)}}};p.mixin(h,b("hostGraph","data"));p.mixin(l,b("hostGraph","edgeData"));e.Node=h;e.Edge=l;c.exports=e},function(c,p,b){function h(b,d){return b.getVisual("opacity")||b.getModel().get(d)}var l=b(104),e=b(199),n=b(174),d=b(43),m=b(202),r=b(4),f=["itemStyle","normal","opacity"],k=["lineStyle","normal","opacity"];b(1).extendChartView({type:"graph",init:function(b,d){var c=new l,g=new e,f=this.group,k=new n(d.getZr(),f);f.add(c.group);f.add(g.group);this._symbolDraw=c;this._lineDraw=g;this._controller=k;this._firstRender=!0},render:function(b,c,f){var g=b.coordinateSystem;this._model=b;this._nodeScaleRatio=b.get("nodeScaleRatio");var e=this._symbolDraw;c=this._lineDraw;var k=this.group;"view"===g.type&&(g={position:g.position,scale:g.scale},this._firstRender?k.attr(g):d.updateProps(k,g,b));m(b.getGraph(),this._getNodeGlobalScale(b));var h=b.getData();e.updateData(h);e=b.getEdgeData();c.updateData(e);this._updateNodeAndLinkScale();this._updateController(b,f);clearTimeout(this._layoutTimeout);var l=b.forceLayout,r=b.get("force.layoutAnimation");l&&this._startForceLayoutIteration(l,r);h.eachItemGraphicEl(function(b,d){var g=h.getItemModel(d);b.off("drag").off("dragend");var c=h.getItemModel(d).get("draggable");if(c)b.on("drag",function(){l&&(l.warmUp(),!this._layouting&&this._startForceLayoutIteration(l,r),l.setFixed(d),h.setItemLayout(d,b.position))},this).on("dragend",function(){l&&l.setUnfixed(d)},this);b.setDraggable(c&&l);b.off("mouseover",this._focusNodeAdjacency);b.off("mouseout",this._unfocusAll);g.get("focusNodeAdjacency")&&(b.on("mouseover",this._focusNodeAdjacency,this),b.on("mouseout",this._unfocusAll,this))},this);this._firstRender=!1},_focusNodeAdjacency:function(b){function d(b,g){var c=h(b,g),f=b.getGraphicEl();null==c&&(c=1);f.traverse(function(b){b.trigger("normal");"group"!==b.type&&b.setStyle("opacity",.1*c)})}function c(b,d){var g=h(b,d);b.getGraphicEl().traverse(function(b){b.trigger("emphasis");"group"!==b.type&&b.setStyle("opacity",g)})}var g=this._model.getData().graph,e=b.target;b=e.dataIndex;e=e.dataType;null!==b&&"edge"!==e&&(g.eachNode(function(b){d(b,f)}),g.eachEdge(function(b){d(b,k)}),g=g.getNodeByIndex(b),c(g,f),r.each(g.edges,function(b){0>b.dataIndex||(c(b,k),c(b.node1,f),c(b.node2,f))}))},_unfocusAll:function(){var b=this._model.getData().graph;b.eachNode(function(b){var d=h(b,f);b.getGraphicEl().traverse(function(b){b.trigger("normal");"group"!==b.type&&b.setStyle("opacity",d)})});b.eachEdge(function(b){var d=h(b,k);b.getGraphicEl().traverse(function(b){b.trigger("normal");"group"!==b.type&&b.setStyle("opacity",d)})})},_startForceLayoutIteration:function(b,d){var c=this;(function t(){b.step(function(b){c.updateLayout(c._model);(c._layouting=!b)&&(d?c._layoutTimeout=setTimeout(t,16):t())})})()},_updateController:function(b,d){var c=this._controller,g=this.group;c.rectProvider=function(){var b=g.getBoundingRect();b.applyTransform(g.transform);return b};"view"!==b.coordinateSystem.type?c.disable():(c.enable(b.get("roam")),c.zoomLimit=b.get("scaleLimit"),c.zoom=b.coordinateSystem.getZoom(),c.off("pan").off("zoom").on("pan",function(g,c){d.dispatchAction({seriesId:b.id,type:"graphRoam",dx:g,dy:c})}).on("zoom",function(g,c,f){d.dispatchAction({seriesId:b.id,type:"graphRoam",zoom:g,originX:c,originY:f});this._updateNodeAndLinkScale();m(b.getGraph(),this._getNodeGlobalScale(b));this._lineDraw.updateLayout()},this))},_updateNodeAndLinkScale:function(){var b=this._model,d=b.getData(),b=this._getNodeGlobalScale(b),c=[b,b];d.eachItemGraphicEl(function(b,d){b.attr("scale",c)})},_getNodeGlobalScale:function(b){b=b.coordinateSystem;if("view"!==b.type)return 1;var d=this._nodeScaleRatio,c=b.scale,c=c&&c[0]||1;return((b.getZoom()-1)*d+1)/c},updateLayout:function(b){m(b.getGraph(),this._getNodeGlobalScale(b));this._symbolDraw.updateLayout();this._lineDraw.updateLayout()},remove:function(b,d){this._symbolDraw&&this._symbolDraw.remove();this._lineDraw&&this._lineDraw.remove()}})},function(c,p,b){function h(b){return isNaN(b[0])||isNaN(b[1])}function l(b){return!h(b[0])&&!h(b[1])}function e(b){this._ctor=b||d;this.group=new n.Group}var n=b(43),d=b(200);p=e.prototype;p.updateData=function(b){var d=this._lineData,c=this.group,e=this._ctor,h=b.hostModel,n={lineStyle:h.getModel("lineStyle.normal").getLineStyle(),hoverLineStyle:h.getModel("lineStyle.emphasis").getLineStyle(),labelModel:h.getModel("label.normal"),hoverLabelModel:h.getModel("label.emphasis")};b.diff(d).add(function(d){if(l(b.getItemLayout(d))){var g=new e(b,d,n);b.setItemGraphicEl(d,g);c.add(g)}}).update(function(h,g){var t=d.getItemGraphicEl(g);l(b.getItemLayout(h))?(t?t.updateData(b,h,n):t=new e(b,h,n),b.setItemGraphicEl(h,t),c.add(t)):c.remove(t)}).remove(function(b){c.remove(d.getItemGraphicEl(b))}).execute();this._lineData=b};p.updateLayout=function(){var b=this._lineData;b.eachItemGraphicEl(function(d,c){d.updateLayout(b,c)},this)};p.remove=function(){this.group.removeAll()};c.exports=e},function(c,p,b){function h(b,c,f){var e=c.getItemVisual(f,"color"),m=c.getItemVisual(f,b);c=c.getItemVisual(f,b+"Size");if(m&&"none"!==m)return k.isArray(c)||(c=[c,c]),e=d.createSymbol(m,-c[0]/2,-c[1]/2,c[0],c[1],e),e.name=b,e}function l(b){var d=new r({name:"line"});e(d.shape,b);return d}function e(b,d){var c=d[0],f=d[1],e=d[2];b.x1=c[0];b.y1=c[1];b.x2=f[0];b.y2=f[1];b.percent=1;e&&(b.cpx1=e[0],b.cpy1=e[1])}function n(b,d,c){f.Group.call(this);this._createLine(b,d,c)}var d=b(106),m=b(10),r=b(201),f=b(43),k=b(4),u=b(7),x=["fromSymbol","toSymbol"];p=n.prototype;p.beforeUpdate=function(){var b=this.childOfName("fromSymbol"),d=this.childOfName("toSymbol"),c=this.childOfName("label");if(b||d||!c.ignore){for(var f=1,e=this.parent;e;)e.scale&&(f/=e.scale[0]),e=e.parent;var k=this.childOfName("line");if(this.__dirty||k.__dirty){var h=k.shape.percent,e=k.pointAt(0),l=k.pointAt(h),r=m.sub([],l,e);m.normalize(r,r);if(b){b.attr("position",e);var u=k.tangentAt(0);b.attr("rotation",Math.PI/2-Math.atan2(u[1],u[0]));b.attr("scale",[f*h,f*h])}d&&(d.attr("position",l),u=k.tangentAt(1),d.attr("rotation",-Math.PI/2-Math.atan2(u[1],u[0])),d.attr("scale",[f*h,f*h]));c.ignore||(c.attr("position",l),b=5*f,"end"===c.__position?(k=[r[0]*b+l[0],r[1]*b+l[1]],b=.8<r[0]?"left":-.8>r[0]?"right":"center",r=.8<r[1]?"top":-.8>r[1]?"bottom":"middle"):"middle"===c.__position?(d=h/2,u=k.tangentAt(d),r=[u[1],-u[0]],k=k.pointAt(d),0<r[1]&&(r[0]=-r[0],r[1]=-r[1]),k=[k[0]+r[0]*b,k[1]+r[1]*b],b="center",r="bottom",u=-Math.atan2(u[1],u[0]),l[0]<e[0]&&(u=Math.PI+u),c.attr("rotation",u)):(k=[-r[0]*b+e[0],-r[1]*b+e[1]],b=.8<r[0]?"right":-.8>r[0]?"left":"center",r=.8<r[1]?"bottom":-.8>r[1]?"top":"middle"),c.attr({style:{textVerticalAlign:c.__verticalAlign||r,textAlign:c.__textAlign||b},position:k,scale:[f,f]}))}}};p._createLine=function(b,d,c){var e=b.hostModel,m=b.getItemLayout(d),m=l(m);m.shape.percent=0;f.initProps(m,{shape:{percent:1}},e,d);this.add(m);e=new f.Text({name:"label"});this.add(e);k.each(x,function(c){var f=h(c,b,d);this.add(f);this["_"+c+"Type"]=b.getItemVisual(d,c)},this);this._updateCommonStl(b,d,c)};p.updateData=function(b,d,c){var m=b.hostModel,l=this.childOfName("line"),r=b.getItemLayout(d),u={shape:{}};e(u.shape,r);f.updateProps(l,u,m,d);k.each(x,function(c){var f=b.getItemVisual(d,c),e="_"+c+"Type";this[e]!==f&&(this.remove(this.childOfName(c)),c=h(c,b,d),this.add(c));this[e]=f},this);this._updateCommonStl(b,d,c)};p._updateCommonStl=function(b,d,c){var e=b.hostModel,m=this.childOfName("line"),h=c&&c.lineStyle,l=c&&c.hoverLineStyle,r=c&&c.labelModel,n=c&&c.hoverLabelModel;if(!c||b.hasItemOption)n=b.getItemModel(d),h=n.getModel("lineStyle.normal").getLineStyle(),l=n.getModel("lineStyle.emphasis").getLineStyle(),r=n.getModel("label.normal"),n=n.getModel("label.emphasis");c=b.getItemVisual(d,"color");isNaN(x)&&(x=b.getName(d));m.useStyle(k.defaults({strokeNoScale:!0,fill:"none",stroke:c},h));m.hoverStyle=l;var m=r.getShallow("show"),h=n.getShallow("show"),x,l=this.childOfName("label"),p;if(m||h)x=u.round(e.getRawValue(d)),p=c||"#000";m?(c=r.getModel("textStyle"),l.setStyle({text:k.retrieve(e.getFormattedLabel(d,"normal",b.dataType),x),textFont:c.getFont(),fill:c.getTextColor()||p}),l.__textAlign=c.get("align"),l.__verticalAlign=c.get("baseline"),l.__position=r.get("position")):l.setStyle("text","");h?(r=n.getModel("textStyle"),l.hoverStyle={text:k.retrieve(e.getFormattedLabel(d,"emphasis",b.dataType),x),textFont:r.getFont(),fill:r.getTextColor()||p}):l.hoverStyle={text:""};l.ignore=!m&&!h;f.setHoverStyle(this)};p.updateLayout=function(b,d){this.setLinePoints(b.getItemLayout(d))};p.setLinePoints=function(b){var d=this.childOfName("line");e(d.shape,b);d.dirty()};k.inherits(n,f.Group);c.exports=n},function(c,p,b){function h(b){return null==b.cpx1||null==b.cpy1}p=b(43);var l=b(10),e=p.Line.prototype,n=p.BezierCurve.prototype;c.exports=p.extendShape({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(b,c){(h(c)?e:n).buildPath(b,c)},pointAt:function(b){return h(this.shape)?e.pointAt.call(this,b):n.pointAt.call(this,b)},tangentAt:function(b){var c=this.shape;b=h(c)?[c.x2-c.x1,c.y2-c.y1]:n.tangentAt.call(this,b);return l.normalize(b,b)}})},function(c,p,b){function h(b,c,e){var g=b[0],t=b[1];b=b[2];var h=Infinity,l;e*=e;for(var z=.1,p=.1;.9>=p;p+=.1){n[0]=r(g[0],t[0],b[0],p);n[1]=r(g[1],t[1],b[1],p);var A=k(f(n,c)-e);A<h&&(h=A,l=p)}for(h=0;32>h;h++){A=l+z;d[0]=r(g[0],t[0],b[0],l);d[1]=r(g[1],t[1],b[1],l);m[0]=r(g[0],t[0],b[0],A);m[1]=r(g[1],t[1],b[1],A);A=f(d,c)-e;if(.01>k(A))break;p=f(m,c)-e;z/=2;l=0>A?0<=p?l+z:l-z:0<=p?l-z:l+z}return l}var l=b(50),e=b(10),n=[],d=[],m=[],r=l.quadraticAt,f=e.distSquare,k=Math.abs;c.exports=function(b,d){var c=[],g=l.quadraticSubdivide,f=[[],[],[]],k=[[],[]],m=[];d/=2;b.eachEdge(function(b,l){var r=b.getLayout(),u=b.getVisual("fromSymbol"),n=b.getVisual("toSymbol");r.__original||(r.__original=[e.clone(r[0]),e.clone(r[1])],r[2]&&r.__original.push(e.clone(r[2])));var p=r.__original;null!=r[2]?(e.copy(f[0],p[0]),e.copy(f[1],p[2]),e.copy(f[2],p[1]),u&&"none"!=u&&(u=b.node1.getVisual("symbolSize"),u instanceof Array&&(u=(u[0]+u[1])/2),u=h(f,p[0],u*d),g(f[0][0],f[1][0],f[2][0],u,c),f[0][0]=c[3],f[1][0]=c[4],g(f[0][1],f[1][1],f[2][1],u,c),f[0][1]=c[3],f[1][1]=c[4]),n&&"none"!=n&&(u=b.node1.getVisual("symbolSize"),u instanceof Array&&(u=(u[0]+u[1])/2),u=h(f,p[1],u*d),g(f[0][0],f[1][0],f[2][0],u,c),f[1][0]=c[1],f[2][0]=c[2],g(f[0][1],f[1][1],f[2][1],u,c),f[1][1]=c[1],f[2][1]=c[2]),e.copy(r[0],f[0]),e.copy(r[1],f[2]),e.copy(r[2],f[1])):(e.copy(k[0],p[0]),e.copy(k[1],p[1]),e.sub(m,k[1],k[0]),e.normalize(m,m),u&&"none"!=u&&e.scaleAndAdd(k[0],k[0],m,b.node1.getVisual("symbolSize")*d),n&&"none"!=n&&e.scaleAndAdd(k[1],k[1],m,-b.node2.getVisual("symbolSize")*d),e.copy(r[0],k[0]),e.copy(r[1],k[1]))})}},function(c,p,b){c=b(1);var h=b(177);c.registerAction({type:"graphRoam",event:"graphRoam",update:"none"},function(b,c){c.eachComponent({mainType:"series",query:b},function(c){var d=h.updateCenterAndZoom(c.coordinateSystem,b);c.setCenter&&c.setCenter(d.center);c.setZoom&&c.setZoom(d.zoom)})})},function(c,p){c.exports=function(b){var c=b.findComponents({mainType:"legend"});c&&c.length&&b.eachSeriesByType("graph",function(b){var e=b.getCategoriesData(),n=b.getGraph().data,d=e.mapArray(e.getName);n.filterSelf(function(b){b=n.getItemModel(b).getShallow("category");if(null!=b){"number"===typeof b&&(b=d[b]);for(var e=0;e<c.length;e++)if(!c[e].isSelected(b))return!1}return!0})},this)}},function(c,p){c.exports=function(b){b.eachSeriesByType("graph",function(b){var c=b.getCategoriesData(),e=b.getData(),n={};c.each(function(d){var e=c.getName(d);n[e]=d;e=c.getItemModel(d).get("itemStyle.normal.color")||b.getColorFromPalette(e);c.setItemVisual(d,"color",e)});c.count()&&e.each(function(b){var m=e.getItemModel(b).getShallow("category");null!=m&&("string"===typeof m&&(m=n[m]),e.getItemVisual(b,"color",!0)||e.setItemVisual(b,"color",c.getItemVisual(m,"color")))})})}},function(c,p){function b(b){b instanceof Array||(b=[b,b]);return b}c.exports=function(c){c.eachSeriesByType("graph",function(c){var e=c.getGraph(),h=c.getEdgeData(),d=b(c.get("edgeSymbol")),m=b(c.get("edgeSymbolSize"));h.setVisual("fromSymbol",d&&d[0]);h.setVisual("toSymbol",d&&d[1]);h.setVisual("fromSymbolSize",m&&m[0]);h.setVisual("toSymbolSize",m&&m[1]);h.setVisual("color",c.get("lineStyle.normal.color"));h.each(function(d){var c=h.getItemModel(d);d=e.getEdgeByIndex(d);var k=b(c.getShallow("symbol",!0)),m=b(c.getShallow("symbolSize",!0)),c=c.get("lineStyle.normal.color");switch(c){case "source":c=d.node1.getVisual("color");break;case "target":c=d.node2.getVisual("color")}k[0]&&d.setVisual("fromSymbol",k[0]);k[1]&&d.setVisual("toSymbol",k[1]);m[0]&&d.setVisual("fromSymbolSize",m[0]);m[1]&&d.setVisual("toSymbolSize",m[1]);d.setVisual("color",c)})})}},function(c,p,b){var h=b(208),l=b(209);c.exports=function(b,c){b.eachSeriesByType("graph",function(b){var c=b.get("layout"),e=b.coordinateSystem;if(e&&"view"!==e.type){var f=b.getData();f.each(e.dimensions,function(b,d,c){isNaN(b)||isNaN(d)?f.setItemLayout(c,[NaN,NaN]):f.setItemLayout(c,e.dataToPoint([b,d]))});l(f.graph)}else c&&"none"!==c||h(b)})}},function(c,p,b){var h=b(209);c.exports=function(b){var c=b.coordinateSystem;c&&"view"!==c.type||(b=b.getGraph(),b.eachNode(function(b){var d=b.getModel();b.setLayout([+d.get("x"),+d.get("y")])}),h(b))}},function(c,p,b){var h=b(10);c.exports=function(b){b.eachEdge(function(b){var c=b.getModel().get("lineStyle.normal.curveness")||0,d=h.clone(b.node1.getLayout()),m=h.clone(b.node2.getLayout()),l=[d,m];0<c&&l.push([(d[0]+m[0])/2-(d[1]-m[1])*c,(d[1]+m[1])/2-(m[0]-d[0])*c]);b.setLayout(l)})}},function(c,p,b){var h=b(211);c.exports=function(b){b.eachSeriesByType("graph",function(b){"circular"===b.get("layout")&&h(b)})}},function(c,p,b){var h=b(10);c.exports=function(b){var c=b.coordinateSystem;if(!c||"view"===c.type){c=c.getBoundingRect();b=b.getData();var n=b.graph,d=0,m=b.getSum("value"),r=2*Math.PI/(m||b.count()),f=c.width/2+c.x,k=c.height/2+c.y,u=Math.min(c.width,c.height)/2;n.eachNode(function(b){var c=b.getValue("value");d+=r*(m?c:2)/2;b.setLayout([u*Math.cos(d)+f,u*Math.sin(d)+k]);d+=r*(m?c:2)/2});n.eachEdge(function(b){var d=b.getModel().get("lineStyle.normal.curveness")||0,c=h.clone(b.node1.getLayout()),e=h.clone(b.node2.getLayout()),m,l=(c[0]+e[0])/2,r=(c[1]+e[1])/2;0<d&&(d*=3,m=[f*d+l*(1-d),k*d+r*(1-d)]);b.setLayout([c,e,m])})}}},function(c,p,b){var h=b(213),l=b(7),e=b(208),n=b(211),d=b(10);c.exports=function(b){b.eachSeriesByType("graph",function(b){var c=b.coordinateSystem;if(!c||"view"===c.type)if("force"===b.get("layout")){var k=b.preservedPoints||{},m=b.getGraph(),x=m.data,v=m.edgeData,g=b.getModel("force"),c=g.get("initLayout");b.preservedPoints?x.each(function(b){var d=x.getId(b);x.setItemLayout(b,k[d]||[NaN,NaN])}):c&&"none"!==c?"circular"===c&&n(b):e(b);var t=x.getDataExtent("value"),w=g.get("repulsion"),y=g.get("edgeLength"),z=x.mapArray("value",function(b,d){var c=x.getItemLayout(d),g=l.linearMap(b,t,[0,w])||w/2;return{w:g,rep:g,p:!c||isNaN(c[0])||isNaN(c[1])?null:c}}),v=v.mapArray("value",function(b,d){var c=m.getEdgeByIndex(d);return{n1:z[c.node1.dataIndex],n2:z[c.node2.dataIndex],d:y,curveness:c.getModel().get("lineStyle.normal.curveness")||0}}),c=b.coordinateSystem,c=c.getBoundingRect(),g=h(z,v,{rect:c,gravity:g.get("gravity")}),p=g.step;g.step=function(b){for(var c=0,g=z.length;c<g;c++)z[c].fixed&&d.copy(z[c].p,m.getNodeByIndex(c).getLayout());p(function(c,g,f){for(var e=0,t=c.length;e<t;e++)c[e].fixed||m.getNodeByIndex(e).setLayout(c[e].p),k[x.getId(e)]=c[e].p;e=0;for(t=g.length;e<t;e++){c=g[e];var h=m.getEdgeByIndex(e),w=c.n1.p,l=c.n2.p,r=h.getLayout(),r=r?r.slice():[];r[0]=r[0]||[];r[1]=r[1]||[];d.copy(r[0],w);d.copy(r[1],l);0<c.curveness&&(r[2]=[(w[0]+l[0])/2-(w[1]-l[1])*c.curveness,(w[1]+l[1])/2-(l[0]-w[0])*c.curveness]);h.setLayout(r)}b&&b(f)})};b.forceLayout=g;b.preservedPoints=k;g.step()}else b.forceLayout=null})}},function(c,p,b){var h=b(10),l=h.scaleAndAdd;c.exports=function(b,c,d){var m=d.rect,r=m.width,f=m.height,k=[m.x+r/2,m.y+f/2],u=null==d.gravity?.1:d.gravity;for(d=0;d<b.length;d++)m=b[d],m.p||(m.p=h.create(r*(Math.random()-.5)+k[0],f*(Math.random()-.5)+k[1])),m.pp=h.clone(m.p),m.edges=null;var x=.6;return{warmUp:function(){x=.5},setFixed:function(c){b[c].fixed=!0},setUnfixed:function(c){b[c].fixed=!1},step:function(d){for(var g=[],f=b.length,m=0;m<c.length;m++){var r=c[m],z=r.n1,p=r.n2;h.sub(g,p.p,z.p);var r=h.len(g)-r.d,A=p.w/(z.w+p.w);h.normalize(g,g);!z.fixed&&l(z.p,z.p,g,A*r*x);!p.fixed&&l(p.p,p.p,g,-(1-A)*r*x)}for(m=0;m<f;m++)z=b[m],z.fixed||(h.sub(g,k,z.p),h.scaleAndAdd(z.p,z.p,g,u*x));for(m=0;m<f;m++)for(z=b[m],A=m+1;A<f;A++)p=b[A],h.sub(g,p.p,z.p),r=h.len(g),0===r&&(h.set(g,Math.random()-.5,Math.random()-.5),r=1),r=(z.rep+p.rep)/r/r,!z.fixed&&l(z.pp,z.pp,g,r),!p.fixed&&l(p.pp,p.pp,g,-r);g=[];for(m=0;m<f;m++)z=b[m],z.fixed||(h.sub(g,z.p,z.pp),h.scaleAndAdd(z.p,z.p,g,x),h.copy(z.pp,z.p));x*=.992;d&&d(b,c,.01>x)}}}},function(c,p,b){function h(b,c,h){b=b.getBoxLayoutParams();b.aspect=h;return e.getLayoutRect(b,{width:c.getWidth(),height:c.getHeight()})}var l=b(168),e=b(21),n=b(51);c.exports=function(b,c){var e=[];b.eachSeriesByType("graph",function(b){var d=b.get("coordinateSystem");if(!d||"view"===d){var u=new l;e.push(u);var x=b.getData(),v=x.mapArray(function(b){b=x.getItemModel(b);return[+b.get("x"),+b.get("y")]}),d=[],u=[];n.fromPoints(v,d,u);0===u[0]-d[0]&&(u[0]+=1,--d[0]);0===u[1]-d[1]&&(u[1]+=1,--d[1]);var g=(u[0]-d[0])/(u[1]-d[1]),v=h(b,c,g);isNaN(g)&&(d=[v.x,v.y],u=[v.x+v.width,v.y+v.height]);var g=u[0]-d[0],t=u[1]-d[1],w=v.width,y=v.height,u=b.coordinateSystem=new l;u.zoomLimit=b.get("scaleLimit");u.setBoundingRect(d[0],d[1],g,t);u.setViewRect(v.x,v.y,w,y);u.setCenter(b.get("center"));u.setZoom(b.get("zoom"))}});return e}},function(c,p,b){b(216);b(217)},function(c,p,b){var h=b(97);p=b(28);var l=b(4);b=p.extend({type:"series.gauge",getInitialData:function(b,c){var d=new h(["value"],this),m=b.data||[];l.isArray(m)||(m=[m]);d.initData(m);return d},defaultOption:{zlevel:0,z:2,center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,lineStyle:{color:[[.2,"#91c7ae"],[.8,"#63869e"],[1,"#c23531"]],width:30}},splitLine:{show:!0,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:!0,distance:5,textStyle:{color:"auto"}},pointer:{show:!0,length:"80%",width:8},itemStyle:{normal:{color:"auto"}},title:{show:!0,offsetCenter:[0,"-40%"],textStyle:{color:"#333",fontSize:15}},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:40,offsetCenter:[0,"40%"],textStyle:{color:"auto",fontSize:30}}}});c.exports=b},function(c,p,b){function h(b,d){d&&("string"===typeof d?b=d.replace("{value}",b):"function"===typeof d&&(b=d(b)));return b}var l=b(218),e=b(43),n=b(7),d=n.parsePercent,m=2*Math.PI;p=b(42).extend({type:"gauge",render:function(b,c,e){this.group.removeAll();var m=b.get("axisLine.lineStyle.color"),h=b.get("center"),l=e.getWidth(),g=e.getHeight(),g=Math.min(l,g),l=d(h[0],e.getWidth()),h=d(h[1],e.getHeight()),g=d(b.get("radius"),g/2);this._renderMain(b,c,e,m,{cx:l,cy:h,r:g})},_renderMain:function(b,d,c,h,l){for(var n=this.group,g=b.getModel("axisLine").getModel("lineStyle"),t=b.get("clockwise"),w=-b.get("startAngle")/180*Math.PI,y=-b.get("endAngle")/180*Math.PI,z=(y-w)%m,p=w,A=g.get("width"),B=0;B<h.length;B++)y=w+z*Math.min(Math.max(h[B][0],0),1),p=new e.Sector({shape:{startAngle:p,endAngle:y,cx:l.cx,cy:l.cy,clockwise:t,r0:l.r-A,r:l.r},silent:!0}),p.setStyle({fill:h[B][1]}),p.setStyle(g.getLineStyle(["color","borderWidth","borderColor"])),n.add(p),p=y;n=function(b){if(0>=b)return h[0][1];for(var d=0;d<h.length;d++)if(h[d][0]>=b&&(0===d?0:h[d-1][0])<b)return h[d][1];return h[d-1][1]};t||(g=w,w=y,y=g);this._renderTicks(b,d,c,n,l,w,y,t);this._renderPointer(b,d,c,n,l,w,y,t);this._renderTitle(b,d,c,n,l);this._renderDetail(b,d,c,n,l)},_renderTicks:function(b,c,k,m,l,v,g,t){c=this.group;k=l.cx;t=l.cy;l=l.r;var w=b.get("min"),y=b.get("max"),z=b.getModel("splitLine"),p=b.getModel("axisTick"),A=b.getModel("axisLabel");b=b.get("splitNumber");var B=p.get("splitNumber"),F=d(z.get("length"),l),N=d(p.get("length"),l),E=v;v=(g-v)/b;g=v/B;for(var G=z.getModel("lineStyle").getLineStyle(),q=p.getModel("lineStyle").getLineStyle(),H=A.getModel("textStyle"),L=0;L<=b;L++){var I=Math.cos(E),K=Math.sin(E);if(z.get("show")){var O=new e.Line({shape:{x1:I*l+k,y1:K*l+t,x2:I*(l-F)+k,y2:K*(l-F)+t},style:G,silent:!0});"auto"===G.stroke&&O.setStyle({stroke:m(L/b)});c.add(O)}if(A.get("show")){var O=h(n.round(L/b*(y-w)+w),A.get("formatter")),M=A.get("distance"),I=new e.Text({style:{text:O,x:I*(l-F-M)+k,y:K*(l-F-M)+t,fill:H.getTextColor(),textFont:H.getFont(),textVerticalAlign:-.4>K?"top":.4<K?"bottom":"middle",textAlign:-.4>I?"left":.4<I?"right":"center"},silent:!0});"auto"===I.style.fill&&I.setStyle({fill:m(L/b)});c.add(I)}if(p.get("show")&&L!==b){for(O=0;O<=B;O++)I=Math.cos(E),K=Math.sin(E),I=new e.Line({shape:{x1:I*l+k,y1:K*l+t,x2:I*(l-N)+k,y2:K*(l-N)+t},silent:!0,style:q}),"auto"===q.stroke&&I.setStyle({stroke:m((L+O/B)/b)}),c.add(I),E+=g;E-=g}else E+=v}},_renderPointer:function(b,c,k,m,h,v,g,t){var w=[+b.get("min"),+b.get("max")],y=[v,g];t||(y=y.reverse());var z=b.getData(),p=this._data,A=this.group;z.diff(p).add(function(d){var c=new l({shape:{angle:v}});e.updateProps(c,{shape:{angle:n.linearMap(z.get("value",d),w,y,!0)}},b);A.add(c);z.setItemGraphicEl(d,c)}).update(function(d,c){var g=p.getItemGraphicEl(c);e.updateProps(g,{shape:{angle:n.linearMap(z.get("value",d),w,y,!0)}},b);A.add(g);z.setItemGraphicEl(d,g)}).remove(function(b){b=p.getItemGraphicEl(b);A.remove(b)}).execute();z.eachItemGraphicEl(function(b,c){var g=z.getItemModel(c),f=g.getModel("pointer");b.setShape({x:h.cx,y:h.cy,width:d(f.get("width"),h.r),r:d(f.get("length"),h.r)});b.useStyle(g.getModel("itemStyle.normal").getItemStyle());"auto"===b.style.fill&&b.setStyle("fill",m((z.get("value",c)-w[0])/(w[1]-w[0])));e.setHoverStyle(b,g.getModel("itemStyle.emphasis").getItemStyle())});this._data=z},_renderTitle:function(b,c,k,m,h){k=b.getModel("title");k.get("show")&&(c=k.getModel("textStyle"),m=k.get("offsetCenter"),k=h.cx+d(m[0],h.r),h=h.cy+d(m[1],h.r),b=new e.Text({style:{x:k,y:h,text:b.getData().getName(0),fill:c.getTextColor(),textFont:c.getFont(),textAlign:"center",textVerticalAlign:"middle"}}),this.group.add(b))},_renderDetail:function(b,c,k,m,l){c=b.getModel("detail");k=b.get("min");var v=b.get("max");if(c.get("show")){var g=c.getModel("textStyle"),t=c.get("offsetCenter"),w=l.cx+d(t[0],l.r),t=l.cy+d(t[1],l.r),y=d(c.get("width"),l.r);l=d(c.get("height"),l.r);b=b.getData().get("value",0);l=new e.Rect({shape:{x:w-y/2,y:t-l/2,width:y,height:l},style:{text:h(b,c.get("formatter")),fill:c.get("backgroundColor"),textFill:g.getTextColor(),textFont:g.getFont()}});"auto"===l.style.textFill&&l.setStyle("textFill",m(n.linearMap(b,[k,v],[0,1],!0)));l.setStyle(c.getItemStyle(["color"]));this.group.add(l)}}});c.exports=p},function(c,p,b){c.exports=b(45).extend({type:"echartsGaugePointer",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(b,c){var e=Math.cos,n=Math.sin,d=c.r,m=c.width,r=c.angle,f=c.x-e(r)*m*(m>=d/3?1:2),k=c.y-n(r)*m*(m>=d/3?1:2),r=c.angle-Math.PI/2;b.moveTo(f,k);b.lineTo(c.x+e(r)*m,c.y+n(r)*m);b.lineTo(c.x+e(c.angle)*d,c.y+n(c.angle)*d);b.lineTo(c.x-e(r)*m,c.y-n(r)*m);b.lineTo(f,k)}})},function(c,p,b){c=b(4);p=b(1);b(220);b(221);p.registerVisual(c.curry(b(143),"funnel"));p.registerLayout(b(222));p.registerProcessor(c.curry(b(146),"funnel"))},function(c,p,b){var h=b(97),l=b(5),e=b(102),n=b(1).extendSeriesModel({type:"series.funnel",init:function(b){n.superApply(this,"init",arguments);this.legendDataProvider=function(){return this._dataBeforeProcessed};this._defaultLabelLine(b)},getInitialData:function(b,c){var l=e(["value"],b.data),l=new h(l,this);l.initData(b.data);return l},_defaultLabelLine:function(b){l.defaultEmphasis(b.labelLine,["show"]);var c=b.labelLine.normal,e=b.labelLine.emphasis;c.show=c.show&&b.label.normal.show;e.show=e.show&&b.label.emphasis.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",gap:0,funnelAlign:"center",label:{normal:{show:!0,position:"outer"},emphasis:{show:!0}},labelLine:{normal:{show:!0,length:20,lineStyle:{width:1,type:"solid"}},emphasis:{}},itemStyle:{normal:{borderColor:"#fff",borderWidth:1},emphasis:{}}}});c.exports=n},function(c,p,b){function h(b,c){function d(){l.ignore=l.hoverIgnore;n.ignore=n.hoverIgnore}function k(){l.ignore=l.normalIgnore;n.ignore=n.normalIgnore}e.Group.call(this);var h=new e.Polygon,l=new e.Polyline,n=new e.Text;this.add(h);this.add(l);this.add(n);this.updateData(b,c,!0);this.on("emphasis",d).on("normal",k).on("mouseover",d).on("mouseout",k)}function l(b,c,d,e){var h=e.getModel("textStyle");e=e.get("position");e="inside"===e||"inner"===e||"center"===e;return{fill:h.getTextColor()||(e?"#fff":b.getItemVisual(c,"color")),textFont:h.getFont(),text:n.retrieve(b.hostModel.getFormattedLabel(c,d),b.getName(c))}}var e=b(43),n=b(4);p=h.prototype;var d=["itemStyle","normal","opacity"];p.updateData=function(b,c,f){var k=this.childAt(0),h=b.hostModel,l=b.getItemModel(c),v=b.getItemLayout(c),g=b.getItemModel(c).get(d),g=null==g?1:g;k.useStyle({});f?(k.setShape({points:v.points}),k.setStyle({opacity:0}),e.initProps(k,{style:{opacity:g}},h,c)):e.updateProps(k,{style:{opacity:g},shape:{points:v.points}},h,c);f=l.getModel("itemStyle");h=b.getItemVisual(c,"color");k.setStyle(n.defaults({lineJoin:"round",fill:h},f.getModel("normal").getItemStyle(["opacity"])));k.hoverStyle=f.getModel("emphasis").getItemStyle();this._updateLabel(b,c);e.setHoverStyle(this)};p._updateLabel=function(b,c){var d=this.childAt(1),k=this.childAt(2),h=b.hostModel,n=b.getItemModel(c),v=b.getItemLayout(c).label,g=b.getItemVisual(c,"color");e.updateProps(d,{shape:{points:v.linePoints||v.linePoints}},h,c);e.updateProps(k,{style:{x:v.x,y:v.y}},h,c);k.attr({style:{textAlign:v.textAlign,textVerticalAlign:v.verticalAlign,textFont:v.font},rotation:v.rotation,origin:[v.x,v.y],z2:10});var h=n.getModel("label.normal"),v=n.getModel("label.emphasis"),t=n.getModel("labelLine.normal"),n=n.getModel("labelLine.emphasis");k.setStyle(l(b,c,"normal",h));k.ignore=k.normalIgnore=!h.get("show");k.hoverIgnore=!v.get("show");d.ignore=d.normalIgnore=!t.get("show");d.hoverIgnore=!n.get("show");d.setStyle({stroke:g});d.setStyle(t.getModel("lineStyle").getLineStyle());k.hoverStyle=l(b,c,"emphasis",v);d.hoverStyle=n.getModel("lineStyle").getLineStyle()};n.inherits(h,e.Group);b=b(42).extend({type:"funnel",render:function(b,c,d){var e=b.getData(),l=this._data,n=this.group;e.diff(l).add(function(b){var c=new h(e,b);e.setItemGraphicEl(b,c);n.add(c)}).update(function(b,c){var d=l.getItemGraphicEl(c);d.updateData(e,b);n.add(d);e.setItemGraphicEl(b,d)}).remove(function(b){b=l.getItemGraphicEl(b);n.remove(b)}).execute();this._data=e},remove:function(){this.group.removeAll();this._data=null}});c.exports=b},function(c,p,b){function h(b,c){return n.getLayoutRect(b.getBoxLayoutParams(),{width:c.getWidth(),height:c.getHeight()})}function l(b,c){for(var d=b.mapArray("value",function(b){return b}),e=[],m="ascending"===c,h=0,g=b.count();h<g;h++)e[h]=h;e.sort(function(b,c){return m?d[b]-d[c]:d[c]-d[b]});return e}function e(b){b.each(function(c){var d=b.getItemModel(c),e=d.getModel("label.normal").get("position"),m=d.getModel("labelLine.normal");c=b.getItemLayout(c);var h=c.points,d="inner"===e||"inside"===e||"center"===e,g;if(d)e=(h[0][0]+h[1][0]+h[2][0]+h[3][0])/4,g=(h[0][1]+h[1][1]+h[2][1]+h[3][1])/4,h="center",m=[[e,g],[e,g]];else{var t,w=m.get("length");"left"===e?(m=(h[3][0]+h[0][0])/2,g=(h[3][1]+h[0][1])/2,t=m-w,e=t-5,h="right"):(m=(h[1][0]+h[2][0])/2,g=(h[1][1]+h[2][1])/2,t=m+w,e=t+5,h="left");w=g;m=[[m,g],[t,w]];g=w}c.label={linePoints:m,x:e,y:g,verticalAlign:"middle",textAlign:h,inside:d}})}var n=b(21),d=b(7),m=d.parsePercent;c.exports=function(b,c,k){b.eachSeriesByType("funnel",function(b){var k=b.getData(),r=b.get("sort"),g=h(b,c),t=l(k,r),w=[m(b.get("minSize"),g.width),m(b.get("maxSize"),g.width)],n=k.getDataExtent("value"),z=b.get("min"),p=b.get("max");null==z&&(z=Math.min(n[0],0));null==p&&(p=n[1]);var A=b.get("funnelAlign");b=b.get("gap");var n=(g.height-b*(k.count()-1))/k.count(),B=g.y,F=function(b,c){var f=k.get("value",b)||0,f=d.linearMap(f,[z,p],w,!0),e;switch(A){case "left":e=g.x;break;case "center":e=g.x+(g.width-f)/2;break;case "right":e=g.x+g.width-f}return[[e,c],[e+f,c]]};"ascending"===r&&(n=-n,b=-b,B+=g.height,t=t.reverse());for(r=0;r<t.length;r++){var N=t[r],E=t[r+1],G=F(N,B),E=F(E,B+n),B=B+(n+b);k.setItemLayout(N,{points:G.concat(E.slice().reverse())})}e(k)})}},function(c,p,b){c=b(1);b(224);b(235);b(236);c.registerVisual(b(237))},function(c,p,b){b(225);b(228);b(230);c=b(1);var h=b(4);c.extendComponentView({type:"parallel",render:function(b,c,n){c=n.getZr();if(!this.__onMouseDown){var d;c.on("mousedown",this.__onMouseDown=function(b){d=[b.offsetX,b.offsetY]});c.on("mouseup",this.__onMouseUp=function(c){c=[c.offsetX,c.offsetY];var e=Math.pow(d[0]-c[0],2)+Math.pow(d[1]-c[1],2);b.get("axisExpandable")&&!(5<e)&&(e=b.coordinateSystem,c=e.findClosestAxisDim(c))&&(c=h.indexOf(e.dimensions,c),n.dispatchAction({type:"parallelAxisExpand",axisExpandCenter:c}))})}},dispose:function(b,c){c.getZr().off(this.__onMouseDown);c.getZr().off(this.__onMouseUp)}});c.registerPreprocessor(b(234))},function(c,p,b){var h=b(226);b(26).register("parallel",{create:function(b,c){var n=[];b.eachComponent("parallel",function(d,m){var r=new h(d,b,c);r.name="parallel_"+m;r.resize(d,c);d.coordinateSystem=r;r.model=d;n.push(r)});b.eachSeries(function(b){if("parallel"===b.get("coordinateSystem")){var c=b.get("parallelIndex");b.coordinateSystem=n[c]}});return n}})},function(c,p,b){function h(b,c,d){this._axesMap={};this._axesLayout={};this.dimensions=b.dimensions;this._model=b;this._init(b,c,d)}var l=b(21),e=b(114),n=b(4),d=b(227),m=b(43),r=b(11),f=n.each,k=Math.PI;h.prototype={type:"parallel",constructor:h,_init:function(b,c,k){var g=b.parallelAxisIndex;f(b.dimensions,function(b,f){var k=g[f],m=c.getComponent("parallelAxis",k),k=this._axesMap[b]=new d(b,e.createScaleByModel(m),[0,0],m.get("type"),k);k.onBand="category"===k.type&&m.get("boundaryGap");k.inverse=m.get("inverse");m.axis=k;k.model=m},this)},update:function(b,c){this._updateAxesFromSeries(this._model,b)},_updateAxesFromSeries:function(b,c){c.eachSeries(function(d){if(b.contains(d,c)){var g=d.getData();f(this.dimensions,function(b){var c=this._axesMap[b];c.scale.unionExtent(g.getDataExtent(b));e.niceScaleExtent(c,c.model)},this)}},this)},resize:function(b,c){this._rect=l.getLayoutRect(b.getBoxLayoutParams(),{width:c.getWidth(),height:c.getHeight()});this._layoutAxes(b)},getRect:function(){return this._rect},_layoutAxes:function(b){var c=this._rect,d=b.get("layout"),g=this.dimensions,e=[c.width,c.height],m="horizontal"===d?0:1,h=e[m],l=e[1-m],n=[0,l];f(this._axesMap,function(b){var c=b.inverse?1:0;b.setExtent(n[c],n[1-c])});var e=b.get("axisExpandable"),p=b.get("axisExpandWidth"),m=b.get("axisExpandCenter");b=b.get("axisExpandCount")||0;var B;if(null!=m){var m=Math.max(0,Math.floor(m-(b-1)/2)),F=m+b-1;F>=g.length&&(F=g.length-1,m=Math.max(0,Math.floor(F-b+1)));B=[m,F]}var N=e&&B&&p?function(b,c,d){var g=B[1]-B[0],f=(c-p*g)/(d-1-g);return{position:b<B[0]?(b-1)*f:b<=B[1]?B[0]*f+(b-B[0])*p:b===d-1?c:B[0]*f+g*p+(b-B[1])*f,axisNameAvailableWidth:B[0]<b&&b<B[1]?p:f}}:function(b,c,d){c/=d-1;return{position:c*b,axisNameAvailableWidth:c}};f(g,function(b,f){var e=N(f,h,g.length),m={horizontal:{x:e.position,y:l},vertical:{x:0,y:e.position}},m=[m[d].x+c.x,m[d].y+c.y],t={horizontal:k/2,vertical:0}[d],w=r.create();r.rotate(w,w,t);r.translate(w,w,m);this._axesLayout[b]={position:m,rotation:t,transform:w,axisNameAvailableWidth:e.axisNameAvailableWidth,tickDirection:1,labelDirection:1,axisExpandWindow:B}},this)},getAxis:function(b){return this._axesMap[b]},dataToPoint:function(b,c){return this.axisCoordToPoint(this._axesMap[c].dataToCoord(b),c)},eachActiveState:function(b,c,d){for(var g=this.dimensions,f=this._axesMap,e=this.hasAxisbrushed(),k=0,m=b.count();k<m;k++){var h=b.getValues(g,k),l;if(e){l="active";for(var r=0,n=g.length;r<n;r++)if("inactive"===f[g[r]].model.getActiveState(h[r],r)){l="inactive";break}}else l="normal";c.call(d,l,k)}},hasAxisbrushed:function(){for(var b=this.dimensions,c=this._axesMap,d=!1,g=0,f=b.length;g<f;g++)"normal"!==c[b[g]].model.getActiveState()&&(d=!0);return d},axisCoordToPoint:function(b,c){return m.applyTransform([b,0],this._axesLayout[c].transform)},getAxisLayout:function(b){return n.clone(this._axesLayout[b])},findClosestAxisDim:function(b){var c,d=Infinity;n.each(this._axesLayout,function(g,f){var e=m.applyTransform(b,g.transform,!0),k=this._axesMap[f].getExtent();e[0]<k[0]||e[0]>k[1]||(e=Math.abs(e[1]),e<d&&(d=e,c=f))},this);return c}};c.exports=h},function(c,p,b){p=b(4);var h=b(123);b=function(b,c,n,d,m){h.call(this,b,c,n);this.type=d||"value";this.axisIndex=m};b.prototype={constructor:b,model:null};p.inherits(b,h);c.exports=b},function(c,p,b){var h=b(4),l=b(19);b(229);l.extend({type:"parallel",dependencies:["parallelAxis"],coordinateSystem:null,dimensions:null,parallelAxisIndex:null,layoutMode:"box",defaultOption:{zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,parallelAxisDefault:null},init:function(){l.prototype.init.apply(this,arguments);this.mergeOption({})},mergeOption:function(b){var c=this.option;b&&h.merge(c,b,!0);this._initDimensions()},contains:function(b,c){var d=b.get("parallelIndex");return null!=d&&c.getComponent("parallel",d)===this},setAxisExpand:function(b){h.each(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth"],function(c){b.hasOwnProperty(c)&&(this.option[c]=b[c])},this)},_initDimensions:function(){var b=this.dimensions=[],c=this.parallelAxisIndex=[],d=h.filter(this.dependentModels.parallelAxis,function(b){return b.get("parallelIndex")===this.componentIndex});h.each(d,function(d){b.push("dim"+d.get("dim"));c.push(d.componentIndex)})}})},function(c,p,b){var h=b(19),l=b(4),e=b(15);p=b(127);var n=b(7),h=h.extend({type:"baseParallelAxis",axis:null,activeIntervals:[],getAreaSelectStyle:function(){return e([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]]).call(this.getModel("areaSelectStyle"))},setActiveIntervals:function(b){if(b=this.activeIntervals=l.clone(b))for(var c=b.length-1;0<=c;c--)n.asc(b[c])},getActiveState:function(b){var c=this.activeIntervals;if(!c.length)return"normal";if(null==b)return"inactive";for(var e=0,f=c.length;e<f;e++)if(c[e][0]<=b&&b<=c[e][1])return"active";return"inactive"}});l.merge(h.prototype,b(129));p("parallel",h,function(b,c){return c.type||(c.data?"category":"value")},{type:"value",dim:null,parallelIndex:null,areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10});c.exports=h},function(c,p,b){b(225);b(231);b(232)},function(c,p,b){c=b(1);c.registerAction({type:"axisAreaSelect",event:"axisAreaSelected",update:"updateVisual"},function(b,c){c.eachComponent({mainType:"parallelAxis",query:b},function(c){c.axis.model.setActiveIntervals(b.intervals)})});c.registerAction("parallelAxisExpand",function(b,c){c.eachComponent({mainType:"parallel",query:b},function(c){c.setAxisExpand(b)})})},function(c,p,b){var h=b(4),l=b(132),e=b(233),n=b(43),d=["axisLine","axisLabel","axisTick","axisName"],m=b(1).extendComponentView({type:"parallelAxis",init:function(b,c){m.superApply(this,"init",arguments);(this._brushController=new e(c.getZr())).on("brush",h.bind(this._onBrush,this))},render:function(b,c,e,m){if(!m||"axisAreaSelect"!==m.type||c.findComponents({mainType:"parallelAxis",query:m})[0]!==b)if(this.axisModel=b,this.api=e,this.group.removeAll(),e=this._axisGroup,this._axisGroup=new n.Group,this.group.add(this._axisGroup),b.get("show")){var x=c.getComponent("parallel",b.get("parallelIndex")).coordinateSystem;c=b.getAreaSelectStyle();m=c.width;var v=b.axis.dim,g=x.getAxisLayout(v),t,x=h.indexOf(x.dimensions,v);(v=g.axisExpandWindow)&&(x<=v[0]||x>=v[1])&&(t=!1);t=h.extend({axisLabelShow:t,strokeContainThreshold:m},g);g=new l(b,t);h.each(d,g.add,g);this._axisGroup.add(g.getGroup());this._refreshBrushController(t,c,b,m);n.groupTransition(e,this._axisGroup,b)}},_refreshBrushController:function(b,c,d,e){var m=d.axis;d=h.map(d.activeIntervals,function(b){return{brushType:"lineX",panelId:"pl",range:[m.dataToCoord(b[0],!0),m.dataToCoord(b[1],!0)]}});var l=m.getExtent();e={x:l[0]-30,y:-e/2,width:l[1]-l[0]+60,height:e};this._brushController.mount({enableGlobalPan:!0,rotation:b.rotation,position:b.position}).setPanels([{panelId:"pl",rect:e}]).enableBrush({brushType:"lineX",brushStyle:c,removeOnClick:!0}).updateCovers(d)},_onBrush:function(b,c){var d=this.axisModel,e=d.axis,m=h.map(b,function(b){return[e.coordToData(b.range[0],!0),e.coordToData(b.range[1],!0)]});(!d.option.realtime===c.isEnd||c.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:d.id,intervals:m})},dispose:function(){this._brushController.dispose()}});c.exports=m},function(c,p,b){function h(b){J.assert(b);M.call(this);this._zr=b;this.group=new P.Group;this._track=[];this._covers=[];this._mounted;this._uid="brushController_"+Y++;this._handlers={};Q(ha,function(b,c){this._handlers[c]=J.bind(b,this)},this)}function l(b,c){var d=b._zr;b._enableGlobalPan||T.take(d,"globalPan",b._uid);Q(b._handlers,function(b,c){d.on(c,b)});b._brushType=c.brushType;b._brushOption=J.merge(J.clone(fa),c,!0)}function e(b){var c=b._zr;T.release(c,"globalPan",b._uid);Q(b._handlers,function(b,d){c.off(d,b)});b._brushType=b._brushOption=null}function n(b,c){var d=la[c.brushType].createCover(b,c);m(d);d.__brushOption=c;b.group.add(d);return d}function d(b,c){var d=la[c.__brushOption.brushType];d.endCreating&&(d.endCreating(b,c),m(c));return c}function m(b){b.traverse(function(b){b.z=1E4;b.z2=1E4})}function r(b,c){la[c.__brushOption.brushType].updateCommon(b,c);var d=c.__brushOption;la[c.__brushOption.brushType].updateCoverShape(b,c,d.range,d)}function f(b,c,d){b=b._panels;if(!b)return!0;var g;Q(b,function(b){b.contain(c,d)&&(g=b)});return g}function k(b,c){var d=b._panels;if(!d)return!0;var g=c.__brushOption.panelId;return null!=g?d[g]:!0}function u(b){var c=b._covers,d=c.length;Q(c,function(c){b.group.remove(c)},b);c.length=0;return!!d}function x(b,c){var d=U(b._covers,function(b){b=b.__brushOption;var c=J.clone(b.range);return{brushType:b.brushType,panelId:b.panelId,range:c}});b.trigger("brush",d,{isEnd:!!c.isEnd,removeOnClick:!!c.removeOnClick})}function v(b){var c=b.length-1;0>c&&(c=0);return[b[0],b[c]]}function g(b,c,d,g){var f=new P.Group;f.add(new P.Rect({name:"main",style:z(d),silent:!0,draggable:!0,cursor:"move",drift:R(b,c,f,"nswe"),ondragend:R(x,c,{isEnd:!0})}));Q(g,function(d){f.add(new P.Rect({name:d,style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:R(b,c,f,d),ondragend:R(x,c,{isEnd:!0})}))});return f}function t(b,c,d,g){var f=g.brushStyle.lineWidth||0,e=W(f,6),k=d[0][0],m=d[1][0],t=k-f/2,h=m-f/2,w=d[0][1],l=d[1][1];d=w-e+f/2;var r=l-e+f/2,w=w-k,l=l-m,n=w+f,f=l+f;y(b,c,"main",k,m,w,l);g.transformable&&(y(b,c,"w",t,h,e,f),y(b,c,"e",d,h,e,f),y(b,c,"n",t,h,n,e),y(b,c,"s",t,r,n,e),y(b,c,"nw",t,h,e,e),y(b,c,"ne",d,h,e,e),y(b,c,"sw",t,r,e,e),y(b,c,"se",d,r,e,e))}function w(b,c){var d=c.__brushOption,g=d.transformable,f=c.childAt(0);f.useStyle(z(d));f.attr({silent:!g,cursor:g?"move":"default"});Q("w e n s se sw ne nw".split(" "),function(d){var f=c.childOfName(d);d=A(b,d);f&&f.attr({silent:!g,invisible:!g,cursor:g?ga[d]+"-resize":null})})}function y(b,c,d,g,f,e,k){(d=c.childOfName(d))&&d.setShape(G(E(b,c,[[g,f],[g+e,f+k]])))}function z(b){return J.defaults({strokeNoScale:!0},b.brushStyle)}function D(b,c,d,g){var f=[V(b,d),V(c,g)];b=[W(b,d),W(c,g)];return[[f[0],b[0]],[f[1],b[1]]]}function A(b,c){if(1<c.length){c=c.split("");var d=[A(b,c[0]),A(b,c[1])];"e"!==d[0]&&"w"!==d[0]||d.reverse();return d.join("")}d=P.transformDirection({w:"left",e:"right",n:"top",s:"bottom"}[c],P.getTransform(b.group));return{left:"w",right:"e",top:"n",bottom:"s"}[d]}function B(b,c,d,g,f,e,k,m){m=g.__brushOption;var t=b(m.range),h=N(d,e,k);Q(f.split(""),function(b){b=ba[b];t[b[0]][b[1]]+=h[b[0]]});m.range=c(D(t[0][0],t[1][0],t[0][1],t[1][1]));r(d,g);x(d,{isEnd:!1})}function F(b,c,d,g,f){f=c.__brushOption.range;var e=N(b,d,g);Q(f,function(b){b[0]+=e[0];b[1]+=e[1]});r(b,c);x(b,{isEnd:!1})}function N(b,c,d){b=b.group;c=b.transformCoordToLocal(c,d);d=b.transformCoordToLocal(0,0);return[c[0]-d[0],c[1]-d[1]]}function E(b,c,d){b=k(b,c);if(!0===b)return J.clone(d);var g=b.getBoundingRect();return J.map(d,function(b){var c=b[0],c=W(c,g.x),c=V(c,g.x+g.width);b=b[1];b=W(b,g.y);b=V(b,g.y+g.height);return[c,b]})}function G(b){var c=V(b[0][0],b[1][0]),d=V(b[0][1],b[1][1]),g=W(b[0][0],b[1][0]);b=W(b[0][1],b[1][1]);return{x:c,y:d,width:g-c,height:b-d}}function q(b,c){var d=c.offsetX,g=c.offsetY,f=b._zr;if(b._brushType){for(var e=b._panels,k=b._covers,m,t=0;t<k.length;t++)if(la[k[t].__brushOption.brushType].contain(k[t],d,g)){m=!0;break}m||(e?Q(e,function(b){b.contain(d,g)&&f.setCursorStyle("crosshair")}):f.setCursorStyle("crosshair"))}}function H(b){b=b.event;b.preventDefault&&b.preventDefault()}function L(b,c,d){return b.childOfName("main").contain(c,d)}function I(b,c,g){var e=c.offsetX,k=c.offsetY;c=b._creatingCover;var m=b._creatingPanel,t=b._brushOption,h;b._track.push(b.group.transformCoordToLocal(e,k));var w;var l=b._track;if(l.length){w=l[l.length-1];var r=l[0],l=w[0]-r[0];w=w[1]-r[1];w=6<Z(l*l+w*w,.5)}else w=!1;w||c?(m&&!c&&("single"===t.brushMode&&u(b),e=J.clone(t),e.panelId=!0===m?null:m.__brushPanelId,c=b._creatingCover=n(b,e),b._covers.push(c)),c&&(h=la[b._brushType],c.__brushOption.range=h.getCreatingRange(E(b,c,b._track)),g&&(d(b,c),h.updateCommon(b,c)),h=c,e=h.__brushOption,la[h.__brushOption.brushType].updateCoverShape(b,h,e.range,e),h={isEnd:g})):g&&"single"===t.brushMode&&t.removeOnClick&&f(b,e,k)&&u(b)&&(h={isEnd:g,removeOnClick:!0});return h}function K(b){this._dragging&&(H(b),b=I(this,b,!0),this._dragging=!1,this._track=[],this._creatingCover=null,b&&x(this,b))}function O(b){return{createCover:function(c,d){return g(R(B,function(c){c=[c,[0,100]];b&&c.reverse();return c},function(c){return c[b]}),c,d,[["w","e"],["n","s"]][b])},getCreatingRange:function(c){var d=v(c);c=V(d[0][b],d[1][b]);d=W(d[0][b],d[1][b]);return[c,d]},updateCoverShape:function(c,d,g,f){var e=f.brushStyle.width;if(null==e){var m=k(c,d),h=0;!0!==m&&(m=m.getBoundingRect(),e=b?m.width:m.height,h=b?m.x:m.y);e=[h,h+(e||0)]}else e=[-e/2,e/2];g=[g,e];b&&g.reverse();t(c,d,g,f)},updateCommon:w,contain:L}}var M=b(33),J=b(4),P=b(43),T=b(175),S=b(98),R=J.curry,Q=J.each,U=J.map,V=Math.min,W=Math.max,Z=Math.pow,ba={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},ga={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},fa={brushStyle:{lineWidth:2,stroke:"rgba(0,0,0,0.3)",fill:"rgba(0,0,0,0.1)"},transformable:!0,brushMode:"single",removeOnClick:!1},Y=0;h.prototype={constructor:h,enableBrush:function(b){J.assert(this._mounted);this._brushType&&e(this);b.brushType&&l(this,b);return this},setPanels:function(b){var c=this._panels||{},d=this._panels=b&&b.length&&{},g=this.group;d&&Q(b,function(b){var f=b.panelId,e=c[f];e||(e=new P.Rect({silent:!0,invisible:!0}),g.add(e));e.attr("shape",b.rect);e.__brushPanelId=f;d[f]=e;c[f]=null});Q(c,function(b){b&&g.remove(b)});return this},mount:function(b){b=b||{};this._mounted=!0;this._enableGlobalPan=b.enableGlobalPan;var c=this.group;this._zr.add(c);c.attr({position:b.position||[0,0],rotation:b.rotation||0,scale:b.scale||[1,1]});return this},eachCover:function(b,c){Q(this._covers,b,c)},updateCovers:function(b){function c(b,d){return(null!=b.id?b.id:"\x00-brush-index-"+d)+"-"+b.brushType}function g(c,t){var h=b[c];null!=t&&f[t]===m?e[c]=f[t]:(h=e[c]=null!=t?(f[t].__brushOption=h,f[t]):d(k,n(k,h)),r(k,h))}J.assert(this._mounted);b=J.map(b,function(b){return J.merge(J.clone(fa),b,!0)});var f=this._covers,e=this._covers=[],k=this,m=this._creatingCover;(new S(f,b,function(b,d){return c(b.__brushOption,d)},c)).add(g).update(g).remove(function(b){f[b]!==m&&k.group.remove(f[b])}).execute();return this},unmount:function(){this.enableBrush(!1);u(this);this._zr.remove(this.group);this._mounted=!1;return this},dispose:function(){this.unmount();this.off()}};J.mixin(h,M);var ha={mousedown:function(b){if(this._dragging)K.call(this,b);else if(!b.target||!b.target.draggable){H(b);var c=b.offsetX;b=b.offsetY;this._creatingCover=null;if(this._creatingPanel=f(this,c,b))this._dragging=!0,this._track=[this.group.transformCoordToLocal(c,b)]}},mousemove:function(b){q(this,b);this._dragging&&(H(b),(b=I(this,b,!1))&&x(this,b))},mouseup:K},la={lineX:O(0),lineY:O(1),rect:{createCover:function(b,c){return g(R(B,function(b){return b},function(b){return b}),b,c,"w e n s se sw ne nw".split(" "))},getCreatingRange:function(b){b=v(b);return D(b[1][0],b[1][1],b[0][0],b[0][1])},updateCoverShape:function(b,c,d,g){t(b,c,d,g)},updateCommon:w,contain:L},polygon:{createCover:function(b,c){var d=new P.Group;d.add(new P.Polyline({name:"main",style:z(c),silent:!0}));return d},getCreatingRange:function(b){return b},endCreating:function(b,c){c.remove(c.childAt(0));c.add(new P.Polygon({name:"main",draggable:!0,drift:R(F,b,c),ondragend:R(x,b,{isEnd:!0})}))},updateCoverShape:function(b,c,d,g){c.childAt(0).setShape({points:E(b,c,d)})},updateCommon:w,contain:L}};c.exports=h},function(c,p,b){function h(b){if(!b.parallel){var c=!1;e.each(b.series,function(b){b&&"parallel"===b.type&&(c=!0)});c&&(b.parallel=[{}])}}function l(b){var c=n.normalizeToArray(b.parallelAxis);e.each(c,function(c){if(e.isObject(c)){var f=c.parallelIndex||0;(f=n.normalizeToArray(b.parallel)[f])&&f.parallelAxisDefault&&e.merge(c,f.parallelAxisDefault,!1)}})}var e=b(4),n=b(5);c.exports=function(b){h(b);l(b)}},function(c,p,b){function h(b,c,d){var e=b.get("data"),h=+c.replace("dim","");e&&e.length&&n.each(d,function(b){if(b){var c=n.indexOf(e,b[h]);b[h]=0<=c?c:NaN}})}function l(b,c){var d=0;n.each(b,function(b){b=+b.replace("dim","");b>d&&(d=b)});var e=c[0];e&&e.length-1>d&&(d=e.length-1);for(var e=[],h=0;h<=d;h++)e.push("dim"+h);return e}var e=b(97),n=b(4);p=b(28);var d=b(102);c.exports=p.extend({type:"series.parallel",dependencies:["parallel"],getInitialData:function(b,c){var f=c.getComponent("parallel",this.get("parallelIndex")),k=f.parallelAxisIndex,u=b.data,x=f.dimensions,f=l(x,u),f=n.map(f,function(b,g){var f=n.indexOf(x,b),e=0<=f&&c.getComponent("parallelAxis",k[f]);return e&&"category"===e.get("type")?(h(e,b,u),{name:b,type:"ordinal"}):0>f?d.guessOrdinal(u,g)?{name:b,type:"ordinal"}:b:b}),f=new e(f,this);f.initData(u);this.option.progressive&&(this.option.animation=!1);return f},getRawIndicesByActiveState:function(b){var c=this.coordinateSystem,d=this.getData(),e=[];c.eachActiveState(d,function(c,h){b===c&&e.push(d.getRawIndex(h))});return e},defaultOption:{zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{normal:{show:!1},emphasis:{show:!1}},inactiveOpacity:.05,activeOpacity:1,lineStyle:{normal:{width:1,opacity:.45,type:"solid"}},progressive:!1,smooth:!1,animationEasing:"linear"}})},function(c,p,b){function h(b,c,d){var e=b.model;b=b.getRect();var h=new n.Rect({shape:{x:b.x,y:b.y,width:b.width,height:b.height}}),e="horizontal"===e.get("layout")?"width":"height";h.setShape(e,0);n.initProps(h,{shape:{width:b.width,height:b.height}},c,d);return h}function l(b,c,d,e){for(var h=[],l=0;l<d.length;l++){var n=d[l],g=b.get(n,c);("category"===e.getAxis(n).type?null==g:null==g||isNaN(g))||h.push(e.dataToPoint(g,n))}return h}function e(b,c){var f=b.hostModel.getModel("lineStyle.normal"),e=f.getLineStyle();b.eachItemGraphicEl(function(h,l){b.hasItemOption&&(e=b.getItemModel(l).getModel("lineStyle.normal",f).getLineStyle());h.useStyle(d.extend(e,{fill:null,stroke:b.getItemVisual(l,"color"),opacity:b.getItemVisual(l,"opacity")}));h.shape.smooth=c})}var n=b(43),d=b(4);p=b(42).extend({type:"parallel",init:function(){this._dataGroup=new n.Group;this.group.add(this._dataGroup)},render:function(b,c,d,e){this._renderForNormal(b)},_renderForNormal:function(b){var c=this._dataGroup,d=b.getData(),k=this._data,u=b.coordinateSystem,x=u.dimensions,v=b.option.smooth?.3:null;d.diff(k).add(function(b){var e=l(d,b,x,u),e=new n.Polyline({shape:{points:e},silent:!0,z2:10});c.add(e);d.setItemGraphicEl(b,e)}).update(function(c,e){var h=k.getItemGraphicEl(e),r=l(d,c,x,u);d.setItemGraphicEl(c,h);n.updateProps(h,{shape:{points:r}},b,c)}).remove(function(b){b=k.getItemGraphicEl(b);c.remove(b)}).execute();e(d,v);this._data||(v=h(u,b,function(){setTimeout(function(){c.removeClipPath()})}),c.setClipPath(v));this._data=d},remove:function(){this._dataGroup&&this._dataGroup.removeAll();this._data=null}});c.exports=p},function(c,p){c.exports=function(b){b.eachSeriesByType("parallel",function(c){var l=c.getModel("itemStyle.normal"),e=c.getModel("lineStyle.normal"),n=b.get("color"),l=e.get("color")||l.get("color")||n[c.seriesIndex%n.length],e=c.get("inactiveOpacity"),n=c.get("activeOpacity"),d=c.getModel("lineStyle.normal").getLineStyle(),m=c.coordinateSystem,r=c.getData(),f={normal:d.opacity,active:n,inactive:e};m.eachActiveState(r,function(b,c){r.setItemVisual(c,"opacity",f[b])});r.setVisual("color",l)})}},function(c,p,b){c=b(1);b(239);b(240);c.registerLayout(b(241));c.registerVisual(b(243))},function(c,p,b){p=b(28);var h=b(196),l=p.extend({type:"series.sankey",layoutInfo:null,getInitialData:function(b,c){var d=b.edges||b.links,m=b.data||b.nodes;if(m&&d)return h(m,d,this,!0).data},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},formatTooltip:function(b,c,d){return"edge"===d?(b=this.getDataParams(b,d),c=b.data,c=c.source+" -- "+c.target,b.value&&(c+=" : "+b.value),c):l.superCall(this,"formatTooltip",b,c)},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",layout:null,left:"5%",top:"5%",right:"20%",bottom:"5%",nodeWidth:20,nodeGap:8,layoutIterations:32,label:{normal:{show:!0,position:"right",textStyle:{color:"#000",fontSize:12}},emphasis:{show:!0}},itemStyle:{normal:{borderWidth:1,borderColor:"#333"}},lineStyle:{normal:{color:"#314656",opacity:.2,curveness:.5},emphasis:{opacity:.6}},animationEasing:"linear",animationDuration:1E3}});c.exports=l},function(c,p,b){function h(b,c,e){var f=new l.Rect({shape:{x:b.x-10,y:b.y-10,width:0,height:b.height+20}});l.initProps(f,{shape:{width:b.width+20,height:b.height+20}},c,e);return f}var l=b(43),e=b(4),n=l.extendShape({shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,extent:0},buildPath:function(b,c){var e=c.extent/2;b.moveTo(c.x1,c.y1-e);b.bezierCurveTo(c.cpx1,c.cpy1-e,c.cpx2,c.cpy2-e,c.x2,c.y2-e);b.lineTo(c.x2,c.y2+e);b.bezierCurveTo(c.cpx2,c.cpy2+e,c.cpx1,c.cpy1+e,c.x1,c.y1+e);b.closePath()}});c.exports=b(1).extendChartView({type:"sankey",_model:null,render:function(b,c,r){c=b.getGraph();var f=this.group;r=b.layoutInfo;var k=b.getData(),u=b.getData("edge");this._model=b;f.removeAll();f.position=[r.x,r.y];c.eachNode(function(c){var m=c.getLayout(),g=c.getModel(),t=g.getModel("label.normal"),h=t.getModel("textStyle"),n=g.getModel("label.emphasis"),r=n.getModel("textStyle"),m=new l.Rect({shape:{x:m.x,y:m.y,width:c.getLayout().dx,height:c.getLayout().dy},style:{text:t.get("show")?b.getFormattedLabel(c.dataIndex,"normal")||c.id:"",textFont:h.getFont(),textFill:h.getTextColor(),textPosition:t.get("position")}});m.setStyle(e.defaults({fill:c.getVisual("color")},g.getModel("itemStyle.normal").getItemStyle()));l.setHoverStyle(m,e.extend(c.getModel("itemStyle.emphasis"),{text:n.get("show")?b.getFormattedLabel(c.dataIndex,"emphasis")||c.id:"",textFont:r.getFont(),textFill:r.getTextColor(),textPosition:n.get("position")}));f.add(m);k.setItemGraphicEl(c.dataIndex,m);m.dataType="node"});c.eachEdge(function(c){var e=new n;e.dataIndex=c.dataIndex;e.seriesIndex=b.seriesIndex;e.dataType="edge";var g=c.getModel("lineStyle.normal"),k=g.get("curveness"),m=c.node1.getLayout(),h=c.node2.getLayout(),r=c.getLayout();e.shape.extent=Math.max(1,r.dy);var p=m.x+m.dx,m=m.y+r.sy+r.dy/2,A=h.x,h=h.y+r.ty+r.dy/2;e.setShape({x1:p,y1:m,x2:A,y2:h,cpx1:p*(1-k)+A*k,cpy1:m,cpx2:p*k+A*(1-k),cpy2:h});e.setStyle(g.getItemStyle());switch(e.style.fill){case "source":e.style.fill=c.node1.getVisual("color");break;case "target":e.style.fill=c.node2.getVisual("color")}l.setHoverStyle(e,c.getModel("lineStyle.emphasis").getItemStyle());f.add(e);u.setItemGraphicEl(c.dataIndex,e)});!this._data&&b.get("animation")&&f.setClipPath(h(f.getBoundingRect(),b,function(){f.removeClipPath()}));this._data=b.getData()}})},function(c,p,b){function h(b,c){return F.getLayoutRect(b.getBoxLayoutParams(),{width:c.getWidth(),height:c.getHeight()})}function l(b,c,f,e,k,t,h){for(var w=b,l,r=0;w.length;){l=[];for(var u=0,y=w.length;u<y;u++){var z=w[u];z.setLayout({x:r},!0);z.setLayout({dx:f},!0);for(var x=0,v=z.outEdges.length;x<v;x++)l.push(z.outEdges[x].node2)}w=l;++r}n(b,r);d(b,(k-f)/(r-1));m(b,c,t,e,h);g(b)}function e(b){E.each(b,function(b){var c=y(b.outEdges,B),d=y(b.inEdges,B);b.setLayout({value:Math.max(c,d)},!0)})}function n(b,c){E.each(b,function(b){b.outEdges.length||b.setLayout({x:c-1},!0)})}function d(b,c){E.each(b,function(b){var d=b.getLayout().x*c;b.setLayout({x:d},!0)})}function m(b,c,d,g,e){var m=N().key(function(b){return b.getLayout().x}).sortKeys(A).entries(b).map(function(b){return b.values});r(b,m,c,d,g);f(m,g,d);for(b=1;0<e;e--)b*=.99,k(m,b),f(m,g,d),x(m,b),f(m,g,d)}function r(b,c,d,g,f){var e=[];E.each(c,function(b){var c=b.length,d=0;E.each(b,function(b){d+=b.getLayout().value});e.push((g-(c-1)*f)/d)});e.sort(function(b,c){return b-c});var k=e[0];E.each(c,function(b){E.each(b,function(b,c){b.setLayout({y:c},!0);var d=b.getLayout().value*k;b.setLayout({dy:d},!0)})});E.each(d,function(b){var c=+b.getValue()*k;b.setLayout({dy:c},!0)})}function f(b,c,d){E.each(b,function(b){var g,f;f=0;var e=b.length,k;b.sort(D);for(k=0;k<e;k++)g=b[k],f-=g.getLayout().y,0<f&&(f=g.getLayout().y+f,g.setLayout({y:f},!0)),f=g.getLayout().y+g.getLayout().dy+c;f=f-c-d;if(0<f)for(f=g.getLayout().y-f,g.setLayout({y:f},!0),f=g.getLayout().y,k=e-2;0<=k;--k)g=b[k],f=g.getLayout().y+g.getLayout().dy+c-f,0<f&&(f=g.getLayout().y-f,g.setLayout({y:f},!0)),f=g.getLayout().y})}function k(b,c){E.each(b.slice().reverse(),function(b){E.each(b,function(b){if(b.outEdges.length){var d=y(b.outEdges,u)/y(b.outEdges,B),d=b.getLayout().y+(d-z(b))*c;b.setLayout({y:d},!0)}})})}function u(b){return z(b.node2)*b.getValue()}function x(b,c){E.each(b,function(b){E.each(b,function(b){if(b.inEdges.length){var d=y(b.inEdges,v)/y(b.inEdges,B),d=b.getLayout().y+(d-z(b))*c;b.setLayout({y:d},!0)}})})}function v(b){return z(b.node1)*b.getValue()}function g(b){E.each(b,function(b){b.outEdges.sort(t);b.inEdges.sort(w)});E.each(b,function(b){var c=0,d=0;E.each(b.outEdges,function(b){b.setLayout({sy:c},!0);c+=b.getLayout().dy});E.each(b.inEdges,function(b){b.setLayout({ty:d},!0);d+=b.getLayout().dy})})}function t(b,c){return b.node2.getLayout().y-c.node2.getLayout().y}function w(b,c){return b.node1.getLayout().y-c.node1.getLayout().y}function y(b,c){var d=0,g=b.length,f,e=-1;if(1===arguments.length)for(;++e<g;)f=+b[e],isNaN(f)||(d+=f);else for(;++e<g;)f=+c.call(b,b[e],e),isNaN(f)||(d+=f);return d}function z(b){return b.getLayout().y+b.getLayout().dy/2}function D(b,c){return b.getLayout().y-c.getLayout().y}function A(b,c){return b<c?-1:b>c?1:b==c?0:NaN}function B(b){return b.getValue()}var F=b(21),N=b(242),E=b(4);c.exports=function(b,c,d){b.eachSeriesByType("sankey",function(b){var d=b.get("nodeWidth"),g=b.get("nodeGap"),f=h(b,c);b.layoutInfo=f;var k=f.width,f=f.height,m=b.getGraph(),t=m.nodes,m=m.edges;e(t);b=0!==t.filter(function(b){return 0===b.getLayout().value}).length?0:b.get("layoutIterations");l(t,m,d,g,k,f,b)})}},function(c,p,b){var h=b(4);c.exports=function(){function b(c,d){if(d>=n.length)return c;for(var f=-1,e=c.length,u=n[d++],x={},v={};++f<e;){var g=u(c[f]),t=v[g];t?t.push(c[f]):v[g]=[c[f]]}h.each(v,function(c,g){x[g]=b(c,d)});return x}function c(b,l){if(l>=n.length)return b;var f=[],k=d[l++];h.each(b,function(b,d){f.push({key:d,values:c(b,l)})});return k?f.sort(function(b,c){return k(b.key,c.key)}):f}var n=[],d=[];return{key:function(b){n.push(b);return this},sortKeys:function(b){d[n.length-1]=b;return this},entries:function(d){return c(b(d,0),0)}}}},function(c,p,b){var h=b(192);c.exports=function(b,c){b.eachSeriesByType("sankey",function(b){var c=b.getGraph().nodes;c.sort(function(b,c){return b.getLayout().value-c.getLayout().value});var e=c[0].getLayout().value,l=c[c.length-1].getLayout().value;c.forEach(function(c){var d=(new h({type:"color",mappingMethod:"linear",dataExtent:[e,l],visual:b.get("color")})).mapValueToVisual(c.getLayout().value);c.setVisual("color",d);d=c.getModel().get("itemStyle.normal.color");null!=d&&c.setVisual("color",d)})})}},function(c,p,b){c=b(1);b(245);b(248);c.registerVisual(b(249));c.registerLayout(b(250))},function(c,p,b){p=b(4);var h=b(28);b=b(246);h=h.extend({type:"series.boxplot",dependencies:["xAxis","yAxis","grid"],valueDimensions:["min","Q1","median","Q3","max"],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,layout:null,boxWidth:[7,50],itemStyle:{normal:{color:"#fff",borderWidth:1},emphasis:{borderWidth:2,shadowBlur:5,shadowOffsetX:2,shadowOffsetY:2,shadowColor:"rgba(0,0,0,0.4)"}},animationEasing:"elasticOut",animationDuration:800}});p.mixin(h,b.seriesModelMixin,!0);c.exports=h},function(c,p,b){var h=b(97),l=b(102),e=b(247),n=b(4);c.exports={seriesModelMixin:{_baseAxisDim:null,getInitialData:function(b,c){var e,f=c.getComponent("xAxis",this.get("xAxisIndex")),k=c.getComponent("yAxis",this.get("yAxisIndex")),n=f.get("type"),x=k.get("type"),v;"category"===n?(b.layout="horizontal",e=f.getCategories(),v=!0):"category"===x?(b.layout="vertical",e=k.getCategories(),v=!0):b.layout=b.layout||"horizontal";this._baseAxisDim="horizontal"===b.layout?"x":"y";f=b.data;k=this.dimensions=["base"].concat(this.valueDimensions);l(k,f);k=new h(k,this);k.initData(f,e?e.slice():null,function(b,c,d,f){b=null==b.value?b:b.value;return v?"base"===c?d:b[f-1]:b[f]});return k},coordDimToDataDim:function(b){var c=this.valueDimensions.slice(),e=["base"];return{horizontal:{x:e,y:c},vertical:{x:c,y:e}}[this.get("layout")][b]},dataDimToCoordDim:function(b){var c;n.each(["x","y"],function(e,f){var k=this.coordDimToDataDim(e);0<=n.indexOf(k,b)&&(c=e)},this);return c},getBaseAxis:function(){var b=this._baseAxisDim;return this.ecModel.getComponent(b+"Axis",this.get(b+"AxisIndex")).axis}},viewMixin:{init:function(){var b=this._whiskerBoxDraw=new e(this.getStyleUpdater());this.group.add(b.group)},render:function(b,c,e){this._whiskerBoxDraw.updateData(b.getData())},remove:function(b){this._whiskerBoxDraw.remove()}}}},function(c,p,b){function h(b,c,d,e){m.Group.call(this);this.styleUpdater=d;this._createContent(b,c,e);this.updateData(b,c,e)}function l(b,c,e){return d.map(b,function(b){b=b.slice();b[c]=e.initBaseline;return b})}function e(b){var c={};d.each(b,function(b,d){c["ends"+d]=b});return c}function n(b){this.group=new m.Group;this.styleUpdater=b}var d=b(4),m=b(43),r=b(45).extend({type:"whiskerInBox",shape:{},buildPath:function(b,c){for(var d in c)if(0===d.indexOf("ends")){var e=c[d];b.moveTo(e[0][0],e[0][1]);b.lineTo(e[1][0],e[1][1])}}});p=h.prototype;p._createContent=function(b,c,h){var n=b.getItemLayout(c),v="horizontal"===n.chartLayout?1:0;b=0;this.add(new m.Polygon({shape:{points:h?l(n.bodyEnds,v,n):n.bodyEnds},style:{strokeNoScale:!0},z2:100}));this.bodyIndex=b++;c=d.map(n.whiskerEnds,function(b){return h?l(b,v,n):b});this.add(new r({shape:e(c),style:{strokeNoScale:!0},z2:100}));this.whiskerIndex=b++};p.updateData=function(b,c,d){var h=this._seriesModel=b.hostModel,l=b.getItemLayout(c);d=m[d?"initProps":"updateProps"];d(this.childAt(this.bodyIndex),{shape:{points:l.bodyEnds}},h,c);d(this.childAt(this.whiskerIndex),{shape:e(l.whiskerEnds)},h,c);this.styleUpdater.call(null,this,b,c)};d.inherits(h,m.Group);p=n.prototype;p.updateData=function(b){var c=this.group,d=this._data,e=this.styleUpdater;b.diff(d).add(function(d){if(b.hasValue(d)){var g=new h(b,d,e,!0);b.setItemGraphicEl(d,g);c.add(g)}}).update(function(m,g){var t=d.getItemGraphicEl(g);b.hasValue(m)?(t?t.updateData(b,m):t=new h(b,m,e),c.add(t),b.setItemGraphicEl(m,t)):c.remove(t)}).remove(function(b){(b=d.getItemGraphicEl(b))&&c.remove(b)}).execute();this._data=b};p.remove=function(){var b=this.group,c=this._data;this._data=null;c&&c.eachItemGraphicEl(function(c){c&&b.remove(c)})};c.exports=n},function(c,p,b){function h(b,c,f){var k=c.getItemModel(f),h=k.getModel(n);c=c.getItemVisual(f,"color");h=h.getItemStyle(["borderColor"]);f=b.childAt(b.whiskerIndex);f.style.set(h);f.style.stroke=c;f.dirty();f=b.childAt(b.bodyIndex);f.style.set(h);f.style.stroke=c;f.dirty();k=k.getModel(d).getItemStyle();e.setHoverStyle(b,k)}p=b(4);var l=b(42),e=b(43);b=b(246);l=l.extend({type:"boxplot",getStyleUpdater:function(){return h}});p.mixin(l,b.viewMixin,!0);var n=["itemStyle","normal"],d=["itemStyle","emphasis"];c.exports=l},function(c,p){var b=["itemStyle","normal","borderColor"];c.exports=function(c,l){var e=c.get("color");c.eachRawSeriesByType("boxplot",function(l){var d=e[l.seriesIndex%e.length],m=l.getData();m.setVisual({legendSymbol:"roundRect",color:l.get(b)||d});c.isSeriesFiltered(l)||m.each(function(c){var d=m.getItemModel(c);m.setItemVisual(c,{color:d.get(b,!0)})})})}},function(c,p,b){function h(b){var c=[],d=[];b.eachSeriesByType("boxplot",function(b){var e=b.getBaseAxis(),m=n.indexOf(d,e);0>m&&(m=d.length,d[m]=e,c[m]={axis:e,seriesModels:[]});c[m].seriesModels.push(b)});return c}function l(b){var c=b.axis,e=b.seriesModels,h=e.length,l=b.boxWidthList=[],v=b.boxOffsetList=[],g=[],t;if("category"===c.type)t=c.getBandWidth();else{var w=0;m(e,function(b){w=Math.max(w,b.getData().count())});b=c.getExtent();Math.abs(b[1]-b[0])/w}m(e,function(b){b=b.get("boxWidth");n.isArray(b)||(b=[b,b]);g.push([d(b[0],t)||0,d(b[1],t)||0])});b=.8*t-2;var y=b/h*.3,z=(b-y*(h-1))/h,p=z/2-b/2;m(e,function(b,c){v.push(p);p+=y+z;l.push(Math.min(Math.max(z,g[c][0]),g[c][1]))})}function e(b,c,d){var e=b.coordinateSystem,m=b.getData(),h=b.dimensions,g=b.get("layout"),t=d/2;m.each(h,function(){function b(d){var g=[];g[p]=n;g[N]=d;isNaN(n)||isNaN(d)?d=[NaN,NaN]:(d=e.dataToPoint(g),d[p]+=c);return d}function d(b,c){var g=b.slice(),f=b.slice();g[p]+=t;f[p]-=t;c?L.push(g,f):L.push(f,g)}function k(b){b=[b.slice(),b.slice()];b[0][p]-=t;b[1][p]+=t;H.push(b)}var l=arguments,n=l[0],r=l[h.length],p="horizontal"===g?0:1,N=1-p,E=b(l[3]),G=b(l[1]),q=b(l[5]),H=[[G,b(l[2])],[q,b(l[4])]];k(G);k(q);k(E);var L=[];d(H[0][1],0);d(H[1][1],1);m.setItemLayout(r,{chartLayout:g,initBaseline:E[N],median:E,bodyEnds:L,whiskerEnds:H})})}var n=b(4),d=b(7).parsePercent,m=n.each;c.exports=function(b){b=h(b);m(b,function(b){var c=b.seriesModels;c.length&&(l(b),m(c,function(c,d){e(c,b.boxOffsetList[d],b.boxWidthList[d])}))})}},function(c,p,b){c=b(1);b(252);b(253);c.registerPreprocessor(b(254));c.registerVisual(b(255));c.registerLayout(b(256))},function(c,p,b){var h=b(4),l=b(28);p=b(246);b=b(6);var e=b.encodeHTML,n=b.addCommas;b=l.extend({type:"series.candlestick",dependencies:["xAxis","yAxis","grid"],valueDimensions:["open","close","lowest","highest"],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,layout:null,itemStyle:{normal:{color:"#c23531",color0:"#314656",borderWidth:1,borderColor:"#c23531",borderColor0:"#314656"},emphasis:{borderWidth:2}},animationUpdate:!1,animationEasing:"linear",animationDuration:300},getShadowDim:function(){return"open"},formatTooltip:function(b,c){var l=h.map(this.valueDimensions,function(c){return c+": "+n(this._data.get(c,b))},this);return e(this.name)+"\x3cbr /\x3e"+l.join("\x3cbr /\x3e")},brushSelector:function(b,c){return c.rect(b.brushRect)}});h.mixin(b,p.seriesModelMixin,!0);c.exports=b},function(c,p,b){function h(b,c,f){var k=c.getItemModel(f),h=k.getModel(n),l=c.getItemVisual(f,"color");c=c.getItemVisual(f,"borderColor")||l;h=h.getItemStyle(["color","color0","borderColor","borderColor0"]);f=b.childAt(b.whiskerIndex);f.useStyle(h);f.style.stroke=c;f=b.childAt(b.bodyIndex);f.useStyle(h);f.style.fill=l;f.style.stroke=c;k=k.getModel(d).getItemStyle();e.setHoverStyle(b,k)}p=b(4);var l=b(42),e=b(43);b=b(246);l=l.extend({type:"candlestick",getStyleUpdater:function(){return h}});p.mixin(l,b.viewMixin,!0);var n=["itemStyle","normal"],d=["itemStyle","emphasis"];c.exports=l},function(c,p,b){var h=b(4);c.exports=function(b){b&&h.isArray(b.series)&&h.each(b.series,function(b){h.isObject(b)&&"k"===b.type&&(b.type="candlestick")})}},function(c,p){var b=["itemStyle","normal","borderColor"],h=["itemStyle","normal","borderColor0"],l=["itemStyle","normal","color"],e=["itemStyle","normal","color0"];c.exports=function(c,d){c.eachRawSeriesByType("candlestick",function(d){var r=d.getData();r.setVisual({legendSymbol:"roundRect"});c.isSeriesFiltered(d)||r.each(function(c){var d=r.getItemModel(c),m=r.getItemLayout(c).sign;r.setItemVisual(c,{color:d.get(0<m?l:e),borderColor:d.get(0<m?b:h)})})})}},function(c,p){function b(b,c){var e=b.getBaseAxis(),n,e="category"===e.type?e.getBandWidth():(n=e.getExtent(),Math.abs(n[1]-n[0])/c.count());return 5<e/2-2?e/2-2:4<e-5?5:Math.max(e-4,2)}c.exports=function(c){c.eachSeriesByType("candlestick",function(c){var e=c.coordinateSystem,h=c.getData(),d=c.dimensions,m=c.get("layout"),r=b(c,h);h.each(d,function(){function b(c){var d=[];d[g]=x;d[t]=c;return isNaN(x)||isNaN(c)?[NaN,NaN]:e.dataToPoint(d)}function c(b,d){var f=b.slice(),e=b.slice();f[g]+=r/2;e[g]-=r/2;d?F.push(f,e):F.push(e,f)}var l=arguments,x=l[0],v=l[d.length],g="horizontal"===m?0:1,t=1-g,w=l[1],y=l[2],z=l[3],p=l[4],A=Math.max(w,y),l=b(Math.min(w,y)),A=b(A),B=b(z),B=[[b(p),A],[B,l]],F=[];c(A,0);c(l,1);h.setItemLayout(v,{chartLayout:m,sign:w>y?-1:w<y?1:0,initBaseline:w>y?A[t]:l[t],bodyEnds:F,whiskerEnds:B,brushRect:function(){var c=b(Math.min(w,y,z,p)),d=b(Math.max(w,y,z,p));c[g]-=r/2;d[g]-=r/2;return{x:c[0],y:c[1],width:t?r:d[0]-c[0],height:t?d[1]-c[1]:r}}()})},!0)})}},function(c,p,b){c=b(4);p=b(1);b(258);b(259);p.registerVisual(c.curry(b(109),"effectScatter","circle",null));p.registerLayout(c.curry(b(110),"effectScatter"))},function(c,p,b){var h=b(101);p=b(28);c.exports=p.extend({type:"series.effectScatter",dependencies:["grid","polar"],getInitialData:function(b,c){return h(b.data,this,c)},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,effectType:"ripple",showEffectOn:"render",rippleEffect:{period:4,scale:2.5,brushType:"fill"},xAxisIndex:0,yAxisIndex:0,polarIndex:0,geoIndex:0,symbolSize:10}})},function(c,p,b){var h=b(104),l=b(260);b(1).extendChartView({type:"effectScatter",init:function(){this._symbolDraw=new h(l)},render:function(b,c,d){b=b.getData();c=this._symbolDraw;c.updateData(b);this.group.add(c.group)},updateLayout:function(){this._symbolDraw.updateLayout()},remove:function(b,c){this._symbolDraw&&this._symbolDraw.remove(c)}})},function(c,p,b){function h(b){n.isArray(b)||(b=[+b,+b]);return b}function l(b,c){b.eachChild(function(b){b.attr({z:c.z,zlevel:c.zlevel,style:{stroke:"stroke"===c.brushType?c.color:null,fill:"fill"===c.brushType?c.color:null}})})}function e(b,c){f.call(this);var d=new r(b,c),e=new f;this.add(d);this.add(e);e.beforeUpdate=function(){this.attr(d.getScale())};this.updateData(b,c)}var n=b(4),d=b(106);p=b(43);var m=b(7),r=b(105),f=p.Group;b=e.prototype;b.stopEffectAnimation=function(){this.childAt(1).removeAll()};b.startEffectAnimation=function(b){for(var c=b.symbolType,f=b.color,e=this.childAt(1),g=0;3>g;g++){var m=d.createSymbol(c,-.5,-.5,1,1,f);m.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scale:[1,1]});var h=-g/3*b.period+b.effectOffset;m.animate("",!0).when(b.period,{scale:[b.rippleScale,b.rippleScale]}).delay(h).start();m.animateStyle(!0).when(b.period,{opacity:0}).delay(h).start();e.add(m)}l(e,b)};b.updateEffectAnimation=function(b){for(var c=this._effectCfg,d=this.childAt(1),f=["symbolType","period","rippleScale"],g=0;g<f;g++){var e=f[g];if(c[e]!==b[e]){this.stopEffectAnimation();this.startEffectAnimation(b);return}}l(d,b)};b.highlight=function(){this.trigger("emphasis")};b.downplay=function(){this.trigger("normal")};b.updateData=function(b,c){var d=b.hostModel;this.childAt(0).updateData(b,c);var f=this.childAt(1),g=b.getItemModel(c),e=b.getItemVisual(c,"symbol"),l=h(b.getItemVisual(c,"symbolSize")),n=b.getItemVisual(c,"color");f.attr("scale",l);f.traverse(function(b){b.attr({fill:n})});var r=g.getShallow("symbolOffset");if(r){var p=f.position;p[0]=m.parsePercent(r[0],l[0]);p[1]=m.parsePercent(r[1],l[1])}f.rotation=(g.getShallow("symbolRotate")||0)*Math.PI/180||0;var A={};A.showEffectOn=d.get("showEffectOn");A.rippleScale=g.get("rippleEffect.scale");A.brushType=g.get("rippleEffect.brushType");A.period=1E3*g.get("rippleEffect.period");A.effectOffset=c/b.count();A.z=g.getShallow("z")||0;A.zlevel=g.getShallow("zlevel")||0;A.symbolType=e;A.color=n;this.off("mouseover").off("mouseout").off("emphasis").off("normal");if("render"===A.showEffectOn)this._effectCfg?this.updateEffectAnimation(A):this.startEffectAnimation(A),this._effectCfg=A;else{this._effectCfg=null;this.stopEffectAnimation();var B=this.childAt(0),d=function(){B.trigger("emphasis");"render"!==A.showEffectOn&&this.startEffectAnimation(A)},f=function(){B.trigger("normal");"render"!==A.showEffectOn&&this.stopEffectAnimation()};this.on("mouseover",d,this).on("mouseout",f,this).on("emphasis",d,this).on("normal",f,this)}this._effectCfg=A};b.fadeOut=function(b){this.off("mouseover").off("mouseout").off("emphasis").off("normal");b&&b()};n.inherits(e,f);c.exports=e},function(c,p,b){b(262);b(263);b(1).registerLayout(b(268))},function(c,p,b){function h(b){var c=b.data;c&&c[0]&&c[0][0]&&c[0][0].coord&&(console.warn("Lines data configuration has been changed to { coords:[[1,2],[2,3]] }"),b.data=e.map(c,function(b){var c={coords:[b[0].coord,b[1].coord]};b[0].name&&(c.fromName=b[0].name);b[1].name&&(c.toName=b[1].name);return e.mergeAll([c,b[0],b[1]])}))}c=b(28);var l=b(97),e=b(4),n=b(26),d=c.extend({type:"series.lines",dependencies:["grid","polar"],visualColorAccessPath:"lineStyle.normal.color",init:function(b){h(b);d.superApply(this,"init",arguments)},mergeOption:function(b){h(b);d.superApply(this,"mergeOption",arguments)},getInitialData:function(b,c){if(!n.get(b.coordinateSystem))throw Error("Unkown coordinate system "+b.coordinateSystem);var d=new l(["value"],this);d.hasItemOption=!1;d.initData(b.data,[],function(b,c,e,m){if(b instanceof Array)return NaN;d.hasItemOption=!0;if(b=b.value)return b instanceof Array?b[m]:b});return d},formatTooltip:function(b){b=this.getData().getItemModel(b);var c=b.get("name");if(c)return c;c=b.get("fromName");b=b.get("toName");return c+" \x3e "+b},defaultOption:{coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2E3,polyline:!1,label:{normal:{show:!1,position:"end"}},lineStyle:{normal:{opacity:.5}}}})},function(c,p,b){var h=b(199),l=b(264),e=b(200),n=b(265),d=b(266),m=b(267);b(1).extendChartView({type:"lines",init:function(){},render:function(b,c,k){var u=b.getData(),x=this._lineDraw,v=b.get("effect.show"),g=b.get("polyline"),t=b.get("large")&&u.count()>=b.get("largeThreshold");v&&t&&console.warn("Large lines not support effect");if(v!==this._hasEffet||g!==this._isPolyline||t!==this._isLarge)x&&x.remove(),x=this._lineDraw=t?new m:new h(g?v?d:n:v?l:e),this._hasEffet=v,this._isPolyline=g,this._isLarge=t;var w=b.get("zlevel"),g=b.get("effect.trailLength");k=k.getZr();k.painter.getLayer(w).clear(!0);null!=this._lastZlevel&&k.configLayer(this._lastZlevel,{motionBlur:!1});if(v&&g){var y=!1;c.eachSeries(function(c){c!==b&&c.get("zlevel")===w&&(y=!0)});y&&console.warn("Lines with trail effect should have an individual zlevel");k.configLayer(w,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(g/10+.9,1),0)})}this.group.add(x.group);x.updateData(u);this._lastZlevel=w},updateLayout:function(b,c,d){this._lineDraw.updateLayout(b);d.getZr().painter.getLayer(this._lastZlevel).clear(!0)},remove:function(b,c){this._lineDraw&&this._lineDraw.remove(c,!0)}})},function(c,p,b){function h(b,c,d){l.Group.call(this);this.add(this.createLine(b,c,d));this._updateEffectSymbol(b,c)}var l=b(43),e=b(200),n=b(4),d=b(106),m=b(10),r=b(50);p=h.prototype;p.createLine=function(b,c,d){return new e(b,c,d)};p._updateEffectSymbol=function(b,c){var e=b.getItemModel(c).getModel("effect"),m=e.get("symbolSize"),h=e.get("symbol");n.isArray(m)||(m=[m,m]);var g=e.get("color")||b.getItemVisual(c,"color"),t=this.childAt(1);this._symbolType!==h&&(this.remove(t),t=d.createSymbol(h,-.5,-.5,1,1,g),t.z2=100,t.culling=!0,this.add(t));t&&(t.setStyle("shadowColor",g),t.setStyle(e.getItemStyle(["color"])),t.attr("scale",m),t.setColor(g),t.attr("scale",m),this._symbolType=h,this._updateEffectAnimation(b,e,c))};p._updateEffectAnimation=function(b,c,d){var e=this.childAt(1);if(e){var m=this,g=b.getItemLayout(d),t=1E3*c.get("period"),h=c.get("loop"),l=c.get("constantSpeed");c=c.get("delay")||function(c){return c/b.count()*t/3};var n="function"===typeof c;e.ignore=!0;this.updateAnimationPoints(e,g);0<l&&(t=this.getLineLength(e)/l*1E3);if(t!==this._period||h!==this._loop)e.stopAnimation(),g=c,n&&(g=c(d)),0<e.__t&&(g=-t*e.__t),e.__t=0,d=e.animate("",h).when(t,{__t:1}).delay(g).during(function(){m.updateSymbolPosition(e)}),h||d.done(function(){m.remove(e)}),d.start();this._period=t;this._loop=h}};p.getLineLength=function(b){return m.dist(b.__p1,b.__cp1)+m.dist(b.__cp1,b.__p2)};p.updateAnimationPoints=function(b,c){b.__p1=c[0];b.__p2=c[1];b.__cp1=c[2]||[(c[0][0]+c[1][0])/2,(c[0][1]+c[1][1])/2]};p.updateData=function(b,c,d){this.childAt(0).updateData(b,c,d);this._updateEffectSymbol(b,c)};p.updateSymbolPosition=function(b){var c=b.__p1,d=b.__p2,e=b.__cp1,m=b.__t,g=b.position,t=r.quadraticAt,h=r.quadraticDerivativeAt;g[0]=t(c[0],e[0],d[0],m);g[1]=t(c[1],e[1],d[1],m);g=h(c[0],e[0],d[0],m);c=h(c[1],e[1],d[1],m);b.rotation=-Math.atan2(c,g)-Math.PI/2;b.ignore=!1};p.updateLayout=function(b,c){this.childAt(0).updateLayout(b,c);var d=b.getItemModel(c).getModel("effect");this._updateEffectAnimation(b,d,c)};n.inherits(h,l.Group);c.exports=h},function(c,p,b){function h(b,c,e){l.Group.call(this);this._createPolyline(b,c,e)}var l=b(43),e=b(4);p=h.prototype;p._createPolyline=function(b,c,e){var h=b.getItemLayout(c),h=new l.Polyline({shape:{points:h}});this.add(h);this._updateCommonStl(b,c,e)};p.updateData=function(b,c,e){var h=b.hostModel,f=this.childAt(0),k={shape:{points:b.getItemLayout(c)}};l.updateProps(f,k,h,c);this._updateCommonStl(b,c,e)};p._updateCommonStl=function(b,c,m){var h=this.childAt(0),f=b.getItemModel(c);c=b.getItemVisual(c,"color");var k=m&&m.lineStyle,u=m&&m.hoverLineStyle;if(!m||b.hasItemOption)k=f.getModel("lineStyle.normal").getLineStyle(),u=f.getModel("lineStyle.emphasis").getLineStyle();h.useStyle(e.defaults({strokeNoScale:!0,fill:"none",stroke:c},k));h.hoverStyle=u;l.setHoverStyle(this)};p.updateLayout=function(b,c){this.childAt(0).setShape("points",b.getItemLayout(c))};e.inherits(h,l.Group);c.exports=h},function(c,p,b){function h(b,c,h){e.call(this,b,c,h);this._lastFramePercent=this._lastFrame=0}var l=b(265);p=b(4);var e=b(264),n=b(10);b=h.prototype;b.createLine=function(b,c,e){return new l(b,c,e)};b.updateAnimationPoints=function(b,c){this._points=c;for(var e=[0],f=0,k=1;k<c.length;k++)f+=n.dist(c[k-1],c[k]),e.push(f);if(0!==f){for(k=0;k<e.length;k++)e[k]/=f;this._offsets=e;this._length=f}};b.getLineLength=function(b){return this._length};b.updateSymbolPosition=function(b){var c=b.__t,e=this._points,f=this._offsets,k=e.length;if(f){var h=this._lastFrame;if(c<this._lastFramePercent){for(h=Math.min(h+1,k-1);0<=h&&!(f[h]<=c);h--);h=Math.min(h,k-2)}else{for(;h<k&&!(f[h]>c);h++);h=Math.min(h-1,k-2)}n.lerp(b.position,e[h],e[h+1],(c-f[h])/(f[h+1]-f[h]));this._lastFrame=h;this._lastFramePercent=c;b.ignore=!1}};p.inherits(h,e);c.exports=h},function(c,p,b){function h(){this.group=new l.Group;this._lineEl=new d}var l=b(43),e=b(55),n=b(53),d=l.extendShape({shape:{polyline:!1,segs:[]},buildPath:function(b,c){for(var d=c.segs,e=c.polyline,h=0;h<d.length;h++){var l=d[h];if(e){b.moveTo(l[0][0],l[0][1]);for(var n=1;n<l.length;n++)b.lineTo(l[n][0],l[n][1])}else b.moveTo(l[0][0],l[0][1]),2<l.length?b.quadraticCurveTo(l[2][0],l[2][1],l[1][0],l[1][1]):b.lineTo(l[1][0],l[1][1])}},findDataIndex:function(b,c){for(var d=this.shape,k=d.segs,d=d.polyline,h=Math.max(this.style.lineWidth,1),l=0;l<k.length;l++){var v=k[l];if(d)for(var g=1;g<v.length;g++){if(n.containStroke(v[g-1][0],v[g-1][1],v[g][0],v[g][1],h,b,c))return l}else if(2<v.length){if(e.containStroke(v[0][0],v[0][1],v[2][0],v[2][1],v[1][0],v[1][1],h,b,c))return l}else if(n.containStroke(v[0][0],v[0][1],v[1][0],v[1][1],h,b,c))return l}return-1}});p=h.prototype;p.updateData=function(b){this.group.removeAll();var c=this._lineEl,d=b.hostModel;c.setShape({segs:b.mapArray(b.getItemLayout),polyline:d.get("polyline")});c.useStyle(d.getModel("lineStyle.normal").getLineStyle());(b=b.getVisual("color"))&&c.setStyle("stroke",b);c.setStyle("fill");c.seriesIndex=d.seriesIndex;c.on("mousemove",function(b){c.dataIndex=null;b=c.findDataIndex(b.offsetX,b.offsetY);0<b&&(c.dataIndex=b)});this.group.add(c)};p.updateLayout=function(b){b=b.getData();this._lineEl.setShape({segs:b.mapArray(b.getItemLayout)})};p.remove=function(){this.group.removeAll()};c.exports=h},function(c,p,b){c.exports=function(b){b.eachSeriesByType("lines",function(b){var c=b.coordinateSystem,h=b.getData();h.each(function(d){var m=h.getItemModel(d),r=m.option instanceof Array?m.option:m.get("coords");if(!(r instanceof Array&&0<r.length&&r[0]instanceof Array))throw Error("Invalid coords "+JSON.stringify(r)+". Lines must have 2d coords array in data item.");var f=[];if(b.get("polyline"))for(m=0;m<r.length;m++)f.push(c.dataToPoint(r[m]));else f[0]=c.dataToPoint(r[0]),f[1]=c.dataToPoint(r[1]),r=m.get("lineStyle.normal.curveness"),0<r&&(f[2]=[(f[0][0]+f[1][0])/2-(f[0][1]-f[1][1])*r,(f[0][1]+f[1][1])/2-(f[1][0]-f[0][0])*r]);h.setItemLayout(d,f)})})}},function(c,p,b){b(270);b(271)},function(c,p,b){p=b(28);var h=b(101);c.exports=p.extend({type:"series.heatmap",getInitialData:function(b,c){return h(b.data,this,c)},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,xAxisIndex:0,yAxisIndex:0,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0}})},function(c,p,b){function h(b,c,d){var e=b[1]-b[0];c=m.map(c,function(c){return{interval:[(c.interval[0]-b[0])/e,(c.interval[1]-b[0])/e]}});var h=c.length,l=0;return function(b){for(var e=l;e<h;e++){var m=c[e].interval;if(m[0]<=b&&b<=m[1]){l=e;break}}if(e===h)for(e=l-1;0<=e;e--)if(m=c[e].interval,m[0]<=b&&b<=m[1]){l=e;break}return 0<=e&&e<h&&d[e]}}function l(b,c){var d=b[1]-b[0];c=[(c[0]-b[0])/d,(c[1]-b[0])/d];return function(b){return b>=c[0]&&b<=c[1]}}function e(b){b=b.dimensions;return"lng"===b[0]&&"lat"===b[1]}var n=b(43),d=b(272),m=b(4);c.exports=b(1).extendChartView({type:"heatmap",render:function(b,c,d){var m;c.eachComponent("visualMap",function(c){c.eachTargetSeries(function(d){d===b&&(m=c)})});if(!m)throw Error("Heatmap must use with visualMap");this.group.removeAll();c=b.coordinateSystem;"cartesian2d"===c.type?this._renderOnCartesian(c,b,d):e(c)&&this._renderOnGeo(c,b,m,d)},_renderOnCartesian:function(b,c,d){d=b.getAxis("x");var e=b.getAxis("y"),h=this.group;if("category"!==d.type||"category"!==e.type)throw Error("Heatmap on cartesian must have two category axes");if(!d.onBand||!e.onBand)throw Error("Heatmap on cartesian must have two axes with boundaryGap true");var l=d.getBandWidth(),g=e.getBandWidth(),t=c.getData(),w=c.getModel("itemStyle.normal").getItemStyle(["color"]),y=c.getModel("itemStyle.emphasis").getItemStyle(),z=c.getModel("label.normal"),p=c.getModel("label.emphasis");t.each(["x","y","z"],function(d,e,k,u){var E=t.getItemModel(u);d=b.dataToPoint([d,e]);isNaN(k)||(k=new n.Rect({shape:{x:d[0]-l/2,y:d[1]-g/2,width:l,height:g},style:{fill:t.getItemVisual(u,"color"),opacity:t.getItemVisual(u,"opacity")}}),t.hasItemOption&&(w=E.getModel("itemStyle.normal").getItemStyle(["color"]),y=E.getModel("itemStyle.emphasis").getItemStyle(),z=E.getModel("label.normal"),p=E.getModel("label.emphasis")),E=c.getRawValue(u),d="-",E&&null!=E[2]&&(d=E[2]),z.getShallow("show")&&(n.setText(w,z),w.text=c.getFormattedLabel(u,"normal")||d),p.getShallow("show")&&(n.setText(y,p),y.text=c.getFormattedLabel(u,"emphasis")||d),k.setStyle(w),n.setHoverStyle(k,t.hasItemOption?y:m.extend({},y)),h.add(k),t.setItemGraphicEl(u,k))})},_renderOnGeo:function(b,c,e,m){var x=e.targetVisuals.inRange,v=e.targetVisuals.outOfRange,g=c.getData(),t=this._hmLayer||this._hmLayer||new d;t.blurSize=c.get("blurSize");t.pointSize=c.get("pointSize");t.minOpacity=c.get("minOpacity");t.maxOpacity=c.get("maxOpacity");c=b.getViewRect().clone();var w=b.getRoamTransform().transform;c.applyTransform(w);var y=Math.max(c.x,0),z=Math.max(c.y,0),w=Math.min(c.width+c.x,m.getWidth());c=Math.min(c.height+c.y,m.getHeight());m=w-y;c-=z;g=g.mapArray(["lng","lat","value"],function(c,d,g){c=b.dataToPoint([c,d]);c[0]-=y;c[1]-=z;c.push(g);return c});w=e.getExtent();e="visualMap.continuous"===e.type?l(w,e.option.range):h(w,e.getPieceList(),e.option.selected);t.update(g,m,c,x.color.getNormalizer(),{inRange:x.color.getColorMapper(),outOfRange:v.color.getColorMapper()},e);x=new n.Image({style:{width:m,height:c,x:y,y:z,image:t.canvas},silent:!0});this.group.add(x)}})},function(c,p,b){function h(){this.canvas=l.createCanvas();this.blurSize=30;this.pointSize=20;this.maxOpacity=1;this.minOpacity=0;this._gradientPixels={}}var l=b(4);h.prototype={update:function(b,c,d,m,h,f){var k=this._getBrush(),l=this._getGradient(b,h,"inRange");h=this._getGradient(b,h,"outOfRange");var x=this.pointSize+this.blurSize,v=this.canvas,g=v.getContext("2d"),t=b.length;v.width=c;v.height=d;for(d=0;d<t;++d){c=b[d];var w=c[0],y=c[1];c=m(c[2]);g.globalAlpha=c;g.drawImage(k,w-x,y-x)}b=g.getImageData(0,0,v.width,v.height);m=b.data;k=0;x=m.length;t=this.minOpacity;for(d=this.maxOpacity-t;k<x;)c=m[k+3]/256,w=4*Math.floor(255*c),0<c?(y=f(c)?l:h,0<c&&(c=c*d+t),m[k++]=y[w],m[k++]=y[w+1],m[k++]=y[w+2],m[k++]=y[w+3]*c*256):k+=4;g.putImageData(b,0,0);return v},_getBrush:function(){var b=this._brushCanvas||(this._brushCanvas=l.createCanvas()),c=this.pointSize+this.blurSize,d=2*c;b.width=d;b.height=d;var m=b.getContext("2d");m.clearRect(0,0,d,d);m.shadowOffsetX=d;m.shadowBlur=this.blurSize;m.shadowColor="#000";m.beginPath();m.arc(-c,c,this.pointSize,0,2*Math.PI,!0);m.closePath();m.fill();return b},_getGradient:function(b,c,d){b=this._gradientPixels;b=b[d]||(b[d]=new Uint8ClampedArray(1024));for(var m=[],h=0,f=0;256>f;f++)c[d](f/255,!0,m),b[h++]=m[0],b[h++]=m[1],b[h++]=m[2],b[h++]=m[3];return b}};c.exports=h},function(c,p,b){b(274);b(275);b(276);b(1).registerProcessor(b(278))},function(c,p,b){var h=b(4),l=b(12),e=b(1).extendComponentModel({type:"legend",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(b,c,e){this.mergeDefaultAndTheme(b,e);b.selected=b.selected||{}},mergeOption:function(b){e.superCall(this,"mergeOption",b)},optionUpdated:function(){this._updateData(this.ecModel);var b=this._data;if(b[0]&&"single"===this.get("selectedMode")){for(var c=!1,e=0;e<b.length;e++){var h=b[e].get("name");if(this.isSelected(h)){this.select(h);c=!0;break}}!c&&this.select(b[0].get("name"))}},_updateData:function(b){this._data=h.map(this.get("data")||[],function(b){if("string"===typeof b||"number"===typeof b)b={name:b};return new l(b,this,this.ecModel)},this);var c=h.map(b.getSeries(),function(b){return b.name});b.eachSeries(function(b){b.legendDataProvider&&(b=b.legendDataProvider(),c=c.concat(b.mapArray(b.getName)))});this._availableNames=c},getData:function(){return this._data},select:function(b){var c=this.option.selected;"single"===this.get("selectedMode")&&h.each(this._data,function(b){c[b.get("name")]=!1});c[b]=!0},unSelect:function(b){"single"!==this.get("selectedMode")&&(this.option.selected[b]=!1)},toggleSelected:function(b){var c=this.option.selected;b in c||(c[b]=!0);this[c[b]?"unSelect":"select"](b)},isSelected:function(b){var c=this.option.selected;return!(b in c&&!c[b])&&0<=h.indexOf(this._availableNames,b)},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:"top",align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",textStyle:{color:"#333"},selectedMode:!0,tooltip:{show:!1}}});c.exports=e},function(c,p,b){function h(b,c,d){var h={},r="toggleSelected"===b,f;d.eachComponent("legend",function(d){if(r&&null!=f)d[f?"select":"unSelect"](c.name);else d[b](c.name),f=d.isSelected(c.name);var u=d.getData();l.each(u,function(b){b=b.get("name");if("\n"!==b&&""!==b){var c=d.isSelected(b);h[b]=b in h?h[b]&&c:c}})});return{name:c.name,selected:h}}c=b(1);var l=b(4);c.registerAction("legendToggleSelect","legendselectchanged",l.curry(h,"toggleSelected"));c.registerAction("legendSelect","legendselected",l.curry(h,"select"));c.registerAction("legendUnSelect","legendunselected",l.curry(h,"unSelect"))},function(c,p,b){function h(b,c){c.dispatchAction({type:"legendToggleSelect",name:b})}function l(b,c,d){var f=d.getZr().storage.getDisplayList()[0];f&&f.useHoverLayer||b.get("legendHoverLink")&&d.dispatchAction({type:"highlight",seriesName:b.name,name:c})}function e(b,c,d){var f=d.getZr().storage.getDisplayList()[0];f&&f.useHoverLayer||b.get("legendHoverLink")&&d.dispatchAction({type:"downplay",seriesName:b.name,name:c})}var n=b(4),d=b(106),m=b(43),r=b(277),f=n.curry;c.exports=b(1).extendComponentView({type:"legend",init:function(){this._symbolTypeStore={}},render:function(b,c,d){var v=this.group;v.removeAll();if(b.get("show")){var g=b.get("selectedMode"),t=b.get("align");"auto"===t&&(t="right"===b.get("left")&&"vertical"===b.get("orient")?"right":"left");var w={};n.each(b.getData(),function(n){var r=n.get("name");if(""===r||"\n"===r)v.add(new m.Group({newline:!0}));else{var p=c.getSeriesByName(r)[0];if(!w[r]){if(p){var A=p.getData(),B=A.getVisual("color");"function"===typeof B&&(B=B(p.getDataParams(0)));var F=A.getVisual("legendSymbol")||"roundRect",A=A.getVisual("symbol");this._createItem(r,n,b,F,A,t,B,g).on("click",f(h,r,d)).on("mouseover",f(l,p,"",d)).on("mouseout",f(e,p,"",d));w[r]=!0}else c.eachRawSeries(function(c){if(!w[r]&&c.legendDataProvider){var m=c.legendDataProvider(),u=m.indexOfName(r);0>u||(m=m.getItemVisual(u,"color"),this._createItem(r,n,b,"roundRect",null,t,m,g).on("click",f(h,r,d)).on("mouseover",f(l,c,r,d)).on("mouseout",f(e,c,r,d)),w[r]=!0)}},this);w[r]||console.warn(r+" series not exists. Legend data should be same with series name or data name.")}}},this);r.layout(v,b,d);r.addBackground(v,b)}},_createItem:function(b,c,f,e,g,h,l,r){var z=f.get("itemWidth"),p=f.get("itemHeight"),A=f.get("inactiveColor"),B=f.isSelected(b),F=new m.Group,N=c.getModel("textStyle"),E=c.get("icon");c=c.getModel("tooltip");e=E||e;F.add(d.createSymbol(e,0,0,z,p,B?l:A));E||!g||g===e&&"none"!=g||(e=.8*p,"none"===g&&(g="circle"),F.add(d.createSymbol(g,(z-e)/2,(p-e)/2,e,e,B?l:A)));g="left"===h?z+5:-5;l=f.get("formatter");z=b;"string"===typeof l&&l?z=l.replace("{name}",b):"function"===typeof l&&(z=l(b));h=new m.Text({style:{text:z,x:g,y:p/2,fill:B?N.getTextColor():A,textFont:N.getFont(),textAlign:h,textVerticalAlign:"middle"}});F.add(h);f=new m.Rect({shape:F.getBoundingRect(),invisible:!0,tooltip:c.get("show")?n.extend({content:b,formatter:function(){return b},formatterParams:{componentType:"legend",legendIndex:f.componentIndex,name:b,$vars:["name"]}},c.option):null});F.add(f);F.eachChild(function(b){b.silent=!0});f.silent=!r;this.group.add(F);m.setHoverStyle(F);return F}})},function(c,p,b){var h=b(21),l=b(6),e=b(43);c.exports={layout:function(b,c,e){var l=h.getLayoutRect(c.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()},c.get("padding"));h.box(c.get("orient"),b,c.get("itemGap"),l.width,l.height);h.positionGroup(b,c.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()},c.get("padding"))},addBackground:function(b,c){var h=l.normalizeCssArray(c.get("padding")),r=b.getBoundingRect(),f=c.getItemStyle(["color","opacity"]);f.fill=c.get("backgroundColor");h=new e.Rect({shape:{x:r.x-h[3],y:r.y-h[0],width:r.width+h[1]+h[3],height:r.height+h[0]+h[2]},style:f,silent:!0,z2:-1});e.subPixelOptimizeRect(h);b.add(h)}}},function(c,p){c.exports=function(b){var c=b.findComponents({mainType:"legend"});c&&c.length&&b.filterSeries(function(b){for(var e=0;e<c.length;e++)if(!c[e].isSelected(b.name))return!1;return!0})}},function(c,p,b){b(280);b(281);b(1).registerAction({type:"showTip",event:"showTip",update:"none"},function(){});b(1).registerAction({type:"hideTip",event:"hideTip",update:"none"},function(){})},function(c,p,b){b(1).extendComponentModel({type:"tooltip",defaultOption:{zlevel:0,z:8,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove",alwaysShowContent:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:!0,animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",lineStyle:{color:"#555",width:1,type:"solid"},crossStyle:{color:"#555",width:1,type:"dashed",textStyle:{}},shadowStyle:{color:"rgba(150,150,150,0.3)"}},textStyle:{color:"#fff",fontSize:14}}})},function(c,p,b){function h(b,c,g,e,k,h,m){var l=m.getWidth(),n=m.getHeight();m=h&&h.getBoundingRect().clone();h&&m.applyTransform(h.transform);"function"===typeof b&&(b=b([c,g],k,e.el,m));if(d.isArray(b))c=f(b[0],l),g=f(b[1],n);else{if("string"===typeof b&&h){n=e.el;l=n.clientWidth;n=n.clientHeight;g=c=0;k=m.width;h=m.height;switch(b){case "inside":c=m.x+k/2-l/2;g=m.y+h/2-n/2;break;case "top":c=m.x+k/2-l/2;g=m.y-n-5;break;case "bottom":c=m.x+k/2-l/2;g=m.y+h+5;break;case "left":c=m.x-l-5;g=m.y+h/2-n/2;break;case "right":c=m.x+k+5,g=m.y+h/2-n/2}b=[c,g]}else b=c,m=g,g=e.el,c=g.clientWidth,g=g.clientHeight,b=[b+c+20>l?b-(c+20):b+20,m+g+20>n?m-(g+20):m+20];c=b[0];g=b[1]}e.moveTo(c,g)}function l(b){var c=b.coordinateSystem;b=b.get("tooltip.trigger",!0);return!(!c||"cartesian2d"!==c.type&&"polar"!==c.type&&"singleAxis"!==c.type||"item"===b)}var e=b(282),n=b(43),d=b(4),m=b(6),r=b(7),f=r.parsePercent,k=b(2),u=b(12);b(1).extendComponentView({type:"tooltip",_axisPointers:{},init:function(b,c){k.node||(this._tooltipContent=new e(c.getDom(),c),c.on("showTip",this._manuallyShowTip,this),c.on("hideTip",this._manuallyHideTip,this))},render:function(b,c,d){if(!k.node){this.group.removeAll();this._axisPointers={};this._tooltipModel=b;this._ecModel=c;this._api=d;this._lastHover={};d=this._tooltipContent;d.update();d.enterable=b.get("enterable");this._alwaysShowContent=b.get("alwaysShowContent");this._seriesGroupByAxis=this._prepareAxisTriggerData(b,c);(c=this._crossText)&&this.group.add(c);if(null!=this._lastX&&null!=this._lastY){var f=this;clearTimeout(this._refreshUpdateTimeout);this._refreshUpdateTimeout=setTimeout(function(){f._manuallyShowTip({x:f._lastX,y:f._lastY})})}c=this._api.getZr();c.off("click",this._tryShow);c.off("mousemove",this._mousemove);c.off("mouseout",this._hide);c.off("globalout",this._hide);if("click"===b.get("triggerOn"))c.on("click",this._tryShow,this);else c.on("mousemove",this._mousemove,this),c.on("mouseout",this._hide,this),c.on("globalout",this._hide,this)}},_mousemove:function(b){var c=this._tooltipModel.get("showDelay"),d=this;clearTimeout(this._showTimeout);0<c?this._showTimeout=setTimeout(function(){d._tryShow(b)},c):this._tryShow(b)},_manuallyShowTip:function(b){if(b.from!==this.uid){var c=this._ecModel,g=b.dataIndex,f=c.getSeriesByIndex(b.seriesIndex),e=this._api;if(null==b.x||null==b.y){if(f||c.eachSeries(function(b){l(b)&&!f&&(f=b)}),f){e=f.getData();null==g&&(g=e.indexOfName(b.name));var c=e.getItemGraphicEl(g),k,h;(b=f.coordinateSystem)&&b.dataToPoint?(k=(g=b.dataToPoint(e.getValues(d.map(b.dimensions,function(b){return f.coordDimToDataDim(b)[0]}),g,!0)))&&g[0],h=g&&g[1]):c&&(g=c.getBoundingRect().clone(),g.applyTransform(c.transform),k=g.x+g.width/2,h=g.y+g.height/2);null!=k&&null!=h&&this._tryShow({offsetX:k,offsetY:h,target:c,event:{}})}}else c=e.getZr().handler.findHover(b.x,b.y),this._tryShow({offsetX:b.x,offsetY:b.y,target:c,event:{}})}},_manuallyHideTip:function(b){b.from!==this.uid&&this._hide()},_prepareAxisTriggerData:function(b,c){var d={};c.eachSeries(function(b){if(l(b)){var c=b.coordinateSystem,f;"cartesian2d"===c.type?(f=c.getBaseAxis(),f=f.dim+f.index):"singleAxis"===c.type?(f=c.getAxis(),f=f.dim+f.type):(f=c.getBaseAxis(),f=f.dim+c.name);d[f]=d[f]||{coordSys:[],series:[]};d[f].coordSys.push(c);d[f].series.push(b)}},this);return d},_tryShow:function(b){var c=b.target,d=this._tooltipModel,f=d.get("trigger"),e=this._ecModel,k=this._api;if(d)if(this._lastX=b.offsetX,this._lastY=b.offsetY,c&&null!=c.dataIndex){var h=c.dataModel||e.getSeriesByIndex(c.seriesIndex),m=c.dataIndex;"axis"===(h.getData().getItemModel(m).get("tooltip.trigger")||f)?this._showAxisTooltip(d,e,b):(this._ticket="",this._hideAxisPointer(),this._resetLastHover(),this._showItemTooltipContent(h,m,c.dataType,b));k.dispatchAction({type:"showTip",from:this.uid,dataIndex:c.dataIndex,seriesIndex:c.seriesIndex})}else c&&c.tooltip?(f=c.tooltip,"string"===typeof f&&(f={content:f,formatter:f}),d=new u(f,d),f=d.get("content"),e=Math.random(),this._showTooltipContent(d,f,d.get("formatterParams")||{},e,b.offsetX,b.offsetY,c,k)):("item"===f?this._hide():this._showAxisTooltip(d,e,b),"cross"===d.get("axisPointer.type")&&k.dispatchAction({type:"showTip",from:this.uid,x:b.offsetX,y:b.offsetY}))},_showAxisTooltip:function(b,c,g){var f=b.getModel("axisPointer"),e=f.get("type");"cross"===e&&(b=g.target)&&null!=b.dataIndex&&(c=c.getSeriesByIndex(b.seriesIndex),this._showItemTooltipContent(c,b.dataIndex,b.dataType,g));this._showAxisPointer();var k=!0;d.each(this._seriesGroupByAxis,function(b){var c=b.coordSys[0],h=[g.offsetX,g.offsetY];if(c.containPoint(h)){k=!1;var m=c.dimensions,l=c.pointToData(h,!0),h=c.dataToPoint(l),n=c.getBaseAxis(),u=f.get("axis");"auto"===u&&(u=n.dim);var n=!1,p=this._lastHover;if("cross"===e){if((m=p.data)&&l)var q=r.round,m=q(m[0])===q(l[0])&&q(m[1])===q(l[1]);else m=!1;m&&(n=!0);p.data=l}else m=d.indexOf(m,u),p.data===l[m]&&(n=!0),p.data=l[m];"cartesian2d"!==c.type||n?"polar"!==c.type||n?"singleAxis"!==c.type||n||this._showSinglePointer(f,c,u,h):this._showPolarPointer(f,c,u,h):this._showCartesianPointer(f,c,u,h);"cross"!==e&&this._dispatchAndShowSeriesTooltipContent(c,b.series,h,l,n)}else this._hideAxisPointer(c.name)},this);this._tooltipModel.get("show")||this._hideAxisPointer();k&&this._hide()},_showCartesianPointer:function(b,c,d,f){function e(d,g,f){g="x"===d?{x1:g[0],y1:f[0],x2:g[0],y2:f[1]}:{x1:f[0],y1:g[1],x2:f[1],y2:g[1]};d=h._getPointerElement(c,b,d,g);n.subPixelOptimizeLine({shape:g,style:d.style});r?n.updateProps(d,{shape:g},b):d.attr({shape:g})}function k(d,g,f){var e=c.getAxis(d).getBandWidth(),m=f[1]-f[0];g="x"===d?{x:g[0]-e/2,y:f[0],width:e,height:m}:{x:f[0],y:g[1]-e/2,width:m,height:e};d=h._getPointerElement(c,b,d,g);r?n.updateProps(d,{shape:g},b):d.attr({shape:g})}var h=this,m=b.get("type"),l=c.getBaseAxis(),r="cross"!==m&&"category"===l.type&&20<l.getBandWidth();"cross"===m?(e("x",f,c.getAxis("y").getGlobalExtent()),e("y",f,c.getAxis("x").getGlobalExtent()),this._updateCrossText(c,f,b)):(l=c.getAxis("x"===d?"y":"x").getGlobalExtent(),"cartesian2d"===c.type&&("line"===m?e:k)(d,f,l))},_showSinglePointer:function(b,c,d,f){var e="cross"!==b.get("type")&&"category"===c.getBaseAxis().type,k=c.getRect(),k=[k.y,k.y+k.height];f="horizontal"===c.getAxis().orient?{x1:f[0],y1:k[0],x2:f[0],y2:k[1]}:{x1:k[0],y1:f[1],x2:k[1],y2:f[1]};c=this._getPointerElement(c,b,d,f);e?n.updateProps(c,{shape:f},b):c.attr({shape:f})},_showPolarPointer:function(b,c,d,f){function e(d,g,f){var k=c.pointToCoord(g);"angle"===d?(g=c.coordToPoint([f[0],k[1]]),f=c.coordToPoint([f[1],k[1]]),f={x1:g[0],y1:g[1],x2:f[0],y2:f[1]}):f={cx:c.cx,cy:c.cy,r:k[0]};d=h._getPointerElement(c,b,d,f);u?n.updateProps(d,{shape:f},b):d.attr({shape:f})}function k(d,g,f){var e=c.getAxis(d).getBandWidth();g=c.pointToCoord(g);var m=Math.PI/180;f="angle"===d?{cx:c.cx,cy:c.cy,r0:f[0],r:f[1],startAngle:(-g[1]-e/2)*m,endAngle:(-g[1]+e/2)*m,clockwise:!0}:{cx:c.cx,cy:c.cy,r0:g[0]-e/2,r:g[0]+e/2,startAngle:0,endAngle:2*Math.PI,clockwise:!0};d=h._getPointerElement(c,b,d,f);u?n.updateProps(d,{shape:f},b):d.attr({shape:f})}var h=this,m=b.get("type"),l=c.getAngleAxis(),r=c.getRadiusAxis(),u="cross"!==m&&"category"===c.getBaseAxis().type;"cross"===m?(e("angle",f,r.getExtent()),e("radius",f,l.getExtent()),this._updateCrossText(c,f,b)):(l=c.getAxis("radius"===d?"angle":"radius").getExtent(),("line"===m?e:k)(d,f,l))},_updateCrossText:function(b,c,g){g=g.getModel("crossStyle");var f=g.getModel("textStyle"),e=this._tooltipModel,k=this._crossText;k||(k=this._crossText=new n.Text({style:{textAlign:"left",textVerticalAlign:"bottom"}}),this.group.add(k));var h=b.pointToData(c),l=b.dimensions,h=d.map(h,function(c,d){var g=b.getAxis(l[d]);return c="category"===g.type||"time"===g.type?g.scale.getLabel(c):m.addCommas(c.toFixed(g.getPixelPrecision()))});k.setStyle({fill:f.getTextColor()||g.get("color"),textFont:f.getFont(),text:h.join(", "),x:c[0]+5,y:c[1]-5});k.z=e.get("z");k.zlevel=e.get("zlevel")},_getPointerElement:function(b,c,d,f){var e=this._tooltipModel,k=e.get("z"),e=e.get("zlevel"),h=this._axisPointers,m=b.name;h[m]=h[m]||{};if(h[m][d])return h[m][d];var l=c.get("type"),r=c.getModel(l+"Style");c="shadow"===l;l=r[c?"getAreaStyle":"getLineStyle"]();b="polar"===b.type?c?"Sector":"radius"===d?"Circle":"Line":c?"Rect":"Line";c?l.stroke=null:l.fill=null;d=h[m][d]=new n[b]({style:l,z:k,zlevel:e,silent:!0,shape:f});this.group.add(d);return d},_dispatchAndShowSeriesTooltipContent:function(b,c,g,f,e){var k=this._tooltipModel,m=b.getBaseAxis(),l="x"===m.dim||"radius"===m.dim?0:1,n=d.map(c,function(b){return{seriesIndex:b.seriesIndex,dataIndex:b.getAxisTooltipDataIndex?b.getAxisTooltipDataIndex(b.coordDimToDataDim(m.dim),f,m):b.getData().indexOfNearest(b.coordDimToDataDim(m.dim)[0],f[l],!1,"category"===m.type?.5:null)}}),r=this._lastHover,u=this._api;r.payloadBatch&&!e&&u.dispatchAction({type:"downplay",batch:r.payloadBatch});e||(u.dispatchAction({type:"highlight",batch:n}),r.payloadBatch=n);u.dispatchAction({type:"showTip",dataIndex:n[0].dataIndex,seriesIndex:n[0].seriesIndex,from:this.uid});if(m&&k.get("showContent")&&k.get("show"))if(r=d.map(c,function(b,c){return b.getDataParams(n[c].dataIndex)}),e)h(k.get("position"),g[0],g[1],this._tooltipContent,r,null,u);else{e=n[0].dataIndex;var p="time"===m.type?m.scale.getLabel(f[l]):c[0].getData().getName(e);c=(p?p+"\x3cbr /\x3e":"")+d.map(c,function(b,c){return b.formatTooltip(n[c].dataIndex,!0)}).join("\x3cbr /\x3e");this._showTooltipContent(k,c,r,"axis_"+b.name+"_"+e,g[0],g[1],null,u)}},_showItemTooltipContent:function(b,c,d,f){var e=this._api,k=b.getData(d).getItemModel(c).get("tooltip",!0);"string"===typeof k&&(k={formatter:k});var h=b.getModel("tooltip",this._tooltipModel),k=new u(k,h,h.ecModel),h=b.getDataParams(c,d);d=b.formatTooltip(c,!1,d);this._showTooltipContent(k,d,h,"item_"+b.name+"_"+c,f.offsetX,f.offsetY,f.target,e)},_showTooltipContent:function(b,c,d,f,e,k,l,n){this._ticket="";if(b.get("showContent")&&b.get("show")){var r=this._tooltipContent,u=b.get("formatter"),p=b.get("position");if(u)if("string"===typeof u)c=m.formatTpl(u,d);else if("function"===typeof u){var N=this;N._ticket=f;c=u(d,f,function(b,c){b===N._ticket&&(r.setContent(c),h(p,e,k,r,d,l,n))})}r.show(b);r.setContent(c);h(p,e,k,r,d,l,n)}},_showAxisPointer:function(b){b?(b=this._axisPointers[b])&&d.each(b,function(b){b.show()}):(this.group.eachChild(function(b){b.show()}),this.group.show())},_resetLastHover:function(){var b=this._lastHover;b.payloadBatch&&this._api.dispatchAction({type:"downplay",batch:b.payloadBatch});this._lastHover={}},_hideAxisPointer:function(b){b?(b=this._axisPointers[b])&&d.each(b,function(b){b.hide()}):this.group.children().length&&this.group.hide()},_hide:function(){clearTimeout(this._showTimeout);this._hideAxisPointer();this._resetLastHover();this._alwaysShowContent||this._tooltipContent.hideLater(this._tooltipModel.get("hideDelay"));this._api.dispatchAction({type:"hideTip",from:this.uid});this._lastX=this._lastY=null},dispose:function(b,c){if(!k.node){var d=c.getZr();this._tooltipContent.hide();d.off("click",this._tryShow);d.off("mousemove",this._mousemove);d.off("mouseout",this._hide);d.off("globalout",this._hide);c.off("showTip",this._manuallyShowTip);c.off("hideTip",this._manuallyHideTip)}}})},function(c,p,b){function h(b){var c="left "+b+"s cubic-bezier(0.23, 1, 0.32, 1),top "+b+"s cubic-bezier(0.23, 1, 0.32, 1)";return m.map(g,function(b){return b+"transition:"+c}).join(";")}function l(b){var c=[],d=b.get("fontSize"),g=b.getTextColor();g&&c.push("color:"+g);c.push("font:"+b.getFont());d&&c.push("line-height:"+Math.round(3*d/2)+"px");u(["decoration","align"],function(d){var g=b.get(d);g&&c.push("text-"+d+":"+g)});return c.join(";")}function e(b){var c=[],d=b.get("transitionDuration"),g=b.get("backgroundColor"),f=b.getModel("textStyle"),e=b.get("padding");d&&c.push(h(d));g&&(v.canvasSupported?c.push("background-Color:"+g):(c.push("background-Color:#"+r.toHex(g)),c.push("filter:alpha(opacity\x3d70)")));u(["width","color","radius"],function(d){var g="border-"+d,f=x(g),f=b.get(f);null!=f&&c.push(g+":"+f+("color"===d?"":"px"))});c.push(l(f));null!=e&&c.push("padding:"+k.normalizeCssArray(e).join("px ")+"px");return c.join(";")+";"}function n(b,c){var g=document.createElement("div"),e=c.getZr();this.el=g;this._x=c.getWidth()/2;this._y=c.getHeight()/2;b.appendChild(g);this._container=b;this._show=!1;var k=this;g.onmouseenter=function(){k.enterable&&(clearTimeout(k._hideTimeout),k._show=!0);k._inContent=!0};g.onmousemove=function(c){if(!k.enterable){var d=e.handler;f.normalizeEvent(b,c);d.dispatch("mousemove",c)}};g.onmouseleave=function(){k.enterable&&k._show&&k.hideLater(k._hideDelay);k._inContent=!1};d(g,b)}function d(b,c){function d(g){var f;a:{for(f=g.target;f&&f!==c;){if(f===b){f=!0;break a}f=f.parentNode}f=void 0}f&&g.preventDefault()}f.addEventListener(c,"touchstart",d);f.addEventListener(c,"touchmove",d);f.addEventListener(c,"touchend",d)}var m=b(4),r=b(39),f=b(87),k=b(6),u=m.each,x=k.toCamelCase,v=b(2),g=["","-webkit-","-moz-","-o-"];n.prototype={constructor:n,enterable:!0,update:function(){var b=this._container,c=b.currentStyle||document.defaultView.getComputedStyle(b),b=b.style;"absolute"!==b.position&&"absolute"!==c.position&&(b.position="relative")},show:function(b){clearTimeout(this._hideTimeout);var c=this.el;c.style.cssText="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+e(b)+";left:"+this._x+"px;top:"+this._y+"px;"+(b.get("extraCssText")||"");c.style.display=c.innerHTML?"block":"none";this._show=!0},setContent:function(b){var c=this.el;c.innerHTML=b;c.style.display=b?"block":"none"},moveTo:function(b,c){var d=this.el.style;d.left=b+"px";d.top=c+"px";this._x=b;this._y=c},hide:function(){this.el.style.display="none";this._show=!1},hideLater:function(b){!this._show||this._inContent&&this.enterable||(b?(this._hideDelay=b,this._show=!1,this._hideTimeout=setTimeout(m.bind(this.hide,this),b)):this.hide())},isShow:function(){return this._show}};c.exports=n},function(c,p,b){b(284);b(290);b(292);b(1).extendComponentView({type:"polar"})},function(c,p,b){function h(b,c){var e=b.get("center"),h=b.get("radius"),m=c.getWidth(),g=c.getHeight(),t=d.parsePercent;this.cx=t(e[0],m);this.cy=t(e[1],g);this.getRadiusAxis().setExtent(0,t(h,Math.min(m,g)/2))}function l(b,c){var d=this,e=d.getAngleAxis(),h=d.getRadiusAxis();e.scale.setExtent(Infinity,-Infinity);h.scale.setExtent(Infinity,-Infinity);b.eachSeries(function(b){b.coordinateSystem===d&&(b=b.getData(),h.scale.unionExtent(b.getDataExtent("radius","category"!==h.type)),e.scale.unionExtent(b.getDataExtent("angle","category"!==e.type)))});r(e,e.model);r(h,h.model);if("category"===e.type&&!e.onBand){var g=e.getExtent(),m=360/e.scale.count();e.inverse?g[1]+=m:g[1]-=m;e.setExtent(g[0],g[1])}}function e(b,c){b.type=c.get("type");b.scale=m.createScaleByModel(c);b.onBand=c.get("boundaryGap")&&"category"===b.type;if("angleAxis"===c.mainType){var d=c.get("startAngle");b.inverse=c.get("inverse")^c.get("clockwise");b.setExtent(d,d+(b.inverse?-360:360))}c.axis=b;b.model=c}var n=b(285),d=b(7),m=b(114),r=m.niceScaleExtent;b(288);c={dimensions:n.prototype.dimensions,create:function(b,c){var d=[];b.eachComponent("polar",function(b,f){var g=new n(f);g.resize=h;g.update=l;var m=g.getRadiusAxis(),w=g.getAngleAxis(),r=b.findAxisModel("radiusAxis"),z=b.findAxisModel("angleAxis");e(m,r);e(w,z);g.resize(b,c);d.push(g);b.coordinateSystem=g});b.eachSeries(function(b){"polar"===b.get("coordinateSystem")&&(b.coordinateSystem=d[b.get("polarIndex")])});return d}};b(26).register("polar",c)},function(c,p,b){var h=b(286),l=b(287);p=function(b){this.name=b||"";this.cy=this.cx=0;this._radiusAxis=new h;this._angleAxis=new l};p.prototype={constructor:p,type:"polar",dimensions:["radius","angle"],containPoint:function(b){b=this.pointToCoord(b);return this._radiusAxis.contain(b[0])&&this._angleAxis.contain(b[1])},containData:function(b){return this._radiusAxis.containData(b[0])&&this._angleAxis.containData(b[1])},getAxis:function(b){return this["_"+b+"Axis"]},getAxesByScale:function(b){var c=[],d=this._angleAxis,h=this._radiusAxis;d.scale.type===b&&c.push(d);h.scale.type===b&&c.push(h);return c},getAngleAxis:function(){return this._angleAxis},getRadiusAxis:function(){return this._radiusAxis},getOtherAxis:function(b){var c=this._angleAxis;return b===c?this._radiusAxis:c},getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},dataToPoints:function(b){return b.mapArray(this.dimensions,function(b,c){return this.dataToPoint([b,c])},this)},dataToPoint:function(b,c){return this.coordToPoint([this._radiusAxis.dataToRadius(b[0],c),this._angleAxis.dataToAngle(b[1],c)])},pointToData:function(b,c){var d=this.pointToCoord(b);return[this._radiusAxis.radiusToData(d[0],c),this._angleAxis.angleToData(d[1],c)]},pointToCoord:function(b){var c=b[0]-this.cx,d=b[1]-this.cy,h=this.getAngleAxis(),l=h.getExtent();b=Math.min(l[0],l[1]);l=Math.max(l[0],l[1]);h.inverse?b=l-360:l=b+360;h=Math.sqrt(c*c+d*d);c=Math.atan2(-(d/h),c/h)/Math.PI*180;for(d=c<b?1:-1;c<b||c>l;)c+=360*d;return[h,c]},coordToPoint:function(b){var c=b[0];b=b[1]/180*Math.PI;return[Math.cos(b)*c+this.cx,-Math.sin(b)*c+this.cy]}};c.exports=p},function(c,p,b){function h(b,c){l.call(this,"radius",b,c);this.type="category"}p=b(4);var l=b(123);h.prototype={constructor:h,dataToRadius:l.prototype.dataToCoord,radiusToData:l.prototype.coordToData};p.inherits(h,l);c.exports=h},function(c,p,b){function h(b,c){c=c||[0,360];l.call(this,"angle",b,c);this.type="category"}p=b(4);var l=b(123);h.prototype={constructor:h,dataToAngle:l.prototype.dataToCoord,angleToData:l.prototype.coordToData};p.inherits(h,l);c.exports=h},function(c,p,b){b(289);b(1).extendComponentModel({type:"polar",dependencies:["polarAxis","angleAxis"],coordinateSystem:null,findAxisModel:function(b){var c,e=this.ecModel;e.eachComponent(b,function(b){e.getComponent("polar",b.getShallow("polarIndex"))===this&&(c=b)},this);return c},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"80%"}})},function(c,p,b){function h(b,c){return c.type||(c.data?"category":"value")}c=b(4);var l=b(19);p=b(127);l=l.extend({type:"polarAxis",axis:null});c.merge(l.prototype,b(129));p("angle",l,h,{polarIndex:0,startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:!1}});p("radius",l,h,{polarIndex:0,splitNumber:5})},function(c,p,b){b(284);b(291)},function(c,p,b){function h(b,c,d,e){c=b.coordToPoint([c,e]);b=b.coordToPoint([d,e]);return{x1:c[0],y1:c[1],x2:b[0],y2:b[1]}}var l=b(4),e=b(43),n=b(12),d=["axisLine","axisLabel","axisTick","splitLine","splitArea"];b(1).extendComponentView({type:"angleAxis",render:function(b,c){this.group.removeAll();if(b.get("show")){var f=c.getComponent("polar",b.get("polarIndex")),e=b.axis,h=f.coordinateSystem,n=h.getRadiusAxis().getExtent(),p=e.getTicksCoords();"category"!==e.type&&p.pop();l.each(d,function(c){if(b.get(c+".show"))this["_"+c](b,h,p,n)},this)}},_axisLine:function(b,c,d,k){b=b.getModel("axisLine.lineStyle");c=new e.Circle({shape:{cx:c.cx,cy:c.cy,r:k[1]},style:b.getLineStyle(),z2:1,silent:!0});c.style.fill=null;this.group.add(c)},_axisTick:function(b,c,d,k){var n=b.getModel("axisTick"),p=(n.get("inside")?-1:1)*n.get("length");d=l.map(d,function(b){return new e.Line({shape:h(c,k[1],k[1]+p,b)})});this.group.add(e.mergePath(d,{style:l.defaults(n.getModel("lineStyle").getLineStyle(),{stroke:b.get("axisLine.lineStyle.color")})}))},_axisLabel:function(b,c,d,k){for(var h=b.axis,l=b.get("data"),p=b.getModel("axisLabel"),g=p.getModel("textStyle"),t=b.getFormattedLabels(),p=p.get("margin"),h=h.getLabelsCoords(),w=0;w<d.length;w++){var y=k[1],z=c.coordToPoint([y+p,h[w]]),D=c.cx,A=c.cy,D=.3>Math.abs(z[0]-D)/y?"center":z[0]>D?"left":"right",y=.3>Math.abs(z[1]-A)/y?"middle":z[1]>A?"top":"bottom",A=g;l&&l[w]&&l[w].textStyle&&(A=new n(l[w].textStyle,g));this.group.add(new e.Text({style:{x:z[0],y:z[1],fill:A.getTextColor()||b.get("axisLine.lineStyle.color"),text:t[w],textAlign:D,textVerticalAlign:y,textFont:A.getFont()},silent:!0}))}},_splitLine:function(b,c,d,k){for(var n=b.getModel("splitLine").getModel("lineStyle"),p=n.get("color"),v=0,p=p instanceof Array?p:[p],g=[],t=0;t<d.length;t++){var w=v++%p.length;g[w]=g[w]||[];g[w].push(new e.Line({shape:h(c,k[0],k[1],d[t])}))}for(t=0;t<g.length;t++)this.group.add(e.mergePath(g[t],{style:l.defaults({stroke:p[t%p.length]},n.getLineStyle()),silent:!0,z:b.get("z")}))},_splitArea:function(b,c,d,k){var h=b.getModel("splitArea").getModel("areaStyle"),n=h.get("color"),p=0,n=n instanceof Array?n:[n],g=[],t=Math.PI/180,w=-d[0]*t,y=Math.min(k[0],k[1]);k=Math.max(k[0],k[1]);b=b.get("clockwise");for(var z=1;z<d.length;z++){var D=p++%n.length;g[D]=g[D]||[];g[D].push(new e.Sector({shape:{cx:c.cx,cy:c.cy,r0:y,r:k,startAngle:w,endAngle:-d[z]*t,clockwise:b},silent:!0}));w=-d[z]*t}for(z=0;z<g.length;z++)this.group.add(e.mergePath(g[z],{style:l.defaults({fill:n[z%n.length]},h.getAreaStyle()),silent:!0}))}})},function(c,p,b){b(284);b(293)},function(c,p,b){var h=b(4),l=b(43),e=b(132),n=["axisLine","axisLabel","axisTick","axisName"],d=["splitLine","splitArea"];b(1).extendComponentView({type:"radiusAxis",render:function(b,c){this.group.removeAll();if(b.get("show")){var f=c.getComponent("polar",b.get("polarIndex")),k=f.coordinateSystem.getAngleAxis(),l=b.axis,p=f.coordinateSystem,v=l.getTicksCoords(),g=k.getExtent()[0],t=l.getExtent(),f={position:[p.cx,p.cy],rotation:g/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotation:b.getModel("axisLabel").get("rotate"),z2:1},f=new e(b,f);h.each(n,f.add,f);this.group.add(f.getGroup());h.each(d,function(c){if(b.get(c+".show"))this["_"+c](b,p,g,t,v)},this)}},_splitLine:function(b,c,d,e,n){b=b.getModel("splitLine").getModel("lineStyle");d=b.get("color");e=0;d=d instanceof Array?d:[d];for(var p=[],v=0;v<n.length;v++){var g=e++%d.length;p[g]=p[g]||[];p[g].push(new l.Circle({shape:{cx:c.cx,cy:c.cy,r:n[v]},silent:!0}))}for(v=0;v<p.length;v++)this.group.add(l.mergePath(p[v],{style:h.defaults({stroke:d[v%d.length],fill:null},b.getLineStyle()),silent:!0}))},_splitArea:function(b,c,d,e,n){b=b.getModel("splitArea").getModel("areaStyle");d=b.get("color");e=0;d=d instanceof Array?d:[d];for(var p=[],v=n[0],g=1;g<n.length;g++){var t=e++%d.length;p[t]=p[t]||[];p[t].push(new l.Sector({shape:{cx:c.cx,cy:c.cy,r0:v,r:n[g],startAngle:0,endAngle:2*Math.PI},silent:!0}));v=n[g]}for(g=0;g<p.length;g++)this.group.add(l.mergePath(p[g],{style:h.defaults({fill:d[g%d.length]},b.getAreaStyle()),silent:!0}))}})},function(c,p,b){function h(b,c){c.update="updateView";l.registerAction(c,function(c,d){var f={};d.eachComponent({mainType:"geo",query:c},function(d){d[b](c.name);e.each(d.coordinateSystem.regions,function(b){f[b.name]=d.isSelected(b.name)||!1})});return{selected:f,name:c.name}})}b(295);b(163);b(296);b(176);var l=b(1),e=b(4);h("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"});h("select",{type:"geoSelect",event:"geoselected"});h("unSelect",{type:"geoUnSelect",event:"geounselected"})},function(c,p,b){var h=b(5),l=b(19),e=b(12),n=b(4);p=b(140);var d=b(163);b=l.extend({type:"geo",coordinateSystem:null,layoutMode:"box",init:function(b){l.prototype.init.apply(this,arguments);h.defaultEmphasis(b.label,["position","show","textStyle","distance","formatter"])},optionUpdated:function(){var b=this.option,c=this;b.regions=d.getFilledRegions(b.regions,b.map);this._optionModelMap=n.reduce(b.regions||[],function(b,d){d.name&&(b[d.name]=new e(d,c));return b},{});this.updateSelectedMap(b.regions)},defaultOption:{zlevel:0,z:0,show:!0,left:"center",top:"center",aspectScale:.75,silent:!1,map:"",center:null,zoom:1,scaleLimit:null,label:{normal:{show:!1,textStyle:{color:"#000"}},emphasis:{show:!0,textStyle:{color:"rgb(100,0,0)"}}},itemStyle:{normal:{borderWidth:.5,borderColor:"#444",color:"#eee"},emphasis:{color:"rgba(255,215,0,0.8)"}},regions:[]},getRegionModel:function(b){return this._optionModelMap[b]},getFormattedLabel:function(b,c){var d=this.get("label."+c+".formatter"),e={name:b};if("function"===typeof d)return e.status=c,d(e);if("string"===typeof d)return d.replace("{a}",e.seriesName)},setZoom:function(b){this.option.zoom=b},setCenter:function(b){this.option.center=b}});n.mixin(b,p);c.exports=b},function(c,p,b){var h=b(173);c.exports=b(1).extendComponentView({type:"geo",init:function(b,c){var n=new h(c,!0);this._mapDraw=n;this.group.add(n.group)},render:function(b,c,h,d){if(!d||"geoToggleSelect"!==d.type||d.from!==this.uid){var m=this._mapDraw;b.get("show")?m.draw(b,c,h,this,d):this._mapDraw.group.removeAll();this.group.silent=b.get("silent")}}})},function(c,p,b){b(298);b(301);b(302);b(1).extendComponentView({type:"single"})},function(c,p,b){var h=b(299);b(26).register("single",{create:function(b,c){var n=[];b.eachComponent("singleAxis",function(d,m){var r=new h(d,b,c);r.name="single_"+m;r.resize(d,c);d.coordinateSystem=r;n.push(r)});b.eachSeries(function(c){if("singleAxis"===c.get("coordinateSystem")){var e=c.get("singleAxisIndex")||0,e=b.getComponent("singleAxis",e);c.coordinateSystem=e.coordinateSystem}});return n},dimensions:h.prototype.dimensions})},function(c,p,b){function h(b,c,e){this.dimension="x";this.dimensions=["x"];this._axis=null;this._init(b,c,e);this._model=b}var l=b(300),e=b(114),n=b(21);h.prototype={type:"singleAxis",constructor:h,_init:function(b,c,h){c=new l(this.dimension,e.createScaleByModel(b),[0,0],b.get("type"),b.get("position"));c.onBand="category"===c.type&&b.get("boundaryGap");c.inverse=b.get("inverse");c.orient=b.get("orient");b.axis=c;c.model=b;this._axis=c},update:function(b,c){this._updateAxisFromSeries(b)},_updateAxisFromSeries:function(b){b.eachSeries(function(b){var c=b.getData();this._axis.scale.unionExtent(c.getDataExtent(b.coordDimToDataDim(this.dimension)));e.niceScaleExtent(this._axis,this._axis.model)},this)},resize:function(b,c){this._rect=n.getLayoutRect({left:b.get("left"),top:b.get("top"),right:b.get("right"),bottom:b.get("bottom"),width:b.get("width"),height:b.get("height")},{width:c.getWidth(),height:c.getHeight()});this._adjustAxis()},getRect:function(){return this._rect},_adjustAxis:function(){var b=this._rect,c=this._axis,e=c.isHorizontal(),f=e?[0,b.width]:[0,b.height],k=c.reverse?1:0;c.setExtent(f[k],f[1-k]);this._updateAxisTransform(c,e?b.x:b.y)},_updateAxisTransform:function(b,c){var e=b.getExtent(),f=e[0]+e[1],e=b.isHorizontal();b.toGlobalCoord=e?function(b){return b+c}:function(b){return f-b+c};b.toLocalCoord=e?function(b){return b-c}:function(b){return f-b+c}},getAxis:function(){return this._axis},getBaseAxis:function(){return this._axis},containPoint:function(b){var c=this.getRect(),e=this.getAxis();return"horizontal"===e.orient?e.contain(e.toLocalCoord(b[0]))&&b[1]>=c.y&&b[1]<=c.y+c.height:e.contain(e.toLocalCoord(b[1]))&&b[0]>=c.y&&b[0]<=c.y+c.height},pointToData:function(b){var c=this.getAxis();return[c.coordToData(c.toLocalCoord(b["horizontal"===c.orient?0:1]))]},dataToPoint:function(b){var c=this.getAxis(),e=this.getRect(),f=[],k="horizontal"===c.orient?0:1;f[k]=c.toGlobalCoord(c.dataToCoord(+b));f[1-k]=0===k?e.y+e.height/2:e.x+e.width/2;return f}};c.exports=h},function(c,p,b){var h=b(4),l=b(123),e=b(114);p=function(b,c,e,h,f){l.call(this,b,c,e);this.type=h||"value";this.position=f||"bottom";this._labelInterval=this.orient=null};p.prototype={constructor:p,model:null,isHorizontal:function(){var b=this.position;return"top"===b||"bottom"===b},getLabelInterval:function(){var b=this._labelInterval;if(!b){var b=this.model,c=b.getModel("axisLabel"),m=c.get("interval");if("category"!==this.type||"auto"!==m)return b=this._labelInterval="auto"===m?0:m;b=this._labelInterval=e.getAxisLabelInterval(h.map(this.scale.getTicks(),this.dataToCoord,this),b.getFormattedLabels(),c.getModel("textStyle").getFont(),this.isHorizontal())}return b},toGlobalCoord:null,toLocalCoord:null};h.inherits(p,l);c.exports=p},function(c,p,b){var h=b(132),l=b(4),e=b(43),n=h.getInterval,d=h.ifIgnoreOnTick,m=["axisLine","axisLabel","axisTick","axisName"];p=b(1).extendComponentView({type:"singleAxis",render:function(b,c){var d=this.group;d.removeAll();var e=b.axis,n={},p=e.position,g=e.orient,t=b.coordinateSystem.getRect(),t=[t.x,t.x+t.width,t.y,t.y+t.height],w={top:t[2],bottom:t[3]},y={left:t[0],right:t[1]};n.position=["vertical"===g?y[p]:t[0],"horizontal"===g?w[p]:t[3]];n.rotation=Math.PI/2*{horizontal:0,vertical:1}[g];n.labelDirection=n.tickDirection=n.nameDirection={top:-1,bottom:1,right:1,left:-1}[p];b.getModel("axisTick").get("inside")&&(n.tickDirection=-n.tickDirection);b.getModel("axisLabel").get("inside")&&(n.labelDirection=-n.labelDirection);g=b.getModel("axisLabel").get("rotate");n.labelRotation="top"===p?-g:g;n.labelInterval=e.getLabelInterval();n.z2=1;e=new h(b,n);l.each(m,e.add,e);d.add(e.getGroup());b.get("splitLine.show")&&this._splitLine(b,n.labelInterval)},_splitLine:function(b,c){for(var k=b.axis,h=b.getModel("splitLine"),m=h.getModel("lineStyle"),l=m.get("width"),g=m.get("color"),h=n(h,c),g=g instanceof Array?g:[g],t=b.coordinateSystem.getRect(),w=k.isHorizontal(),y=[],z=0,p=k.getTicksCoords(),A=[],B=[],F=0;F<p.length;++F)if(!d(k,F,h)){var N=k.toGlobalCoord(p[F]);w?(A[0]=N,A[1]=t.y,B[0]=N,B[1]=t.y+t.height):(A[0]=t.x,A[1]=N,B[0]=t.x+t.width,B[1]=N);N=z++%g.length;y[N]=y[N]||[];y[N].push(new e.Line(e.subPixelOptimizeLine({shape:{x1:A[0],y1:A[1],x2:B[0],y2:B[1]},style:{lineWidth:l},silent:!0})))}for(F=0;F<y.length;++F)this.group.add(e.mergePath(y[F],{style:{stroke:g[F%g.length],lineDash:m.getLineDash(),lineWidth:l},silent:!0}))}});c.exports=p},function(c,p,b){var h=b(19);p=b(127);var l=b(4),h=h.extend({type:"singleAxis",layoutMode:"box",axis:null,coordinateSystem:null});l.merge(h.prototype,b(129));p("single",h,function(b,c){return c.type||(c.data?"category":"value")},{left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:2,type:"solid"}},axisTick:{show:!0,length:6,lineStyle:{width:2}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}});c.exports=h},function(c,p,b){b(1).registerPreprocessor(b(304));b(305);b(310);b(311);b(312);b(313)},function(c,p,b){function h(b){var c={};l.each(b,function(b){c[b]=1});b.length=0;l.each(c,function(c,d){b.push(d)})}var l=b(4),e=["rect","polygon","keep","clear"];c.exports=function(b,c){var m=b&&b.brush;l.isArray(m)||(m=m?[m]:[]);if(m.length){var r=[];l.each(m,function(b){b=b.hasOwnProperty("toolbox")?b.toolbox:[];b instanceof Array&&(r=r.concat(b))});m=b&&b.toolbox;l.isArray(m)&&(m=m[0]);m||(m={feature:{}},b.toolbox=[m]);m=m.feature||(m.feature={});m=m.brush||(m.brush={});m=m.type||(m.type=[]);m.push.apply(m,r);h(m);c&&!m.length&&m.push.apply(m,e)}}},function(c,p,b){function h(b,c,d,g,f){f&&(f=b.getZr(),f.__ecInBrushSelectEvent||(f.__ecBrushSelect||(f.__ecBrushSelect=l),v.createOrUpdate(f,"__ecBrushSelect",d,c)(b,g)))}function l(b,c){if(!b.isDisposed()){var d=b.getZr();d.__ecInBrushSelectEvent=!0;b.dispatchAction({type:"brushSelect",batch:c});d.__ecInBrushSelectEvent=!1}}function e(b,c,d,g){d=d.getItemLayout(g);g=0;for(var f=c.length;g<f;g++){var e=c[g];if(b[e.brushType](d,e.selectors,e))return!0}}function n(b){var c=b.brushSelector;if(k.isString(c)){var d=[];k.each(x,function(b,g){d[g]=b[c]});return d}if(k.isFunction(c)){var g={};k.each(x,function(b,d){g[d]=c});return g}return c}function d(b,c){var d=b.option.seriesIndex;return null!=d&&"all"!==d&&(k.isArray(d)?0>k.indexOf(d,c):c!==d)}function m(b){var c=b.selectors={};k.each(x[b.brushType],function(d,g){c[g]=function(g){return d(g,c,b)}});return b}function r(b){return new u(b[0][0],b[1][0],b[0][1]-b[0][0],b[1][1]-b[1][0])}c=b(1);var f=b(306),k=b(4),u=b(9),x=b(307),v=b(308),g=b(309),t=["inBrush","outOfBrush"];b=c.PRIORITY.VISUAL.BRUSH;c.registerLayout(b,function(b,c,d){b.eachComponent({mainType:"brush"},function(c){d&&"takeGlobalCursor"===d.type&&c.setBrushOption("brush"===d.key?d.brushOption:{brushType:!1});c.coordInfoList=g.makeCoordInfoList(c.option,b);g.parseInputRanges(c,b)})});c.registerVisual(b,function(b,c,l){var r=[],u,p;b.eachComponent({mainType:"brush"},function(c,h){function l(b){return"all"===D||O[b]}function q(b,c){var d=b.coordinateSystem;P|=d.hasAxisbrushed();l(c)&&d.eachActiveState(b.getData(),function(b,c){"active"===b&&(M[c]=1)})}function z(b,f,h){var m=n(b);if(m&&!d(c,f)&&(k.each(T,function(d){m[d.brushType]&&g.controlSeries(d,c,b)&&h.push(d);P|=!!h.length}),l(f)&&h.length)){var t=b.getData();t.each(function(b){e(m,h,t,b)&&(M[b]=1)})}}var v={brushId:c.id,brushIndex:h,brushName:c.name,areas:k.clone(c.areas),selected:[]};r.push(v);var x=c.option,D=x.brushLink,O=[],M=[],J=[],P=0;h||(u=x.throttleType,p=x.throttleDelay);var T=k.map(c.areas,function(b){return m(k.defaults({boundingRect:w[b.brushType](b)},b))}),S=f.createVisualMappings(c.option,t,function(b){b.mappingMethod="fixed"});k.isArray(D)&&k.each(D,function(b){O[b]=1});b.eachSeries(function(b,c){var d=J[c]=[];"parallel"===b.subType?q(b,c,d):z(b,c,d)});b.eachSeries(function(b,c){var d={seriesId:b.id,seriesIndex:c,seriesName:b.name,dataIndex:[]};v.selected.push(d);var g=n(b),k=J[c],h=b.getData(),m=l(c)?function(b){return M[b]?(d.dataIndex.push(h.getRawIndex(b)),"inBrush"):"outOfBrush"}:function(b){return e(g,k,h,b)?(d.dataIndex.push(h.getRawIndex(b)),"inBrush"):"outOfBrush"};(l(c)?P:k.length)&&f.applyVisual(t,S,h,m)})});h(c,u,p,r,l)});var w={lineX:k.noop,lineY:k.noop,rect:function(b){return r(b.range)},polygon:function(b){var c;b=b.range;for(var d=0,g=b.length;d<g;d++){c=c||[[Infinity,-Infinity],[Infinity,-Infinity]];var f=b[d];f[0]<c[0][0]&&(c[0][0]=f[0]);f[0]>c[0][1]&&(c[0][1]=f[0]);f[1]<c[1][0]&&(c[1][0]=f[1]);f[1]>c[1][1]&&(c[1][1]=f[1])}return c&&r(c)}}},function(c,p,b){function h(b){if(b)for(var c in b)if(b.hasOwnProperty(c))return!0}var l=b(4),e=b(192),n=l.each;c.exports={createVisualMappings:function(b,c,h){function f(){var b=function(){};b.prototype.__hidden=b.prototype;return new b}var k={};n(c,function(c){var m=k[c]=f();n(b[c],function(b,d){if(e.isValidType(d)){var f={type:d,visual:b};h&&h(f,c);m[d]=new e(f);"opacity"===d&&(f=l.clone(f),f.type="colorAlpha",m.__hidden.__alphaForOpacity=new e(f))}})});return k},replaceVisualOption:function(b,c,e){var f;l.each(e,function(b){c.hasOwnProperty(b)&&h(c[b])&&(f=!0)});f&&l.each(e,function(f){c.hasOwnProperty(f)&&h(c[f])?b[f]=l.clone(c[f]):delete b[f]})},applyVisual:function(b,c,h,f,k,n){function p(b){return h.getItemVisual(w,b)}function v(b,c){h.setItemVisual(w,b,c)}function g(b,d){w=null==n?b:d;for(var g=f.call(k,b),e=c[g],g=t[g],h=0,l=g.length;h<l;h++){var r=g[h];e[r]&&e[r].applyVisual(b,p,v)}}var t={};l.each(b,function(b){var d=e.prepareVisualTypes(c[b]);t[b]=d});var w;null==n?h.each(g,!0):h.each([n],g,!0)}}},function(c,p,b){function h(b){var c=["x","y"],d=["width","height"];return{point:function(c,d,f){return l(c[b],f.range)},rect:function(e,h,m){h=m.range;return l(e[c[b]],h)||l(e[c[b]]+e[d[b]],h)}}}function l(b,c){return c[0]<=b&&b<=c[1]}function e(b,c,d,e,h){for(var m=0,g=h[h.length-1];m<h.length;m++){var t=h[m],l;l=b;var n=c,z=d,p=e,A=t[0],B=t[1],F=g[0],N=g[1],g=(z-l)*(B-N)-(A-F)*(p-n);1E-6>=g&&-1E-6<=g?l=!1:(F=((A-l)*(B-N)-(A-F)*(B-n))/g,0>F||1<F?l=!1:(l=((z-l)*(B-n)-(A-l)*(p-n))/g,l=0>l||1<l?!1:!0));if(l)return!0;g=t}}function n(b){var c=b.x,d=b.y,e=b.width;b=b.height;0>e&&(c+=e,e=-e);0>b&&(d+=b,b=-b);return new m(c,d,e,b)}var d=b(167).contain,m=b(9);p={lineX:h(0),lineY:h(1),rect:{point:function(b,c,d){return d.boundingRect.contain(b[0],b[1])},rect:function(b,c,d){return d.boundingRect.intersect(n(b))}},polygon:{point:function(b,c,e){return e.boundingRect.contain(b[0],b[1])&&d(e.range,b[0],b[1])},rect:function(b,c,k){c=k.range;if(1>=c.length)return!1;k=b.x;var h=b.y,m=b.width,l=b.height,g=c[0];if(d(c,k,h)||d(c,k+m,h)||d(c,k,h+l)||d(c,k+m,h+l)||n(b).contain(g[0],g[1])||e(k,h,k+m,h,c)||e(k,h,k,h+l,c)||e(k+m,h,k+m,h+l,c)||e(k,h+l,k+m,h+l,c))return!0}}};c.exports=p},function(c,p){var b={throttle:function(b,c,e){function n(){r=(new Date).getTime();f=null;b.apply(u,p||[])}var d,m=0,r=0,f=null,k,u,p;c=c||0;var v=function(){d=(new Date).getTime();u=this;p=arguments;k=d-(e?m:r)-c;clearTimeout(f);e?f=setTimeout(n,c):0<=k?n():f=setTimeout(n,-k);m=d};v.clear=function(){f&&(clearTimeout(f),f=null)};return v},createOrUpdate:function(c,l,e,n){var d=c[l];if(d){var m=d["\x00__throttleOriginMethod"]||d,r=d["\x00__throttleType"];if(d["\x00__throttleRate"]!==e||r!==n){if(null==e||!n)return c[l]=m;d=c[l]=b.throttle(m,e,"debounce"===n);d["\x00__throttleOriginMethod"]=m;d["\x00__throttleType"]=n;d["\x00__throttleRate"]=e}return d}},clear:function(b,c){var e=b[c];e&&e["\x00__throttleOriginMethod"]&&(b[c]=e["\x00__throttleOriginMethod"])}};c.exports=b},function(c,p,b){function h(b){b[0]>b[1]&&b.reverse();return b}function l(b,c){for(var d=!0,g=0;g<r.length;g++){var f=r[g]+"Index";if(0<=b[f])for(var d=!1,e=0;e<c.length;e++)if(c[e][f]===b[f])return c[e]}return d}function e(b,c,d,g){var f=d.coordSys.getAxis(b);n.assert(f,"line brush is only available in cartesian (grid).");return h(n.map([0,1],function(b){return c?f.coordToData(f.toLocalCoord(g[b])):f.toGlobalCoord(f.dataToCoord(g[b]))}))}var n=b(4),d=b(43),m=n.each;p={};var r=["geo","xAxis","yAxis"],f=["dataToPoint","pointToData"];p.parseOutputRanges=function(b,c,d,g){m(b,function(b,d){var f=b.panelId;f&&(f=f.split("--"),b[f[0]+"Index"]=+f[1],f=l(b,c),b.coordRange=k[b.brushType](1,f,b.range),g&&(g[d]=f))})};p.parseInputRanges=function(b,c){m(b.areas,function(c){var d=l(c,b.coordInfoList);n.assert(!d||!0===d||c.coordRange,"coordRange must be specified when coord index specified.");n.assert(!d||!0!==d||c.range,"range must be specified.");c.range=c.range||[];d&&!0!==d&&(c.range=k[c.brushType](0,d,c.coordRange),c.panelId=d.panelId)})};p.makePanelOpts=function(b){var c=[];m(b,function(b){var g=b.coordSys,f;0<=b.geoIndex?(f=g.getBoundingRect().clone(),f.applyTransform(d.getTransform(g))):f=g.grid.getRect().clone();c.push({panelId:b.panelId,rect:f})});return c};p.makeCoordInfoList=function(b,c){var d=[];m(r,function(g){var f=b[g+"Index"];null!=f&&"none"!==f&&("all"===f||n.isArray(f)||(f=[f]),c.eachComponent({mainType:g},function(b,c){if(!("all"!==f&&0>n.indexOf(f,c))){var e,k;"xAxis"===g||"yAxis"===g?e=b.axis.grid:k=b.coordinateSystem;for(var h,m=0,l=d.length;m<l;m++){var r=d[m];n.assert(r[g+"Index"]!=c,"Coord should not be defined duplicately: "+g+c);if("yAxis"===g&&!r.yAxis&&r.xAxis){var u=e.getCartesian(r.xAxisIndex,c);if(u){k=u;h=r;break}}}!h&&d.push(h={});h[g]=b;h[g+"Index"]=c;h.panelId=g+"--"+c;h.coordSys=k||e.getCartesian(h.xAxisIndex,h.yAxisIndex);h.coordSys?d[g+"Has"]=!0:d.pop()}}))});return d};p.controlSeries=function(b,c,d){b=l(b,c.coordInfoList);return!0===b||b&&b.coordSys===d.coordinateSystem};var k={lineX:n.curry(e,"x"),lineY:n.curry(e,"y"),rect:function(b,c,d){var g=c.coordSys;c=g[f[b]]([d[0][0],d[1][0]]);b=g[f[b]]([d[0][1],d[1][1]]);return[h([c[0],b[0]]),h([c[1],b[1]])]},polygon:function(b,c,d){c=c.coordSys;return n.map(d,c[f[b]],c)}};c.exports=p},function(c,p,b){p=b(1);var h=b(4),l=b(306),e=b(12),n=["#ddd"];b=p.extendComponentModel({type:"brush",dependencies:"geo grid xAxis yAxis parallel series".split(" "),defaultOption:{toolbox:null,brushLink:null,seriesIndex:"all",geoIndex:null,xAxisIndex:null,yAxisIndex:null,brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(120,140,180,0.3)",borderColor:"rgba(120,140,180,0.8)",width:null},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0},areas:[],brushType:null,brushOption:{},coordInfoList:[],optionUpdated:function(b,c){var e=this.option;!c&&l.replaceVisualOption(e,b,["inBrush","outOfBrush"]);e.inBrush=e.inBrush||{};e.outOfBrush=e.outOfBrush||{color:n}},setAreas:function(b){h.assert(h.isArray(b));h.each(b,function(b){h.assert(b.brushType,"Illegal areas")});b&&(this.areas=h.map(b,function(b){return this._mergeBrushOption(b)},this))},setBrushOption:function(b){this.brushOption=this._mergeBrushOption(b);this.brushType=this.brushOption.brushType},_mergeBrushOption:function(b){var c=this.option;return h.merge({brushType:c.brushType,brushMode:c.brushMode,transformable:c.transformable,brushStyle:(new e(c.brushStyle)).getItemStyle(),removeOnClick:c.removeOnClick},b,!0)}});c.exports=b},function(c,p,b){function h(b,c,e,f){f&&f.$from===b.id||this._brushController.setPanels(n.makePanelOpts(b.coordInfoList)).enableBrush(b.brushOption).updateCovers(b.areas.slice())}var l=b(4),e=b(233);p=b(1);var n=b(309);c.exports=p.extendComponentView({type:"brush",init:function(b,c){this.ecModel=b;this.api=c;(this._brushController=new e(c.getZr())).on("brush",l.bind(this._onBrush,this)).mount()},render:function(b){this.model=b;return h.apply(this,arguments)},updateView:h,updateLayout:h,updateVisual:h,dispose:function(){this._brushController.dispose()},_onBrush:function(b,c){var e=this.model.id;n.parseOutputRanges(b,this.model.coordInfoList,this.ecModel);c.isEnd&&!c.removeOnClick||this.api.dispatchAction({type:"brush",brushId:e,areas:l.clone(b),$from:e})}})},function(c,p,b){c=b(1);c.registerAction({type:"brush",event:"brush",update:"updateView"},function(b,c){c.eachComponent({mainType:"brush",query:b},function(c){c.setAreas(b.areas)})});c.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},function(){})},function(c,p,b){function h(b,c,d){this.model=b;this.ecModel=c;this.api=d}p=b(314);var l=b(4);h.defaultOption={show:!0,type:"rect polygon lineX lineY keep clear".split(" "),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:{rect:"\u77e9\u5f62\u9009\u62e9",polygon:"\u5708\u9009",lineX:"\u6a2a\u5411\u9009\u62e9",lineY:"\u7eb5\u5411\u9009\u62e9",keep:"\u4fdd\u6301\u9009\u62e9",clear:"\u6e05\u9664\u9009\u62e9"}};b=h.prototype;b.render=b.updateView=b.updateLayout=function(b,c,d){var h,r,f;c.eachComponent({mainType:"brush"},function(b){h=b.brushType;r=b.brushOption.brushMode||"single";f|=b.areas.length});this._brushType=h;this._brushMode=r;l.each(b.get("type",!0),function(c){b.setIconStatus(c,("keep"===c?"multiple"===r:"clear"===c?f:c===h)?"emphasis":"normal")})};b.getIcons=function(){var b=this.model,c=b.get("icon",!0),d={};l.each(b.get("type",!0),function(b){c[b]&&(d[b]=c[b])});return d};b.onclick=function(b,c,d){c=this.api;b=this._brushType;var h=this._brushMode;"clear"===d?c.dispatchAction({type:"brush",areas:[]}):c.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===d?b:b===d?!1:d,brushMode:"keep"===d?"multiple"===h?"single":"multiple":h}})};p.register("brush",h);c.exports=h},function(c,p){var b={};c.exports={register:function(c,l){b[c]=l},get:function(c){return b[c]}}},function(c,p,b){c=b(1);var h=b(43),l=b(21);c.extendComponentModel({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}});c.extendComponentView({type:"title",render:function(b,c,d){this.group.removeAll();if(b.get("show")){c=this.group;var m=b.getModel("textStyle"),r=b.getModel("subtextStyle"),f=b.get("textAlign"),k=b.get("textBaseline"),m=new h.Text({style:{text:b.get("text"),textFont:m.getFont(),fill:m.getTextColor()},z2:10}),u=m.getBoundingRect(),p=b.get("subtext"),r=new h.Text({style:{text:p,textFont:r.getFont(),fill:r.getTextColor(),y:u.height+b.get("itemGap"),textBaseline:"top"},z2:10}),v=b.get("link"),g=b.get("sublink");m.silent=!v;r.silent=!g;if(v)m.on("click",function(){window.open(v,"_"+b.get("target"))});if(g)r.on("click",function(){window.open(g,"_"+b.get("subtarget"))});c.add(m);p&&c.add(r);p=c.getBoundingRect();u=b.getBoxLayoutParams();u.width=p.width;u.height=p.height;d=l.getLayoutRect(u,{width:d.getWidth(),height:d.getHeight()},b.get("padding"));f||(f=b.get("left")||b.get("right"),"middle"===f&&(f="center"),"right"===f?d.x+=d.width:"center"===f&&(d.x+=d.width/2));k||(k=b.get("top")||b.get("bottom"),"center"===k&&(k="middle"),"bottom"===k?d.y+=d.height:"middle"===k&&(d.y+=d.height/2),k=k||"top");c.attr("position",[d.x,d.y]);f={textAlign:f,textVerticalAlign:k};m.setStyle(f);r.setStyle(f);p=c.getBoundingRect();d=d.margin;f=b.getItemStyle(["color","opacity"]);f.fill=b.get("backgroundColor");d=new h.Rect({shape:{x:p.x-d[3],y:p.y-d[0],width:p.width+d[1]+d[3],height:p.height+d[0]+d[2]},style:f,silent:!0});h.subPixelOptimizeRect(d);c.add(d)}}})},function(c,p,b){b(317);b(318);b(320);b(321);b(322);b(324);b(325);b(327);b(328)},function(c,p,b){b(19).registerSubTypeDefaulter("dataZoom",function(b){return"slider"})},function(c,p,b){function h(b){var c={};m(["start","end","startValue","endValue","throttle"],function(d){b.hasOwnProperty(d)&&(c[d]=b[d])});return c}var l=b(4),e=b(2);p=b(1);var n=b(5),d=b(319),m=l.each,r=n.eachAxisDim;b=p.extendComponentModel({type:"dataZoom",dependencies:"xAxis yAxis zAxis radiusAxis angleAxis series".split(" "),defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,angleAxisIndex:null,radiusAxisIndex:null,filterMode:"filter",throttle:null,start:0,end:100,startValue:null,endValue:null},init:function(b,c,d){this._dataIntervalByAxis={};this._dataInfo={};this._axisProxies={};this.textStyleModel;this._autoThrottle=!0;c=h(b);this.mergeDefaultAndTheme(b,d);this.doInit(c)},mergeOption:function(b){var c=h(b);l.merge(this.option,b,!0);this.doInit(c)},doInit:function(b){var c=this.option;e.canvasSupported||(c.realtime=!1);this._setDefaultThrottle(b);null!=b.startValue&&null==b.start&&(c.start=null);null!=b.endValue&&null==b.end&&(c.end=null);this.textStyleModel=this.getModel("textStyle");this._resetTarget();this._giveAxisProxies()},_giveAxisProxies:function(){var b=this._axisProxies;this.eachTargetAxis(function(c,e,h,m){h=this.dependentModels[c.axis][e];m=h.__dzAxisProxy||(h.__dzAxisProxy=new d(c.name,e,this,m));b[c.name+"_"+e]=m},this)},_resetTarget:function(){var b=this.option,c=this._judgeAutoMode();r(function(c){c=c.axisIndex;b[c]=n.normalizeToArray(b[c])},this);"axisIndex"===c?this._autoSetAxisIndex():"orient"===c&&this._autoSetOrient()},_judgeAutoMode:function(){var b=this.option,c=!1;r(function(d){null!=b[d.axisIndex]&&(c=!0)},this);var d=b.orient;if(null==d&&c)return"orient";if(!c)return null==d&&(b.orient="horizontal"),"axisIndex"},_autoSetAxisIndex:function(){var b=!0,c=this.get("orient",!0),d=this.option;b&&(c="vertical"===c?{dim:"y",axisIndex:"yAxisIndex",axis:"yAxis"}:{dim:"x",axisIndex:"xAxisIndex",axis:"xAxis"},this.dependentModels[c.axis].length&&(d[c.axisIndex]=[0],b=!1));b&&r(function(c){if(b){var e=[],g=this.dependentModels[c.axis];if(g.length&&!e.length)for(var k=0,h=g.length;k<h;k++)"category"===g[k].get("type")&&e.push(k);d[c.axisIndex]=e;e.length&&(b=!1)}},this);b&&this.ecModel.eachSeries(function(b){this._isSeriesHasAllAxesTypeOf(b,"value")&&r(function(c){var g=d[c.axisIndex];c=b.get(c.axisIndex);0>l.indexOf(g,c)&&g.push(c)})},this)},_autoSetOrient:function(){var b;this.eachTargetAxis(function(c){!b&&(b=c.name)},this);this.option.orient="y"===b?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(b,c){var d=!0;r(function(e){var h=b.get(e.axisIndex);(e=this.dependentModels[e.axis][h])&&e.get("type")===c||(d=!1)},this);return d},_setDefaultThrottle:function(b){b.hasOwnProperty("throttle")&&(this._autoThrottle=!1);this._autoThrottle&&(b=this.ecModel.option,this.option.throttle=b.animation&&0<b.animationDurationUpdate?100:20)},getFirstTargetAxisModel:function(){var b;r(function(c){if(null==b){var d=this.get(c.axisIndex);d.length&&(b=this.dependentModels[c.axis][d[0]])}},this);return b},eachTargetAxis:function(b,c){var d=this.ecModel;r(function(e){m(this.get(e.axisIndex),function(h){b.call(c,e,h,this,d)},this)},this)},getAxisProxy:function(b,c){return this._axisProxies[b+"_"+c]},setRawRange:function(b){m(["start","end","startValue","endValue"],function(c){this.option[c]=b[c]},this)},getPercentRange:function(){var b=this.findRepresentativeAxisProxy();if(b)return b.getDataPercentWindow()},getValueRange:function(b,c){if(null==b&&null==c){var d=this.findRepresentativeAxisProxy();if(d)return d.getDataValueWindow()}else return this.getAxisProxy(b,c).getDataValueWindow()},findRepresentativeAxisProxy:function(){var b=this._axisProxies,c;for(c in b)if(b.hasOwnProperty(c)&&b[c].hostedBy(this))return b[c];for(c in b)if(b.hasOwnProperty(c)&&!b[c].hostedBy(this))return b[c]}});c.exports=b},function(c,p,b){function h(b,c){var d=[Infinity,-Infinity];m(c,function(c){var e=c.getData();e&&m(c.coordDimToDataDim(b),function(b){b=e.getDataExtent(b);b[0]<d[0]&&(d[0]=b[0]);b[1]>d[1]&&(d[1]=b[1])})},this);return d}function l(b,c,h){h=h.getAxisModel();var l=h.axis.scale,n=[0,100],g=[b.start,b.end],t=[];c=c.slice();e(c,h,l);m(["startValue","endValue"],function(c){t.push(null!=b[c]?l.parse(b[c]):null)});m([0,1],function(b){var f=t[b],e=g[b];null!=e||null==f?(null==e&&(e=n[b]),f=l.parse(d.linearMap(e,n,c,!0))):e=d.linearMap(f,c,n,!0);t[b]=f;g[b]=e});return{valueWindow:r(t),percentWindow:r(g)}}function e(b,c,d){m(["min","max"],function(e,h){var g=c.get(e,!0);null!=g&&(g+"").toLowerCase()!=="data"+e&&(b[h]=d.parse(g))});c.get("scale",!0)||(0<b[0]&&(b[0]=0),0>b[1]&&(b[1]=0));return b}function n(b,c){var e=b.getAxisModel(),h=b._percentWindow,m=b._valueWindow;if(h){var g=c||0===h[0]&&100===h[1],h=!c&&d.getPixelPrecision(m,[0,500]),g=c||g||!c&&!(20>h&&0<=h);e.setRange&&e.setRange(g?null:+m[0].toFixed(h),g?null:+m[1].toFixed(h))}}p=b(4);var d=b(7),m=p.each,r=d.asc;b=function(b,c,d,e){this._dimName=b;this._axisIndex=c;this.ecModel=e;this._dataZoomModel=d};b.prototype={constructor:b,hostedBy:function(b){return this._dataZoomModel===b},getDataExtent:function(){return this._dataExtent.slice()},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var b=[];this.ecModel.eachSeries(function(c){this._axisIndex===+c.get(this._dimName+"AxisIndex")&&b.push(c)},this);return b},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var b=this._dimName,c=this.ecModel,d=this.getAxisModel(),e;"x"===b||"y"===b?(e="gridIndex",b="x"===b?"y":"x"):(e="polarIndex",b="angle"===b?"radius":"angle");var h;c.eachComponent(b+"Axis",function(b){(b.get(e)||0)===(d.get(e)||0)&&(h=b)});return h},reset:function(b){if(b===this._dataZoomModel){var c=this._dataExtent=h(this._dimName,this.getTargetSeriesModels());b=l(b.option,c,this);this._valueWindow=b.valueWindow;this._percentWindow=b.percentWindow;n(this)}},restore:function(b){b===this._dataZoomModel&&(this._valueWindow=this._percentWindow=null,n(this,!0))},filterData:function(b){function c(b){return b>=g[0]&&b<=g[1]}if(b===this._dataZoomModel){var d=this._dimName,e=this.getTargetSeriesModels(),h=b.get("filterMode"),g=this._valueWindow,t=this.getOtherAxisModel();b.get("$fromToolbox")&&t&&"category"===t.get("type")&&(h="empty");m(e,function(b){var g=b.getData();g&&m(b.coordDimToDataDim(d),function(d){"empty"===h?b.setData(g.map(d,function(b){return c(b)?b:NaN})):g.filterSelf(d,c)})})}}};c.exports=b},function(c,p,b){p=b(29);c.exports=p.extend({type:"dataZoom",render:function(b,c,e,n){this.dataZoomModel=b;this.ecModel=c;this.api=e},getTargetInfo:function(){function b(c,d,e,k){for(var h,l=0;l<e.length;l++)if(e[l].model===c){h=e[l];break}h||e.push(h={model:c,axisModels:[],coordIndex:k});h.axisModels.push(d)}var c=this.ecModel,e=[],n=[],d=[];this.dataZoomModel.eachTargetAxis(function(m,r){var f=c.getComponent(m.axis,r);if(f){d.push(f);var k=f.get("gridIndex"),u=f.get("polarIndex");if(null!=k){var p=c.getComponent("grid",k);b(p,f,e,k)}else null!=u&&(p=c.getComponent("polar",u),b(p,f,n,u))}},this);return{cartesians:e,polars:n,axisModels:d}}})},function(c,p,b){p=b(318).extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#2f4554",width:.5,opacity:.3},areaStyle:{color:"rgba(47,69,84,0.3)",opacity:.3}},borderColor:"#ddd",fillerColor:"rgba(167,183,204,0.4)",handleIcon:"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z",handleSize:"100%",handleStyle:{color:"#a7b7cc"},labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#333"}}});c.exports=p},function(c,p,b){var h=b(4),l=b(43),e=b(308);p=b(320);var n=l.Rect,d=b(7),m=d.linearMap,r=b(21),f=b(323),k=d.asc,u=h.bind,x=h.each,v=["line","bar","candlestick","scatter"],g=p.extend({type:"dataZoom.slider",init:function(b,c){this._displayables={};this.api=c},render:function(b,c,d,f){g.superApply(this,"render",arguments);e.createOrUpdate(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate");this._orient=b.get("orient");!1===this.dataZoomModel.get("show")?this.group.removeAll():(f&&"dataZoom"===f.type&&f.from===this.uid||this._buildView(),this._updateView())},remove:function(){g.superApply(this,"remove",arguments);e.clear(this,"_dispatchZoomAction")},dispose:function(){g.superApply(this,"dispose",arguments);e.clear(this,"_dispatchZoomAction")},_buildView:function(){var b=this.group;b.removeAll();this._resetLocation();this._resetInterval();var c=this._displayables.barGroup=new l.Group;this._renderBackground();this._renderHandle();this._renderDataShadow();b.add(c);this._positionGroup()},_resetLocation:function(){var b=this.dataZoomModel,c=this.api,d=this._findCoordRect(),c={width:c.getWidth(),height:c.getHeight()},g="horizontal"===this._orient?{right:c.width-d.x-d.width,top:c.height-30-7,width:d.width,height:30}:{right:7,top:d.y,width:30,height:d.height},e=r.getLayoutParams(b.option);h.each(["right","top","width","height"],function(b){"ph"===e[b]&&(e[b]=g[b])});b=r.getLayoutRect(e,c,b.padding);this._location={x:b.x,y:b.y};this._size=[b.width,b.height];"vertical"===this._orient&&this._size.reverse()},_positionGroup:function(){var b=this.group,c=this._location,d=this._orient,g=this.dataZoomModel.getFirstTargetAxisModel(),g=g&&g.get("inverse"),e=this._displayables.barGroup,f=(this._dataShadowInfo||{}).otherAxisInverse;e.attr("horizontal"!==d||g?"horizontal"===d&&g?{scale:f?[-1,1]:[-1,-1]}:"vertical"!==d||g?{scale:f?[-1,-1]:[-1,1],rotation:Math.PI/2}:{scale:f?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:f?[1,1]:[1,-1]});d=b.getBoundingRect([e]);b.attr("position",[c.x-d.x,c.y-d.y])},_getViewExtent:function(){return[0,this._size[0]]},_renderBackground:function(){var b=this._size;this._displayables.barGroup.add(new n({silent:!0,shape:{x:0,y:0,width:b[0],height:b[1]},style:{fill:this.dataZoomModel.get("backgroundColor")},z2:-40}))},_renderDataShadow:function(){var b=this._dataShadowInfo=this._prepareDataShadowInfo();if(b){var c=this._size,d=b.series,g=d.getRawData(),b=d.getShadowDim?d.getShadowDim():b.otherDim,e=g.getDataExtent(b),d=.3*(e[1]-e[0]),e=[e[0]-d,e[1]+d],f=[0,c[1]],k=[[c[0],0],[0,0]],n=[],r=c[0]/(g.count()-1),u=0,p=Math.round(g.count()/c[0]);g.each([b],function(b,c){if(!(0<p&&c%p)){var d=null==b||isNaN(b)||""===b?null:m(b,e,f,!0);null!=d&&(k.push([u,d]),n.push([u,d]))}u+=r});c=this.dataZoomModel;this._displayables.barGroup.add(new l.Polygon({shape:{points:k},style:h.defaults({fill:c.get("dataBackgroundColor")},c.getModel("dataBackground.areaStyle").getAreaStyle()),silent:!0,z2:-20}));this._displayables.barGroup.add(new l.Polyline({shape:{points:n},style:c.getModel("dataBackground.lineStyle").getLineStyle(),silent:!0,z2:-19}))}},_prepareDataShadowInfo:function(){var b=this.dataZoomModel,c=b.get("showDataShadow");if(!1!==c){var d,g=this.ecModel;b.eachTargetAxis(function(e,f){var k=b.getAxisProxy(e.name,f).getTargetSeriesModels();h.each(k,function(b){if(!(d||!0!==c&&0>h.indexOf(v,b.get("type")))){var k="x"===e.name?"y":"x",m=g.getComponent(e.axis,f).axis;d={thisAxis:m,series:b,thisDim:e.name,otherDim:k,otherAxisInverse:b.coordinateSystem.getOtherAxis(m).inverse}}},this)},this);return d}},_renderHandle:function(){var b=this._displayables,c=b.handles=[],g=b.handleLabels=[],e=this._displayables.barGroup,f=this._size,k=this.dataZoomModel;e.add(b.filler=new n({draggable:!0,cursor:"move",drift:u(this._onDragMove,this,"all"),ondragstart:u(this._showDataInfo,this,!0),ondragend:u(this._onDragEnd,this),onmouseover:u(this._showDataInfo,this,!0),onmouseout:u(this._showDataInfo,this,!1),style:{fill:k.get("fillerColor"),textPosition:"inside"}}));e.add(new n(l.subPixelOptimizeRect({silent:!0,shape:{x:0,y:0,width:f[0],height:f[1]},style:{stroke:k.get("dataBackgroundColor")||k.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}})));var h=k.get("handleIcon");x([0,1],function(b){var f=l.makePath(h,{style:{strokeNoScale:!0},rectHover:!0,cursor:"vertical"===this._orient?"ns-resize":"ew-resize",draggable:!0,drift:u(this._onDragMove,this,b),ondragend:u(this._onDragEnd,this),onmouseover:u(this._showDataInfo,this,!0),onmouseout:u(this._showDataInfo,this,!1)},{x:-.5,y:0,width:1,height:1},"center"),m=f.getBoundingRect();this._handleHeight=d.parsePercent(k.get("handleSize"),this._size[1]);this._handleWidth=m.width/m.height*this._handleHeight;f.setStyle(k.getModel("handleStyle").getItemStyle());m=k.get("handleColor");null!=m&&(f.style.fill=m);e.add(c[b]=f);f=k.textStyleModel;this.group.add(g[b]=new l.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textAlign:"center",fill:f.getTextColor(),textFont:f.getFont()},z2:10}))},this)},_resetInterval:function(){var b=this._range=this.dataZoomModel.getPercentRange(),c=this._getViewExtent();this._handleEnds=[m(b[0],[0,100],c,!0),m(b[1],[0,100],c,!0)]},_updateInterval:function(b,c){var d=this._handleEnds,g=this._getViewExtent();f(c,d,g,"all"===b||this.dataZoomModel.get("zoomLock")?"rigid":"cross",b);this._range=k([m(d[0],g,[0,100],!0),m(d[1],g,[0,100],!0)])},_updateView:function(){var b=this._displayables,c=this._handleEnds,d=k(c.slice()),g=this._size;x([0,1],function(d){var e=this._handleHeight;b.handles[d].attr({scale:[e,e],position:[c[d],g[1]/2-e/2]})},this);b.filler.setShape({x:d[0],y:0,width:d[1]-d[0],height:g[1]});this._updateDataInfo()},_updateDataInfo:function(){function b(c){var k=l.getTransform(d.handles[c].parent,this.group),h=l.transformDirection(0===c?"right":"left",k),m=this._handleWidth/2+5,k=l.applyTransform([n[c]+(0===c?-m:m),this._size[1]/2],k);g[c].setStyle({x:k[0],y:k[1],textVerticalAlign:"horizontal"===e?"middle":h,textAlign:"horizontal"===e?h:"center",text:f[c]})}var c=this.dataZoomModel,d=this._displayables,g=d.handleLabels,e=this._orient,f=["",""];if(c.get("showDetail")){var h,m;c.eachTargetAxis(function(b,d){h||(h=c.getAxisProxy(b.name,d).getDataValueWindow(),m=this.ecModel.getComponent(b.axis,d).axis)},this);h&&(f=[this._formatLabel(h[0],m),this._formatLabel(h[1],m)])}var n=k(this._handleEnds.slice());b.call(this,0);b.call(this,1)},_formatLabel:function(b,c){var d=this.dataZoomModel,g=d.get("labelFormatter");if(h.isFunction(g))return g(b);d=d.get("labelPrecision");if(null==d||"auto"===d)d=c.getPixelPrecision();b=null==b&&isNaN(b)?"":"category"===c.type||"time"===c.type?c.scale.getLabel(Math.round(b)):b.toFixed(Math.min(d,20));h.isString(g)&&(b=g.replace("{value}",b));return b},_showDataInfo:function(b){b=this._dragging||b;var c=this._displayables.handleLabels;c[0].attr("invisible",!b);c[1].attr("invisible",!b)},_onDragMove:function(b,c,d){this._dragging=!0;c=this._applyBarTransform([c,d],!0);this._updateInterval(b,c[0]);this._updateView();this.dataZoomModel.get("realtime")&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=!1;this._showDataInfo(!1);this._dispatchZoomAction()},_dispatchZoomAction:function(){var b=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:b[0],end:b[1]})},_applyBarTransform:function(b,c){var d=this._displayables.barGroup.getLocalTransform();return l.applyTransform(b,d,c)},_findCoordRect:function(){var b=this.getTargetInfo();if(b.cartesians.length)b=b.cartesians[0].model.coordinateSystem.getRect();else var b=this.api.getWidth(),c=this.api.getHeight(),b={x:.2*b,y:.2*c,width:.6*b,height:.6*c};return b}});c.exports=g},function(c,p){c.exports=function(b,c,l,e,n){function d(b,c,d){var e=c.length?c.slice():[c,c];c[0]>c[1]&&e.reverse();0>b&&e[0]+b<d[0]&&(b=d[0]-e[0]);0<b&&e[1]+b>d[1]&&(b=d[1]-e[1]);return b}if(!b)return c;"rigid"===e?(b=d(b,c,l),c[0]+=b,c[1]+=b):(b=d(b,c[n],l),c[n]+=b,"push"===e&&c[0]>c[1]&&(c[1-n]=c[n]));return c}},function(c,p,b){c.exports=b(318).extend({type:"dataZoom.inside",defaultOption:{zoomLock:!1}})},function(c,p,b){function h(b,c,d){c=c.axis;d=d.rectProvider();var e={};"x"===c.dim?(e.pixel=b[0],e.pixelLength=d.width,e.pixelStart=d.x,e.signal=c.inverse?1:-1):(e.pixel=b[1],e.pixelLength=d.height,e.pixelStart=d.y,e.signal=c.inverse?-1:1);return e}p=b(320);var l=b(4),e=b(323),n=b(326),d=l.bind,m=p.extend({type:"dataZoom.inside",init:function(b,c){},render:function(b,c,e,h){m.superApply(this,"render",arguments);n.shouldRecordRange(h,b.id)&&(this._range=b.getPercentRange());var p=this.getTargetInfo().cartesians,v=l.map(p,function(b){return n.generateCoordId(b.model)});l.each(p,function(c){var f=c.model;n.register(e,{coordId:n.generateCoordId(f),allCoordIds:v,coordinateSystem:f.coordinateSystem,dataZoomId:b.id,throttleRate:b.get("throttle",!0),panGetRange:d(this._onPan,this,c),zoomGetRange:d(this._onZoom,this,c)})},this)},dispose:function(){n.unregister(this.api,this.dataZoomModel.id);m.superApply(this,"dispose",arguments);this._range=null},_onPan:function(b,c,d,m){m=[d,m];d=this._range;d=d.slice();(b=b.axisModels[0])?(c=h(m,b,c),e(c.signal*(d[1]-d[0])*c.pixel/c.pixelLength,d,[0,100],"rigid"),c=d):c=void 0;return this._range=c},_onZoom:function(b,c,d,e,m){if(this.dataZoomModel.option.zoomLock)return this._range;d=1/d;m=[e,m];e=this._range;e=e.slice();(b=b.axisModels[0])?(c=h(m,b,c),c=(c.pixel-c.pixelStart)/c.pixelLength*(e[1]-e[0])+e[0],d=Math.max(d,0),e[0]=(e[0]-c)*d+c,e[1]=(e[1]-c)*d+c,d=e,c=[0,100],d[0]<=c[1]||(d[0]=c[1]),d[1]<=c[1]||(d[1]=c[1]),d[0]>=c[0]||(d[0]=c[0]),d[1]>=c[0]||(d[1]=c[0])):d=void 0;return this._range=d}});c.exports=m},function(c,p,b){function h(b){b=b.getZr();return b["\x00_ec_dataZoom_roams"]||(b["\x00_ec_dataZoom_roams"]={})}function l(b,c,e){b=new k(b.getZr());b.enable();b.on("pan",x(n,e));b.on("zoom",x(d,e));return b}function e(b){f.each(b,function(c,d){c.count||(c.controller.off("pan").off("zoom"),delete b[d])})}function n(b,c,d){m(b,function(e){return e.panGetRange(b.controller,c,d)})}function d(b,c,d,e){m(b,function(f){return f.zoomGetRange(b.controller,c,d,e)})}function m(b,c){var d=[];f.each(b.dataZoomInfos,function(b){var e=c(b);e&&d.push({dataZoomId:b.dataZoomId,start:e[0],end:e[1]})});b.dispatchAction(d)}function r(b,c){b.dispatchAction({type:"dataZoom",batch:c})}var f=b(4),k=b(174),u=b(308),x=f.curry;c.exports={register:function(b,c){var d=h(b),k=c.dataZoomId,m=c.coordId;f.each(d,function(b,d){var e=b.dataZoomInfos;e[k]&&0>f.indexOf(c.allCoordIds,m)&&(delete e[k],b.count--)});e(d);var n=d[m];n||(n=d[m]={coordId:m,dataZoomInfos:{},count:0},n.controller=l(b,c,n),n.dispatchAction=f.curry(r,b));var p=c.coordinateSystem.getRect().clone();n.controller.rectProvider=function(){return p};u.createOrUpdate(n,"dispatchAction",c.throttleRate,"fixRate");!n.dataZoomInfos[k]&&n.count++;n.dataZoomInfos[k]=c},unregister:function(b,c){var d=h(b);f.each(d,function(b){var d=b.dataZoomInfos;d[c]&&(delete d[c],b.count--)});e(d)},shouldRecordRange:function(b,c){if(b&&"dataZoom"===b.type&&b.batch)for(var d=0,e=b.batch.length;d<e;d++)if(b.batch[d].dataZoomId===c)return!1;return!0},generateCoordId:function(b){return b.type+"\x00_"+b.id}}},function(c,p,b){function h(b,c,d){d.getAxisProxy(b.name,c).reset(d)}function l(b,c,d){d.getAxisProxy(b.name,c).filterData(d)}b(1).registerProcessor(function(b,c){b.eachComponent("dataZoom",function(b){b.eachTargetAxis(h);b.eachTargetAxis(l)});b.eachComponent("dataZoom",function(b){var c=b.findRepresentativeAxisProxy(),e=c.getDataPercentWindow(),c=c.getDataValueWindow();b.setRawRange({start:e[0],end:e[1],startValue:c[0],endValue:c[1]})})})},function(c,p,b){var h=b(4),l=b(5);b(1).registerAction("dataZoom",function(b,c){var d=l.createLinkedNodesFinder(h.bind(c.eachComponent,c,"dataZoom"),l.eachAxisDim,function(b,c){return b.get(c.axisIndex)}),m=[];c.eachComponent({mainType:"dataZoom",query:b},function(b,c){m.push.apply(m,d(b).nodes)});h.each(m,function(c,d){c.setRawRange({start:b.start,end:b.end,startValue:b.startValue,endValue:b.endValue})})})},function(c,p,b){b(330);b(341)},function(c,p,b){b(1).registerPreprocessor(b(331));b(332);b(333);b(334);b(337);b(340)},function(c,p,b){function h(b,c){return b&&b.hasOwnProperty&&b.hasOwnProperty(c)}var l=b(4),e=l.each;c.exports=function(b){b=b&&b.visualMap;l.isArray(b)||(b=b?[b]:[]);e(b,function(b){b&&(h(b,"splitList")&&!h(b,"pieces")&&(b.pieces=b.splitList,delete b.splitList),(b=b.pieces)&&l.isArray(b)&&e(b,function(b){l.isObject(b)&&(h(b,"start")&&!h(b,"min")&&(b.min=b.start),h(b,"end")&&!h(b,"max")&&(b.max=b.end))}))})}},function(c,p,b){b(19).registerSubTypeDefaulter("visualMap",function(b){return b.categories||(b.pieces?0<b.pieces.length:0<b.splitNumber)&&!b.calculable?"piecewise":"continuous"})},function(c,p,b){function h(b,c){b.eachTargetSeries(function(c){c=c.getData();n.applyVisual(b.stateList,b.targetVisuals,c,b.getValueState,b,b.getDataDimension(c))})}function l(b){b.eachSeries(function(c){var d=c.getData(),k=[];b.eachComponent("visualMap",function(b){if(b.isTargetSeries(c)){var h={};k.push(h);h.stops=b.getStops(c,e);h.dimension=b.getDataDimension(d)}});c.getData().setVisual("visualMeta",k)})}function e(b,c,e){function k(b){return l[b]}function h(b,c){l[b]=c}b=b.targetVisuals[e];e=d.prepareVisualTypes(b);for(var l={},n=0,g=e.length;n<g;n++){var t=e[n];(t=b["colorAlpha"===t?"__alphaForOpacity":t])&&t.applyVisual(c,k,h)}return l.color}c=b(1);var n=b(306),d=b(192);c.registerVisual(c.PRIORITY.VISUAL.COMPONENT,function(b){b.eachComponent("visualMap",function(c){h(c,b)});l(b)})},function(c,p,b){function h(b,c,d){b=b.targetVisuals[c].color;if(!b)return d.slice();b=b.option.visual.length;if(1>=b||d[0]===d[1])return d.slice();c=(d[1]-d[0])/(b-1);for(var e=d[0],h=[],g=0;g<b&&e<d[1];g++)h.push(e),e+=c;h.push(d[1]);return h}function l(b,c,d,e){b=h(b,c,d);n.each(b,function(b){for(var d={value:b,valueState:c},f=0,h=0;h<e.length;h++){f|="inRange"===e[h].valueState;if(b<e[h].value){e.splice(h,0,d);return}f&&(e[h].valueState="inRange")}e.push(d)})}var e=b(335),n=b(4),d=b(7),m=[20,140],r=e.extend({type:"visualMap.continuous",defaultOption:{align:"auto",calculable:!1,range:null,realtime:!0,itemHeight:null,itemWidth:null,hoverLink:!0,hoverLinkDataSize:null,hoverLinkOnHandle:!0},optionUpdated:function(b,c){r.superApply(this,"optionUpdated",arguments);this.resetTargetSeries();this.resetExtent();this.resetVisual(function(b){b.mappingMethod="linear";b.dataExtent=this.getExtent()});this._resetRange()},resetItemSize:function(){r.superApply(this,"resetItemSize",arguments);var b=this.itemSize;"horizontal"===this._orient&&b.reverse();(null==b[0]||isNaN(b[0]))&&(b[0]=m[0]);(null==b[1]||isNaN(b[1]))&&(b[1]=m[1])},_resetRange:function(){var b=this.getExtent(),c=this.option.range;!c||c.auto?(b.auto=1,this.option.range=b):n.isArray(c)&&(c[0]>c[1]&&c.reverse(),c[0]=Math.max(c[0],b[0]),c[1]=Math.min(c[1],b[1]))},completeVisualOption:function(){e.prototype.completeVisualOption.apply(this,arguments);n.each(this.stateList,function(b){(b=this.option.controller[b].symbolSize)&&b[0]!==b[1]&&(b[0]=0)},this)},setSelected:function(b){this.option.range=b.slice();this._resetRange()},getSelected:function(){var b=this.getExtent(),c=d.asc((this.get("range")||[]).slice());c[0]>b[1]&&(c[0]=b[1]);c[1]>b[1]&&(c[1]=b[1]);c[0]<b[0]&&(c[0]=b[0]);c[1]<b[0]&&(c[1]=b[0]);return c},getValueState:function(b){var c=this.option.range,d=this.getExtent();return(c[0]<=d[0]||c[0]<=b)&&(c[1]>=d[1]||b<=c[1])?"inRange":"outOfRange"},findTargetDataIndices:function(b){var c=[];this.eachTargetSeries(function(d){var e=[],h=d.getData();h.each(this.getDataDimension(h),function(c,d){b[0]<=c&&c<=b[1]&&e.push(d)},!0,this);c.push({seriesId:d.id,dataIndex:e})},this);return c},getStops:function(b,c){var d=[];l(this,"outOfRange",this.getExtent(),d);l(this,"inRange",this.option.range.slice(),d);n.each(d,function(b){b.color=c(this,b.value,b.valueState)},this);return d}});c.exports=r},function(c,p,b){p=b(1);var h=b(4),l=b(2),e=b(336),n=b(192),d=b(306),m=n.mapVisual,r=b(5),f=n.eachVisual;b=b(7);var k=h.isArray,u=h.each,x=b.asc,v=b.linearMap;b=h.noop;var g=["#f6efa6","#d88273","#bf444c"];p=p.extendComponentModel({type:"visualMap",dependencies:["series"],stateList:["inRange","outOfRange"],replacableOptionKeys:["inRange","outOfRange","target","controller","color"],dataBound:[-Infinity,Infinity],layoutMode:{type:"box",ignoreSize:!0},defaultOption:{show:!0,zlevel:0,z:4,seriesIndex:null,min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,color:null,formatter:null,text:null,textStyle:{color:"#333"}},init:function(b,c,d){this.targetVisuals={};this.controllerVisuals={};this.textStyleModel;this.mergeDefaultAndTheme(b,d)},optionUpdated:function(b,c){var g=this.option;l.canvasSupported||(g.realtime=!1);!c&&d.replaceVisualOption(g,b,this.replacableOptionKeys);this.textStyleModel=this.getModel("textStyle");this.resetItemSize();this.completeVisualOption()},resetVisual:function(b){var c=this.stateList;b=h.bind(b,this);this.controllerVisuals=d.createVisualMappings(this.option.controller,c,b);this.targetVisuals=d.createVisualMappings(this.option.target,c,b)},resetTargetSeries:function(){var b=this.option,c=null==b.seriesIndex;b.seriesIndex=c?[]:r.normalizeToArray(b.seriesIndex);c&&this.ecModel.eachSeries(function(c,d){b.seriesIndex.push(d)})},eachTargetSeries:function(b,c){h.each(this.option.seriesIndex,function(d){b.call(c,this.ecModel.getSeriesByIndex(d))},this)},isTargetSeries:function(b){var c=!1;this.eachTargetSeries(function(d){d===b&&(c=!0)});return c},formatValueText:function(b,c,d){function g(b){return b===k[0]?"min":b===k[1]?"max":(+b).toFixed(f)}var e=this.option,f=e.precision,k=this.dataBound,e=e.formatter,m;d=d||["\x3c","\x3e"];h.isArray(b)&&(b=b.slice(),m=!0);c=c?b:m?[g(b[0]),g(b[1])]:g(b);return h.isString(e)?e.replace("{value}",m?c[0]:c).replace("{value2}",m?c[1]:c):h.isFunction(e)?m?e(b[0],b[1]):e(b):m?b[0]===k[0]?d[0]+" "+c[1]:b[1]===k[1]?d[1]+" "+c[0]:c[0]+" - "+c[1]:c},resetExtent:function(){var b=this.option;this._dataExtent=x([b.min,b.max])},getDataDimension:function(b){var c=this.option.dimension;return null!=c?c:b.dimensions.length-1},getExtent:function(){return this._dataExtent.slice()},completeVisualOption:function(){function b(d){k(c.color)&&!d.inRange&&(d.inRange={color:c.color.slice().reverse()});d.inRange=d.inRange||{color:g};u(this.stateList,function(b){var c=d[b];if(h.isString(c)){var g=e.get(c,"active",p);g?(d[b]={},d[b][c]=g):delete d[b]}},this)}var c=this.option,d={inRange:c.inRange,outOfRange:c.outOfRange},l=c.target||(c.target={}),r=c.controller||(c.controller={});h.merge(l,d);h.merge(r,d);var p=this.isCategory();b.call(this,l);b.call(this,r);(function(b,c,d){c=b[c];var g=b[d];c&&!g&&(g=b[d]={},u(c,function(b,c){if(n.isValidType(c)){var d=e.get(c,"inactive",p);null!=d&&(g[c]=d,"color"!==c||g.hasOwnProperty("opacity")||g.hasOwnProperty("colorAlpha")||(g.opacity=[0,0]))}}))}).call(this,l,"inRange","outOfRange");(function(b){var c=(b.inRange||{}).symbol||(b.outOfRange||{}).symbol,d=(b.inRange||{}).symbolSize||(b.outOfRange||{}).symbolSize,g=this.get("inactiveColor");u(this.stateList,function(e){var k=this.itemSize,l=b[e];l||(l=b[e]={color:p?g:[g]});null==l.symbol&&(l.symbol=c&&h.clone(c)||(p?"roundRect":["roundRect"]));null==l.symbolSize&&(l.symbolSize=d&&h.clone(d)||(p?k[0]:[k[0],k[0]]));l.symbol=m(l.symbol,function(b){return"none"===b||"square"===b?"roundRect":b});e=l.symbolSize;if(null!=e){var t=-Infinity;f(e,function(b){b>t&&(t=b)});l.symbolSize=m(e,function(b){return v(b,[0,t],[0,k[0]],!0)})}},this)}).call(this,r)},resetItemSize:function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},isCategory:function(){return!!this.option.categories},setSelected:b,getValueState:b});c.exports=p},function(c,p,b){var h=b(4),l={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}};c.exports={get:function(b,c,d){b=h.clone((l[b]||{})[c]);return d?h.isArray(b)?b[b.length-1]:b:b}}},function(c,p,b){function h(b,c,d,g){return new n.Polygon({shape:{points:b},draggable:!!d,cursor:c,drift:d,ondragend:g})}function l(b,c,d,e){return b?[[0,-g(c,t(d,0))],[6,0],[0,g(c,t(e-d,0))]]:[[0,0],[5,-5],[5,5]]}function e(b){return!b.get("realtime")&&b.get("hoverLinkOnHandle")}p=b(338);var n=b(43),d=b(4),m=b(7),r=b(323),f=b(79),k=b(339),u=b(5),x=m.linearMap,v=d.each,g=Math.min,t=Math.max,w=p.extend({type:"visualMap.continuous",init:function(){w.superApply(this,"init",arguments);this._shapes={};this._dataInterval=[];this._handleEnds=[];this._hoverLinkDataIndices=[]},doRender:function(b,c,d,g){g&&"selectDataRange"===g.type&&g.from===this.uid||this._buildView()},_buildView:function(){this.group.removeAll();var b=this.visualMapModel,c=this.group;this._orient=b.get("orient");this._useHandle=b.get("calculable");this._resetInterval();this._renderBar(c);b=b.get("text");this._renderEndsText(c,b,0);this._renderEndsText(c,b,1);this._updateView(!0);this.renderBackground(c);this._updateView();this._enableHoverLinkToSeries();this._enableHoverLinkFromSeries();this.positionGroup(c)},_renderEndsText:function(b,c,d){if(c){b=c[1-d];b=null!=b?b+"":"";var g=this.visualMapModel;c=g.get("textGap");var e=g.itemSize,g=this._shapes.barGroup;c=this._applyTransform([e[0]/2,0===d?-c:e[1]+c],g);d=this._applyTransform(0===d?"bottom":"top",g);g=this._orient;e=this.visualMapModel.textStyleModel;this.group.add(new n.Text({style:{x:c[0],y:c[1],textVerticalAlign:"horizontal"===g?"middle":d,textAlign:"horizontal"===g?d:"center",text:b,textFont:e.getFont(),fill:e.getTextColor()}}))}},_renderBar:function(b){var c=this.visualMapModel,g=this._shapes,e=c.itemSize,f=this._orient,m=this._useHandle,l=k.getItemAlign(c,this.api,e),w=g.barGroup=this._createBarGroup(l);w.add(g.outOfRange=h());w.add(g.inRange=h(null,m?"move":null,d.bind(this._dragHandle,this,"all",!1),d.bind(this._dragHandle,this,"all",!0)));c=c.textStyleModel.getTextRect("\u56fd");c=t(c.width,c.height);m&&(g.handleThumbs=[],g.handleLabels=[],g.handleLabelPoints=[],this._createHandle(w,0,e,c,f,l),this._createHandle(w,1,e,c,f,l));this._createIndicator(w,e,c,f);b.add(w)},_createHandle:function(b,c,g,e,f){var k=d.bind(this._dragHandle,this,c,!1),m=d.bind(this._dragHandle,this,c,!0),l=h(0===c?[[0,0],[e,0],[e,-e]]:[[0,0],[e,0],[e,e]],"move",k,m);l.position[0]=g[0];b.add(l);b=this.visualMapModel.textStyleModel;k=new n.Text({draggable:!0,drift:k,ondragend:m,style:{x:0,y:0,text:"",textFont:b.getFont(),fill:b.getTextColor()}});this.group.add(k);e=["horizontal"===f?e/2:1.5*e,"horizontal"===f?0===c?-(1.5*e):1.5*e:0===c?-e/2:e/2];f=this._shapes;f.handleThumbs[c]=l;f.handleLabelPoints[c]=e;f.handleLabels[c]=k},_createIndicator:function(b,c,d,g){var e=h([[0,0]],"move");e.position[0]=c[0];e.attr({invisible:!0,silent:!0});b.add(e);b=this.visualMapModel.textStyleModel;b=new n.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textFont:b.getFont(),fill:b.getTextColor()}});this.group.add(b);d=["horizontal"===g?d/2:9,0];g=this._shapes;g.indicator=e;g.indicatorLabel=b;g.indicatorLabelPoint=d},_dragHandle:function(b,c,d,g){this._useHandle&&(this._dragging=!c,c||(d=this._applyTransform([d,g],this._shapes.barGroup,!0),this._updateInterval(b,d[1]),this._updateView()),c===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),c?!this._hovering&&this._clearHoverLinkToSeries():e(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[b],!1))},_resetInterval:function(){var b=this.visualMapModel,c=this._dataInterval=b.getSelected(),d=b.getExtent(),b=[0,b.itemSize[1]];this._handleEnds=[x(c[0],d,b,!0),x(c[1],d,b,!0)]},_updateInterval:function(b,c){var d=this.visualMapModel,g=this._handleEnds;r(c||0,g,[0,d.itemSize[1]],"all"===b?"rigid":"push",b);var e=d.getExtent(),d=[0,d.itemSize[1]];this._dataInterval=[x(g[0],d,e,!0),x(g[1],d,e,!0)]},_updateView:function(b){var c=this.visualMapModel,d=c.getExtent(),g=this._shapes,c=[0,c.itemSize[1]];b=b?c:this._handleEnds;var e=this._createBarVisual(this._dataInterval,d,b,"inRange"),d=this._createBarVisual(d,d,c,"outOfRange");g.inRange.setStyle({fill:e.barColor,opacity:e.opacity}).setShape("points",e.barPoints);g.outOfRange.setStyle({fill:d.barColor,opacity:d.opacity}).setShape("points",d.barPoints);this._updateHandle(b,e)},_createBarVisual:function(b,c,d,g){g={forceState:g,convertOpacityToAlpha:!0};c=this._makeColorGradient(b,g);b=[this.getControllerVisual(b[0],"symbolSize",g),this.getControllerVisual(b[1],"symbolSize",g)];d=this._createBarPoints(d,b);return{barColor:new f(0,0,1,1,c),barPoints:d,handlesColor:[c[0].color,c[c.length-1].color]}},_makeColorGradient:function(b,c){var d=[],g=(b[1]-b[0])/100;d.push({color:this.getControllerVisual(b[0],"color",c),offset:0});for(var e=1;100>e;e++){var f=b[0]+g*e;if(f>b[1])break;d.push({color:this.getControllerVisual(f,"color",c),offset:e/100})}d.push({color:this.getControllerVisual(b[1],"color",c),offset:1});return d},_createBarPoints:function(b,c){var d=this.visualMapModel.itemSize;return[[d[0]-c[0],b[0]],[d[0],b[0]],[d[0],b[1]],[d[0]-c[1],b[1]]]},_createBarGroup:function(b){var c=this._orient,d=this.visualMapModel.get("inverse");return new n.Group("horizontal"!==c||d?"horizontal"===c&&d?{scale:"bottom"===b?[-1,1]:[1,1],rotation:-Math.PI/2}:"vertical"!==c||d?{scale:"left"===b?[1,1]:[-1,1]}:{scale:"left"===b?[1,-1]:[-1,-1]}:{scale:"bottom"===b?[1,1]:[-1,1],rotation:Math.PI/2})},_updateHandle:function(b,c){if(this._useHandle){var d=this._shapes,g=this.visualMapModel,e=d.handleThumbs,f=d.handleLabels;v([0,1],function(k){var h=e[k];h.setStyle("fill",c.handlesColor[k]);h.position[1]=b[k];h=n.applyTransform(d.handleLabelPoints[k],n.getTransform(h,this.group));f[k].setStyle({x:h[0],y:h[1],text:g.formatValueText(this._dataInterval[k]),textVerticalAlign:"middle",textAlign:this._applyTransform("horizontal"===this._orient?0===k?"bottom":"top":"left",d.barGroup)})},this)}},_showIndicator:function(b,c,d,g){var e=this.visualMapModel,f=e.getExtent(),k=e.itemSize,h=x(b,f,[0,k[1]],!0),f=this._shapes,m=f.indicator;m&&(m.position[1]=h,m.attr("invisible",!1),m.setShape("points",l(!!d,g,h,k[1])),b=this.getControllerVisual(b,"color",{convertOpacityToAlpha:!0}),m.setStyle("fill",b),b=n.applyTransform(f.indicatorLabelPoint,n.getTransform(m,this.group)),g=f.indicatorLabel,g.attr("invisible",!1),f=this._applyTransform("left",f.barGroup),k=this._orient,g.setStyle({text:(d?d:"")+e.formatValueText(c),textVerticalAlign:"horizontal"===k?f:"middle",textAlign:"horizontal"===k?"center":f,x:b[0],y:b[1]}))},_enableHoverLinkToSeries:function(){var b=this;this._shapes.barGroup.on("mousemove",function(c){b._hovering=!0;if(!b._dragging){var d=b.visualMapModel.itemSize;c=b._applyTransform([c.offsetX,c.offsetY],b._shapes.barGroup,!0,!0);c[1]=g(t(0,c[1]),d[1]);b._doHoverLinkToSeries(c[1],0<=c[0]&&c[0]<=d[0])}}).on("mouseout",function(){b._hovering=!1;!b._dragging&&b._clearHoverLinkToSeries()})},_enableHoverLinkFromSeries:function(){var b=this.api.getZr();this.visualMapModel.option.hoverLink?(b.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),b.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},_doHoverLinkToSeries:function(b,c){var d=this.visualMapModel,f=d.itemSize;if(d.option.hoverLink){var f=[0,f[1]],k=d.getExtent();b=g(t(f[0],b),f[1]);var h;h=6;var m=d.get("hoverLinkDataSize");m&&(h=x(m,k,f,!0)/2);var m=[b-h,b+h],l=x(b,f,k,!0),k=[x(m[0],f,k,!0),x(m[1],f,k,!0)];m[0]<f[0]&&(k[0]=-Infinity);m[1]>f[1]&&(k[1]=Infinity);c&&(-Infinity===k[0]?this._showIndicator(l,k[1],"\x3c ",h):Infinity===k[1]?this._showIndicator(l,k[0],"\x3e ",h):this._showIndicator(l,l,"\u2248 ",h));f=this._hoverLinkDataIndices;h=[];if(c||e(d))h=this._hoverLinkDataIndices=d.findTargetDataIndices(k);d=u.compressBatches(f,h);this._dispatchHighDown("downplay",d[0]);this._dispatchHighDown("highlight",d[1])}},_hoverLinkFromSeriesMouseOver:function(b){if((b=b.target)&&null!=b.dataIndex){var c=(b.dataModel||this.ecModel.getSeriesByIndex(b.seriesIndex)).getData(b.dataType),d=c.getDimension(this.visualMapModel.getDataDimension(c));b=c.get(d,b.dataIndex,!0);isNaN(b)||this._showIndicator(b,b)}},_hideIndicator:function(){var b=this._shapes;b.indicator&&b.indicator.attr("invisible",!0);b.indicatorLabel&&b.indicatorLabel.attr("invisible",!0)},_clearHoverLinkToSeries:function(){this._hideIndicator();var b=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",b);b.length=0},_clearHoverLinkFromSeries:function(){this._hideIndicator();var b=this.api.getZr();b.off("mouseover",this._hoverLinkFromSeriesMouseOver);b.off("mouseout",this._hideIndicator)},_applyTransform:function(b,c,g,e){c=n.getTransform(c,e?null:this.group);return n[d.isArray(b)?"applyTransform":"transformDirection"](b,c,g)},_dispatchHighDown:function(b,c){c&&c.length&&this.api.dispatchAction({type:b,batch:c})},dispose:function(){this._clearHoverLinkFromSeries();this._clearHoverLinkToSeries()},remove:function(){this._clearHoverLinkFromSeries();this._clearHoverLinkToSeries()}});c.exports=w},function(c,p,b){var h=b(4),l=b(43),e=b(6),n=b(21);p=b(1);var d=b(192);c.exports=p.extendComponentView({type:"visualMap",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(b,c){this.ecModel=b;this.api=c},render:function(b,c,d,e){this.visualMapModel=b;!1===b.get("show")?this.group.removeAll():this.doRender.apply(this,arguments)},renderBackground:function(b){var c=this.visualMapModel,d=e.normalizeCssArray(c.get("padding")||0),k=b.getBoundingRect();b.add(new l.Rect({z2:-1,silent:!0,shape:{x:k.x-d[3],y:k.y-d[0],width:k.width+d[3]+d[1],height:k.height+d[0]+d[2]},style:{fill:c.get("backgroundColor"),stroke:c.get("borderColor"),lineWidth:c.get("borderWidth")}}))},getControllerVisual:function(b,c,e){function k(b){return g[b]}function l(b,c){g[b]=c}e=e||{};var n=e.forceState,p=this.visualMapModel,g={};"symbol"===c&&(g.symbol=p.get("itemSymbol"));if("color"===c){var t=p.get("contentColor");g.color=t}var w=p.controllerVisuals[n||p.getValueState(b)],n=d.prepareVisualTypes(w);h.each(n,function(g){var h=w[g];e.convertOpacityToAlpha&&"opacity"===g&&(g="colorAlpha",h=w.__alphaForOpacity);d.dependsOn(g,c)&&h&&h.applyVisual(b,k,l)});return g[c]},positionGroup:function(b){var c=this.api;n.positionGroup(b,this.visualMapModel.getBoxLayoutParams(),{width:c.getWidth(),height:c.getHeight()})},doRender:h.noop})},function(c,p,b){var h=b(21);c.exports={getItemAlign:function(b,c,n){b=b.option;var d=b.align;if(null!=d&&"auto"!==d)return d;c={width:c.getWidth(),height:c.getHeight()};for(var m="horizontal"===b.orient?1:0,r=[["left","right","width"],["top","bottom","height"]],d=r[m],f=[0,null,10],k={},u=0;3>u;u++)k[r[1-m][u]]=f[u],k[d[u]]=2===u?n[0]:b[d[u]];n=[["x","width",3],["y","height",0]][m];b=h.getLayoutRect(k,c,b.padding);return d[(b.margin[n[2]]||0)+b[n[0]]+.5*b[n[1]]<.5*c[n[1]]?0:1]}}},function(c,p,b){b(1).registerAction({type:"selectDataRange",event:"dataRangeSelected",update:"update"},function(b,c){c.eachComponent({mainType:"visualMap",query:b},function(c){c.setSelected(b.selected)})})},function(c,p,b){b(1).registerPreprocessor(b(331));b(332);b(333);b(342);b(343);b(340)},function(c,p,b){function h(b,c){var d=b.inverse;("vertical"===b.orient?!d:d)&&c.reverse()}function l(b){function c(b,d,g){g=g||0;return b.interval[g]<d.interval[g]||b.interval[g]===d.interval[g]&&(+b.close[g]>d.close[g]||c(b,d,1))}b.sort(function(b,d){return c(b,d)?-1:1});for(var d=-Infinity,e=0;e<b.length;e++)for(var h=b[e].interval,m=b[e].close,g=0;2>g;g++)h[g]<d&&(h[g]=d,m[g]=1-g),d=h[g]}p=b(335);var e=b(4),n=b(192),d=p.extend({type:"visualMap.piecewise",defaultOption:{selected:null,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieceList:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0},optionUpdated:function(b,c){d.superApply(this,"optionUpdated",arguments);this._pieceList=[];this.resetTargetSeries();this.resetExtent();var k=this._mode=this._determineMode();m[this._mode].call(this);this._resetSelected(b,c);var h=this.option.categories;this.resetVisual(function(b,c){"categories"===k?(b.mappingMethod="category",b.categories=e.clone(h)):(b.dataExtent=this.getExtent(),b.mappingMethod="piecewise",b.pieceList=e.map(this._pieceList,function(b){b=e.clone(b);"inRange"!==c&&(b.visual=null);return b}))})},_resetSelected:function(b,c){var d=this.option,h=this._pieceList,m=(c?d:b).selected||{};d.selected=m;e.each(h,function(b,c){var d=this.getSelectedMapKey(b);d in m||(m[d]=!0)},this);if("single"===d.selectedMode){var l=!1;e.each(h,function(b,c){var d=this.getSelectedMapKey(b);m[d]&&(l?m[d]=!1:l=!0)},this)}},getSelectedMapKey:function(b){return"categories"===this._mode?b.value+"":b.index+""},getPieceList:function(){return this._pieceList},_determineMode:function(){var b=this.option;return b.pieces&&0<b.pieces.length?"pieces":this.option.categories?"categories":"splitNumber"},setSelected:function(b){this.option.selected=e.clone(b)},getValueState:function(b){b=n.findPieceIndex(b,this._pieceList);return null!=b?this.option.selected[this.getSelectedMapKey(this._pieceList[b])]?"inRange":"outOfRange":"outOfRange"},findTargetDataIndices:function(b){var c=[];this.eachTargetSeries(function(d){var e=[],h=d.getData();h.each(this.getDataDimension(h),function(c,d){n.findPieceIndex(c,this._pieceList)===b&&e.push(d)},!0,this);c.push({seriesId:d.id,dataIndex:e})},this);return c},getRepresentValue:function(b){this.isCategory()?b=b.value:null!=b.value?b=b.value:(b=b.interval||[],b=(b[0]+b[1])/2);return b},getStops:function(b,c){function d(b){h.push(b);b.color=c(m,m.getRepresentValue(b),b.valueState)}var h=[],m=this,l=-Infinity;e.each(this._pieceList,function(b){if(b=b.interval)b[0]>l&&d({interval:[l,b[0]],valueState:"outOfRange"}),d({interval:b.slice(),valueState:this.getValueState((b[0]+b[1])/2)}),l=b[1]},this);return h}}),m={splitNumber:function(){var b=this.option,c=this._pieceList,d=b.precision,h=this.getExtent(),m=b.splitNumber,m=Math.max(parseInt(m,10),1);b.splitNumber=m;for(var n=(h[1]-h[0])/m;+n.toFixed(d)!==n&&5>d;)d++;b.precision=d;n=+n.toFixed(d);b=0;for(d=h[0];b<m;b++,d+=n)c.push({index:b,interval:[d,b===m-1?h[1]:d+n],close:[1,1]});l(c);e.each(c,function(b){b.text=this.formatValueText(b.interval)},this)},categories:function(){var b=this.option;e.each(b.categories,function(b){this._pieceList.push({text:this.formatValueText(b,!0),value:b})},this);h(b,this._pieceList)},pieces:function(){var b=this.option,c=this._pieceList;e.each(b.pieces,function(b,d){e.isObject(b)||(b={value:b});var h={text:"",index:d};null!=b.label&&(h.text=b.label);if(b.hasOwnProperty("value")){var m=h.value=b.value;h.interval=[m,m];h.close=[1,1]}else{for(var m=h.interval=[],g=h.close=[0,0],l=[1,0,1],w=[-Infinity,Infinity],r=[],p=0;2>p;p++){for(var D=[["gte","gt","min"],["lte","lt","max"]][p],A=0;3>A&&null==m[p];A++)m[p]=b[D[A]],g[p]=l[A],r[p]=2===A;null==m[p]&&(m[p]=w[p])}r[0]&&Infinity===m[1]&&(g[0]=0);r[1]&&-Infinity===m[0]&&(g[1]=0);m[0]>m[1]&&console.warn("Piece "+d+"is illegal: "+m+" lower bound should not greater then uppper bound.");m[0]===m[1]&&g[0]&&g[1]&&(h.value=m[0])}h.visual=n.retrieveVisuals(b);c.push(h)},this);h(b,c);l(c);e.each(c,function(b){var c=b.close,c=[["\x3c","\u2264"][c[1]],["\x3e","\u2265"][c[0]]];b.text=b.text||this.formatValueText(null!=b.value?b.value:b.interval,!1,c)},this)}};c.exports=d},function(c,p,b){p=b(338);var h=b(4),l=b(43),e=b(106),n=b(21),d=b(339);b=p.extend({type:"visualMap.piecewise",doRender:function(){var b=this.group;b.removeAll();var c=this.visualMapModel,d=c.get("textGap"),e=c.textStyleModel,u=e.getFont(),p=e.getTextColor(),v=this._getItemAlign(),g=c.itemSize,e=this._getViewData(),t=!e.endsText,w=!t;w&&this._renderEndsText(b,e.endsText[0],g);h.each(e.viewPieceList,function(e){var k=e.piece,w=new l.Group;w.onclick=h.bind(this._onItemClick,this,k);this._enableHoverLink(w,e.indexInModelPieceList);e=c.getRepresentValue(k);this._createItemSymbol(w,e,[0,0,g[0],g[1]]);t&&(e=this.visualMapModel.getValueState(e),w.add(new l.Text({style:{x:"right"===v?-d:g[0]+d,y:g[1]/2,text:k.text,textVerticalAlign:"middle",textAlign:v,textFont:u,fill:p,opacity:"outOfRange"===e?.5:1}})));b.add(w)},this);w&&this._renderEndsText(b,e.endsText[1],g);n.box(c.get("orient"),b,c.get("itemGap"));this.renderBackground(b);this.positionGroup(b)},_enableHoverLink:function(b,c){function d(b){var e=this.visualMapModel;e.option.hoverLink&&this.api.dispatchAction({type:b,batch:e.findTargetDataIndices(c)})}b.on("mouseover",h.bind(d,this,"highlight")).on("mouseout",h.bind(d,this,"downplay"))},_getItemAlign:function(){var b=this.visualMapModel,c=b.option;if("vertical"===c.orient)return d.getItemAlign(b,this.api,b.itemSize);(b=c.align)&&"auto"!==b||(b="left");return b},_renderEndsText:function(b,c,d){if(c){var e=new l.Group,h=this.visualMapModel.textStyleModel;e.add(new l.Text({style:{x:d[0]/2,y:d[1]/2,textVerticalAlign:"middle",textAlign:"center",text:c,textFont:h.getFont(),fill:h.getTextColor()}}));b.add(e)}},_getViewData:function(){var b=this.visualMapModel,c=h.map(b.getPieceList(),function(b,c){return{piece:b,indexInModelPieceList:c}}),d=b.get("text"),e=b.get("orient"),b=b.get("inverse");("horizontal"===e?b:!b)?c.reverse():d&&(d=d.slice().reverse());return{viewPieceList:c,endsText:d}},_createItemSymbol:function(b,c,d){b.add(e.createSymbol(this.getControllerVisual(c,"symbol"),d[0],d[1],d[2],d[3],this.getControllerVisual(c,"color")))},_onItemClick:function(b){var c=this.visualMapModel,d=c.option,e=h.clone(d.selected),l=c.getSelectedMapKey(b);"single"===d.selectedMode?(e[l]=!0,h.each(e,function(b,c){e[c]=c===l})):e[l]=!e[l];this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:e})}});c.exports=b},function(c,p,b){b(345);b(347);b(1).registerPreprocessor(function(b){b.markPoint=b.markPoint||{}})},function(c,p,b){c.exports=b(346).extend({type:"markPoint",defaultOption:{zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{normal:{show:!0,position:"inside"},emphasis:{show:!0}},itemStyle:{normal:{borderWidth:2}}}})},function(c,p,b){function h(b){l.defaultEmphasis(b.label,l.LABEL_OPTIONS)}var l=b(5),e=b(4),n=b(2);p=b(6);var d=p.addCommas,m=p.encodeHTML;b=b(1).extendComponentModel({type:"marker",dependencies:["series","grid","polar","geo"],init:function(b,c,d,e){if("marker"===this.type)throw Error("Marker component is abstract component. Use markLine, markPoint, markArea instead.");this.mergeDefaultAndTheme(b,d);this.mergeOption(b,d,e.createdBySelf,!0)},ifEnableAnimation:function(){if(n.node)return!1;var b=this.__hostSeries;return this.getShallow("animation")&&b&&b.ifEnableAnimation()},mergeOption:function(b,c,d,m){var l=this.constructor,n=this.mainType+"Model";d||c.eachSeries(function(b){var d=b.get(this.mainType),k=b[n];d&&d.data?(k?k.mergeOption(d,c,!0):(m&&h(d),e.each(d.data,function(b){b instanceof Array?(h(b[0]),h(b[1])):h(b)}),k=new l(d,this,c,{mainType:this.mainType,seriesIndex:b.seriesIndex,name:b.name,createdBySelf:!0}),k.__hostSeries=b),b[n]=k):b[n]=null},this)},formatTooltip:function(b){var c=this.getData(),h=this.getRawValue(b),l=e.isArray(h)?e.map(h,d).join(", "):d(h);b=c.getName(b);c=this.name;if(null!=h||b)c+="\x3cbr /\x3e";b&&(c+=m(b),null!=h&&(c+=" : "));null!=h&&(c+=l);return c},getData:function(){return this._data},setData:function(b){this._data=b}});e.mixin(b,l.dataFormatMixin);c.exports=b},function(c,p,b){function h(b,c,e){var h=c.coordinateSystem;b.each(function(m){var g=b.getItemModel(m),l,w=d.parsePercent(g.get("x"),e.getWidth()),g=d.parsePercent(g.get("y"),e.getHeight());if(!isNaN(w)&&!isNaN(g))l=[w,g];else if(c.getMarkerPosition)l=c.getMarkerPosition(b.getValues(b.dimensions,m));else if(h){l=b.get(h.dimensions[0],m);var n=b.get(h.dimensions[1],m);l=h.dataToPoint([l,n])}isNaN(w)||(l[0]=w);isNaN(g)||(l[1]=g);b.setItemLayout(m,l)})}function l(b,c,d){var e;e=b?n.map(b&&b.dimensions,function(b){var d=c.getData().getDimensionInfo(c.coordDimToDataDim(b)[0])||{};d.name=b;return d}):[{name:"value",type:"float"}];e=new m(e,d);d=n.map(d.get("data"),n.curry(r.dataTransform,c));b&&(d=n.filter(d,n.curry(r.dataFilter,b)));e.initData(d,null,b?r.dimValueGetter:function(b){return b.value});return e}var e=b(104),n=b(4),d=b(7),m=b(97),r=b(348);b(349).extend({type:"markPoint",updateLayout:function(b,c,d){c.eachSeries(function(b){var c=b.markPointModel;c&&(h(c.getData(),b,d),this.markerGroupMap[b.name].updateLayout(c))},this)},renderSeries:function(b,c,d,m){d=b.coordinateSystem;var n=b.name,g=b.getData(),t=this.markerGroupMap,w=t[n];w||(w=t[n]=new e);var r=l(d,b,c);c.setData(r);h(c.getData(),b,m);r.each(function(b){var d=r.getItemModel(b),e=d.getShallow("symbolSize");"function"===typeof e&&(e=e(c.getRawValue(b),c.getDataParams(b)));r.setItemVisual(b,{symbolSize:e,color:d.get("itemStyle.normal.color")||g.getVisual("color"),symbol:d.getShallow("symbol")})});w.updateData(r);this.group.add(w.group);r.eachItemGraphicEl(function(b){b.traverse(function(b){b.dataModel=c})});w.__keep=!0;w.group.silent=c.get("silent")||b.get("silent")}})},function(c,p,b){function h(b,c,d,h,m,g){var l=[];b=r(c,h,b);b=c.indexOfNearest(h,b,!0);l[m]=c.get(d,b,!0);l[g]=c.get(h,b,!0);d=-1;do d=Math.max(e.getPrecision(c.get(h,b)),d),c=c.stackedOn;while(c);h=d;0<=h&&(l[g]=+l[g].toFixed(h));return l}var l=b(4),e=b(7),n=l.indexOf;p=l.curry;var d={min:p(h,"min"),max:p(h,"max"),average:p(h,"average")},m=function(b,c,d,e){var h={};null!=b.valueIndex||null!=b.valueDim?(h.valueDataDim=null!=b.valueIndex?c.getDimension(b.valueIndex):b.valueDim,h.valueAxis=d.getAxis(e.dataDimToCoordDim(h.valueDataDim)),h.baseAxis=d.getOtherAxis(h.valueAxis),h.baseDataDim=e.coordDimToDataDim(h.baseAxis.dim)[0]):(h.baseAxis=e.getBaseAxis(),h.valueAxis=d.getOtherAxis(h.baseAxis),h.baseDataDim=e.coordDimToDataDim(h.baseAxis.dim)[0],h.valueDataDim=e.coordDimToDataDim(h.valueAxis.dim)[0]);return h},r=function(b,c,d){if("average"===d){var e=0,h=0;b.each(c,function(b,c){isNaN(b)||(e+=b,h++)},!0);return e/h}return b.getDataExtent(c,!0)["max"===d?1:0]};c.exports={dataTransform:function(b,c){var e=b.getData(),h=b.coordinateSystem,p;if(p=c)p=c,p=!(!isNaN(parseFloat(p.x))&&!isNaN(parseFloat(p.y)));if(p&&!l.isArray(c.coord)&&h)if(p=h.dimensions,h=m(c,e,h,b),c=l.clone(c),c.type&&d[c.type]&&h.baseAxis&&h.valueAxis){var g=n(p,h.baseAxis.dim);p=n(p,h.valueAxis.dim);c.coord=d[c.type](e,h.baseDataDim,h.valueDataDim,g,p);c.value=c.coord[p]}else{h=[null!=c.xAxis?c.xAxis:c.radiusAxis,null!=c.yAxis?c.yAxis:c.angleAxis];for(g=0;2>g;g++)if(d[h[g]]){var t=b.coordDimToDataDim(p[g])[0];h[g]=r(e,t,h[g])}c.coord=h}return c},dataFilter:function(b,c){var d;if(d=b&&b.containData&&c.coord)d=!(!isNaN(parseFloat(c.x))||!isNaN(parseFloat(c.y)));return d?b.containData(c.coord):!0},dimValueGetter:function(b,c,d,e){return 2>e?b.coord&&b.coord[e]:b.value},getAxisInfo:m,numCalculate:r}},function(c,p,b){c.exports=b(1).extendComponentView({type:"marker",init:function(){this.markerGroupMap={}},render:function(b,c,e){b=this.markerGroupMap;for(var n in b)b[n].__keep=!1;var d=this.type+"Model";c.eachSeries(function(b){var h=b[d];h&&this.renderSeries(b,h,c,e)},this);for(n in b)b[n].__keep||this.group.remove(b[n].group)},renderSeries:function(){}})},function(c,p,b){b(351);b(352);b(1).registerPreprocessor(function(b){b.markLine=b.markLine||{}})},function(c,p,b){c.exports=b(346).extend({type:"markLine",defaultOption:{zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{normal:{show:!0,position:"end"},emphasis:{show:!0}},lineStyle:{normal:{type:"dashed"},emphasis:{width:3}},animationEasing:"linear"}})},function(c,p,b){function h(b){return!isNaN(b)&&!isFinite(b)}function l(b,c,d,e){var f=1-b,k=e.dimensions[b];return h(c[f])&&h(d[f])&&c[b]===d[b]&&e.getAxis(k).containData(c[b])}function e(b,c){if("cartesian2d"===b.type){var d=c[0].coord,e=c[1].coord;if(d&&e&&(l(1,d,e,b)||l(0,d,e,b)))return!0}return k.dataFilter(b,c[0])&&k.dataFilter(b,c[1])}function n(b,c,d,e,k){var m=e.coordinateSystem,l=b.getItemModel(c),n=f.parsePercent(l.get("x"),k.getWidth());k=f.parsePercent(l.get("y"),k.getHeight());if(isNaN(n)||isNaN(k)){e.getMarkerPosition?l=e.getMarkerPosition(b.getValues(b.dimensions,c)):(e=m.dimensions,l=b.get(e[0],c),e=b.get(e[1],c),l=m.dataToPoint([l,e]));if("cartesian2d"===m.type){var r=m.getAxis("x"),p=m.getAxis("y");e=m.dimensions;h(b.get(e[0],c))?l[0]=r.toGlobalCoord(r.getExtent()[d?0:1]):h(b.get(e[1],c))&&(l[1]=p.toGlobalCoord(p.getExtent()[d?0:1]))}isNaN(n)||(l[0]=n);isNaN(k)||(l[1]=k)}else l=[n,k];b.setItemLayout(c,l)}function d(b,c,d){var f;f=b?m.map(b&&b.dimensions,function(b){var d=c.getData().getDimensionInfo(c.coordDimToDataDim(b)[0])||{};d.name=b;return d}):[{name:"value",type:"float"}];var h=new r(f,d);f=new r(f,d);var l=new r([],d);d=m.map(d.get("data"),m.curry(x,c,b,d));b&&(d=m.filter(d,m.curry(e,b)));b=b?k.dimValueGetter:function(b){return b.value};h.initData(m.map(d,function(b){return b[0]}),null,b);f.initData(m.map(d,function(b){return b[1]}),null,b);l.initData(m.map(d,function(b){return b[2]}));l.hasItemOption=!0;return{from:h,to:f,line:l}}var m=b(4),r=b(97),f=b(7),k=b(348),u=b(199),x=function(b,c,d,e){var f=b.getData(),h=e.type;if(!m.isArray(e)&&("min"===h||"max"===h||"average"===h||null!=e.xAxis||null!=e.yAxis)){var l;null!=e.yAxis||null!=e.xAxis?(l=null!=e.yAxis?"y":"x",c.getAxis(l),c=m.retrieve(e.yAxis,e.xAxis)):(l=k.getAxisInfo(e,f,c,b).valueDataDim,c=k.numCalculate(f,l,h));l="x"===l?0:1;var n=1-l,f=m.clone(e),r={};f.type=null;f.coord=[];r.coord=[];f.coord[n]=-Infinity;r.coord[n]=Infinity;d=d.get("precision");0<=d&&(c=+c.toFixed(d));f.coord[l]=r.coord[l]=c;e=[f,r,{type:h,valueIndex:e.valueIndex,value:c}]}e=[k.dataTransform(b,e[0]),k.dataTransform(b,e[1]),m.extend({},e[2])];e[2].type=e[2].type||"";m.merge(e[2],e[0]);m.merge(e[2],e[1]);return e};b(349).extend({type:"markLine",updateLayout:function(b,c,d){c.eachSeries(function(b){var c=b.markLineModel;if(c){var g=c.getData(),e=c.__from,f=c.__to;e.each(function(c){n(e,c,!0,b,d);n(f,c,!1,b,d)});g.each(function(b){g.setItemLayout(b,[e.getItemLayout(b),f.getItemLayout(b)])});this.markerGroupMap[b.name].updateLayout()}},this)},renderSeries:function(b,c,e,f){function h(c,d,g){var e=c.getItemModel(d);n(c,d,g,b,f);c.setItemVisual(d,{symbolSize:e.get("symbolSize")||q[g?0:1],symbol:e.get("symbol",!0)||G[g?0:1],color:e.get("itemStyle.normal.color")||r.getVisual("color")})}var k=b.coordinateSystem,l=b.name,r=b.getData(),p=this.markerGroupMap;(e=p[l])||(e=p[l]=new u);this.group.add(e.group);var k=d(k,b,c),x=k.from,N=k.to,E=k.line;c.__from=x;c.__to=N;c.setData(E);var G=c.get("symbol"),q=c.get("symbolSize");m.isArray(G)||(G=[G,G]);"number"===typeof q&&(q=[q,q]);k.from.each(function(b){h(x,b,!0);h(N,b,!1)});E.each(function(b){var c=E.getItemModel(b).get("lineStyle.normal.color");E.setItemVisual(b,{color:c||x.getItemVisual(b,"color")});E.setItemLayout(b,[x.getItemLayout(b),N.getItemLayout(b)]);E.setItemVisual(b,{fromSymbolSize:x.getItemVisual(b,"symbolSize"),fromSymbol:x.getItemVisual(b,"symbol"),toSymbolSize:N.getItemVisual(b,"symbolSize"),toSymbol:N.getItemVisual(b,"symbol")})});e.updateData(E);k.line.eachItemGraphicEl(function(b,d){b.traverse(function(b){b.dataModel=c})});e.__keep=!0;e.group.silent=c.get("silent")||b.get("silent")}})},function(c,p,b){b(354);b(355);b(1).registerPreprocessor(function(b){b.markArea=b.markArea||{}})},function(c,p,b){c.exports=b(346).extend({type:"markArea",defaultOption:{zlevel:0,z:1,tooltip:{trigger:"item"},animation:!1,label:{normal:{show:!0,position:"top"},emphasis:{show:!0,position:"top"}},itemStyle:{normal:{borderWidth:0}}}})},function(c,p,b){function h(b){return!isNaN(b)&&!isFinite(b)}function l(b,c){var d=c.coord[0],e=c.coord[1];if("cartesian2d"===b.type){var f;if(f=d&&e)(f=h(d[0])&&h(e[0]))||(f=h(d[1])&&h(e[1]));if(f)return!0}return u.dataFilter(b,{coord:d,x:c.x0,y:c.y0})||u.dataFilter(b,{coord:e,x:c.x1,y:c.y1})}function e(b,c,d,e,f){var k=e.coordinateSystem,m=b.getItemModel(c),l=r.parsePercent(m.get(d[0]),f.getWidth());f=r.parsePercent(m.get(d[1]),f.getHeight());if(isNaN(l)||isNaN(f)){if(e.getMarkerPosition)e=e.getMarkerPosition(b.getValues(d,c));else{var m=b.get(d[0],c),n=b.get(d[1],c);e=k.dataToPoint([m,n],!0)}if("cartesian2d"===k.type){var p=k.getAxis("x"),k=k.getAxis("y"),m=b.get(d[0],c),n=b.get(d[1],c);h(m)?e[0]=p.toGlobalCoord(p.getExtent()["x0"===d[0]?0:1]):h(n)&&(e[1]=k.toGlobalCoord(k.getExtent()["y0"===d[1]?0:1]))}isNaN(l)||(e[0]=l);isNaN(f)||(e[1]=f)}else e=[l,f];return e}function n(b,c,e){var f,h;h=["x0","y0","x1","y1"];b?(f=d.map(b&&b.dimensions,function(b){var d=c.getData().getDimensionInfo(c.coordDimToDataDim(b)[0])||{};d.name=b;return d}),h=new m(d.map(h,function(b,c){return{name:b,type:f[c%2].type}}),e)):(f=[{name:"value",type:"float"}],h=new m(f,e));e=d.map(e.get("data"),d.curry(x,c,b,e));b&&(e=d.filter(e,d.curry(l,b)));h.initData(e,null,b?function(b,c,d,g){return b.coord[Math.floor(g/2)][g%2]}:function(b){return b.value});h.hasItemOption=!0;return h}var d=b(4),m=b(97),r=b(7),f=b(43),k=b(39),u=b(348),x=function(b,c,e,f){c=u.dataTransform(b,f[0]);b=u.dataTransform(b,f[1]);f=d.retrieve;e=c.coord;var h=b.coord;e[0]=f(e[0],-Infinity);e[1]=f(e[1],-Infinity);h[0]=f(h[0],Infinity);h[1]=f(h[1],Infinity);f=d.mergeAll([{},c,b]);f.coord=[c.coord,b.coord];f.x0=c.x;f.y0=c.y;f.x1=b.x;f.y1=b.y;return f},v=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];b(349).extend({type:"markArea",updateLayout:function(b,c,f){c.eachSeries(function(b){var c=b.markAreaModel;if(c){var g=c.getData();g.each(function(c){var h=d.map(v,function(d){return e(g,c,d,b,f)});g.setItemLayout(c,h);g.getItemGraphicEl(c).setShape("points",h)})}},this)},renderSeries:function(b,c,h,m){h=b.coordinateSystem;var l=b.name,r=b.getData(),p=this.markerGroupMap,u=p[l];u||(u=p[l]={group:new f.Group});this.group.add(u.group);u.__keep=!0;var x=n(h,b,c);c.setData(x);x.each(function(c){x.setItemLayout(c,d.map(v,function(d){return e(x,c,d,b,m)}));x.setItemVisual(c,{color:r.getVisual("color")})});x.diff(u.__data).add(function(b){var c=new f.Polygon({shape:{points:x.getItemLayout(b)}});x.setItemGraphicEl(b,c);u.group.add(c)}).update(function(b,d){var g=u.__data.getItemGraphicEl(d);f.updateProps(g,{shape:{points:x.getItemLayout(b)}},c,b);u.group.add(g);x.setItemGraphicEl(b,g)}).remove(function(b){b=u.__data.getItemGraphicEl(b);u.group.remove(b)}).execute();x.eachItemGraphicEl(function(b,g){var e=x.getItemModel(g),h=e.getModel("label.normal"),m=e.getModel("label.emphasis"),l=x.getItemVisual(g,"color");b.useStyle(d.defaults(e.getModel("itemStyle.normal").getItemStyle(),{fill:k.modifyAlpha(l,.4),stroke:l}));b.hoverStyle=e.getModel("itemStyle.normal").getItemStyle();e=x.getName(g)||"";l=l||b.style.fill;f.setText(b.style,h,l);b.style.text=d.retrieve(c.getFormattedLabel(g,"normal"),e);f.setText(b.hoverStyle,m,l);b.hoverStyle.text=d.retrieve(c.getFormattedLabel(g,"emphasis"),e);f.setHoverStyle(b,{});b.dataModel=c});u.__data=x;u.group.silent=c.get("silent")||b.get("silent")}})},function(c,p,b){b(1).registerPreprocessor(b(357));b(358);b(359);b(360);b(362)},function(c,p,b){function h(b){var c=b.type,h={number:"value",time:"time"};h[c]&&(b.axisType=h[c],delete b.type);l(b);b.hasOwnProperty("controlPosition")&&(c=b.controlStyle||(b.controlStyle={}),c.hasOwnProperty("position")||(c.position=b.controlPosition),"none"!==c.position||c.hasOwnProperty("show")||(c.show=!1,delete c.position),delete b.controlPosition);e.each(b.data||[],function(b){e.isObject(b)&&!e.isArray(b)&&(!b.hasOwnProperty("value")&&b.hasOwnProperty("name")&&(b.value=b.name),l(b))})}function l(b){var c=b.itemStyle||(b.itemStyle={}),c=c.emphasis||(c.emphasis={});b=b.label||b.label||{};var h=b.normal||(b.normal={}),l={normal:1,emphasis:1};e.each(b,function(b,c){l[c]||h.hasOwnProperty(c)||(h[c]=b)});c.label&&!b.hasOwnProperty("emphasis")&&(b.emphasis=c.label,delete c.label)}var e=b(4);c.exports=function(b){b=b&&b.timeline;e.isArray(b)||(b=b?[b]:[]);e.each(b,function(b){b&&h(b)})}},function(c,p,b){b(19).registerSubTypeDefaulter("timeline",function(){return"slider"})},function(c,p,b){c=b(1);c.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(b,c){var e=c.getComponent("timeline");e&&null!=b.currentIndex&&(e.setCurrentIndex(b.currentIndex),!e.get("loop",!0)&&e.isIndexMax()&&e.setPlayState(!1));c.resetOption("timeline")});c.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(b,c){var e=c.getComponent("timeline");e&&null!=b.playState&&e.setPlayState(b.playState)})},function(c,p,b){var h=b(361);p=b(4);b=b(5);h=h.extend({type:"timeline.slider",defaultOption:{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"emptyCircle",symbolSize:10,lineStyle:{show:!0,width:2,color:"#304654"},label:{position:"auto",normal:{show:!0,interval:"auto",rotate:0,textStyle:{color:"#304654"}},emphasis:{show:!0,textStyle:{color:"#c23531"}}},itemStyle:{normal:{color:"#304654",borderWidth:1},emphasis:{color:"#c23531"}},checkpointStyle:{symbol:"circle",symbolSize:13,color:"#c23531",borderWidth:5,borderColor:"rgba(194,53,49, 0.5)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:22,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z",prevIcon:"path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z",normal:{color:"#304654",borderColor:"#304654",borderWidth:1},emphasis:{color:"#c23531",borderColor:"#c23531",borderWidth:2}},data:[]}});p.mixin(h,b.dataFormatMixin);c.exports=h},function(c,p,b){p=b(19);var h=b(97),l=b(4),e=b(5),n=p.extend({type:"timeline",layoutMode:"box",defaultOption:{zlevel:0,z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2E3,currentIndex:0,itemStyle:{normal:{},emphasis:{}},label:{normal:{textStyle:{color:"#000"}},emphasis:{}},data:[]},init:function(b,c,e){this.mergeDefaultAndTheme(b,e);this._initData()},mergeOption:function(b){n.superApply(this,"mergeOption",arguments);this._initData()},setCurrentIndex:function(b){null==b&&(b=this.option.currentIndex);var c=this._data.count();this.option.loop?b=(b%c+c)%c:(b>=c&&(b=c-1),0>b&&(b=0));this.option.currentIndex=b},getCurrentIndex:function(){return this.option.currentIndex},isIndexMax:function(){return this.getCurrentIndex()>=this._data.count()-1},setPlayState:function(b){this.option.autoPlay=!!b},getPlayState:function(){return!!this.option.autoPlay},_initData:function(){var b=this.option,c=b.data||[],b=b.axisType,n=this._names=[];if("category"===b){var f=[];l.each(c,function(b,c){var d=e.getDataItemValue(b),h;l.isObject(b)?(h=l.clone(b),h.value=c):h=c;f.push(h);l.isString(d)||null!=d&&!isNaN(d)||(d="");n.push(d+"")});c=f}(this._data=new h([{name:"value",type:{category:"ordinal",time:"time"}[b]||"number"}],this)).initData(c,n)},getData:function(){return this._data},getCategories:function(){if("category"===this.get("axisType"))return this._names.slice()}});c.exports=n},function(c,p,b){function h(b,c,d,g,f,h){var k=b.get("symbol"),m=c.get("color");b=b.get("symbolSize");var l=b/2;c=c.getItemStyle(["color","symbol","symbolSize"]);f?(f.setStyle(c),f.setColor(m),d.add(f),h&&h.onUpdate(f)):(f=r.createSymbol(k,-l,-l,b,b,m),d.add(f),h&&h.onCreate(f));g=e.merge({rectHover:!0,style:c,z2:100},g,!0);f.attr(g);return f}function l(b,c,d,g,e){if(!b.dragging){var f=g.getModel("checkpointStyle");c=d.dataToCoord(g.getData().get(["value"],c));e||!f.get("animation",!0)?b.attr({position:[c,0]}):(b.stopAnimation(!0),b.animateTo({position:[c,0]},f.get("animationDuration",!0),f.get("animationEasing",!0)))}}var e=b(4),n=b(43),d=b(21);p=b(363);var m=b(364),r=b(106),f=b(114),k=b(9),u=b(11),x=b(7),v=b(6).encodeHTML,g=e.bind,t=e.each,w=Math.PI;c.exports=p.extend({type:"timeline.slider",init:function(b,c){this.api=c},render:function(b,c,d,g){this.model=b;this.api=d;this.ecModel=c;this.group.removeAll();if(b.get("show",!0)){var e=this._layout(b,d),f=this._createGroup("mainGroup");c=this._createGroup("labelGroup");var h=this._axis=this._createAxis(e,b);b.formatTooltip=function(b){return v(h.scale.getLabel(b))};t(["AxisLine","AxisTick","Control","CurrentPointer"],function(c){this["_render"+c](e,f,h,b)},this);this._renderAxisLabel(e,c,h,b);this._position(e,b)}this._doPlayStop()},remove:function(){this._clearTimer();this.group.removeAll()},dispose:function(){this._clearTimer()},_layout:function(b,c){var g=b.get("label.normal.position"),e=b.get("orient"),f;f=d.getLayoutRect(b.getBoxLayoutParams(),{width:c.getWidth(),height:c.getHeight()},b.get("padding"));null==g||"auto"===g?g="horizontal"===e?f.y+f.height/2<c.getHeight()/2?"-":"+":f.x+f.width/2<c.getWidth()/2?"+":"-":isNaN(g)&&(g={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[e][g]);var h={horizontal:"center",vertical:0<=g||"+"===g?"left":"right"},k={horizontal:0<=g||"+"===g?"top":"bottom",vertical:"middle"},m={horizontal:0,vertical:w/2},l="vertical"===e?f.height:f.width,t=b.getModel("controlStyle"),n=t.get("show"),r=n?t.get("itemSize"):0,p=n?t.get("itemGap"):0,u=r+p,x=b.get("label.normal.rotate")||0,x=x*w/180,v,J,P,T=t.get("position",!0),S=(n=t.get("show",!0))&&t.get("showPlayBtn",!0),R=n&&t.get("showPrevBtn",!0),t=n&&t.get("showNextBtn",!0),n=0,Q=l;"left"===T||"bottom"===T?(S&&(v=[0,0],n+=u),R&&(J=[n,0],n+=u)):(S&&(v=[Q-r,0],Q-=u),R&&(J=[0,0],n+=u));t&&(P=[Q-r,0],Q-=u);u=[n,Q];b.get("inverse")&&u.reverse();return{viewRect:f,mainLength:l,orient:e,rotation:m[e],labelRotation:x,labelPosOpt:g,labelAlign:h[e],labelBaseline:k[e],playPosition:v,prevBtnPosition:J,nextBtnPosition:P,axisExtent:u,controlSize:r,controlGap:p}},_position:function(b,c){function d(b){var c=b.position;b.origin=[n[0][0]-c[0],n[1][0]-c[1]]}function g(b){return[[b.x,b.x+b.width],[b.y,b.y+b.height]]}function e(b,c,d,g,f){b[g]+=d[g][f]-c[g][f]}var f=this._mainGroup,h=this._labelGroup,k=b.viewRect;if("vertical"===b.orient){var m=u.create(),l=k.x,t=k.y+k.height;u.translate(m,m,[-l,-t]);u.rotate(m,m,-w/2);u.translate(m,m,[l,t]);k=k.clone();k.applyTransform(m)}var n=g(k),k=g(f.getBoundingRect()),m=g(h.getBoundingRect()),l=f.position,t=h.position;t[0]=l[0]=n[0][0];var r=b.labelPosOpt;isNaN(r)?(r="+"===r?0:1,e(l,k,n,1,r),e(t,m,n,1,1-r)):(e(l,k,n,1,0<=r?0:1),t[1]=l[1]+r);f.attr("position",l);h.attr("position",t);f.rotation=h.rotation=b.rotation;d(f);d(h)},_createAxis:function(b,c){var d=c.getData(),g=c.get("axisType"),e=f.createScaleByModel(c,g),h=d.getDataExtent("value");e.setExtent(h[0],h[1]);this._customizeScale(e,d);e.niceTicks();d=new m("value",e,b.axisExtent,g);d.model=c;return d},_customizeScale:function(b,c){b.getTicks=function(){return c.mapArray(["value"],function(b){return b})};b.getTicksLabels=function(){return e.map(this.getTicks(),b.getLabel,b)}},_createGroup:function(b){b=this["_"+b]=new n.Group;this.group.add(b);return b},_renderAxisLine:function(b,c,d,g){b=d.getExtent();g.get("lineStyle.show")&&c.add(new n.Line({shape:{x1:b[0],y1:0,x2:b[1],y2:0},style:e.extend({lineCap:"round"},g.getModel("lineStyle").getLineStyle()),silent:!0,z2:1}))},_renderAxisTick:function(b,c,d,e){var f=e.getData();b=d.scale.getTicks();t(b,function(b,k){var m=d.dataToCoord(b),l=f.getItemModel(k),t=l.getModel("itemStyle.normal"),w=l.getModel("itemStyle.emphasis"),m={position:[m,0],onclick:g(this._changeTimeline,this,k)},t=h(l,t,c,m);n.setHoverStyle(t,w.getItemStyle());l.get("tooltip")?(t.dataIndex=k,t.dataModel=e):t.dataIndex=t.dataModel=null},this)},_renderAxisLabel:function(b,c,d,e){var h=e.getModel("label.normal");if(h.get("show")){var k=e.getData();e=d.scale.getTicks();var m=f.getFormattedLabels(d,h.get("formatter")),l=d.getLabelInterval();t(e,function(e,f){if(!d.isLabelIgnored(f,l)){var h=k.getItemModel(f),t=h.getModel("label.normal.textStyle"),h=h.getModel("label.emphasis.textStyle"),w=d.dataToCoord(e),t=new n.Text({style:{text:m[f],textAlign:b.labelAlign,textVerticalAlign:b.labelBaseline,textFont:t.getFont(),fill:t.getTextColor()},position:[w,0],rotation:b.labelRotation-b.rotation,onclick:g(this._changeTimeline,this,f),silent:!1});c.add(t);n.setHoverStyle(t,h.getItemStyle())}},this)}},_renderControl:function(b,c,d,f){function h(b,d,g,r){if(b){var p=q;b={position:b,origin:[m/2,0],rotation:r?-l:0,rectHover:!0,style:t,onclick:g};d=n.makePath(f.get(d).replace(/^path:\/\//,""),e.clone(b||{}),new k(p[0],p[1],p[2],p[3]),"center");c.add(d);n.setHoverStyle(d,w)}}var m=b.controlSize,l=b.rotation,t=f.getModel("controlStyle.normal").getItemStyle(),w=f.getModel("controlStyle.emphasis").getItemStyle(),q=[0,-m/2,m,m];d=f.getPlayState();var r=f.get("inverse",!0);h(b.nextBtnPosition,"controlStyle.nextIcon",g(this._changeTimeline,this,r?"-":"+"));h(b.prevBtnPosition,"controlStyle.prevIcon",g(this._changeTimeline,this,r?"+":"-"));h(b.playPosition,"controlStyle."+(d?"stopIcon":"playIcon"),g(this._handlePlayClick,this,!d),!0)},_renderCurrentPointer:function(b,c,d,e){b=e.getData();var f=e.getCurrentIndex();b=b.getItemModel(f).getModel("checkpointStyle");var k=this;this._currentPointer=h(b,b,this._mainGroup,{},this._currentPointer,{onCreate:function(b){b.draggable=!0;b.drift=g(k._handlePointerDrag,k);b.ondragend=g(k._handlePointerDragend,k);l(b,f,d,e,!0)},onUpdate:function(b){l(b,f,d,e)}})},_handlePlayClick:function(b){this._clearTimer();this.api.dispatchAction({type:"timelinePlayChange",playState:b,from:this.uid})},_handlePointerDrag:function(b,c,d){this._clearTimer();this._pointerChangeTimeline([d.offsetX,d.offsetY])},_handlePointerDragend:function(b){this._pointerChangeTimeline([b.offsetX,b.offsetY],!0)},_pointerChangeTimeline:function(b,c){var d=this._toAxisCoord(b)[0],g=x.asc(this._axis.getExtent().slice());d>g[1]&&(d=g[1]);d<g[0]&&(d=g[0]);this._currentPointer.position[0]=d;this._currentPointer.dirty();d=this._findNearestTick(d);g=this.model;(c||d!==g.getCurrentIndex()&&g.get("realtime"))&&this._changeTimeline(d)},_doPlayStop:function(){function b(){var c=this.model;this._changeTimeline(c.getCurrentIndex()+(c.get("rewind",!0)?-1:1))}this._clearTimer();this.model.getPlayState()&&(this._timer=setTimeout(g(b,this),this.model.get("playInterval")))},_toAxisCoord:function(b){var c=this._mainGroup.getLocalTransform();return n.applyTransform(b,c,!0)},_findNearestTick:function(b){var c=this.model.getData(),d=Infinity,g,e=this._axis;c.each(["value"],function(c,f){var h=e.dataToCoord(c),h=Math.abs(h-b);h<d&&(d=h,g=f)});return g},_clearTimer:function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},_changeTimeline:function(b){var c=this.model.getCurrentIndex();"+"===b?b=c+1:"-"===b&&(b=c-1);this.api.dispatchAction({type:"timelineChange",currentIndex:b,from:this.uid})}})},function(c,p,b){p=b(29);c.exports=p.extend({type:"timeline"})},function(c,p,b){var h=b(4),l=b(123),e=b(114);p=function(b,c,e,h){l.call(this,b,c,e);this.type=h||"value";this.model=null};p.prototype={constructor:p,getLabelInterval:function(){var b=this.model,c=b.getModel("label.normal"),m=c.get("interval");if(null!=m&&"auto"!=m)return m;m=this._autoLabelInterval;m||(m=this._autoLabelInterval=e.getAxisLabelInterval(h.map(this.scale.getTicks(),this.dataToCoord,this),e.getFormattedLabels(this,c.get("formatter")),c.getModel("textStyle").getFont(),"horizontal"===b.get("orient")));return m},isLabelIgnored:function(b){if("category"===this.type){var c=this.getLabelInterval();return"function"===typeof c&&!c(b,this.scale.getLabel(b))||b%(c+1)}}};h.inherits(p,l);c.exports=p},function(c,p,b){b(366);b(367);b(369);b(370);b(371);b(372);b(377)},function(c,p,b){var h=b(314),l=b(4),e=b(1).extendComponentModel({type:"toolbox",layoutMode:{type:"box",ignoreSize:!0},mergeDefaultAndTheme:function(b){e.superApply(this,"mergeDefaultAndTheme",arguments);l.each(this.option.feature,function(b,c){var e=h.get(c);e&&l.merge(b,e.defaultOption)})},defaultOption:{show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{normal:{borderColor:"#666",color:"none"},emphasis:{borderColor:"#3E98C5"}}}});c.exports=e},function(c,p,b){(function(h){var l=b(314),e=b(4),n=b(43),d=b(12),m=b(98),r=b(277),f=b(8);c.exports=b(1).extendComponentView({type:"toolbox",render:function(b,c,h,p){function g(g,e){var f=A[g],m=A[e],n=new d(z[f],b,b.ecModel),w;if(f&&!m){if(0===f.indexOf("my"))w={model:n,onclick:n.option.onclick,featureName:f};else{w=l.get(f);if(!w)return;w=new w(n,c,h)}D[f]=w}else{w=D[m];if(!w)return;w.model=n;w.ecModel=c;w.api=h}!f&&m?w.dispose&&w.dispose(c,h):!n.get("show")||w.unusable?w.remove&&w.remove(c,h):(t(n,w,f),n.setIconStatus=function(b,c){var d=this.option,g=this.iconPaths;d.iconStatus=d.iconStatus||{};d.iconStatus[b]=c;g[b]&&g[b].trigger(c)},w.render&&w.render(n,c,h,p))}function t(d,g,f){var m=d.getModel("iconStyle"),l=g.getIcons?g.getIcons():d.get("icon"),t=d.get("title")||{};if("string"===typeof l){var r=l,p=t,l={},t={};l[f]=r;t[f]=p}var z=d.iconPaths={};e.each(l,function(f,l){var r=m.getModel("normal").getItemStyle(),p=m.getModel("emphasis").getItemStyle(),v={x:-y/2,y:-y/2,width:y,height:y},A=0===f.indexOf("image://")?(v.image=f.slice(8),new n.Image({style:v})):n.makePath(f.replace("path://",""),{style:r,hoverStyle:p,rectHover:!0},v,"center");n.setHoverStyle(A);b.get("showTitle")&&(A.__title=t[l],A.on("mouseover",function(){A.setStyle({text:t[l],textPosition:p.textPosition||"bottom",textFill:p.fill||p.stroke||"#000",textAlign:p.textAlign||"center"})}).on("mouseout",function(){A.setStyle({textFill:null})}));A.trigger(d.get("iconStatus."+l)||"normal");w.add(A);A.on("click",e.bind(g.onclick,g,c,h,l));z[l]=A})}var w=this.group;w.removeAll();if(b.get("show")){var y=+b.get("itemSize"),z=b.get("feature")||{},D=this._features||(this._features={}),A=[];e.each(z,function(b,c){A.push(c)});(new m(this._featureNames||[],A)).add(g).update(g).remove(e.curry(g,null)).execute();this._featureNames=A;r.layout(w,b,h);r.addBackground(w,b);w.eachChild(function(b){var c=b.__title,d=b.hoverStyle;if(d&&c){var c=f.getBoundingRect(c,d.font),g=b.position[0]+w.position[0],e=!1;b.position[1]+w.position[1]+y+c.height>h.getHeight()&&(d.textPosition="top",e=!0);b=e?-5-c.height:y+8;g+c.width/2>h.getWidth()?(d.textPosition=["100%",b],d.textAlign="right"):0>g-c.width/2&&(d.textPosition=[0,b],d.textAlign="left")}})}},updateView:function(b,c,d,f){e.each(this._features,function(b){b.updateView&&b.updateView(b.model,c,d,f)})},updateLayout:function(b,c,d,f){e.each(this._features,function(b){b.updateLayout&&b.updateLayout(b.model,c,d,f)})},remove:function(b,c){e.each(this._features,function(d){d.remove&&d.remove(b,c)});this.group.removeAll()},dispose:function(b,c){e.each(this._features,function(d){d.dispose&&d.dispose(b,c)})}})}).call(p,b(368))},function(c,p){function b(){m=!1;r.length?d=r.concat(d):f=-1;d.length&&h()}function h(){if(!m){var c=setTimeout(b);m=!0;for(var e=d.length;e;){r=d;for(d=[];++f<e;)r&&r[f].run();f=-1;e=d.length}r=null;m=!1;clearTimeout(c)}}function l(b,c){this.fun=b;this.array=c}function e(){}var n=c.exports={},d=[],m=!1,r,f=-1;n.nextTick=function(b){var c=Array(arguments.length-1);if(1<arguments.length)for(var e=1;e<arguments.length;e++)c[e-1]=arguments[e];d.push(new l(b,c));1!==d.length||m||setTimeout(h,0)};l.prototype.run=function(){this.fun.apply(null,this.array)};n.title="browser";n.browser=!0;n.env={};n.argv=[];n.version="";n.versions={};n.on=e;n.addListener=e;n.once=e;n.off=e;n.removeListener=e;n.removeAllListeners=e;n.emit=e;n.binding=function(b){throw Error("process.binding is not supported");};n.cwd=function(){return"/"};n.chdir=function(b){throw Error("process.chdir is not supported");};n.umask=function(){return 0}},function(c,p,b){function h(b){this.model=b}p=b(2);h.defaultOption={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:"\u4fdd\u5b58\u4e3a\u56fe\u7247",type:"png",name:"",excludeComponents:["toolbox"],pixelRatio:1,lang:["\u53f3\u952e\u53e6\u5b58\u4e3a\u56fe\u7247"]};h.prototype.unusable=!p.canvasSupported;h.prototype.onclick=function(b,c){var h=this.model,d=h.get("name")||b.get("title.0.text")||"echarts",m=document.createElement("a"),r=h.get("type",!0)||"png";m.download=d+"."+r;m.target="_blank";d=c.getConnectedDataURL({type:r,backgroundColor:h.get("backgroundColor",!0)||b.get("backgroundColor")||"#fff",excludeComponents:h.get("excludeComponents"),pixelRatio:h.get("pixelRatio")});m.href=d;"function"===typeof MouseEvent?(h=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1}),m.dispatchEvent(h)):(m=h.get("lang"),m='\x3cbody style\x3d"margin:0;"\x3e\x3cimg src\x3d"'+d+'" style\x3d"max-width:100%;" title\x3d"'+(m&&m[0]||"")+'" /\x3e\x3c/body\x3e',window.open().document.write(m))};b(314).register("saveAsImage",h);c.exports=h},function(c,p,b){function h(b){this.model=b}var l=b(4);h.defaultOption={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z",tiled:"M2.3,2.2h22.8V25H2.3V2.2z M35,2.2h22.8V25H35V2.2zM2.3,35h22.8v22.8H2.3V35z M35,35h22.8v22.8H35V35z"},title:{line:"\u5207\u6362\u4e3a\u6298\u7ebf\u56fe",bar:"\u5207\u6362\u4e3a\u67f1\u72b6\u56fe",stack:"\u5207\u6362\u4e3a\u5806\u53e0",tiled:"\u5207\u6362\u4e3a\u5e73\u94fa"},option:{},seriesIndex:{}};p=h.prototype;p.getIcons=function(){var b=this.model,c=b.get("icon"),e={};l.each(b.get("type"),function(b){c[b]&&(e[b]=c[b])});return e};var e={line:function(b,c,e,f){if("bar"===b)return l.merge({id:c,type:"line",data:e.get("data"),stack:e.get("stack"),markPoint:e.get("markPoint"),markLine:e.get("markLine")},f.get("option.line")||{},!0)},bar:function(b,c,e,f){if("line"===b)return l.merge({id:c,type:"bar",data:e.get("data"),stack:e.get("stack"),markPoint:e.get("markPoint"),markLine:e.get("markLine")},f.get("option.bar")||{},!0)},stack:function(b,c,e,f){if("line"===b||"bar"===b)return l.merge({id:c,stack:"__ec_magicType_stack__"},f.get("option.stack")||{},!0)},tiled:function(b,c,e,f){if("line"===b||"bar"===b)return l.merge({id:c,stack:""},f.get("option.tiled")||{},!0)}},n=[["line","bar"],["stack","tiled"]];p.onclick=function(b,c,h){var f=this.model,k=f.get("seriesIndex."+h);if(e[h]){var p={series:[]};l.each(n,function(b){0<=l.indexOf(b,h)&&l.each(b,function(b){f.setIconStatus(b,"normal")})});f.setIconStatus(h,"emphasis");b.eachComponent({mainType:"series",query:null==k?null:{seriesIndex:k}},function(b){var c=e[h](b.subType,b.id,b,f);c&&(l.defaults(c,b.option),p.series.push(c));if((c=b.coordinateSystem)&&"cartesian2d"===c.type&&("line"===h||"bar"===h)&&(c=c.getAxesByScale("ordinal")[0])){c=c.dim;b=b.get(c+"AxisIndex");c+="Axis";p[c]=p[c]||[];for(var d=0;d<=b;d++)p[c][b]=p[c][b]||{};p[c][b].boundaryGap="bar"===h?!0:!1}});c.dispatchAction({type:"changeMagicType",currentType:h,newOption:p})}};b(1).registerAction({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(b,c){c.mergeOption(b.newOption)});b(314).register("magicType",h);c.exports=h},function(c,p,b){function h(b){var c={},d=[],g=[];b.eachRawSeries(function(b){var e=b.coordinateSystem;if(!e||"cartesian2d"!==e.type&&"polar"!==e.type)d.push(b);else{var f=e.getBaseAxis();if("category"===f.type){var h=f.dim+"_"+f.index;c[h]||(c[h]={categoryAxis:f,valueAxis:e.getOtherAxis(f),series:[]},g.push({axisDim:f.dim,axisIndex:f.index}));c[h].series.push(b)}else d.push(b)}});return{seriesGroupByCategoryAxis:c,other:d,meta:g}}function l(b){var c=[];u.each(b,function(b,d){var g=b.categoryAxis,e=b.valueAxis.dim,f=[" "].concat(u.map(b.series,function(b){return b.name})),h=[g.model.getCategories()];u.each(b.series,function(b){h.push(b.getRawData().mapArray(e,function(b){return b}))});g=[f.join("\t")];for(f=0;f<h[0].length;f++){for(var k=[],m=0;m<h.length;m++)k.push(h[m][f]);g.push(k.join("\t"))}c.push(g.join("\n"))});return c.join("\n\n"+v+"\n\n")}function e(b){return u.map(b,function(b){var c=b.getRawData(),d=[b.name],g=[];c.each(c.dimensions,function(){for(var b=arguments.length,e=c.getName(arguments[b-1]),f=0;f<b-1;f++)g[f]=arguments[f];d.push((e?e+"\t":"")+g.join("\t"))});return d.join("\n")}).join("\n\n"+v+"\n\n")}function n(b){b=h(b);return{value:u.filter([l(b.seriesGroupByCategoryAxis),e(b.other)],function(b){return b.replace(/[\n\t\s]/g,"")}).join("\n\n"+v+"\n\n"),meta:b.meta}}function d(b){return b.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function m(b){b=b.split(/\n+/g);for(var c=d(b.shift()).split(g),e=[],c=u.map(c,function(b){return{name:b,data:[]}}),f=0;f<b.length;f++){var h=d(b[f]).split(g);e.push(h.shift());for(var k=0;k<h.length;k++)c[k]&&(c[k].data[f]=h[k])}return{series:c,categories:e}}function r(b,c){var e=b.split(new RegExp("\n*"+v+"\n*","g")),f={series:[]};u.each(e,function(b,e){var h;h=0<=b.slice(0,b.indexOf("\n")).indexOf("\t")?!0:void 0;if(h){h=m(b);var k=c[e],l=k.axisDim+"Axis";k&&(f[l]=f[l]||[],f[l][k.axisIndex]={data:h.categories},f.series=f.series.concat(h.series))}else{h=b.split(/\n+/g);for(var k=d(h.shift()),l=[],t=0;t<h.length;t++){var n=d(h[t]).split(g),q,r=!1;isNaN(n[0])?(r=!0,q=n[0],n=n.slice(1),l[t]={name:q,value:[]},q=l[t].value):q=l[t]=[];for(var p=0;p<n.length;p++)q.push(+n[p]);1===q.length&&(r?l[t].value=q[0]:l[t]=q[0])}h={name:k,data:l};f.series.push(h)}});return f}function f(b){this._dom=null;this.model=b}function k(b,c){return u.map(b,function(b,d){var g=c&&c[d];return u.isObject(g)&&!u.isArray(g)?(u.isObject(b)&&!u.isArray(b)&&(b=b.value),u.defaults({value:b},g)):b})}var u=b(4),x=b(87),v=Array(60).join("-"),g=RegExp("[\t]+","g");f.defaultOption={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:"\u6570\u636e\u89c6\u56fe",lang:["\u6570\u636e\u89c6\u56fe","\u5173\u95ed","\u5237\u65b0"],backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};f.prototype.onclick=function(b,c){function d(){g.removeChild(f);O._dom=null}var g=c.getDom(),e=this.model;this._dom&&g.removeChild(this._dom);var f=document.createElement("div");f.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;";f.style.backgroundColor=e.get("backgroundColor")||"#fff";var h=document.createElement("h4"),k=e.get("lang")||[];h.innerHTML=k[0]||e.get("title");h.style.cssText="margin: 10px 20px;";h.style.color=e.get("textColor");var m=document.createElement("div"),l=document.createElement("textarea");m.style.cssText="display:block;width:100%;overflow:hidden;";var p=e.get("optionToContent"),q=e.get("contentToOption"),v=n(b);"function"===typeof p?(p=p(c.getOption()),"string"===typeof p?m.innerHTML=p:u.isDom(p)&&m.appendChild(p)):(m.appendChild(l),l.readOnly=e.get("readOnly"),l.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",l.style.color=e.get("textColor"),l.style.borderColor=e.get("textareaBorderColor"),l.style.backgroundColor=e.get("textareaColor"),l.value=v.value);var L=v.meta,v=document.createElement("div");v.style.cssText="position:absolute;bottom:0;left:0;right:0;";var p="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",I=document.createElement("div"),K=document.createElement("div"),p=p+(";background-color:"+e.get("buttonColor")),p=p+(";color:"+e.get("buttonTextColor")),O=this;x.addEventListener(I,"click",d);x.addEventListener(K,"click",function(){var b;try{b="function"===typeof q?q(m,c.getOption()):r(l.value,L)}catch(g){throw d(),Error("Data view format error "+g);}b&&c.dispatchAction({type:"changeDataView",newOption:b});d()});I.innerHTML=k[1];K.innerHTML=k[2];K.style.cssText=p;I.style.cssText=p;!e.get("readOnly")&&v.appendChild(K);v.appendChild(I);x.addEventListener(l,"keydown",function(b){if(9===(b.keyCode||b.which)){var c=this.value,d=this.selectionStart,g=this.selectionEnd;this.value=c.substring(0,d)+"\t"+c.substring(g);this.selectionStart=this.selectionEnd=d+1;x.stop(b)}});f.appendChild(h);f.appendChild(m);f.appendChild(v);m.style.height=g.clientHeight-80+"px";g.appendChild(f);this._dom=f};f.prototype.remove=function(b,c){this._dom&&c.getDom().removeChild(this._dom)};f.prototype.dispose=function(b,c){this.remove(b,c)};b(314).register("dataView",f);b(1).registerAction({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(b,c){var d=[];u.each(b.newOption.series,function(b){var g=c.getSeriesByName(b.name)[0];g?(g=g.get("data"),d.push({name:b.name,data:k(b.data,g)})):d.push(u.extend({type:"scatter"},b))});c.mergeOption(u.defaults({series:d},b.newOption))});c.exports=f},function(c,p,b){function h(b,c,d){(this._brushController=new n(d.getZr())).on("brush",e.bind(this._onBrush,this)).mount()}function l(b){var c={};e.each(["xAxisIndex","yAxisIndex"],function(d){c[d]=b[d];null==c[d]&&(c[d]="all");!1!==c[d]&&"none"!==c[d]||(c[d]=[])});return c}var e=b(4),n=b(233),d=b(309),m=b(373),r=e.each;b(374);h.defaultOption={show:!0,icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:{zoom:"\u533a\u57df\u7f29\u653e",back:"\u533a\u57df\u7f29\u653e\u8fd8\u539f"}};p=h.prototype;p.render=function(b,c,e,f){this.model=b;this.ecModel=c;this.api=e;e=this._isZoomActive;f&&"takeGlobalCursor"===f.type&&(e="dataZoomSelect"===f.key?f.dataZoomSelectActive:!1);this._isZoomActive=e;b.setIconStatus("zoom",e?"emphasis":"normal");f=d.makeCoordInfoList(l(b.option),c);var g=f.xAxisHas&&!f.yAxisHas?"lineX":!f.xAxisHas&&f.yAxisHas?"lineY":"rect";this._brushController.setPanels(d.makePanelOpts(f)).enableBrush(e?{brushType:g,brushStyle:{lineWidth:0,fill:"rgba(0,0,0,0.2)"}}:!1);b.setIconStatus("back",1<m.count(c)?"emphasis":"normal")};p.onclick=function(b,c,d){f[d].call(this)};p.remove=function(b,c){this._brushController.unmount()};p.dispose=function(b,c){this._brushController.dispose()};var f={zoom:function(){this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:!this._isZoomActive})},back:function(){this._dispatchZoomAction(m.pop(this.ecModel))}};p._onBrush=function(b,c){function e(b,c,d){(b=f(b,d[b],h))&&(g[b.id]={dataZoomId:b.id,startValue:c[0],endValue:c[1]})}function f(b,c,d){var g;d.eachComponent({mainType:"dataZoom",subType:"select"},function(e,f){var h=e.get(b+"Index");null!=h&&d.getComponent(b,h)===c&&(g=e)});return g}if(c.isEnd&&b.length){var g={},h=this.ecModel;this._brushController.updateCovers([]);var n=d.makeCoordInfoList(l(this.model.option),h),r=[];d.parseOutputRanges(b,n,h,r);var n=b[0],r=r[0],p=n.coordRange,n=n.brushType;r&&p&&("rect"===n?(e("xAxis",p[0],r),e("yAxis",p[1],r)):e({lineX:"xAxis",lineY:"yAxis"}[n],p,r));m.push(h,g);this._dispatchZoomAction(g)}};p._dispatchZoomAction=function(b){var c=[];r(b,function(b,d){c.push(e.clone(b))});c.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:c})};b(314).register("dataZoom",h);b(1).registerPreprocessor(function(b){function c(b,g){if(g){var h=b+"Index",k=g[h];null==k||"all"==k||e.isArray(k)||(k=!1===k||"none"===k?[]:[k]);d(b,function(c,d){if(null==k||"all"==k||-1!==e.indexOf(k,d)){var g={type:"select",$fromToolbox:!0,id:"\x00_ec_\x00toolbox-dataZoom_"+b+d};g[h]=d;f.push(g)}})}}function d(c,g){var f=b[c];e.isArray(f)||(f=f?[f]:[]);r(f,g)}if(b){var f=b.dataZoom||(b.dataZoom=[]);e.isArray(f)||(b.dataZoom=f=[f]);var g=b.toolbox;g&&(e.isArray(g)&&(g=g[0]),g&&g.feature&&(g=g.feature.dataZoom,c("xAxis",g),c("yAxis",g)))}});c.exports=h},function(c,p,b){function h(b){var c=b["\x00_ec_hist_store"];c||(c=b["\x00_ec_hist_store"]=[{}]);return c}var l=b(4).each;c.exports={push:function(b,c){var d=h(b);l(c,function(c,h){for(var f=d.length-1;0<=f&&!d[f][h];f--);0>f&&(f=b.queryComponents({mainType:"dataZoom",subType:"select",id:h})[0])&&(f=f.getPercentRange(),d[0][h]={dataZoomId:h,start:f[0],end:f[1]})});d.push(c)},pop:function(b){var c=h(b);b=c[c.length-1];1<c.length&&c.pop();var d={};l(b,function(b,e){for(var f=c.length-1;0<=f;f--)if(b=c[f][e]){d[e]=b;break}});return d},clear:function(b){b["\x00_ec_hist_store"]=null},count:function(b){return h(b).length}}},function(c,p,b){b(317);b(318);b(320);b(375);b(376);b(327);b(328)},function(c,p,b){p=b(318);c.exports=p.extend({type:"dataZoom.select"})},function(c,p,b){c.exports=b(320).extend({type:"dataZoom.select"})},function(c,p,b){function h(b){this.model=b}var l=b(373);h.defaultOption={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:"\u8fd8\u539f"};h.prototype.onclick=function(b,c,d){l.clear(b);c.dispatchAction({type:"restore",from:this.uid})};b(314).register("restore",h);b(1).registerAction({type:"restore",event:"restore",update:"prepareAndUpdate"},function(b,c){c.resetOption("recreate")});c.exports=h},function(c,p,b){b(379);b(81).registerPainter("vml",b(381))},function(c,p,b){if(!b(2).canvasSupported){var h=b(10),l=b(9),e=b(49).CMD,n=b(39),d=b(8);p=b(48);var m=b(46),r=b(62);c=b(64);var f=b(45),k=b(61),u=b(380),x=Math.round,v=Math.sqrt,g=Math.abs,t=Math.cos,w=Math.sin,y=Math.max,z=h.applyTransform,D=function(b){b.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;";b.coordsize="21600,21600";b.coordorigin="0,0"},A=function(b,c){c&&b&&c.parentNode!==b&&b.appendChild(c)},B=function(b,c){c&&b&&c.parentNode===b&&b.removeChild(c)},F=function(b,c,d){return 1E5*(parseFloat(b)||0)+1E3*(parseFloat(c)||0)+d},N=function(b,c){return"string"===typeof b?0<=b.lastIndexOf("%")?parseFloat(b)/100*c:parseFloat(b):b},E=function(b,c,d){c=n.parse(c);d=+d;isNaN(d)&&(d=1);c&&(b.color="rgb("+[c[0],c[1],c[2]].join()+")",b.opacity=d*c[3])},G=function(b){b=n.parse(b);return["rgb("+[b[0],b[1],b[2]].join()+")",b[3]]},q=function(b,c,d){var g=c.fill;if(null!=g)if(g instanceof k){var e,f=0,h=[0,0],m=0,l=1,t=d.getBoundingRect(),n=t.width,w=t.height;if("linear"===g.type){e="gradient";var q=d.transform,r=[g.x*n,g.y*w],f=[g.x2*n,g.y2*w];q&&(z(r,r,q),z(f,f,q));f=180*Math.atan2(f[0]-r[0],f[1]-r[1])/Math.PI;0>f&&(f+=360);1E-6>f&&(f=0)}else e="gradientradial",r=[g.x*n,g.y*w],q=d.transform,m=d.scale,l=n,h=[(r[0]-t.x)/l,(r[1]-t.y)/w],q&&z(r,r,q),l/=21600*m[0],w/=21600*m[1],l=y(l,w),m=0/l,l=2*g.r/l-m;r=g.colorStops.slice();r.sort(function(b,c){return b.offset-c.offset});t=r.length;q=[];g=[];for(w=0;w<t;w++)n=r[w],d=G(n.color),g.push(n.offset*l+m+" "+d[0]),0!==w&&w!==t-1||q.push(d);2<=t&&(m=q[0][0],l=q[1][0],r=q[0][1]*c.opacity,c=q[1][1]*c.opacity,b.type=e,b.method="none",b.focus="100%",b.angle=f,b.color=m,b.color2=l,b.colors=g.join(","),b.opacity=c,b.opacity2=r);"radial"===e&&(b.focusposition=h.join(","))}else E(b,g,c.opacity)},H=function(b,c,d,g){var e="fill"==c,f=b.getElementsByTagName(c)[0];null!=d[c]&&"none"!==d[c]&&(e||!e&&d.lineWidth)?(b[e?"filled":"stroked"]="true",d[c]instanceof k&&B(b,f),f||(f=u.createNode(c)),e?q(f,d,g):(c=f,null!=d.lineDash&&(c.dashstyle=d.lineDash.join(" ")),null==d.stroke||d.stroke instanceof k||E(c,d.stroke,d.opacity)),A(b,f)):(b[e?"filled":"stroked"]="false",B(b,f))},L=[[],[],[]];f.prototype.brushVML=function(b){var c=this.style,d=this._vmlEl;d||(d=u.createNode("shape"),D(d),this._vmlEl=d);H(d,"fill",c,this);H(d,"stroke",c,this);var f=this.transform,h=null!=f,k=d.getElementsByTagName("stroke")[0];if(k){var m=c.lineWidth;h&&!c.strokeNoScale&&(m*=v(g(f[0]*f[3]-f[1]*f[2])));k.weight=m+"px"}h=this.path;this.__dirtyPath&&(h.beginPath(),this.buildPath(h,this.shape),h.toStatic(),this.__dirtyPath=!1);var f=d,h=h.data,k=this.transform,m=e.M,l=e.C,n=e.L,q=e.A,r=e.Q,p=[],y,B,E,N,O,J;for(N=0;N<h.length;){E=h[N++];B="";y=0;switch(E){case m:B=" m ";y=1;O=h[N++];J=h[N++];L[0][0]=O;L[0][1]=J;break;case n:B=" l ";y=1;O=h[N++];J=h[N++];L[0][0]=O;L[0][1]=J;break;case r:case l:B=" c ";y=3;var G=h[N++],M=h[N++],I=h[N++],K=h[N++],X;E===r?(E=I,X=K,I=(I+2*G)/3,K=(K+2*M)/3,G=(O+2*G)/3,M=(J+2*M)/3):(E=h[N++],X=h[N++]);L[0][0]=G;L[0][1]=M;L[1][0]=I;L[1][1]=K;L[2][0]=E;L[2][1]=X;O=E;J=X;break;case q:J=O=0;K=I=1;G=0;k&&(O=k[4],J=k[5],I=v(k[0]*k[0]+k[1]*k[1]),K=v(k[2]*k[2]+k[3]*k[3]),G=Math.atan2(-k[1]/K,k[0]/I));E=h[N++];X=h[N++];var ja=h[N++],oa=h[N++],Da=h[N++]+G,ya=h[N++]+Da+G;N++;var qa=h[N++],ma=E+t(Da)*ja,Ea=X+w(Da)*oa,G=E+t(ya)*ja,M=X+w(ya)*oa,La=qa?" wa ":" at ";1E-10>Math.abs(ma-G)&&(.01<Math.abs(ya-Da)?qa&&(ma+=.0125):1E-10>Math.abs(Ea-X)?M=qa&&ma<E||!qa&&ma>E?M-.0125:M+.0125:G=qa&&Ea<X||!qa&&Ea>X?G+.0125:G-.0125);p.push(La,x(21600*((E-ja)*I+O)-10800),",",x(21600*((X-oa)*K+J)-10800),",",x(21600*((E+ja)*I+O)-10800),",",x(21600*((X+oa)*K+J)-10800),",",x(21600*(ma*I+O)-10800),",",x(21600*(Ea*K+J)-10800),",",x(21600*(G*I+O)-10800),",",x(21600*(M*K+J)-10800));O=G;J=M;break;case e.R:G=L[0];M=L[1];G[0]=h[N++];G[1]=h[N++];M[0]=G[0]+h[N++];M[1]=G[1]+h[N++];k&&(z(G,G,k),z(M,M,k));G[0]=x(21600*G[0]-10800);M[0]=x(21600*M[0]-10800);G[1]=x(21600*G[1]-10800);M[1]=x(21600*M[1]-10800);p.push(" m ",G[0],",",G[1]," l ",M[0],",",G[1]," l ",M[0],",",M[1]," l ",G[0],",",M[1]);break;case e.Z:p.push(" x ")}if(0<y)for(p.push(B),B=0;B<y;B++)G=L[B],k&&z(G,G,k),p.push(x(21600*G[0]-10800),",",x(21600*G[1]-10800),B<y-1?",":"")}h=p.join("");f.path=h;d.style.zIndex=F(this.zlevel,this.z,this.z2);A(b,d);c.text?this.drawRectText(b,this.getBoundingRect()):this.removeRectText(b)};f.prototype.onRemove=function(b){B(b,this._vmlEl);this.removeRectText(b)};f.prototype.onAdd=function(b){A(b,this._vmlEl);this.appendRectText(b)};r.prototype.brushVML=function(b){var c=this.style,d=c.image,g,e;if("object"===typeof d&&d.tagName&&"IMG"===d.tagName.toUpperCase()){var f=d.src;if(f===this._imageSrc)g=this._imageWidth,e=this._imageHeight;else{var h=d.runtimeStyle,k=h.width,m=h.height;h.width="auto";h.height="auto";g=d.width;e=d.height;h.width=k;h.height=m;this._imageSrc=f;this._imageWidth=g;this._imageHeight=e}d=f}else d===this._imageSrc&&(g=this._imageWidth,e=this._imageHeight);if(d){var l=c.x||0,t=c.y||0,n=c.width,w=c.height,q=c.sWidth,r=c.sHeight,h=c.sx||0,k=c.sy||0,m=q&&r,f=this._vmlEl;f||(f=u.doc.createElement("div"),D(f),this._vmlEl=f);var p=f.style,B=!1,E,N=1,O=1;this.transform&&(E=this.transform,N=v(E[0]*E[0]+E[1]*E[1]),O=v(E[2]*E[2]+E[3]*E[3]),B=E[1]||E[2]);if(B){var G=[l,t],J=[l+n,t],L=[l,t+w],M=[l+n,t+w];z(G,G,E);z(J,J,E);z(L,L,E);z(M,M,E);B=y(G[0],J[0],L[0],M[0]);G=y(G[1],J[1],L[1],M[1]);J=[];J.push("M11\x3d",E[0]/N,",","M12\x3d",E[2]/O,",","M21\x3d",E[1]/N,",","M22\x3d",E[3]/O,",","Dx\x3d",x(l*N+E[4]),",","Dy\x3d",x(t*O+E[5]));p.padding="0 "+x(B)+"px "+x(G)+"px 0";p.filter="progid:DXImageTransform.Microsoft.Matrix("+J.join("")+", SizingMethod\x3dclip)"}else E&&
(l=l*N+E[4],t=t*O+E[5]),p.filter="",p.left=x(l)+"px",p.top=x(t)+"px";E=this._imageEl;l=this._cropEl;E||(this._imageEl=E=u.doc.createElement("div"));var I=E.style;if(m){if(g&&e)I.width=x(N*g*n/q)+"px",I.height=x(O*e*w/r)+"px";else{var H=new Image,K=this;H.onload=function(){H.onload=null;g=H.width;e=H.height;I.width=x(N*g*n/q)+"px";I.height=x(O*e*w/r)+"px";K._imageWidth=g;K._imageHeight=e;K._imageSrc=d};H.src=d}l||(l=u.doc.createElement("div"),l.style.overflow="hidden",this._cropEl=l);m=l.style;m.width=x((n+h*n/q)*N);m.height=x((w+k*w/r)*O);m.filter="progid:DXImageTransform.Microsoft.Matrix(Dx\x3d"+-h*n/q*N+",Dy\x3d"+-k*w/r*O+")";l.parentNode||f.appendChild(l);E.parentNode!=l&&l.appendChild(E)}else I.width=x(N*n)+"px",I.height=x(O*w)+"px",f.appendChild(E),l&&l.parentNode&&(f.removeChild(l),this._cropEl=null);E="";h=c.opacity;1>h&&(E+=".Alpha(opacity\x3d"+x(100*h)+") ");I.filter=E+("progid:DXImageTransform.Microsoft.AlphaImageLoader(src\x3d"+d+", SizingMethod\x3dscale)");f.style.zIndex=F(this.zlevel,this.z,this.z2);A(b,f);c.text&&this.drawRectText(b,this.getBoundingRect())}};r.prototype.onRemove=function(b){B(b,this._vmlEl);this._imageEl=this._cropEl=this._vmlEl=null;this.removeRectText(b)};r.prototype.onAdd=function(b){A(b,this._vmlEl);this.appendRectText(b)};var I={},K=0,O=document.createElement("div"),M;d.measureText=function(b,c){var d=u.doc;M||(M=d.createElement("div"),M.style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;",u.doc.body.appendChild(M));try{M.style.font=c}catch(g){}M.innerHTML="";M.appendChild(d.createTextNode(b));return{width:M.offsetWidth}};var J=new l;b=function(b,c,g,e){var f=this.style,h=f.text;if(h){var k,m=f.textAlign,l,t=f.textFont;k=I[t];if(!k){100<K&&(K=0,I={});k=O.style;var n;try{k.font=t,n=k.fontFamily.split(",")[0]}catch(w){}k={style:k.fontStyle||"normal",variant:k.fontVariant||"normal",weight:k.fontWeight||"normal",size:parseFloat(k.fontSize||12)|0,family:n||"Microsoft YaHei"};I[t]=k;K++}l=k;var t=l.style+" "+l.variant+" "+l.weight+" "+l.size+'px "'+l.family+'"',q=f.textBaseline,r=f.textVerticalAlign;g=g||d.getBoundingRect(h,t,m,q);(n=this.transform)&&!e&&(J.copy(c),J.applyTransform(n),c=J);if(e)k=c.x,c=c.y;else{var p=f.textPosition;k=f.textDistance;p instanceof Array?(k=c.x+N(p[0],c.width),c=c.y+N(p[1],c.height),m=m||"left",q=q||"top"):(p=d.adjustTextPositionOnRect(p,c,g,k),k=p.x,c=p.y,m=m||p.textAlign,q=q||p.textBaseline)}if(r){switch(r){case "middle":c-=g.height/2;break;case "bottom":c-=g.height}q="top"}l=l.size;switch(q){case "hanging":case "top":c+=l/1.75;break;case "middle":break;default:c-=l/2.25}switch(m){case "center":k-=g.width/2;break;case "right":k-=g.width}q=u.createNode;(g=this._textVmlEl)?(q=g.firstChild,l=q.nextSibling,m=l.nextSibling):(g=q("line"),l=q("path"),m=q("textpath"),q=q("skew"),m.style["v-text-align"]="left",D(g),l.textpathok=!0,m.on=!0,g.from="0 0",g.to="1000 0.05",A(g,q),A(g,l),A(g,m),this._textVmlEl=g);l=[k,c];r=g.style;n&&e?(z(l,l,n),q.on=!0,q.matrix=n[0].toFixed(3)+","+n[2].toFixed(3)+","+n[1].toFixed(3)+","+n[3].toFixed(3)+",0,0",q.offset=(x(l[0])||0)+","+(x(l[1])||0),q.origin="0 0",r.left="0px",r.top="0px"):(q.on=!1,r.left=x(k)+"px",r.top=x(c)+"px");m.string=String(h).replace(/&/g,"\x26amp;").replace(/"/g,"\x26quot;");try{m.style.font=t}catch(w){}H(g,"fill",{fill:e?f.fill:f.textFill,opacity:f.opacity},this);H(g,"stroke",{stroke:e?f.stroke:f.textStroke,opacity:f.opacity,lineDash:f.lineDash},this);g.style.zIndex=F(this.zlevel,this.z,this.z2);A(b,g)}};h=function(b){B(b,this._textVmlEl);this._textVmlEl=null};l=function(b){A(b,this._textVmlEl)};p=[p,m,r,f,c];for(m=0;m<p.length;m++)r=p[m].prototype,r.drawRectText=b,r.removeRectText=h,r.appendRectText=l;c.prototype.brushVML=function(b){var c=this.style;c.text?this.drawRectText(b,{x:c.x||0,y:c.y||0,width:0,height:0},this.getBoundingRect(),!0):this.removeRectText(b)};c.prototype.onRemove=function(b){this.removeRectText(b)};c.prototype.onAdd=function(b){this.appendRectText(b)}}},function(c,p,b){if(!b(2).canvasSupported){var h,l=window.document,e=!1;try{!l.namespaces.zrvml&&l.namespaces.add("zrvml","urn:schemas-microsoft-com:vml"),h=function(b){return l.createElement("\x3czrvml:"+b+' class\x3d"zrvml"\x3e')}}catch(n){h=function(b){return l.createElement("\x3c"+b+' xmlns\x3d"urn:schemas-microsoft-com:vml" class\x3d"zrvml"\x3e')}}c.exports={doc:l,initVML:function(){if(!e){e=!0;var b=l.styleSheets;31>b.length?l.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)"):b[0].addRule(".zrvml","behavior:url(#default#VML)")}},createNode:h}}},function(c,p,b){function h(b,c){n.initVML();this.root=b;this.storage=c;var d=document.createElement("div"),e=document.createElement("div");d.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;";e.style.cssText="position:absolute;left:0;top:0;";b.appendChild(d);this._vmlRoot=e;this._vmlViewport=d;this.resize();var h=c.delFromMap,l=c.addToMap;c.delFromMap=function(b){var d=c.get(b);h.call(c,b);d&&d.onRemove&&d.onRemove(e)};c.addToMap=function(b){b.onAdd&&b.onAdd(e);l.call(c,b)};this._firstPaint=!0}function l(b){return function(){e('In IE8.0 VML mode painter not support method "'+b+'"')}}var e=b(40),n=b(380);h.prototype={constructor:h,getViewportRoot:function(){return this._vmlViewport},refresh:function(){var b=this.storage.getDisplayList(!0,!0);this._paintList(b)},_paintList:function(b){for(var c=this._vmlRoot,d=0;d<b.length;d++){var e=b[d];if(e.invisible||e.ignore){if(!e.__alreadyNotVisible)e.onRemove(c);e.__alreadyNotVisible=!0}else{if(e.__alreadyNotVisible)e.onAdd(c);e.__alreadyNotVisible=!1;e.__dirty&&(e.beforeBrush&&e.beforeBrush(),(e.brushVML||e.brush).call(e,c),e.afterBrush&&e.afterBrush())}e.__dirty=!1}this._firstPaint&&(this._vmlViewport.appendChild(c),this._firstPaint=!1)},resize:function(){var b=this._getWidth(),c=this._getHeight();if(this._width!=b&&this._height!=c){this._width=b;this._height=c;var d=this._vmlViewport.style;d.width=b+"px";d.height=c+"px"}},dispose:function(){this.root.innerHTML="";this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},clear:function(){this.root.removeChild(this.vmlViewport)},_getWidth:function(){var b=this.root,c=b.currentStyle;return(b.clientWidth||parseInt(c.width,10))-parseInt(c.paddingLeft,10)-parseInt(c.paddingRight,10)|0},_getHeight:function(){var b=this.root,c=b.currentStyle;return(b.clientHeight||parseInt(c.height,10))-parseInt(c.paddingTop,10)-parseInt(c.paddingBottom,10)|0}};p="getLayer insertLayer eachLayer eachBuildinLayer eachOtherLayer getLayers modLayer delLayer clearLayer toDataURL pathToImage".split(" ");for(b=0;b<p.length;b++){var d=p[b];h.prototype[d]=l(d)}c.exports=h}])});(function(c){function p(c,d,e){var m=c[0],l=/er/.test(e)?"indeterminate":/bl/.test(e)?"disabled":"checked",n="update"==e?{checked:m.checked,disabled:m.disabled,indeterminate:"true"==c.attr("indeterminate")||"false"==c.attr("determinate")}:m[l];if(/^(ch|di|in)/.test(e)&&!n)b(c,l);else if(/^(un|en|de)/.test(e)&&n)h(c,l);else if("update"==e)for(var g in n)n[g]?b(c,g,!0):h(c,g,!0);else d&&"toggle"!=e||(d||c.trigger("ifClicked"),n?"radio"!==m.type&&h(c,l):b(c,l))}function b(b,f,k){var m=b[0],l=b.parent(),p="checked"==f,g="indeterminate"==f,t="disabled"==f,w=g?"determinate":p?"unchecked":"enabled",y=e(b,w+n(m.type)),z=e(b,f+n(m.type));if(!0!==m[f]){if(!k&&"checked"==f&&"radio"==m.type&&m.name){var D=b.closest("form"),A='input[name\x3d"'+m.name+'"]',A=D.length?D.find(A):c(A);A.each(function(){this!==m&&c(this).data("iCheck")&&h(c(this),f)})}g?(m[f]=!0,m.checked&&h(b,"checked","force")):(k||(m[f]=!0),p&&m.indeterminate&&h(b,"indeterminate",!1));d(b,p,f,k)}m.disabled&&e(b,"cursor",!0)&&l.find(".iCheck-helper").css("cursor","default");l.addClass(z||e(b,f)||"");l.attr("role")&&!g&&l.attr("aria-"+(t?"disabled":"checked"),"true");l.removeClass(y||e(b,w)||"")}function h(b,c,h){var m=b[0],l=b.parent(),p="checked"==c,g="indeterminate"==c,t="disabled"==c,w=g?"determinate":p?"unchecked":"enabled",y=e(b,w+n(m.type)),z=e(b,c+n(m.type));if(!1!==m[c]){if(g||!h||"force"==h)m[c]=!1;d(b,p,w,h)}!m.disabled&&e(b,"cursor",!0)&&l.find(".iCheck-helper").css("cursor","pointer");l.removeClass(z||e(b,c)||"");l.attr("role")&&!g&&l.attr("aria-"+(t?"disabled":"checked"),"false");l.addClass(y||e(b,w)||"")}function l(b,d){b.data("iCheck")&&(b.parent().html(b.attr("style",b.data("iCheck").s||"")),d&&b.trigger(d),b.off(".i").unwrap(),c('label[for\x3d"'+b[0].id+'"]').add(b.closest("label")).off(".i"))}function e(b,c,d){if(b.data("iCheck"))return b.data("iCheck").o[c+(d?"":"Class")]}function n(b){return b.charAt(0).toUpperCase()+b.slice(1)}function d(b,c,d,e){e||(c&&b.trigger("ifToggled"),b.trigger("ifChanged").trigger("if"+n(d)))}var m=/ipad|iphone|ipod|android|blackberry|windows phone|opera mini|silk/i.test(navigator.userAgent);c.fn.iCheck=function(d,e){var k='input[type\x3d"checkbox"], input[type\x3d"radio"]',n=c(),x=function(b){b.each(function(){var b=c(this);n=b.is(k)?n.add(b):n.add(b.find(k))})};if(/^(check|uncheck|toggle|indeterminate|determinate|disable|enable|update|destroy)$/i.test(d))return d=d.toLowerCase(),x(this),n.each(function(){var b=c(this);"destroy"==d?l(b,"ifDestroyed"):p(b,!0,d);c.isFunction(e)&&e()});if("object"!=typeof d&&d)return this;var v=c.extend({checkedClass:"checked",disabledClass:"disabled",indeterminateClass:"indeterminate",labelHover:!0},d),g=v.handle,t=v.hoverClass||"hover",w=v.focusClass||"focus",y=v.activeClass||"active",z=!!v.labelHover,D=v.labelHoverClass||"hover",A=(""+v.increaseArea).replace("%","")|0;if("checkbox"==g||"radio"==g)k='input[type\x3d"'+g+'"]';-50>A&&(A=-50);x(this);return n.each(function(){var d=c(this);l(d);var g=this,e=g.id,f=-A+"%",k=100+2*A+"%",k={position:"absolute",top:f,left:f,display:"block",width:k,height:k,margin:0,padding:0,background:"#fff",border:0,opacity:0},f=m?{position:"absolute",visibility:"hidden"}:A?k:{position:"absolute",opacity:0},n="checkbox"==g.type?v.checkboxClass||"icheckbox":v.radioClass||"iradio",r=c('label[for\x3d"'+e+'"]').add(d.closest("label")),u=!!v.aria,x="iCheck-"+Math.random().toString(36).substr(2,6),K='\x3cdiv class\x3d"'+n+'" '+(u?'role\x3d"'+g.type+'" ':"");u&&r.each(function(){K+='aria-labelledby\x3d"';this.id?K+=this.id:(this.id=x,K+=x);K+='"'});K=d.wrap(K+"/\x3e").trigger("ifCreated").parent().append(v.insert);k=c('\x3cins class\x3d"iCheck-helper"/\x3e').css(k).appendTo(K);d.data("iCheck",{o:v,s:d.attr("style")}).css(f);v.inheritClass&&K.addClass(g.className||"");v.inheritID&&e&&K.attr("id","iCheck-"+e);"static"==K.css("position")&&K.css("position","relative");p(d,!0,"update");if(r.length)r.on("click.i mouseover.i mouseout.i touchbegin.i touchend.i",function(b){var e=b.type,f=c(this);if(!g.disabled){if("click"==e){if(c(b.target).is("a"))return;p(d,!1,!0)}else z&&(/ut|nd/.test(e)?(K.removeClass(t),f.removeClass(D)):(K.addClass(t),f.addClass(D)));if(m)b.stopPropagation();else return!1}});d.on("click.i focus.i blur.i keyup.i keydown.i keypress.i",function(c){var e=c.type;c=c.keyCode;if("click"==e)return!1;if("keydown"==e&&32==c)return"radio"==g.type&&g.checked||(g.checked?h(d,"checked"):b(d,"checked")),!1;if("keyup"==e&&"radio"==g.type)!g.checked&&b(d,"checked");else if(/us|ur/.test(e))K["blur"==e?"removeClass":"addClass"](w)});k.on("click mousedown mouseup mouseover mouseout touchbegin.i touchend.i",function(b){var c=b.type,e=/wn|up/.test(c)?y:t;if(!g.disabled){if("click"==c)p(d,!1,!0);else if(/wn|er|in/.test(c)?K.addClass(e):K.removeClass(e+" "+y),r.length&&z&&e==t)r[/ut|nd/.test(c)?"removeClass":"addClass"](D);if(m)b.stopPropagation();else return!1}})})}})(window.jQuery||window.Zepto);(function(c,p,b,h){var l=b("html"),e=b(c),n=b(p),d=b.fancybox=function(){d.open.apply(this,arguments)},m=navigator.userAgent.match(/msie/i),r=null,f=p.createTouch!==h,k=function(c){return c&&c.hasOwnProperty&&c instanceof b},u=function(c){return c&&"string"===b.type(c)},x=function(b){return u(b)&&0<b.indexOf("%")},v=function(b,c){var g=parseInt(b,10)||0;c&&x(b)&&(g*=d.getViewport()[c]/100);return Math.ceil(g)},g=function(b,c){return v(b,c)+"px"};b.extend(d,{version:"2.1.5",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,pixelRatio:1,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!f,fitToView:!0,aspectRatio:!1,topRatio:.5,leftRatio:.5,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3E3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'\x3cdiv class\x3d"fancybox-wrap" tabIndex\x3d"-1"\x3e\x3cdiv class\x3d"fancybox-skin"\x3e\x3cdiv class\x3d"fancybox-outer"\x3e\x3cdiv class\x3d"fancybox-inner"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',image:'\x3cimg class\x3d"fancybox-image" src\x3d"{href}" alt\x3d"" /\x3e',iframe:'\x3ciframe id\x3d"fancybox-frame{rnd}" name\x3d"fancybox-frame{rnd}" class\x3d"fancybox-iframe" frameborder\x3d"0" vspace\x3d"0" hspace\x3d"0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(m?' allowtransparency\x3d"true"':"")+"\x3e\x3c/iframe\x3e",error:'\x3cp class\x3d"fancybox-error"\x3eThe requested content cannot be loaded.\x3cbr/\x3ePlease try again later.\x3c/p\x3e',closeBtn:'\x3ca title\x3d"Close" class\x3d"fancybox-item fancybox-close" href\x3d"javascript:;"\x3e\x3c/a\x3e',next:'\x3ca title\x3d"Next" class\x3d"fancybox-nav fancybox-next" href\x3d"javascript:;"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/a\x3e',prev:'\x3ca title\x3d"Previous" class\x3d"fancybox-nav fancybox-prev" href\x3d"javascript:;"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/a\x3e'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:!0,title:!0},onCancel:b.noop,beforeLoad:b.noop,afterLoad:b.noop,beforeShow:b.noop,afterShow:b.noop,beforeChange:b.noop,beforeClose:b.noop,afterClose:b.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(c,g){if(c&&(b.isPlainObject(g)||(g={}),!1!==d.close(!0)))return b.isArray(c)||(c=k(c)?b(c).get():[c]),b.each(c,function(e,f){var m={},l,n,p,r,v;"object"===b.type(f)&&(f.nodeType&&(f=b(f)),k(f)?(m={href:f.data("fancybox-href")||f.attr("href"),title:f.data("fancybox-title")||f.attr("title"),isDom:!0,element:f},b.metadata&&b.extend(!0,m,f.metadata())):m=f);l=g.href||m.href||(u(f)?f:null);n=g.title!==h?g.title:m.title||"";r=(p=g.content||m.content)?"html":g.type||m.type;!r&&m.isDom&&(r=f.data("fancybox-type"),r||(r=(r=f.prop("class").match(/fancybox\.(\w+)/))?r[1]:null));u(l)&&(r||(d.isImage(l)?r="image":d.isSWF(l)?r="swf":"#"===l.charAt(0)?r="inline":u(f)&&(r="html",p=f)),"ajax"===r&&(v=l.split(/\s+/,2),l=v.shift(),v=v.shift()));p||("inline"===r?l?p=b(u(l)?l.replace(/.*(?=#[^\s]+$)/,""):l):m.isDom&&(p=f):"html"===r?p=l:r||l||!m.isDom||(r="inline",p=f));b.extend(m,{href:l,type:r,content:p,title:n,selector:v});c[e]=m}),d.opts=b.extend(!0,{},d.defaults,g),g.keys!==h&&(d.opts.keys=g.keys?b.extend({},d.defaults.keys,g.keys):!1),d.group=c,d._start(d.opts.index)},cancel:function(){var b=d.coming;b&&!1!==d.trigger("onCancel")&&(d.hideLoading(),d.ajaxLoad&&d.ajaxLoad.abort(),d.ajaxLoad=null,d.imgPreload&&(d.imgPreload.onload=d.imgPreload.onerror=null),b.wrap&&b.wrap.stop(!0,!0).trigger("onReset").remove(),d.coming=null,d.current||d._afterZoomOut(b))},close:function(c){d.cancel();!1!==d.trigger("beforeClose")&&(d.unbindEvents(),d.isActive&&(d.isOpen&&!0!==c?(d.isOpen=d.isOpened=!1,d.isClosing=!0,b(".fancybox-item, .fancybox-nav").remove(),d.wrap.stop(!0,!0).removeClass("fancybox-opened"),d.transitions[d.current.closeMethod]()):(b(".fancybox-wrap").stop(!0).trigger("onReset").remove(),d._afterZoomOut())))},play:function(b){var c=function(){clearTimeout(d.player.timer)},g=function(){c();d.current&&d.player.isActive&&(d.player.timer=setTimeout(d.next,d.current.playSpeed))},e=function(){c();n.unbind(".player");d.player.isActive=!1;d.trigger("onPlayEnd")};!0===b||!d.player.isActive&&!1!==b?d.current&&(d.current.loop||d.current.index<d.group.length-1)&&(d.player.isActive=!0,n.bind({"onCancel.player beforeClose.player":e,"onUpdate.player":g,"beforeLoad.player":c}),g(),d.trigger("onPlayStart")):e()},next:function(b){var c=d.current;c&&(u(b)||(b=c.direction.next),d.jumpto(c.index+1,b,"next"))},prev:function(b){var c=d.current;c&&(u(b)||(b=c.direction.prev),d.jumpto(c.index-1,b,"prev"))},jumpto:function(b,c,g){var e=d.current;e&&(b=v(b),d.direction=c||e.direction[b>=e.index?"next":"prev"],d.router=g||"jumpto",e.loop&&(0>b&&(b=e.group.length+b%e.group.length),b%=e.group.length),e.group[b]!==h&&(d.cancel(),d._start(b)))},reposition:function(c,g){var e=d.current,f=e?e.wrap:null,h;f&&(h=d._getPosition(g),c&&"scroll"===c.type?(delete h.position,f.stop(!0,!0).animate(h,200)):(f.css(h),e.pos=b.extend({},e.dim,h)))},update:function(b){var c=b&&b.type,g=!c||"orientationchange"===c;g&&(clearTimeout(r),r=null);d.isOpen&&!r&&(r=setTimeout(function(){var e=d.current;e&&!d.isClosing&&(d.wrap.removeClass("fancybox-tmp"),(g||"load"===c||"resize"===c&&e.autoResize)&&d._setDimension(),"scroll"===c&&e.canShrink||d.reposition(b),d.trigger("onUpdate"),r=null)},g&&!f?0:300))},toggle:function(c){d.isOpen&&(d.current.fitToView="boolean"===b.type(c)?c:!d.current.fitToView,f&&(d.wrap.removeAttr("style").addClass("fancybox-tmp"),d.trigger("onUpdate")),d.update())},hideLoading:function(){n.unbind(".loading");b("#fancybox-loading").remove()},showLoading:function(){var c,g;d.hideLoading();c=b('\x3cdiv id\x3d"fancybox-loading"\x3e\x3cdiv\x3e\x3c/div\x3e\x3c/div\x3e').click(d.cancel).appendTo("body");n.bind("keydown.loading",function(b){27===(b.which||b.keyCode)&&(b.preventDefault(),d.cancel())});d.defaults.fixed||(g=d.getViewport(),c.css({position:"absolute",top:.5*g.h+g.y,left:.5*g.w+g.x}))},getViewport:function(){var b=d.current&&d.current.locked||!1,g={x:e.scrollLeft(),y:e.scrollTop()};b?(g.w=b[0].clientWidth,g.h=b[0].clientHeight):(g.w=f&&c.innerWidth?c.innerWidth:e.width(),g.h=f&&c.innerHeight?c.innerHeight:e.height());return g},unbindEvents:function(){d.wrap&&k(d.wrap)&&d.wrap.unbind(".fb");n.unbind(".fb");e.unbind(".fb")},bindEvents:function(){var c=d.current,g;c&&(e.bind("orientationchange.fb"+(f?"":" ../../../../../error/ie.html")+(c.autoCenter&&!c.locked?" ../../../../../error/ie.html":""),d.update),(g=c.keys)&&n.bind("../../../../../error/ie.html",function(e){var f=e.which||e.keyCode,k=e.target||e.srcElement;if(27===f&&d.coming)return!1;e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||k&&(k.type||b(k).is("[contenteditable]"))||b.each(g,function(g,k){if(1<c.group.length&&k[f]!==h)return d[g](k[f]),e.preventDefault(),!1;if(-1<b.inArray(f,k))return d[g](),e.preventDefault(),!1})}),b.fn.mousewheel&&c.mouseWheel&&d.wrap.bind("../../../../../error/ie.html",function(g,e,f,h){for(var k=b(g.target||null),m=!1;k.length&&!(m||k.is(".fancybox-skin")||k.is(".fancybox-wrap"));)m=(m=k[0])&&!(m.style.overflow&&"hidden"===m.style.overflow)&&(m.clientWidth&&m.scrollWidth>m.clientWidth||m.clientHeight&&m.scrollHeight>m.clientHeight),k=b(k).parent();0!==e&&!m&&1<d.group.length&&!c.canShrink&&(0<h||0<f?d.prev(0<h?"down":"left"):(0>h||0>f)&&d.next(0>h?"up":"right"),g.preventDefault())}))},trigger:function(c,g){var e,f=g||d.coming||d.current;if(f){b.isFunction(f[c])&&(e=f[c].apply(f,Array.prototype.slice.call(arguments,1)));if(!1===e)return!1;f.helpers&&b.each(f.helpers,function(g,e){if(e&&d.helpers[g]&&b.isFunction(d.helpers[g][c]))d.helpers[g][c](b.extend(!0,{},d.helpers[g].defaults,e),f)});n.trigger(c)}},isImage:function(b){return u(b)&&b.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i)},isSWF:function(b){return u(b)&&b.match(/\.(swf)((\?|#).*)?$/i)},_start:function(c){var e={},h,k;c=v(c);h=d.group[c]||null;if(!h)return!1;e=b.extend(!0,{},d.opts,h);h=e.margin;k=e.padding;"number"===b.type(h)&&(e.margin=[h,h,h,h]);"number"===b.type(k)&&(e.padding=[k,k,k,k]);e.modal&&b.extend(!0,e,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}});e.autoSize&&(e.autoWidth=e.autoHeight=!0);"auto"===e.width&&(e.autoWidth=!0);"auto"===e.height&&(e.autoHeight=!0);e.group=d.group;e.index=c;d.coming=e;if(!1===d.trigger("beforeLoad"))d.coming=null;else{k=e.type;h=e.href;if(!k)return d.coming=null,d.current&&d.router&&"jumpto"!==d.router?(d.current.index=c,d[d.router](d.direction)):!1;d.isActive=!0;if("image"===k||"swf"===k)e.autoHeight=e.autoWidth=!1,e.scrolling="visible";"image"===k&&(e.aspectRatio=!0);"iframe"===k&&f&&(e.scrolling="scroll");e.wrap=b(e.tpl.wrap).addClass("fancybox-"+(f?"mobile":"desktop")+" fancybox-type-"+k+" fancybox-tmp "+e.wrapCSS).appendTo(e.parent||"body");b.extend(e,{skin:b(".fancybox-skin",e.wrap),outer:b(".fancybox-outer",e.wrap),inner:b(".fancybox-inner",e.wrap)});b.each(["Top","Right","Bottom","Left"],function(b,c){e.skin.css("padding"+c,g(e.padding[b]))});d.trigger("onReady");if("inline"===k||"html"===k){if(!e.content||!e.content.length)return d._error("content")}else if(!h)return d._error("href");"image"===k?d._loadImage():"ajax"===k?d._loadAjax():"iframe"===k?d._loadIframe():d._afterLoad()}},_error:function(c){b.extend(d.coming,{type:"html",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:c,content:d.coming.tpl.error});d._afterLoad()},_loadImage:function(){var b=d.imgPreload=new Image;b.onload=function(){this.onload=this.onerror=null;d.coming.width=this.width/d.opts.pixelRatio;d.coming.height=this.height/d.opts.pixelRatio;d._afterLoad()};b.onerror=function(){this.onload=this.onerror=null;d._error("image")};b.src=d.coming.href;!0!==b.complete&&d.showLoading()},_loadAjax:function(){var c=d.coming;d.showLoading();d.ajaxLoad=b.ajax(b.extend({},c.ajax,{url:c.href,error:function(b,c){d.coming&&"abort"!==c?d._error("ajax",b):d.hideLoading()},success:function(b,g){"success"===g&&(c.content=b,d._afterLoad())}}))},_loadIframe:function(){var c=d.coming,g=b(c.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",f?"auto":c.iframe.scrolling).attr("src",c.href);b(c.wrap).bind("onReset",function(){try{b(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(c){}});c.iframe.preload&&(d.showLoading(),g.one("load",function(){b(this).data("ready",1);f||b(this).bind("../../../../../error/ie.html",d.update);b(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show();d._afterLoad()}));c.content=g.appendTo(c.inner);c.iframe.preload||d._afterLoad()},_preloadImages:function(){var b=d.group,c=d.current,g=b.length,e=c.preload?Math.min(c.preload,g-1):0,f,h;for(h=1;h<=e;h+=1)f=b[(c.index+h)%g],"image"===f.type&&f.href&&((new Image).src=f.href)},_afterLoad:function(){var c=d.coming,g=d.current,e,f,h,m,l;d.hideLoading();if(c&&!1!==d.isActive)if(!1===d.trigger("afterLoad",c,g))c.wrap.stop(!0).trigger("onReset").remove(),d.coming=null;else{g&&(d.trigger("beforeChange",g),g.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove());d.unbindEvents();e=c.content;f=c.type;h=c.scrolling;b.extend(d,{wrap:c.wrap,skin:c.skin,outer:c.outer,inner:c.inner,current:c,previous:g});m=c.href;switch(f){case "inline":case "ajax":case "html":c.selector?e=b("\x3cdiv\x3e").html(e).find(c.selector):k(e)&&(e.data("fancybox-placeholder")||e.data("fancybox-placeholder",b('\x3cdiv class\x3d"fancybox-placeholder"\x3e\x3c/div\x3e').insertAfter(e).hide()),e=e.show().detach(),c.wrap.bind("onReset",function(){b(this).find(e).length&&e.hide().replaceAll(e.data("fancybox-placeholder")).data("fancybox-placeholder",!1)}));break;case "image":e=c.tpl.image.replace("{href}",m);break;case "swf":e='\x3cobject id\x3d"fancybox-swf" classid\x3d"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width\x3d"100%" height\x3d"100%"\x3e\x3cparam name\x3d"movie" value\x3d"'+m+'"\x3e\x3c/param\x3e',l="",b.each(c.swf,function(b,c){e+='\x3cparam name\x3d"'+b+'" value\x3d"'+c+'"\x3e\x3c/param\x3e';l+=" "+b+'\x3d"'+c+'"'}),e+='\x3cembed src\x3d"'+m+'" type\x3d"application/x-shockwave-flash" width\x3d"100%" height\x3d"100%"'+l+"\x3e\x3c/embed\x3e\x3c/object\x3e"}k(e)&&e.parent().is(c.inner)||c.inner.append(e);d.trigger("beforeShow");c.inner.css("overflow","yes"===h?"scroll":"no"===h?"hidden":h);d._setDimension();d.reposition();d.isOpen=!1;d.coming=null;d.bindEvents();if(!d.isOpened)b(".fancybox-wrap").not(c.wrap).stop(!0).trigger("onReset").remove();else if(g.prevMethod)d.transitions[g.prevMethod]();d.transitions[d.isOpened?c.nextMethod:c.openMethod]();d._preloadImages()}},_setDimension:function(){var c=d.getViewport(),e=0,f,h=d.wrap,k=d.skin,m=d.inner,l=d.current;f=l.width;var n=l.height,p=l.minWidth,r=l.minHeight,u=l.maxWidth,q=l.maxHeight,H=l.scrolling,L=l.scrollOutside?l.scrollbarWidth:0,I=l.margin,K=v(I[1]+I[3]),O=v(I[0]+I[2]),M,J,P,T,S,R,Q,U,V;h.add(k).add(m).width("auto").height("auto").removeClass("fancybox-tmp");I=v(k.outerWidth(!0)-k.width());M=v(k.outerHeight(!0)-k.height());J=K+I;P=O+M;T=x(f)?(c.w-J)*v(f)/100:f;S=x(n)?(c.h-P)*v(n)/100:n;if("iframe"===l.type){if(V=l.content,l.autoHeight&&1===V.data("ready"))try{V[0].contentWindow.document.location&&(m.width(T).height(9999),R=V.contents().find("body"),L&&R.css("overflow-x","hidden"),S=R.outerHeight(!0))}catch(W){}}else if(l.autoWidth||l.autoHeight)m.addClass("fancybox-tmp"),l.autoWidth||m.width(T),l.autoHeight||m.height(S),l.autoWidth&&(T=m.width()),l.autoHeight&&(S=m.height()),m.removeClass("fancybox-tmp");f=v(T);n=v(S);U=T/S;p=v(x(p)?v(p,"w")-J:p);u=v(x(u)?v(u,"w")-J:u);r=v(x(r)?v(r,"h")-P:r);q=v(x(q)?v(q,"h")-P:q);R=u;Q=q;l.fitToView&&(u=Math.min(c.w-J,u),q=Math.min(c.h-P,q));J=c.w-K;O=c.h-O;l.aspectRatio?(f>u&&(f=u,n=v(f/U)),n>q&&(n=q,f=v(n*U)),f<p&&(f=p,n=v(f/U)),n<r&&(n=r,f=v(n*U))):(f=Math.max(p,Math.min(f,u)),l.autoHeight&&"iframe"!==l.type&&(m.width(f),n=m.height()),n=Math.max(r,Math.min(n,q)));if(l.fitToView)if(m.width(f).height(n),h.width(f+I),c=h.width(),K=h.height(),l.aspectRatio)for(;(c>J||K>O)&&f>p&&n>r&&!(19<e++);)n=Math.max(r,Math.min(q,n-10)),f=v(n*U),f<p&&(f=p,n=v(f/U)),f>u&&(f=u,n=v(f/U)),m.width(f).height(n),h.width(f+I),c=h.width(),K=h.height();else f=Math.max(p,Math.min(f,f-(c-J))),n=Math.max(r,Math.min(n,n-(K-O)));L&&"auto"===H&&n<S&&f+I+L<J&&(f+=L);m.width(f).height(n);h.width(f+I);c=h.width();K=h.height();e=(c>J||K>O)&&f>p&&n>r;f=l.aspectRatio?f<R&&n<Q&&f<T&&n<S:(f<R||n<Q)&&(f<T||n<S);b.extend(l,{dim:{width:g(c),height:g(K)},origWidth:T,origHeight:S,canShrink:e,canExpand:f,wPadding:I,hPadding:M,wrapSpace:K-k.outerHeight(!0),skinSpace:k.height()-n});!V&&l.autoHeight&&n>r&&n<q&&!f&&m.height("auto")},_getPosition:function(b){var c=d.current,e=d.getViewport(),f=c.margin,h=d.wrap.width()+f[1]+f[3],k=d.wrap.height()+f[0]+f[2],f={position:"absolute",top:f[0],left:f[3]};c.autoCenter&&c.fixed&&!b&&k<=e.h&&h<=e.w?f.position="fixed":c.locked||(f.top+=e.y,f.left+=e.x);f.top=g(Math.max(f.top,f.top+(e.h-k)*c.topRatio));f.left=g(Math.max(f.left,f.left+(e.w-h)*c.leftRatio));return f},_afterZoomIn:function(){var c=d.current;c&&((d.isOpen=d.isOpened=!0,d.wrap.css("overflow","visible").addClass("fancybox-opened"),d.update(),(c.closeClick||c.nextClick&&1<d.group.length)&&d.inner.css("cursor","pointer").bind("../../../../../error/ie.html",function(g){b(g.target).is("a")||b(g.target).parent().is("a")||(g.preventDefault(),d[c.closeClick?"close":"next"]())}),c.closeBtn&&b(c.tpl.closeBtn).appendTo(d.skin).bind("../../../../../error/ie.html",function(b){b.preventDefault();d.close()}),c.arrows&&1<d.group.length&&((c.loop||0<c.index)&&b(c.tpl.prev).appendTo(d.outer).bind("../../../../../error/ie.html",d.prev),(c.loop||c.index<d.group.length-1)&&b(c.tpl.next).appendTo(d.outer).bind("../../../../../error/ie.html",d.next)),d.trigger("afterShow"),c.loop||c.index!==c.group.length-1)?d.opts.autoPlay&&!d.player.isActive&&(d.opts.autoPlay=!1,d.play()):d.play(!1))},_afterZoomOut:function(c){c=c||d.current;b(".fancybox-wrap").trigger("onReset").remove();b.extend(d,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null});d.trigger("afterClose",c)}});d.transitions={getOrigPosition:function(){var b=d.current,c=b.element,e=b.orig,f={},h=50,m=50,l=b.hPadding,n=b.wPadding,p=d.getViewport();!e&&b.isDom&&c.is(":visible")&&(e=c.find("img:first"),e.length||(e=c));k(e)?(f=e.offset(),e.is("img")&&(h=e.outerWidth(),m=e.outerHeight())):(f.top=p.y+(p.h-m)*b.topRatio,f.left=p.x+(p.w-h)*b.leftRatio);if("fixed"===d.wrap.css("position")||b.locked)f.top-=p.y,f.left-=p.x;return f={top:g(f.top-l*b.topRatio),left:g(f.left-n*b.leftRatio),width:g(h+n),height:g(m+l)}},step:function(b,c){var g,e,f=c.prop;e=d.current;var h=e.wrapSpace,k=e.skinSpace;if("width"===f||"height"===f)g=c.end===c.start?1:(b-c.start)/(c.end-c.start),d.isClosing&&(g=1-g),e="width"===f?e.wPadding:e.hPadding,e=b-e,d.skin[f](v("width"===f?e:e-h*g)),d.inner[f](v("width"===f?e:e-h*g-k*g))},zoomIn:function(){var c=d.current,g=c.pos,e=c.openEffect,f="elastic"===e,h=b.extend({opacity:1},g);delete h.position;f?(g=this.getOrigPosition(),c.openOpacity&&(g.opacity=.1)):"fade"===e&&(g.opacity=.1);d.wrap.css(g).animate(h,{duration:"none"===e?0:c.openSpeed,easing:c.openEasing,step:f?this.step:null,complete:d._afterZoomIn})},zoomOut:function(){var b=d.current,c=b.closeEffect,g="elastic"===c,e={opacity:.1};g&&(e=this.getOrigPosition(),b.closeOpacity&&(e.opacity=.1));d.wrap.animate(e,{duration:"none"===c?0:b.closeSpeed,easing:b.closeEasing,step:g?this.step:null,complete:d._afterZoomOut})},changeIn:function(){var b=d.current,c=b.nextEffect,e=b.pos,f={opacity:1},h=d.direction,k;e.opacity=.1;"elastic"===c&&(k="down"===h||"up"===h?"top":"left","down"===h||"right"===h?(e[k]=g(v(e[k])-200),f[k]="+\x3d200px"):(e[k]=g(v(e[k])+200),f[k]="-\x3d200px"));"none"===c?d._afterZoomIn():d.wrap.css(e).animate(f,{duration:b.nextSpeed,easing:b.nextEasing,complete:d._afterZoomIn})},changeOut:function(){var c=d.previous,g=c.prevEffect,e={opacity:.1},f=d.direction;"elastic"===g&&(e["down"===f||"up"===f?"top":"left"]=("up"===f||"left"===f?"-":"+")+"\x3d200px");c.wrap.animate(e,{duration:"none"===g?0:c.prevSpeed,easing:c.prevEasing,complete:function(){b(this).trigger("onReset").remove()}})}};d.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!f,fixed:!0},overlay:null,fixed:!1,el:b("html"),create:function(c){c=b.extend({},this.defaults,c);this.overlay&&this.close();this.overlay=b('\x3cdiv class\x3d"fancybox-overlay"\x3e\x3c/div\x3e').appendTo(d.coming?d.coming.parent:c.parent);this.fixed=!1;c.fixed&&d.defaults.fixed&&(this.overlay.addClass("fancybox-overlay-fixed"),this.fixed=!0)},open:function(c){var g=this;c=b.extend({},this.defaults,c);this.overlay?this.overlay.unbind(".overlay").width("auto").height("auto"):this.create(c);this.fixed||(e.bind("resize.overlay",b.proxy(this.update,this)),this.update());c.closeClick&&this.overlay.bind("click.overlay",function(c){if(b(c.target).hasClass("fancybox-overlay"))return d.isActive?d.close():g.close(),!1});this.overlay.css(c.css).show()},close:function(){var c,d;e.unbind("resize.overlay");this.el.hasClass("fancybox-lock")&&(b(".fancybox-margin").removeClass("fancybox-margin"),c=e.scrollTop(),d=e.scrollLeft(),this.el.removeClass("fancybox-lock"),e.scrollTop(c).scrollLeft(d));b(".fancybox-overlay").remove().hide();b.extend(this,{overlay:null,fixed:!1})},update:function(){var b="100%",c;this.overlay.width(b).height("100%");m?(c=Math.max(p.documentElement.offsetWidth,p.body.offsetWidth),n.width()>c&&(b=n.width())):n.width()>e.width()&&(b=n.width());this.overlay.width(b).height(n.height())},onReady:function(c,d){var g=this.overlay;b(".fancybox-overlay").stop(!0,!0);g||this.create(c);c.locked&&this.fixed&&d.fixed&&(g||(this.margin=n.height()>e.height()?b("html").css("margin-right").replace("px",""):!1),d.locked=this.overlay.append(d.wrap),d.fixed=!1);!0===c.showEarly&&this.beforeShow.apply(this,arguments)},beforeShow:function(c,d){var g,f;d.locked&&(!1!==this.margin&&(b("*").filter(function(){return"fixed"===b(this).css("position")&&!b(this).hasClass("fancybox-overlay")&&!b(this).hasClass("fancybox-wrap")}).addClass("fancybox-margin"),this.el.addClass("fancybox-margin")),g=e.scrollTop(),f=e.scrollLeft(),this.el.addClass("fancybox-lock"),e.scrollTop(g).scrollLeft(f));this.open(c)},onUpdate:function(){this.fixed||this.update()},afterClose:function(c){this.overlay&&!d.coming&&this.overlay.fadeOut(c.speedOut,b.proxy(this.close,this))}};d.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(c){var g=d.current,e=g.title,f=c.type;b.isFunction(e)&&(e=e.call(g.element,g));if(u(e)&&""!==b.trim(e)){g=b('\x3cdiv class\x3d"fancybox-title fancybox-title-'+f+'-wrap"\x3e'+e+"\x3c/div\x3e");switch(f){case "inside":f=d.skin;break;case "outside":f=d.wrap;break;case "over":f=d.inner;break;default:f=d.skin,g.appendTo("body"),m&&g.width(g.width()),g.wrapInner('\x3cspan class\x3d"child"\x3e\x3c/span\x3e'),d.current.margin[2]+=Math.abs(v(g.css("margin-bottom")))}g["top"===c.position?"prependTo":"appendTo"](f)}}};b.fn.fancybox=function(c){var g,e=b(this),f=this.selector||"",h=function(h){var k=b(this).blur(),m=g,l,n;h.ctrlKey||h.altKey||h.shiftKey||h.metaKey||k.is(".fancybox-wrap")||(l=c.groupAttr||"data-fancybox-group",n=k.attr(l),n||(l="rel",n=k.get(0)[l]),n&&""!==n&&"nofollow"!==n&&(k=f.length?b(f):e,k=k.filter("["+l+'\x3d"'+n+'"]'),m=k.index(this)),c.index=m,!1!==d.open(k,c)&&h.preventDefault())};c=c||{};g=c.index||0;f&&!1!==c.live?n.undelegate(f,"click.fb-start").delegate(f+":not('.fancybox-item, .fancybox-nav')","click.fb-start",h):e.unbind("click.fb-start").bind("click.fb-start",h);this.filter("[data-fancybox-start\x3d1]").trigger("click");return this};n.ready(function(){var g,e;b.scrollbarWidth===h&&(b.scrollbarWidth=function(){var c=b('\x3cdiv style\x3d"width:50px;height:50px;overflow:auto"\x3e\x3cdiv/\x3e\x3c/div\x3e').appendTo("body"),d=c.children(),d=d.innerWidth()-d.height(99).innerWidth();c.remove();return d});b.support.fixedPosition===h&&(b.support.fixedPosition=function(){var c=b('\x3cdiv style\x3d"position:fixed;top:20px;"\x3e\x3c/div\x3e').appendTo("body"),d=20===c[0].offsetTop||15===c[0].offsetTop;c.remove();return d}());b.extend(d.defaults,{scrollbarWidth:b.scrollbarWidth(),fixed:b.support.fixedPosition,parent:b("body")});g=b(c).width();l.addClass("fancybox-lock-test");e=b(c).width();l.removeClass("fancybox-lock-test");b("\x3cstyle type\x3d'text/css'\x3e.fancybox-margin{margin-right:"+(e-g)+"px;}\x3c/style\x3e").appendTo("head")})})(window,document,jQuery);(function(c){"function"===typeof define&&define.amd?define(["jquery"],c):c("undefined"!=typeof jQuery?jQuery:window.Zepto)})(function(c){function p(b){var e=b.data;b.isDefaultPrevented()||(b.preventDefault(),c(b.target).ajaxSubmit(e))}function b(b){var e=b.target,h=c(e);if(!h.is("[type\x3dsubmit],[type\x3dimage]")){e=h.closest("[type\x3dsubmit]");if(0===e.length)return;e=e[0]}var f=this;f.clk=e;"image"==e.type&&(void 0!==b.offsetX?(f.clk_x=b.offsetX,f.clk_y=b.offsetY):"function"==typeof c.fn.offset?(h=h.offset(),f.clk_x=b.pageX-h.left,f.clk_y=b.pageY-h.top):(f.clk_x=b.pageX-e.offsetLeft,f.clk_y=b.pageY-e.offsetTop));setTimeout(function(){f.clk=f.clk_x=f.clk_y=null},100)}function h(){if(c.fn.ajaxSubmit.debug){var b="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(b):window.opera&&window.opera.postError&&window.opera.postError(b)}}var l,e;l=void 0!==c("\x3cinput type\x3d'file'/\x3e").get(0).files;e=void 0!==window.FormData;var n=!!c.fn.prop;c.fn.attr2=function(){if(!n)return this.attr.apply(this,arguments);var b=this.prop.apply(this,arguments);return b&&b.jquery||"string"===typeof b?b:this.attr.apply(this,arguments)};c.fn.ajaxSubmit=function(b){function m(g){g=c.param(g,b.traditional).split("\x26");var e=g.length,f=[],h,k;for(h=0;h<e;h++)g[h]=g[h].replace(/\+/g," "),k=g[h].split("\x3d"),f.push([decodeURIComponent(k[0]),decodeURIComponent(k[1])]);return f}function p(g){for(var e=new FormData,f=0;f<g.length;f++)e.append(g[f].name,g[f].value);if(b.extraData)for(g=m(b.extraData),f=0;f<g.length;f++)g[f]&&e.append(g[f][0],g[f][1]);b.data=null;f=c.extend(!0,{},c.ajaxSettings,b,{contentType:!1,processData:!1,cache:!1,type:k||"POST"});b.uploadProgress&&(f.xhr=function(){var g=c.ajaxSettings.xhr();g.upload&&g.upload.addEventListener("progress",function(c){var g=0,e=c.loaded||c.position,f=c.total;c.lengthComputable&&(g=Math.ceil(e/f*100));b.uploadProgress(c,e,f,g)},!1);return g});f.data=null;var h=f.beforeSend;f.beforeSend=function(c,g){g.data=b.formData?b.formData:e;h&&h.call(this,c,g)};return c.ajax(f)}function f(e){function f(b){var c=null;try{b.contentWindow&&(c=b.contentWindow.document)}catch(d){h("cannot get iframe.contentWindow document: "+d)}if(c)return c;try{c=b.contentDocument?b.contentDocument:b.document}catch(d){h("cannot get iframe.contentDocument: "+d),c=b.document}return c}function m(){function b(){try{var c=f(z).readyState;h("state \x3d "+c);c&&"uninitialized"==c.toLowerCase()&&setTimeout(b,50)}catch(d){h("Server abort: ",d," (",d.name,")"),l(2),A&&clearTimeout(A),A=void 0}}var d=x.attr2("target"),g=x.attr2("action"),e=x.attr("enctype")||x.attr("encoding")||"multipart/form-data";t.setAttribute("target",u);k&&!/post/i.test(k)||t.setAttribute("method","POST");g!=p.url&&t.setAttribute("action",p.url);p.skipEncodingOverride||k&&!/post/i.test(k)||x.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"});p.timeout&&(A=setTimeout(function(){B=!0;l(1)},p.timeout));var n=[];try{if(p.extraData)for(var w in p.extraData)p.extraData.hasOwnProperty(w)&&(c.isPlainObject(p.extraData[w])&&p.extraData[w].hasOwnProperty("name")&&p.extraData[w].hasOwnProperty("value")?n.push(c('\x3cinput type\x3d"hidden" name\x3d"'+p.extraData[w].name+'"\x3e').val(p.extraData[w].value).appendTo(t)[0]):n.push(c('\x3cinput type\x3d"hidden" name\x3d"'+w+'"\x3e').val(p.extraData[w]).appendTo(t)[0]));p.iframeTarget||y.appendTo("body");z.attachEvent?z.attachEvent("onload",l):z.addEventListener("load",l,!1);setTimeout(b,15);try{t.submit()}catch(r){document.createElement("form").submit.apply(t)}}finally{t.setAttribute("action",g),t.setAttribute("enctype",e),d?t.setAttribute("target",d):x.removeAttr("target"),c(n).remove()}}function l(b){if(!v.aborted&&!V)if(Q=f(z),Q||(h("cannot access response document"),b=2),1===b&&v)v.abort("timeout"),D.reject(v,"timeout");else if(2==b&&v)v.abort("server abort"),D.reject(v,"error","server abort");else if(Q&&Q.location.href!=p.iframeSrc||B){z.detachEvent?z.detachEvent("onload",l):z.removeEventListener("load",l,!1);b="success";var d;try{if(B)throw"timeout";var g="xml"==p.dataType||Q.XMLDocument||c.isXMLDoc(Q);h("isXml\x3d"+g);if(!g&&window.opera&&(null===Q.body||!Q.body.innerHTML)&&--U){h("requeing onLoad callback, DOM not available");setTimeout(l,250);return}var e=Q.body?Q.body:Q.documentElement;v.responseText=e?e.innerHTML:null;v.responseXML=Q.XMLDocument?Q.XMLDocument:Q;g&&(p.dataType="xml");v.getResponseHeader=function(b){return{"content-type":p.dataType}[b.toLowerCase()]};e&&(v.status=Number(e.getAttribute("status"))||v.status,v.statusText=e.getAttribute("statusText")||v.statusText);var k=(p.dataType||"").toLowerCase(),m=/(json|script|text)/.test(k);if(m||p.textarea){var t=Q.getElementsByTagName("textarea")[0];if(t)v.responseText=t.value,v.status=Number(t.getAttribute("status"))||v.status,v.statusText=t.getAttribute("statusText")||v.statusText;else if(m){var n=Q.getElementsByTagName("pre")[0],q=Q.getElementsByTagName("body")[0];n?v.responseText=n.textContent?n.textContent:n.innerText:q&&(v.responseText=q.textContent?q.textContent:q.innerText)}}else"xml"==k&&!v.responseXML&&v.responseText&&(v.responseXML=W(v.responseText));try{R=ba(v,k,p)}catch(w){b="parsererror",v.error=d=w||b}}catch(w){h("error caught: ",w),b="error",v.error=d=w||b}v.aborted&&(h("upload aborted"),b=null);v.status&&(b=200<=v.status&&300>v.status||304===v.status?"success":"error");"success"===b?(p.success&&p.success.call(p.context,R,"success",v),D.resolve(v.responseText,"success",v),r&&c.event.trigger("ajaxSuccess",[v,p])):b&&(void 0===d&&(d=v.statusText),p.error&&p.error.call(p.context,v,b,d),D.reject(v,"error",d),r&&c.event.trigger("ajaxError",[v,p,d]));r&&c.event.trigger("ajaxComplete",[v,p]);r&&!--c.active&&c.event.trigger("ajaxStop");p.complete&&p.complete.call(p.context,v,b);V=!0;p.timeout&&clearTimeout(A);setTimeout(function(){p.iframeTarget?y.attr("src",p.iframeSrc):y.remove();v.responseXML=null},100)}}var t=x[0],w,p,r,u,y,z,v,B,A,D=c.Deferred();D.abort=function(b){v.abort(b)};if(e)for(w=0;w<g.length;w++)e=c(g[w]),n?e.prop("disabled",!1):e.removeAttr("disabled");p=c.extend(!0,{},c.ajaxSettings,b);p.context=p.context||p;u="jqFormIO"+(new Date).getTime();p.iframeTarget?(y=c(p.iframeTarget),(w=y.attr2("name"))?u=w:y.attr2("name",u)):(y=c('\x3ciframe name\x3d"'+u+'" src\x3d"'+p.iframeSrc+'" /\x3e'),y.css({position:"absolute",top:"-1000px",left:"-1000px"}));z=y[0];v={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(b){var d="timeout"===b?"timeout":"aborted";h("aborting upload... "+d);this.aborted=1;try{z.contentWindow.document.execCommand&&z.contentWindow.document.execCommand("Stop")}catch(g){}y.attr("src",p.iframeSrc);v.error=d;p.error&&p.error.call(p.context,v,d,b);r&&c.event.trigger("ajaxError",[v,p,d]);p.complete&&p.complete.call(p.context,v,d)}};(r=p.global)&&0===c.active++&&c.event.trigger("ajaxStart");r&&c.event.trigger("ajaxSend",[v,p]);if(p.beforeSend&&!1===p.beforeSend.call(p.context,v,p))return p.global&&c.active--,D.reject(),D;if(v.aborted)return D.reject(),D;(e=t.clk)&&(w=e.name)&&!e.disabled&&(p.extraData=p.extraData||{},p.extraData[w]=e.value,"image"==e.type&&(p.extraData[w+".x"]=t.clk_x,p.extraData[w+".y"]=t.clk_y));e=c("meta[name\x3dcsrf-token]").attr("content");(w=c("meta[name\x3dcsrf-param]").attr("content"))&&e&&(p.extraData=p.extraData||{},p.extraData[w]=e);p.forceSync?m():setTimeout(m,10);var R,Q,U=50,V,W=c.parseXML||function(b,c){window.ActiveXObject?(c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(b)):c=(new DOMParser).parseFromString(b,"text/xml");return c&&c.documentElement&&"parsererror"!=c.documentElement.nodeName?c:null},Z=c.parseJSON||function(b){return window.eval("("+b+")")},ba=function(b,d,g){var e=b.getResponseHeader("content-type")||"",f="xml"===d||!d&&0<=e.indexOf("xml");b=f?b.responseXML:b.responseText;f&&"parsererror"===b.documentElement.nodeName&&c.error&&c.error("parsererror");g&&g.dataFilter&&(b=g.dataFilter(b,d));"string"===typeof b&&("json"===d||!d&&0<=e.indexOf("json")?b=Z(b):("script"===d||!d&&0<=e.indexOf("javascript"))&&c.globalEval(b));return b};return D}if(!this.length)return h("ajaxSubmit: skipping submit process - no element selected"),this;var k,u,x=this;"function"==typeof b?b={success:b}:void 0===b&&(b={});k=b.type||this.attr2("method");u=b.url||this.attr2("action");(u=(u="string"===typeof u?c.trim(u):"")||window.location.href||"")&&(u=(u.match(/^([^#]+)/)||[])[1]);b=c.extend(!0,{url:u,success:c.ajaxSettings.success,type:k||c.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},b);u={};this.trigger("form-pre-serialize",[this,b,u]);if(u.veto)return h("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(b.beforeSerialize&&!1===b.beforeSerialize(this,b))return h("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var v=b.traditional;void 0===v&&(v=c.ajaxSettings.traditional);var g=[],t,w=this.formToArray(b.semantic,g);b.data&&(b.extraData=b.data,t=c.param(b.data,v));if(b.beforeSubmit&&!1===b.beforeSubmit(w,this,b))return h("ajaxSubmit: submit aborted via beforeSubmit callback"),this;this.trigger("form-submit-validate",[w,this,b,u]);if(u.veto)return h("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;u=c.param(w,v);t&&(u=u?u+"\x26"+t:t);"GET"==b.type.toUpperCase()?(b.url+=(0<=b.url.indexOf("?")?"\x26":"?")+u,b.data=null):b.data=u;var y=[];b.resetForm&&y.push(function(){x.resetForm()});b.clearForm&&y.push(function(){x.clearForm(b.includeHidden)});if(!b.dataType&&b.target){var z=b.success||function(){};y.push(function(g){var e=b.replaceTarget?"replaceWith":"html";c(b.target)[e](g).each(z,arguments)})}else b.success&&y.push(b.success);b.success=function(c,g,e){for(var f=b.context||this,h=0,k=y.length;h<k;h++)y[h].apply(f,[c,g,e||x,x])};if(b.error){var D=b.error;b.error=function(c,g,e){D.apply(b.context||this,[c,g,e,x])}}if(b.complete){var A=b.complete;b.complete=function(c,g){A.apply(b.context||this,[c,g,x])}}t=0<c("input[type\x3dfile]:enabled",this).filter(function(){return""!==c(this).val()}).length;u="multipart/form-data"==x.attr("enctype")||"multipart/form-data"==x.attr("encoding");v=l&&e;h("fileAPI :"+v);var B;!1!==b.iframe&&(b.iframe||(t||u)&&!v)?b.closeKeepAlive?c.get(b.closeKeepAlive,function(){B=f(w)}):B=f(w):B=(t||u)&&v?p(w):c.ajax(b);x.removeData("jqxhr").data("jqxhr",B);for(t=0;t<g.length;t++)g[t]=null;this.trigger("form-submit-notify",[this,b]);return this};c.fn.ajaxForm=function(d){d=d||{};d.delegation=d.delegation&&c.isFunction(c.fn.on);if(!d.delegation&&0===this.length){var e=this.selector,l=this.context;if(!c.isReady&&e)return h("DOM not ready, queuing ajaxForm"),c(function(){c(e,l).ajaxForm(d)}),this;h("terminating; zero elements found by selector"+(c.isReady?"":" (DOM not ready)"));return this}return d.delegation?(c(document).off("submit.form-plugin",this.selector,p).off("click.form-plugin",this.selector,b).on("submit.form-plugin",this.selector,d,p).on("click.form-plugin",this.selector,d,b),this):this.ajaxFormUnbind().bind("submit.form-plugin",d,p).bind("click.form-plugin",d,b)};c.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};c.fn.formToArray=function(b,e){var h=[];if(0===this.length)return h;var f=this[0],k=this.attr("id"),n=b?f.getElementsByTagName("*"):f.elements;n&&!/MSIE [678]/.test(navigator.userAgent)&&(n=c(n).get());k&&(k=c(':input[form\x3d"'+k+'"]').get(),k.length&&(n=(n||[]).concat(k)));if(!n||!n.length)return h;var p,v,g,t,w;p=0;for(w=n.length;p<w;p++)if(t=n[p],(k=t.name)&&!t.disabled)if(b&&f.clk&&"image"==t.type)f.clk==t&&(h.push({name:k,value:c(t).val(),type:t.type}),h.push({name:k+".x",value:f.clk_x},{name:k+".y",value:f.clk_y}));else if((g=c.fieldValue(t,!0))&&g.constructor==Array)for(e&&e.push(t),v=0,t=g.length;v<t;v++)h.push({name:k,value:g[v]});else if(l&&"file"==t.type)if(e&&e.push(t),g=t.files,g.length)for(v=0;v<g.length;v++)h.push({name:k,value:g[v],type:t.type});else h.push({name:k,value:"",type:t.type});else null!==g&&"undefined"!=typeof g&&(e&&e.push(t),h.push({name:k,value:g,type:t.type,required:t.required}));!b&&f.clk&&(n=c(f.clk),p=n[0],(k=p.name)&&!p.disabled&&"image"==p.type&&(h.push({name:k,value:n.val()}),h.push({name:k+".x",value:f.clk_x},{name:k+".y",value:f.clk_y})));return h};c.fn.formSerialize=function(b){return c.param(this.formToArray(b))};c.fn.fieldSerialize=function(b){var e=[];this.each(function(){var h=this.name;if(h){var f=c.fieldValue(this,b);if(f&&f.constructor==Array)for(var k=0,l=f.length;k<l;k++)e.push({name:h,value:f[k]});else null!==f&&"undefined"!=typeof f&&e.push({name:this.name,value:f})}});return c.param(e)};c.fn.fieldValue=function(b){for(var e=[],h=0,f=this.length;h<f;h++){var k=c.fieldValue(this[h],b);null===k||"undefined"==typeof k||k.constructor==Array&&!k.length||(k.constructor==Array?c.merge(e,k):e.push(k))}return e};c.fieldValue=function(b,e){var h=b.name,f=b.type,k=b.tagName.toLowerCase();void 0===e&&(e=!0);if(e&&(!h||b.disabled||"reset"==f||"button"==f||("checkbox"==f||"radio"==f)&&!b.checked||("submit"==f||"image"==f)&&b.form&&b.form.clk!=b||"select"==k&&-1==b.selectedIndex))return null;if("select"==k){var l=b.selectedIndex;if(0>l)return null;for(var h=[],k=b.options,n=(f="select-one"==f)?l+1:k.length,l=f?l:0;l<n;l++){var p=k[l];if(p.selected){var g=p.value;g||(g=p.attributes&&p.attributes.value&&!p.attributes.value.specified?p.text:p.value);if(f)return g;h.push(g)}}return h}return c(b).val()};c.fn.clearForm=function(b){return this.each(function(){c("input,select,textarea",this).clearFields(b)})};c.fn.clearFields=c.fn.clearInputs=function(b){var e=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var h=this.type,f=this.tagName.toLowerCase();e.test(h)||"textarea"==f?this.value="":"checkbox"==h||"radio"==h?this.checked=!1:"select"==f?this.selectedIndex=-1:"file"==h?/MSIE/.test(navigator.userAgent)?c(this).replaceWith(c(this).clone(!0)):c(this).val(""):b&&(!0===b&&/hidden/.test(h)||"string"==typeof b&&c(this).is(b))&&(this.value="")})};c.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})};c.fn.enable=function(b){void 0===b&&(b=!0);return this.each(function(){this.disabled=!b})};c.fn.selected=function(b){void 0===b&&(b=!0);return this.each(function(){var e=this.type;"checkbox"==e||"radio"==e?this.checked=b:"option"==this.tagName.toLowerCase()&&(e=c(this).parent("select"),b&&e[0]&&"select-one"==e[0].type&&e.find("option").selected(!1),this.selected=b)})};c.fn.ajaxSubmit.debug=!1});(function(c,p,b,h){function l(e,h){this.w=c(b);this.el=c(e);this.options=c.extend({},d,h);this.init()}var e="ontouchstart"in b,n=function(){var c=b.createElement("div"),d=b.documentElement;if(!("pointerEvents"in c.style))return!1;c.style.pointerEvents="auto";c.style.pointerEvents="x";d.appendChild(c);var e=p.getComputedStyle&&"auto"===p.getComputedStyle(c,"").pointerEvents;d.removeChild(c);return!!e}(),d={listNodeName:"ol",itemNodeName:"li",rootClass:"dd",listClass:"dd-list",itemClass:"dd-item",dragClass:"dd-dragel",handleClass:"dd-handle",collapsedClass:"dd-collapsed",placeClass:"dd-placeholder",noDragClass:"dd-nodrag",emptyClass:"dd-empty",expandBtnHTML:'\x3cbutton data-action\x3d"expand" type\x3d"button"\x3e\u5c55\u5f00\x3c/button\x3e',collapseBtnHTML:'\x3cbutton data-action\x3d"collapse" type\x3d"button"\x3e\u5173\u95ed\x3c/button\x3e',group:0,maxDepth:5,threshold:20};l.prototype={init:function(){var b=this;b.reset();b.el.data("nestable-group",this.options.group);b.placeEl=c('\x3cdiv class\x3d"'+b.options.placeClass+'"/\x3e');c.each(this.el.find(b.options.itemNodeName),function(d,e){b.setParent(c(e))});b.el.on("click","button",function(d){if(!b.dragEl){var e=c(d.currentTarget);d=e.data("action");e=e.parent(b.options.itemNodeName);"collapse"===d&&b.collapseItem(e);"expand"===d&&b.expandItem(e)}});var d=function(d){var e=c(d.target);if(!e.hasClass(b.options.handleClass)){if(e.closest("."+b.options.noDragClass).length)return;e=e.closest("."+b.options.handleClass)}e.length&&!b.dragEl&&(b.isTouch=/^touch/.test(d.type),b.isTouch&&1!==d.touches.length||(d.preventDefault(),b.dragStart(d.touches?d.touches[0]:d)))},f=function(c){b.dragEl&&(c.preventDefault(),b.dragMove(c.touches?c.touches[0]:c))},h=function(c){b.dragEl&&(c.preventDefault(),b.dragStop(c.touches?c.touches[0]:c))};e&&(b.el[0].addEventListener("touchstart",d,!1),p.addEventListener("touchmove",f,!1),p.addEventListener("touchend",h,!1),p.addEventListener("touchcancel",h,!1));b.el.on("mousedown",d);b.w.on("mousemove",f);b.w.on("mouseup",h)},serialize:function(){var b=this;step=function(d,e){var h=[];d.children(b.options.itemNodeName).each(function(){var d=c(this),l=c.extend({},d.data()),d=d.children(b.options.listNodeName);d.length&&(l.children=step(d,e+1));h.push(l)});return h};return step(b.el.find(b.options.listNodeName).first(),0)},serialise:function(){return this.serialize()},reset:function(){this.mouse={offsetX:0,offsetY:0,startX:0,startY:0,lastX:0,lastY:0,nowX:0,nowY:0,distX:0,distY:0,dirAx:0,dirX:0,dirY:0,lastDirX:0,lastDirY:0,distAxX:0,distAxY:0};this.moving=this.isTouch=!1;this.dragRootEl=this.dragEl=null;this.dragDepth=0;this.hasNewRoot=!1;this.pointEl=null},expandItem:function(b){b.removeClass(this.options.collapsedClass);b.children('[data-action\x3d"expand"]').hide();b.children('[data-action\x3d"collapse"]').show();b.children(this.options.listNodeName).show()},collapseItem:function(b){b.children(this.options.listNodeName).length&&(b.addClass(this.options.collapsedClass),b.children('[data-action\x3d"collapse"]').hide(),b.children('[data-action\x3d"expand"]').show(),b.children(this.options.listNodeName).hide())},expandAll:function(){var b=this;b.el.find(b.options.itemNodeName).each(function(){b.expandItem(c(this))})},collapseAll:function(){var b=this;b.el.find(b.options.itemNodeName).each(function(){b.collapseItem(c(this))})},setParent:function(b){b.children(this.options.listNodeName).length&&(b.prepend(c(this.options.expandBtnHTML)),b.prepend(c(this.options.collapseBtnHTML)));b.children('[data-action\x3d"expand"]').hide()},unsetParent:function(b){b.removeClass(this.options.collapsedClass);b.children("[data-action]").remove();b.children(this.options.listNodeName).remove()},dragStart:function(d){var e=this.mouse,f=c(d.target),k=f.closest(this.options.itemNodeName);this.placeEl.css("height",k.height());e.offsetX=d.offsetX!==h?d.offsetX:d.pageX-f.offset().left;e.offsetY=d.offsetY!==h?d.offsetY:d.pageY-f.offset().top;e.startX=e.lastX=d.pageX;e.startY=e.lastY=d.pageY;this.dragRootEl=this.el;this.dragEl=c(b.createElement(this.options.listNodeName)).addClass(this.options.listClass+" "+this.options.dragClass);this.dragEl.css("width",k.width());k.after(this.placeEl);k[0].parentNode.removeChild(k[0]);k.appendTo(this.dragEl);c(b.body).append(this.dragEl);this.dragEl.css({left:d.pageX-e.offsetX,top:d.pageY-e.offsetY});f=this.dragEl.find(this.options.itemNodeName);for(d=0;d<f.length;d++)e=c(f[d]).parents(this.options.listNodeName).length,e>this.dragDepth&&(this.dragDepth=e)},dragStop:function(b){b=this.dragEl.children(this.options.itemNodeName).first();b[0].parentNode.removeChild(b[0]);this.placeEl.replaceWith(b);this.dragEl.remove();this.el.trigger("change");this.hasNewRoot&&this.dragRootEl.trigger("change");this.reset()},dragMove:function(d){var e,f,h,l=this.options,x=this.mouse;this.dragEl.css({left:d.pageX-x.offsetX,top:d.pageY-x.offsetY});x.lastX=x.nowX;x.lastY=x.nowY;x.nowX=d.pageX;x.nowY=d.pageY;x.distX=x.nowX-x.lastX;x.distY=x.nowY-x.lastY;x.lastDirX=x.dirX;x.lastDirY=x.dirY;x.dirX=0===x.distX?0:0<x.distX?1:-1;x.dirY=0===x.distY?0:0<x.distY?1:-1;h=Math.abs(x.distX)>Math.abs(x.distY)?1:0;if(x.moving){x.dirAx!==h?(x.distAxX=0,x.distAxY=0):(x.distAxX+=Math.abs(x.distX),0!==x.dirX&&x.dirX!==x.lastDirX&&(x.distAxX=0),x.distAxY+=Math.abs(x.distY),0!==x.dirY&&x.dirY!==x.lastDirY&&(x.distAxY=0));x.dirAx=h;x.dirAx&&x.distAxX>=l.threshold&&(x.distAxX=0,h=this.placeEl.prev(l.itemNodeName),0<x.distX&&h.length&&!h.hasClass(l.collapsedClass)&&(e=h.find(l.listNodeName).last(),f=this.placeEl.parents(l.listNodeName).length,f+this.dragDepth<=l.maxDepth&&(e.length?(e=h.children(l.listNodeName).last(),e.append(this.placeEl)):(e=c("\x3c"+l.listNodeName+"/\x3e").addClass(l.listClass),e.append(this.placeEl),h.append(e),this.setParent(h)))),0>x.distX&&(h=this.placeEl.next(l.itemNodeName),h.length||(f=this.placeEl.parent(),this.placeEl.closest(l.itemNodeName).after(this.placeEl),f.children().length||this.unsetParent(f.parent()))));e=!1;n||(this.dragEl[0].style.visibility="hidden");this.pointEl=c(b.elementFromPoint(d.pageX-b.body.scrollLeft,d.pageY-(p.pageYOffset||b.documentElement.scrollTop)));n||(this.dragEl[0].style.visibility="visible");this.pointEl.hasClass(l.handleClass)&&(this.pointEl=this.pointEl.parent(l.itemNodeName));if(this.pointEl.hasClass(l.emptyClass))e=!0;else if(!this.pointEl.length||!this.pointEl.hasClass(l.itemClass))return;h=this.pointEl.closest("."+l.rootClass);var v=this.dragRootEl.data("nestable-id")!==h.data("nestable-id");x.dirAx&&!v&&!e||v&&l.group!==h.data("nestable-group")||(f=this.dragDepth-1+this.pointEl.parents(l.listNodeName).length,f>l.maxDepth||(d=d.pageY<this.pointEl.offset().top+this.pointEl.height()/2,f=this.placeEl.parent(),e?(e=c(b.createElement(l.listNodeName)).addClass(l.listClass),e.append(this.placeEl),this.pointEl.replaceWith(e)):d?this.pointEl.before(this.placeEl):this.pointEl.after(this.placeEl),f.children().length||this.unsetParent(f.parent()),this.dragRootEl.find(l.itemNodeName).length||this.dragRootEl.append('\x3cdiv class\x3d"'+l.emptyClass+'"/\x3e'),v&&(this.dragRootEl=h,this.hasNewRoot=this.el[0]!==this.dragRootEl[0])))}else x.dirAx=h,x.moving=!0}};c.fn.nestable=function(b){var d=this;this.each(function(){var e=c(this).data("nestable");e?"string"===typeof b&&"function"===typeof e[b]&&(d=e[b]()):(c(this).data("nestable",new l(this,b)),c(this).data("nestable-id",(new Date).getTime()))});return d||this}})(window.jQuery||window.Zepto,window,document);(function(c){var p=!1,b=!1,h=5E3,l=2E3,e=0,n=function(){var b=document.getElementsByTagName("script"),b=b[b.length-1].src.split("?")[0];return 0<b.split("/").length?b.split("/").slice(0,-1).join("/")+"/":""}(),d=["ms","moz","webkit","o"],m=window.requestAnimationFrame||!1,r=window.cancelAnimationFrame||!1;if(!m)for(var f in d){var k=d[f];m||(m=window[k+"RequestAnimationFrame"]);r||(r=window[k+"CancelAnimationFrame"]||window[k+"CancelRequestAnimationFrame"])}var u=window.MutationObserver||window.WebKitMutationObserver||!1,x={zindex:"auto",cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"5px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:60,mousescrollstep:24,touchbehavior:!1,hwacceleration:!0,usetransition:!0,boxzoom:!1,dblclickzoom:!0,gesturezoom:!0,grabcursorenabled:!0,autohidemode:!0,background:"",iframeautoresize:!0,cursorminheight:32,preservenativescrolling:!0,railoffset:!1,bouncescroll:!0,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:!0,horizrailenabled:!0,railalign:"right",railvalign:"bottom",enabletranslate3d:!0,enablemousewheel:!0,enablekeyboard:!0,smoothscroll:!0,sensitiverail:!0,enablemouselockapi:!0,cursorfixedheight:!1,directionlockdeadzone:6,hidecursordelay:400,nativeparentscrolling:!0,enablescrollonselection:!0,overflowx:!0,overflowy:!0,cursordragspeed:.3,rtlmode:!1,cursordragontouch:!1,oneaxismousemode:"auto"},v=!1,g=function(){if(v)return v;var b=document.createElement("DIV"),c={haspointerlock:"pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document};c.isopera="opera"in window;c.isopera12=c.isopera&&"getUserMedia"in navigator;c.isoperamini="[object OperaMini]"===Object.prototype.toString.call(window.operamini);c.isie="all"in document&&"attachEvent"in b&&!c.isopera;c.isieold=c.isie&&!("msInterpolationMode"in b.style);c.isie7=c.isie&&!c.isieold&&(!("documentMode"in document)||7==document.documentMode);c.isie8=c.isie&&"documentMode"in document&&8==document.documentMode;c.isie9=c.isie&&"performance"in window&&9<=document.documentMode;c.isie10=c.isie&&"performance"in window&&10<=document.documentMode;c.isie9mobile=/iemobile.9/i.test(navigator.userAgent);c.isie9mobile&&(c.isie9=!1);c.isie7mobile=!c.isie9mobile&&c.isie7&&/iemobile/i.test(navigator.userAgent);c.ismozilla="MozAppearance"in b.style;c.iswebkit="WebkitAppearance"in b.style;c.ischrome="chrome"in window;c.ischrome22=c.ischrome&&c.haspointerlock;c.ischrome26=c.ischrome&&"transition"in b.style;c.cantouch="ontouchstart"in document.documentElement||"ontouchstart"in window;c.hasmstouch=window.navigator.msPointerEnabled||!1;c.ismac=/^mac$/i.test(navigator.platform);c.isios=c.cantouch&&/iphone|ipad|ipod/i.test(navigator.platform);c.isios4=c.isios&&!("seal"in Object);c.isandroid=/android/i.test(navigator.userAgent);c.trstyle=!1;c.hastransform=!1;c.hastranslate3d=!1;c.transitionstyle=!1;c.hastransition=!1;c.transitionend=!1;for(var d=["transform","msTransform","webkitTransform","MozTransform","OTransform"],g=0;g<d.length;g++)if("undefined"!=typeof b.style[d[g]]){c.trstyle=d[g];break}c.hastransform=0!=c.trstyle;c.hastransform&&(b.style[c.trstyle]="translate3d(1px,2px,3px)",c.hastranslate3d=/translate3d/.test(b.style[c.trstyle]));c.transitionstyle=!1;c.prefixstyle="";c.transitionend=!1;for(var d="transition webkitTransition MozTransition OTransition OTransition msTransition KhtmlTransition".split(" "),e=" -webkit- -moz- -o- -o -ms- -khtml-".split(" "),f="transitionend webkitTransitionEnd transitionend otransitionend oTransitionEnd msTransitionEnd KhtmlTransitionEnd".split(" "),g=0;g<d.length;g++)if(d[g]in b.style){c.transitionstyle=d[g];c.prefixstyle=e[g];c.transitionend=f[g];break}c.ischrome26&&(c.prefixstyle=e[1]);c.hastransition=c.transitionstyle;a:{d=["-moz-grab","-webkit-grab","grab"];if(c.ischrome&&!c.ischrome22||c.isie)d=[];for(g=0;g<d.length;g++)if(e=d[g],b.style.cursor=e,b.style.cursor==e){d=e;break a}d="url(http://www.google.com/intl/en_ALL/mapfiles/openhand.cur),n-resize"}c.cursorgrabvalue=d;c.hasmousecapture="setCapture"in b;c.hasMutationObserver=!1!==u;return v=c},t=function(d,f){function k(){var b=q.win;if("zIndex"in b)return b.zIndex();for(;0<b.length&&9!=b[0].nodeType;){var c=b.css("zIndex");if(!isNaN(c)&&0!=c)return parseInt(c);b=b.parent()}return!1}function t(b,c,d){c=b.css(c);b=parseFloat(c);return isNaN(b)?(b=K[c]||0,d=3==b?d?q.win.outerHeight()-q.win.innerHeight():q.win.outerWidth()-q.win.innerWidth():1,q.isie8&&b&&(b+=1),d?b:0):b}function y(b,c,d,g){q._bind(b,c,function(g){g=g?g:window.event;var e={original:g,target:g.target||g.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==g.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){g.preventDefault?g.preventDefault():g.returnValue=!1;return!1},stopImmediatePropagation:function(){g.stopImmediatePropagation?g.stopImmediatePropagation():g.cancelBubble=!0}};"mousewheel"==c?(e.deltaY=-.025*g.wheelDelta,g.wheelDeltaX&&(e.deltaX=-.025*g.wheelDeltaX)):e.deltaY=g.detail;return d.call(b,e)},g)}function z(b,c,d){var g,e;0==b.deltaMode?(g=-Math.floor(q.opt.mousescrollstep/54*b.deltaX),e=-Math.floor(q.opt.mousescrollstep/54*b.deltaY)):1==b.deltaMode&&(g=-Math.floor(b.deltaX*q.opt.mousescrollstep),e=-Math.floor(b.deltaY*q.opt.mousescrollstep));c&&q.opt.oneaxismousemode&&0==g&&e&&(g=e,e=0);g&&(q.scrollmom&&q.scrollmom.stop(),q.lastdeltax+=g,q.debounced("mousewheelx",function(){var b=q.lastdeltax;q.lastdeltax=0;q.rail.drag||q.doScrollLeftBy(b)},120));if(e){if(q.opt.nativeparentscrolling&&d&&!q.ispage&&!q.zoomactive)if(0>e){if(q.getScrollTop()>=q.page.maxh)return!0}else if(0>=q.getScrollTop())return!0;q.scrollmom&&q.scrollmom.stop();q.lastdeltay+=e;q.debounced("mousewheely",function(){var b=q.lastdeltay;q.lastdeltay=0;q.rail.drag||q.doScrollBy(b)},120)}b.stopImmediatePropagation();return b.preventDefault()}var q=this;this.version="3.5.0";this.name="nicescroll";this.me=f;this.opt={doc:c("body"),win:!1};c.extend(this.opt,x);this.opt.snapbackspeed=80;if(d)for(var v in q.opt)"undefined"!=typeof d[v]&&(q.opt[v]=d[v]);this.iddoc=(this.doc=q.opt.doc)&&this.doc[0]?this.doc[0].id||"":"";this.ispage=/BODY|HTML/.test(q.opt.win?q.opt.win[0].nodeName:this.doc[0].nodeName);this.haswrapper=!1!==q.opt.win;this.win=q.opt.win||(this.ispage?c(window):this.doc);this.docscroll=this.ispage&&!this.haswrapper?c(window):this.win;this.body=c("body");this.iframe=this.isfixed=this.viewport=!1;this.isiframe="IFRAME"==this.doc[0].nodeName&&"IFRAME"==this.win[0].nodeName;this.istextarea="TEXTAREA"==this.win[0].nodeName;this.forcescreen=!1;this.canshowonmouseevent="scroll"!=q.opt.autohidemode;this.page=this.view=this.onzoomout=this.onzoomin=this.onscrollcancel=this.onscrollend=this.onscrollstart=this.onclick=this.ongesturezoom=this.onkeypress=this.onmousewheel=this.onmousemove=this.onmouseup=this.onmousedown=!1;this.scroll={x:0,y:0};this.scrollratio={x:0,y:0};this.cursorheight=20;this.scrollvaluemax=0;this.observerremover=this.observer=this.scrollmom=this.scrollrunning=this.checkrtlmode=!1;do this.id="ascrail"+l++;while(document.getElementById(this.id));this.hasmousefocus=this.hasfocus=this.zoomactive=this.zoom=this.selectiondrag=this.cursorfreezed=this.cursor=this.rail=!1;this.visibility=!0;this.hidden=this.locked=!1;this.cursoractive=!0;this.overflowx=q.opt.overflowx;this.overflowy=q.opt.overflowy;this.nativescrollingarea=!1;this.checkarea=0;this.events=[];this.saved={};this.delaylist={};this.synclist={};this.lastdeltay=this.lastdeltax=0;this.detected=g();var D=c.extend({},this.detected);this.ishwscroll=(this.canhwscroll=D.hastransform&&q.opt.hwacceleration)&&q.haswrapper;this.istouchcapable=!1;D.cantouch&&D.ischrome&&!D.isios&&!D.isandroid&&(this.istouchcapable=!0,D.cantouch=!1);D.cantouch&&D.ismozilla&&!D.isios&&!D.isandroid&&(this.istouchcapable=!0,D.cantouch=!1);q.opt.enablemouselockapi||(D.hasmousecapture=!1,D.haspointerlock=!1);this.delayed=function(b,c,d,g){var e=q.delaylist[b],f=(new Date).getTime();if(!g&&e&&e.tt)return!1;e&&e.tt&&clearTimeout(e.tt);e&&e.last+d>f&&!e.tt?q.delaylist[b]={last:f+d,tt:setTimeout(function(){q.delaylist[b].tt=0;c.call()},d)}:e&&e.tt||(q.delaylist[b]={last:f,tt:0},setTimeout(function(){c.call()},0))};this.debounced=function(b,c,d){var g=q.delaylist[b];(new Date).getTime();q.delaylist[b]=c;g||setTimeout(function(){var c=q.delaylist[b];q.delaylist[b]=!1;c.call()},d)};this.synched=function(b,c){q.synclist[b]=c;(function(){q.onsync||(m(function(){q.onsync=!1;for(b in q.synclist){var c=q.synclist[b];c&&c.call(q);q.synclist[b]=!1}}),q.onsync=!0)})();return b};this.unsynched=function(b){q.synclist[b]&&(q.synclist[b]=!1)};this.css=function(b,c){for(var d in c)q.saved.css.push([b,d,b.css(d)]),b.css(d,c[d])};this.scrollTop=function(b){return"undefined"==typeof b?q.getScrollTop():q.setScrollTop(b)};this.scrollLeft=function(b){return"undefined"==typeof b?q.getScrollLeft():q.setScrollLeft(b)};BezierClass=function(b,c,d,g,e,f,h){this.st=b;this.ed=c;this.spd=d;this.p1=g||0;this.p2=e||1;this.p3=f||0;this.p4=h||1;this.ts=(new Date).getTime();this.df=this.ed-this.st};BezierClass.prototype={B2:function(b){return 3*b*b*(1-b)},B3:function(b){return 3*b*(1-b)*(1-b)},B4:function(b){return(1-b)*(1-b)*(1-b)},getNow:function(){var b=1-((new Date).getTime()-this.ts)/this.spd,c=this.B2(b)+this.B3(b)+this.B4(b);return 0>b?this.ed:this.st+Math.round(this.df*c)},update:function(b,c){this.st=this.getNow();this.ed=b;this.spd=c;this.ts=(new Date).getTime();this.df=this.ed-this.st;return this}};if(this.ishwscroll){this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"};D.hastranslate3d&&D.isios&&this.doc.css("-webkit-backface-visibility","hidden");var I=function(){var b=q.doc.css(D.trstyle);return b&&"matrix"==b.substr(0,6)?b.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/):!1};this.getScrollTop=function(b){if(!b){if(b=I())return 16==b.length?-b[13]:-b[5];if(q.timerscroll&&q.timerscroll.bz)return q.timerscroll.bz.getNow()}return q.doc.translate.y};this.getScrollLeft=function(b){if(!b){if(b=I())return 16==b.length?-b[12]:-b[4];if(q.timerscroll&&q.timerscroll.bh)return q.timerscroll.bh.getNow()}return q.doc.translate.x};this.notifyScrollEvent=document.createEvent?function(b){var c=document.createEvent("UIEvents");c.initUIEvent("scroll",!1,!0,window,1);b.dispatchEvent(c)}:document.fireEvent?function(b){var c=document.createEventObject();b.fireEvent("onscroll");c.cancelBubble=!0}:function(b,c){};D.hastranslate3d&&q.opt.enabletranslate3d?(this.setScrollTop=function(b,c){q.doc.translate.y=b;q.doc.translate.ty=-1*b+"px";q.doc.css(D.trstyle,"translate3d("+q.doc.translate.tx+","+q.doc.translate.ty+",0px)");c||q.notifyScrollEvent(q.win[0])},this.setScrollLeft=function(b,c){q.doc.translate.x=b;q.doc.translate.tx=-1*b+"px";q.doc.css(D.trstyle,"translate3d("+q.doc.translate.tx+","+q.doc.translate.ty+",0px)");c||q.notifyScrollEvent(q.win[0])}):(this.setScrollTop=function(b,c){q.doc.translate.y=b;q.doc.translate.ty=-1*b+"px";q.doc.css(D.trstyle,"translate("+q.doc.translate.tx+","+q.doc.translate.ty+")");c||q.notifyScrollEvent(q.win[0])},this.setScrollLeft=function(b,c){q.doc.translate.x=b;q.doc.translate.tx=-1*b+"px";q.doc.css(D.trstyle,"translate("+q.doc.translate.tx+","+q.doc.translate.ty+")");c||q.notifyScrollEvent(q.win[0])})}else this.getScrollTop=function(){return q.docscroll.scrollTop()},this.setScrollTop=function(b){return q.docscroll.scrollTop(b)},this.getScrollLeft=function(){return q.docscroll.scrollLeft()},this.setScrollLeft=function(b){return q.docscroll.scrollLeft(b)};this.getTarget=function(b){return b?b.target?b.target:b.srcElement?b.srcElement:!1:!1};this.hasParent=function(b,c){if(!b)return!1;for(var d=b.target||b.srcElement||b||!1;d&&d.id!=c;)d=d.parentNode||!1;return!1!==d};var K={thin:1,medium:3,thick:5};this.getOffset=function(){if(q.isfixed)return{top:parseFloat(q.win.css("top")),left:parseFloat(q.win.css("left"))};if(!q.viewport)return q.win.offset();var b=q.win.offset(),c=q.viewport.offset();return{top:b.top-c.top+q.viewport.scrollTop(),left:b.left-c.left+q.viewport.scrollLeft()}};this.updateScrollBar=function(b){if(q.ishwscroll)q.rail.css({height:q.win.innerHeight()}),q.railh&&q.railh.css({width:q.win.innerWidth()});else{var c=q.getOffset(),d=c.top,g=c.left,d=d+t(q.win,"border-top-width",!0);q.win.outerWidth();q.win.innerWidth();var g=g+(q.rail.align?q.win.outerWidth()-t(q.win,"border-right-width")-q.rail.width:t(q.win,"border-left-width")),e=q.opt.railoffset;e&&(e.top&&(d+=e.top),q.rail.align&&e.left&&(g+=e.left));q.locked||q.rail.css({top:d,left:g,height:b?b.h:q.win.innerHeight()});q.zoom&&q.zoom.css({top:d+1,left:1==q.rail.align?g-20:g+q.rail.width+4});q.railh&&!q.locked&&(d=c.top,g=c.left,b=q.railh.align?d+t(q.win,"border-top-width",!0)+q.win.innerHeight()-q.railh.height:d+t(q.win,"border-top-width",!0),g+=t(q.win,"border-left-width"),q.railh.css({top:b,left:g,width:q.railh.width}))}};this.doRailClick=function(b,c,d){var g;q.locked||(q.cancelEvent(b),c?(c=d?q.doScrollLeft:q.doScrollTop,g=d?(b.pageX-q.railh.offset().left-q.cursorwidth/2)*q.scrollratio.x:(b.pageY-q.rail.offset().top-q.cursorheight/2)*q.scrollratio.y,c(g)):(c=d?q.doScrollLeftBy:q.doScrollBy,g=d?q.scroll.x:q.scroll.y,b=d?b.pageX-q.railh.offset().left:b.pageY-q.rail.offset().top,d=d?q.view.w:q.view.h,g>=b?c(d):c(-d)))};q.hasanimationframe=m;q.hascancelanimationframe=r;q.hasanimationframe?q.hascancelanimationframe||(r=function(){q.cancelAnimationFrame=!0}):(m=function(b){return setTimeout(b,15-Math.floor(+new Date/1E3)%16)},r=clearInterval);this.init=function(){q.saved.css=[];if(D.isie7mobile||D.isoperamini)return!0;D.hasmstouch&&q.css(q.ispage?c("html"):q.win,{"-ms-touch-action":"none"});q.zindex="auto";q.zindex=q.ispage||"auto"!=q.opt.zindex?q.opt.zindex:k()||"auto";!q.ispage&&"auto"!=q.zindex&&q.zindex>e&&(e=q.zindex);q.isie&&0==q.zindex&&"auto"==q.opt.zindex&&(q.zindex="auto");if(!q.ispage||!D.cantouch&&!D.isieold&&!D.isie9mobile){var d=q.docscroll;q.ispage&&(d=q.haswrapper?q.win:q.doc);D.isie9mobile||q.css(d,{"overflow-y":"hidden"});q.ispage&&D.isie7&&("BODY"==q.doc[0].nodeName?q.css(c("html"),{"overflow-y":"hidden"}):"HTML"==q.doc[0].nodeName&&q.css(c("body"),{"overflow-y":"hidden"}));D.isios&&!q.ispage&&!q.haswrapper&&q.css(c("body"),{"-webkit-overflow-scrolling":"touch"});var g=c(document.createElement("div"));g.css({position:"relative",top:0,"float":"right",width:q.opt.cursorwidth,height:"0px","background-color":q.opt.cursorcolor,border:q.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":q.opt.cursorborderradius,"-moz-border-radius":q.opt.cursorborderradius,"border-radius":q.opt.cursorborderradius});g.hborder=parseFloat(g.outerHeight()-g.innerHeight());q.cursor=g;var f=c(document.createElement("div"));f.attr("id",q.id);f.addClass("nicescroll-rails");var l,m,t=["left","right"],r;for(r in t)m=t[r],(l=q.opt.railpadding[m])?f.css("padding-"+m,l+"px"):q.opt.railpadding[m]=0;f.append(g);f.width=Math.max(parseFloat(q.opt.cursorwidth),g.outerWidth())+q.opt.railpadding.left+q.opt.railpadding.right;f.css({width:f.width+"px",zIndex:q.zindex,background:q.opt.background,cursor:"default"});f.visibility=!0;f.scrollable=!0;f.align="left"==q.opt.railalign?0:1;q.rail=f;g=q.rail.drag=!1;q.opt.boxzoom&&!q.ispage&&!D.isieold&&(g=document.createElement("div"),q.bind(g,"click",q.doZoom),q.zoom=c(g),q.zoom.css({cursor:"pointer","z-index":q.zindex,backgroundImage:"url("+n+"zoomico.png)",height:18,width:18,backgroundPosition:"0px 0px"}),q.opt.dblclickzoom&&q.bind(q.win,"dblclick",q.doZoom),D.cantouch&&q.opt.gesturezoom&&(q.ongesturezoom=function(b){1.5<b.scale&&q.doZoomIn(b);.8>b.scale&&q.doZoomOut(b);return q.cancelEvent(b)},q.bind(q.win,"gestureend",q.ongesturezoom)));q.railh=!1;if(q.opt.horizrailenabled){q.css(d,{"overflow-x":"hidden"});g=c(document.createElement("div"));g.css({position:"relative",top:0,height:q.opt.cursorwidth,width:"0px","background-color":q.opt.cursorcolor,border:q.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":q.opt.cursorborderradius,"-moz-border-radius":q.opt.cursorborderradius,"border-radius":q.opt.cursorborderradius});g.wborder=parseFloat(g.outerWidth()-g.innerWidth());q.cursorh=g;var y=c(document.createElement("div"));y.attr("id",q.id+"-hr");y.addClass("nicescroll-rails");y.height=Math.max(parseFloat(q.opt.cursorwidth),g.outerHeight());y.css({height:y.height+"px",zIndex:q.zindex,background:q.opt.background});y.append(g);y.visibility=!0;y.scrollable=!0;y.align="top"==q.opt.railvalign?0:1;q.railh=y;q.railh.drag=!1}q.ispage?(f.css({position:"fixed",top:"0px",height:"100%"}),f.align?f.css({right:"0px"}):f.css({left:"0px"}),q.body.append(f),q.railh&&(y.css({position:"fixed",left:"0px",width:"100%"}),y.align?y.css({bottom:"0px"}):y.css({top:"0px"}),q.body.append(y))):(q.ishwscroll?("static"==q.win.css("position")&&q.css(q.win,{position:"relative"}),d="HTML"==q.win[0].nodeName?q.body:q.win,q.zoom&&(q.zoom.css({position:"absolute",top:1,right:0,"margin-right":f.width+4}),d.append(q.zoom)),f.css({position:"absolute",top:0}),f.align?f.css({right:0}):f.css({left:0}),d.append(f),y&&(y.css({position:"absolute",left:0,bottom:0}),y.align?y.css({bottom:0}):y.css({top:0}),d.append(y))):(q.isfixed="fixed"==q.win.css("position"),d=q.isfixed?"fixed":"absolute",q.isfixed||(q.viewport=q.getViewport(q.win[0])),q.viewport&&(q.body=q.viewport,0==/fixed|relative|absolute/.test(q.viewport.css("position"))&&q.css(q.viewport,{position:"relative"})),f.css({position:d}),q.zoom&&q.zoom.css({position:d}),q.updateScrollBar(),q.body.append(f),q.zoom&&q.body.append(q.zoom),q.railh&&(y.css({position:d}),q.body.append(y))),D.isios&&q.css(q.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"}),D.isie&&q.opt.disableoutline&&q.win.attr("hideFocus","true"),D.iswebkit&&q.opt.disableoutline&&q.win.css({outline:"none"}));!1===q.opt.autohidemode?(q.autohidedom=!1,q.rail.css({opacity:q.opt.cursoropacitymax}),q.railh&&q.railh.css({opacity:q.opt.cursoropacitymax})):!0===q.opt.autohidemode||"leave"===q.opt.autohidemode?(q.autohidedom=c().add(q.rail),D.isie8&&(q.autohidedom=q.autohidedom.add(q.cursor)),q.railh&&(q.autohidedom=q.autohidedom.add(q.railh)),q.railh&&D.isie8&&(q.autohidedom=q.autohidedom.add(q.cursorh))):"scroll"==q.opt.autohidemode?(q.autohidedom=c().add(q.rail),q.railh&&(q.autohidedom=q.autohidedom.add(q.railh))):"cursor"==q.opt.autohidemode?(q.autohidedom=c().add(q.cursor),q.railh&&(q.autohidedom=q.autohidedom.add(q.cursorh))):"hidden"==q.opt.autohidemode&&(q.autohidedom=!1,q.hide(),q.locked=!1);if(D.isie9mobile)q.scrollmom=new w(q),q.onmangotouch=function(b){b=q.getScrollTop();var c=q.getScrollLeft();if(b==q.scrollmom.lastscrolly&&c==q.scrollmom.lastscrollx)return!0;var d=b-q.mangotouch.sy,g=c-q.mangotouch.sx;if(0!=Math.round(Math.sqrt(Math.pow(g,2)+Math.pow(d,2)))){var e=0>d?-1:1,f=0>g?-1:1,h=+new Date;q.mangotouch.lazy&&clearTimeout(q.mangotouch.lazy);80<h-q.mangotouch.tm||q.mangotouch.dry!=e||q.mangotouch.drx!=f?(q.scrollmom.stop(),q.scrollmom.reset(c,b),q.mangotouch.sy=b,q.mangotouch.ly=b,q.mangotouch.sx=c,q.mangotouch.lx=c,q.mangotouch.dry=e,q.mangotouch.drx=f,q.mangotouch.tm=h):(q.scrollmom.stop(),q.scrollmom.update(q.mangotouch.sx-g,q.mangotouch.sy-d),q.mangotouch.tm=h,d=Math.max(Math.abs(q.mangotouch.ly-b),Math.abs(q.mangotouch.lx-c)),q.mangotouch.ly=b,q.mangotouch.lx=c,2<d&&(q.mangotouch.lazy=setTimeout(function(){q.mangotouch.lazy=!1;q.mangotouch.dry=0;q.mangotouch.drx=0;q.mangotouch.tm=0;q.scrollmom.doMomentum(30)},100)))}},f=q.getScrollTop(),y=q.getScrollLeft(),q.mangotouch={sy:f,ly:f,dry:0,sx:y,lx:y,drx:0,lazy:!1,tm:0},q.bind(q.docscroll,"scroll",q.onmangotouch);else{if(D.cantouch||q.istouchcapable||q.opt.touchbehavior||D.hasmstouch){q.scrollmom=new w(q);q.ontouchstart=function(b){if(b.pointerType&&2!=b.pointerType)return!1;if(!q.locked){if(D.hasmstouch)for(var d=b.target?b.target:!1;d;){var g=c(d).getNiceScroll();if(0<g.length&&g[0].me==q.me)break;if(0<g.length)return!1;if("DIV"==d.nodeName&&d.id==q.id)break;d=d.parentNode?d.parentNode:!1}q.cancelScroll();if((d=q.getTarget(b))&&/INPUT/i.test(d.nodeName)&&/range/i.test(d.type))return q.stopPropagation(b);!("clientX"in b)&&"changedTouches"in b&&(b.clientX=b.changedTouches[0].clientX,b.clientY=b.changedTouches[0].clientY);q.forcescreen&&(g=b,b={original:b.original?b.original:b},b.clientX=g.screenX,b.clientY=g.screenY);q.rail.drag={x:b.clientX,y:b.clientY,sx:q.scroll.x,sy:q.scroll.y,st:q.getScrollTop(),sl:q.getScrollLeft(),pt:2,dl:!1};if(q.ispage||!q.opt.directionlockdeadzone)q.rail.drag.dl="f";else{var g=c(window).width(),e=c(window).height(),f=Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),e=Math.max(0,Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)-e),g=Math.max(0,f-g);q.rail.drag.ck=!q.rail.scrollable&&q.railh.scrollable?0<e?"v":!1:q.rail.scrollable&&!q.railh.scrollable?0<g?"h":!1:!1;q.rail.drag.ck||(q.rail.drag.dl="f")}q.opt.touchbehavior&&q.isiframe&&D.isie&&(g=q.win.position(),q.rail.drag.x+=g.left,q.rail.drag.y+=g.top);q.hasmoving=!1;q.lastmouseup=!1;q.scrollmom.reset(b.clientX,b.clientY);if(!D.cantouch&&!this.istouchcapable&&!D.hasmstouch){if(!d||!/INPUT|SELECT|TEXTAREA/i.test(d.nodeName))return!q.ispage&&D.hasmousecapture&&d.setCapture(),q.opt.touchbehavior?q.cancelEvent(b):q.stopPropagation(b);/SUBMIT|CANCEL|BUTTON/i.test(c(d).attr("type"))&&(pc={tg:d,click:!1},q.preventclick=pc)}}};q.ontouchend=function(b){if(b.pointerType&&2!=b.pointerType)return!1;if(q.rail.drag&&2==q.rail.drag.pt&&(q.scrollmom.doMomentum(),q.rail.drag=!1,q.hasmoving&&(q.hasmoving=!1,q.lastmouseup=!0,q.hideCursor(),D.hasmousecapture&&document.releaseCapture(),!D.cantouch)))return q.cancelEvent(b)};var z=q.opt.touchbehavior&&q.isiframe&&!D.hasmousecapture;q.ontouchmove=function(b,d){if(b.pointerType&&2!=b.pointerType)return!1;if(q.rail.drag&&2==q.rail.drag.pt){if(D.cantouch&&"undefined"==typeof b.original)return!0;q.hasmoving=!0;q.preventclick&&!q.preventclick.click&&(q.preventclick.click=q.preventclick.tg.onclick||!1,q.preventclick.tg.onclick=q.onpreventclick);b=c.extend({original:b},b);"changedTouches"in b&&(b.clientX=b.changedTouches[0].clientX,b.clientY=b.changedTouches[0].clientY);if(q.forcescreen){var g=b;b={original:b.original?b.original:b};b.clientX=g.screenX;b.clientY=g.screenY}g=ofy=0;if(z&&!d){var e=q.win.position(),g=-e.left;ofy=-e.top}var f=b.clientY+ofy,e=f-q.rail.drag.y,h=b.clientX+g,k=h-q.rail.drag.x,l=q.rail.drag.st-e;q.ishwscroll&&q.opt.bouncescroll?0>l?l=Math.round(l/2):l>q.page.maxh&&(l=q.page.maxh+Math.round((l-q.page.maxh)/2)):(0>l&&(f=l=0),l>q.page.maxh&&(l=q.page.maxh,f=0));if(q.railh&&q.railh.scrollable){var m=q.rail.drag.sl-k;q.ishwscroll&&q.opt.bouncescroll?0>m?m=Math.round(m/2):m>q.page.maxw&&(m=q.page.maxw+Math.round((m-q.page.maxw)/2)):(0>m&&(h=m=0),m>q.page.maxw&&(m=q.page.maxw,h=0))}g=!1;if(q.rail.drag.dl)g=!0,"v"==q.rail.drag.dl?m=q.rail.drag.sl:"h"==q.rail.drag.dl&&(l=q.rail.drag.st);else{var e=Math.abs(e),k=Math.abs(k),t=q.opt.directionlockdeadzone;if("v"==q.rail.drag.ck){if(e>t&&k<=.3*e)return q.rail.drag=!1,!0;k>t&&(q.rail.drag.dl="f",c("body").scrollTop(c("body").scrollTop()))}else if("h"==q.rail.drag.ck){if(k>t&&e<=.3*k)return q.rail.drag=!1,!0;e>t&&(q.rail.drag.dl="f",c("body").scrollLeft(c("body").scrollLeft()))}}q.synched("touchmove",function(){q.rail.drag&&2==q.rail.drag.pt&&(q.prepareTransition&&q.prepareTransition(0),q.rail.scrollable&&q.setScrollTop(l),q.scrollmom.update(h,f),q.railh&&q.railh.scrollable?(q.setScrollLeft(m),q.showCursor(l,m)):q.showCursor(l),D.isie10&&document.selection.clear())});D.ischrome&&q.istouchcapable&&(g=!1);if(g)return q.cancelEvent(b)}}}q.onmousedown=function(b,c){if(!q.rail.drag||1==q.rail.drag.pt){if(q.locked)return q.cancelEvent(b);q.cancelScroll();q.rail.drag={x:b.clientX,y:b.clientY,sx:q.scroll.x,sy:q.scroll.y,pt:1,hr:!!c};var d=q.getTarget(b);!q.ispage&&D.hasmousecapture&&d.setCapture();q.isiframe&&!D.hasmousecapture&&(q.saved.csspointerevents=q.doc.css("pointer-events"),q.css(q.doc,{"pointer-events":"none"}));return q.cancelEvent(b)}};q.onmouseup=function(b){if(q.rail.drag&&(D.hasmousecapture&&document.releaseCapture(),q.isiframe&&!D.hasmousecapture&&q.doc.css("pointer-events",q.saved.csspointerevents),1==q.rail.drag.pt))return q.rail.drag=!1,q.cancelEvent(b)};q.onmousemove=function(b){if(q.rail.drag&&1==q.rail.drag.pt){if(D.ischrome&&0==b.which)return q.onmouseup(b);q.cursorfreezed=!0;if(q.rail.drag.hr){q.scroll.x=q.rail.drag.sx+(b.clientX-q.rail.drag.x);0>q.scroll.x&&(q.scroll.x=0);var c=q.scrollvaluemaxw;q.scroll.x>c&&(q.scroll.x=c)}else q.scroll.y=q.rail.drag.sy+(b.clientY-q.rail.drag.y),0>q.scroll.y&&(q.scroll.y=0),c=q.scrollvaluemax,q.scroll.y>c&&(q.scroll.y=c);q.synched("mousemove",function(){q.rail.drag&&1==q.rail.drag.pt&&(q.showCursor(),q.rail.drag.hr?q.doScrollLeft(Math.round(q.scroll.x*q.scrollratio.x),q.opt.cursordragspeed):q.doScrollTop(Math.round(q.scroll.y*q.scrollratio.y),q.opt.cursordragspeed))});return q.cancelEvent(b)}};if(D.cantouch||q.opt.touchbehavior)q.onpreventclick=function(b){if(q.preventclick)return q.preventclick.tg.onclick=q.preventclick.click,q.preventclick=!1,q.cancelEvent(b)},q.bind(q.win,"mousedown",q.ontouchstart),q.onclick=D.isios?!1:function(b){return q.lastmouseup?(q.lastmouseup=!1,q.cancelEvent(b)):!0},q.opt.grabcursorenabled&&D.cursorgrabvalue&&(q.css(q.ispage?q.doc:q.win,{cursor:D.cursorgrabvalue}),q.css(q.rail,{cursor:D.cursorgrabvalue}));else{var v=function(b){if(q.selectiondrag){if(b){var c=q.win.outerHeight();b=b.pageY-q.selectiondrag.top;0<b&&b<c&&(b=0);b>=c&&(b-=c);q.selectiondrag.df=b}0!=q.selectiondrag.df&&(q.doScrollBy(2*-Math.floor(q.selectiondrag.df/6)),q.debounced("doselectionscroll",function(){v()},50))}};q.hasTextSelected="getSelection"in document?function(){return 0<document.getSelection().rangeCount}:"selection"in document?function(){return"None"!=document.selection.type}:function(){return!1};q.onselectionstart=function(b){q.ispage||(q.selectiondrag=q.win.offset())};q.onselectionend=function(b){q.selectiondrag=!1};q.onselectiondrag=function(b){q.selectiondrag&&q.hasTextSelected()&&q.debounced("selectionscroll",function(){v(b)},250)}}D.hasmstouch&&(q.css(q.rail,{"-ms-touch-action":"none"}),q.css(q.cursor,{"-ms-touch-action":"none"}),q.bind(q.win,"MSPointerDown",q.ontouchstart),q.bind(document,"MSPointerUp",q.ontouchend),q.bind(document,"MSPointerMove",q.ontouchmove),q.bind(q.cursor,"MSGestureHold",function(b){b.preventDefault()}),q.bind(q.cursor,"contextmenu",function(b){b.preventDefault()}));this.istouchcapable&&(q.bind(q.win,"touchstart",q.ontouchstart),q.bind(document,"touchend",q.ontouchend),q.bind(document,"touchcancel",q.ontouchend),q.bind(document,"touchmove",q.ontouchmove));q.bind(q.cursor,"mousedown",q.onmousedown);q.bind(q.cursor,"mouseup",q.onmouseup);q.railh&&(q.bind(q.cursorh,"mousedown",function(b){q.onmousedown(b,!0)}),q.bind(q.cursorh,"mouseup",function(b){if(!q.rail.drag||2!=q.rail.drag.pt)return q.rail.drag=!1,q.hasmoving=!1,q.hideCursor(),D.hasmousecapture&&document.releaseCapture(),q.cancelEvent(b)}));if(q.opt.cursordragontouch||!D.cantouch&&!q.opt.touchbehavior)q.rail.css({cursor:"default"}),q.railh&&q.railh.css({cursor:"default"}),q.jqbind(q.rail,"mouseenter",function(){q.canshowonmouseevent&&q.showCursor();q.rail.active=!0}),q.jqbind(q.rail,"mouseleave",function(){q.rail.active=!1;q.rail.drag||q.hideCursor()}),q.opt.sensitiverail&&(q.bind(q.rail,"click",function(b){q.doRailClick(b,!1,!1)}),q.bind(q.rail,"dblclick",function(b){q.doRailClick(b,!0,!1)}),q.bind(q.cursor,"click",function(b){q.cancelEvent(b)}),q.bind(q.cursor,"dblclick",function(b){q.cancelEvent(b)})),q.railh&&(q.jqbind(q.railh,"mouseenter",function(){q.canshowonmouseevent&&q.showCursor();q.rail.active=!0}),q.jqbind(q.railh,"mouseleave",function(){q.rail.active=!1;q.rail.drag||q.hideCursor()}),q.opt.sensitiverail&&(q.bind(q.railh,"click",function(b){q.doRailClick(b,!1,!0)}),q.bind(q.railh,"dblclick",function(b){q.doRailClick(b,!0,!0)}),q.bind(q.cursorh,"click",function(b){q.cancelEvent(b)}),q.bind(q.cursorh,"dblclick",function(b){q.cancelEvent(b)})));D.cantouch||q.opt.touchbehavior?(q.bind(D.hasmousecapture?q.win:document,"mouseup",q.ontouchend),q.bind(document,"mousemove",q.ontouchmove),q.onclick&&q.bind(document,"click",q.onclick),q.opt.cursordragontouch&&(q.bind(q.cursor,"mousedown",q.onmousedown),q.bind(q.cursor,"mousemove",q.onmousemove),q.cursorh&&q.bind(q.cursorh,"mousedown",function(b){q.onmousedown(b,!0)}),q.cursorh&&q.bind(q.cursorh,"mousemove",q.onmousemove))):(q.bind(D.hasmousecapture?q.win:document,"mouseup",q.onmouseup),q.bind(document,"mousemove",q.onmousemove),q.onclick&&q.bind(document,"click",q.onclick),!q.ispage&&q.opt.enablescrollonselection&&(q.bind(q.win[0],"mousedown",q.onselectionstart),q.bind(document,"mouseup",q.onselectionend),q.bind(q.cursor,"mouseup",q.onselectionend),q.cursorh&&q.bind(q.cursorh,"mouseup",q.onselectionend),q.bind(document,"mousemove",q.onselectiondrag)),q.zoom&&(q.jqbind(q.zoom,"mouseenter",function(){q.canshowonmouseevent&&q.showCursor();q.rail.active=!0}),q.jqbind(q.zoom,"mouseleave",function(){q.rail.active=!1;q.rail.drag||q.hideCursor()})));q.opt.enablemousewheel&&(q.isiframe||q.bind(D.isie&&q.ispage?document:q.win,"mousewheel",q.onmousewheel),q.bind(q.rail,"mousewheel",q.onmousewheel),q.railh&&q.bind(q.railh,"mousewheel",q.onmousewheelhr));q.ispage||D.cantouch||/HTML|BODY/.test(q.win[0].nodeName)||(q.win.attr("tabindex")||q.win.attr({tabindex:h++}),q.jqbind(q.win,"focus",function(b){p=q.getTarget(b).id||!0;q.hasfocus=!0;q.canshowonmouseevent&&q.noticeCursor()}),q.jqbind(q.win,"blur",function(b){p=!1;q.hasfocus=!1}),q.jqbind(q.win,"mouseenter",function(c){b=q.getTarget(c).id||!0;q.hasmousefocus=!0;q.canshowonmouseevent&&q.noticeCursor()}),q.jqbind(q.win,"mouseleave",function(){b=!1;q.hasmousefocus=!1;q.rail.drag||q.hideCursor()}))}q.onkeypress=function(c){if(q.locked&&0==q.page.maxh)return!0;c=c?c:window.e;var d=q.getTarget(c);if(d&&/INPUT|TEXTAREA|SELECT|OPTION/.test(d.nodeName)&&(!d.getAttribute("type")&&!d.type||!/submit|button|cancel/i.tp))return!0;if(q.hasfocus||q.hasmousefocus&&!p||q.ispage&&!p&&!b){d=c.keyCode;if(q.locked&&27!=d)return q.cancelEvent(c);var g=c.ctrlKey||!1,e=c.shiftKey||!1,f=!1;switch(d){case 38:case 63233:q.doScrollBy(72);f=!0;break;case 40:case 63235:q.doScrollBy(-72);f=!0;break;case 37:case 63232:q.railh&&(g?q.doScrollLeft(0):q.doScrollLeftBy(72),f=!0);break;case 39:case 63234:q.railh&&(g?q.doScrollLeft(q.page.maxw):q.doScrollLeftBy(-72),f=!0);break;case 33:case 63276:q.doScrollBy(q.view.h);f=!0;break;case 34:case 63277:q.doScrollBy(-q.view.h);f=!0;break;case 36:case 63273:q.railh&&g?q.doScrollPos(0,0):q.doScrollTo(0);f=!0;break;case 35:case 63275:q.railh&&g?q.doScrollPos(q.page.maxw,q.page.maxh):q.doScrollTo(q.page.maxh);f=!0;break;case 32:q.opt.spacebarenabled&&(e?q.doScrollBy(q.view.h):q.doScrollBy(-q.view.h),f=!0);break;case 27:q.zoomactive&&(q.doZoom(),f=!0)}if(f)return q.cancelEvent(c)}};q.opt.enablekeyboard&&q.bind(document,D.isopera&&!D.isopera12?"keypress":"keydown",q.onkeypress);q.bind(window,"resize",q.lazyResize);q.bind(window,"orientationchange",q.lazyResize);q.bind(window,"load",q.lazyResize);if(D.ischrome&&!q.ispage&&!q.haswrapper){var x=q.win.attr("style"),f=parseFloat(q.win.css("width"))+1;q.win.css("width",f);q.synched("chromefix",function(){q.win.attr("style",x)})}q.onAttributeChange=function(b){q.lazyResize(250)};!q.ispage&&!q.haswrapper&&(!1!==u?(q.observer=new u(function(b){b.forEach(q.onAttributeChange)}),q.observer.observe(q.win[0],{childList:!0,characterData:!1,attributes:!0,subtree:!1}),q.observerremover=new u(function(b){b.forEach(function(b){if(0<b.removedNodes.length)for(var c in b.removedNodes)if(b.removedNodes[c]==q.win[0])return q.remove()})}),q.observerremover.observe(q.win[0].parentNode,{childList:!0,characterData:!1,attributes:!1,subtree:!1})):(q.bind(q.win,D.isie&&!D.isie9?"propertychange":"DOMAttrModified",q.onAttributeChange),D.isie9&&q.win[0].attachEvent("onpropertychange",q.onAttributeChange),q.bind(q.win,"DOMNodeRemoved",function(b){b.target==q.win[0]&&q.remove()})));!q.ispage&&q.opt.boxzoom&&q.bind(window,"resize",q.resizeZoom);q.istextarea&&q.bind(q.win,"mouseup",q.lazyResize);q.checkrtlmode=!0;q.lazyResize(30)}if("IFRAME"==this.doc[0].nodeName){var A=function(b){q.iframexd=!1;try{var d="contentDocument"in this?this.contentDocument:this.contentWindow.document}catch(g){q.iframexd=!0,d=!1}if(q.iframexd)return"console"in window&&console.log("NiceScroll error: policy restriced iframe"),!0;q.forcescreen=!0;q.isiframe&&(q.iframe={doc:c(d),html:q.doc.contents().find("html")[0],body:q.doc.contents().find("body")[0]},q.getContentSize=function(){return{w:Math.max(q.iframe.html.scrollWidth,q.iframe.body.scrollWidth),h:Math.max(q.iframe.html.scrollHeight,q.iframe.body.scrollHeight)}},q.docscroll=c(q.iframe.body));!D.isios&&q.opt.iframeautoresize&&!q.isiframe&&(q.win.scrollTop(0),q.doc.height(""),b=Math.max(d.getElementsByTagName("html")[0].scrollHeight,d.body.scrollHeight),q.doc.height(b));q.lazyResize(30);D.isie7&&q.css(c(q.iframe.html),{"overflow-y":"hidden"});q.css(c(q.iframe.body),{"overflow-y":"hidden"});D.isios&&q.haswrapper&&q.css(c(d.body),{"-webkit-transform":"translate3d(0,0,0)"});"contentWindow"in this?q.bind(this.contentWindow,"scroll",q.onscroll):q.bind(d,"scroll",q.onscroll);q.opt.enablemousewheel&&q.bind(d,"mousewheel",q.onmousewheel);q.opt.enablekeyboard&&q.bind(d,D.isopera?"keypress":"keydown",q.onkeypress);if(D.cantouch||q.opt.touchbehavior)q.bind(d,"mousedown",q.ontouchstart),q.bind(d,"mousemove",function(b){q.ontouchmove(b,!0)}),q.opt.grabcursorenabled&&D.cursorgrabvalue&&q.css(c(d.body),{cursor:D.cursorgrabvalue});q.bind(d,"mouseup",q.ontouchend);q.zoom&&(q.opt.dblclickzoom&&q.bind(d,"dblclick",q.doZoom),q.ongesturezoom&&q.bind(d,"gestureend",q.ongesturezoom))};this.doc[0].readyState&&"complete"==this.doc[0].readyState&&setTimeout(function(){A.call(q.doc[0],!1)},500);q.bind(this.doc,"load",A)}};this.showCursor=function(b,c){q.cursortimeout&&(clearTimeout(q.cursortimeout),q.cursortimeout=0);q.rail&&(q.autohidedom&&(q.autohidedom.stop().css({opacity:q.opt.cursoropacitymax}),q.cursoractive=!0),q.rail.drag&&1==q.rail.drag.pt||("undefined"!=typeof b&&!1!==b&&(q.scroll.y=Math.round(1*b/q.scrollratio.y)),"undefined"!=typeof c&&(q.scroll.x=Math.round(1*c/q.scrollratio.x))),q.cursor.css({height:q.cursorheight,top:q.scroll.y}),q.cursorh&&(!q.rail.align&&q.rail.visibility?q.cursorh.css({width:q.cursorwidth,left:q.scroll.x+q.rail.width}):q.cursorh.css({width:q.cursorwidth,left:q.scroll.x}),q.cursoractive=!0),q.zoom&&q.zoom.stop().css({opacity:q.opt.cursoropacitymax}))};this.hideCursor=function(b){q.cursortimeout||!q.rail||!q.autohidedom||q.hasmousefocus&&"leave"==q.opt.autohidemode||(q.cursortimeout=setTimeout(function(){q.rail.active&&q.showonmouseevent||(q.autohidedom.stop().animate({opacity:q.opt.cursoropacitymin}),q.zoom&&q.zoom.stop().animate({opacity:q.opt.cursoropacitymin}),q.cursoractive=!1);q.cursortimeout=0},b||q.opt.hidecursordelay))};this.noticeCursor=function(b,c,d){q.showCursor(c,d);q.rail.active||q.hideCursor(b)};this.getContentSize=q.ispage?function(){return{w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}}:q.haswrapper?function(){return{w:q.doc.outerWidth()+parseInt(q.win.css("paddingLeft"))+parseInt(q.win.css("paddingRight")),h:q.doc.outerHeight()+parseInt(q.win.css("paddingTop"))+parseInt(q.win.css("paddingBottom"))}}:function(){return{w:q.docscroll[0].scrollWidth,h:q.docscroll[0].scrollHeight}};this.onResize=function(b,c){if(!q.win)return!1;if(!q.haswrapper&&!q.ispage){if("none"==q.win.css("display"))return q.visibility&&q.hideRail().hideRailHr(),!1;q.hidden||q.visibility||q.showRail().showRailHr()}var d=q.page.maxh,g=q.page.maxw,e=q.view.w;q.view={w:q.ispage?q.win.width():parseInt(q.win[0].clientWidth),h:q.ispage?q.win.height():parseInt(q.win[0].clientHeight)};q.page=c?c:q.getContentSize();q.page.maxh=Math.max(0,q.page.h-q.view.h);q.page.maxw=Math.max(0,q.page.w-q.view.w);if(q.page.maxh==d&&q.page.maxw==g&&q.view.w==e){if(q.ispage)return q;d=q.win.offset();if(q.lastposition&&(g=q.lastposition,g.top==d.top&&g.left==d.left))return q;q.lastposition=d}0==q.page.maxh?(q.hideRail(),q.scrollvaluemax=0,q.scroll.y=0,q.scrollratio.y=0,q.cursorheight=0,q.setScrollTop(0),q.rail.scrollable=!1):q.rail.scrollable=!0;0==q.page.maxw?(q.hideRailHr(),q.scrollvaluemaxw=0,q.scroll.x=0,q.scrollratio.x=0,q.cursorwidth=0,q.setScrollLeft(0),q.railh.scrollable=!1):q.railh.scrollable=!0;q.locked=0==q.page.maxh&&0==q.page.maxw;if(q.locked)return q.ispage||q.updateScrollBar(q.view),!1;q.hidden||q.visibility?!q.hidden&&!q.railh.visibility&&q.showRailHr():q.showRail().showRailHr();q.istextarea&&q.win.css("resize")&&"none"!=q.win.css("resize")&&(q.view.h-=20);q.cursorheight=Math.min(q.view.h,Math.round(q.view.h/q.page.h*q.view.h));q.cursorheight=q.opt.cursorfixedheight?q.opt.cursorfixedheight:Math.max(q.opt.cursorminheight,q.cursorheight);q.cursorwidth=Math.min(q.view.w,Math.round(q.view.w/q.page.w*q.view.w));q.cursorwidth=q.opt.cursorfixedheight?q.opt.cursorfixedheight:Math.max(q.opt.cursorminheight,q.cursorwidth);q.scrollvaluemax=q.view.h-q.cursorheight-q.cursor.hborder;q.railh&&(q.railh.width=0<q.page.maxh?q.view.w-q.rail.width:q.view.w,q.scrollvaluemaxw=q.railh.width-q.cursorwidth-q.cursorh.wborder);q.checkrtlmode&&q.railh&&(q.checkrtlmode=!1,q.opt.rtlmode&&0==q.scroll.x&&q.setScrollLeft(q.page.maxw));q.ispage||q.updateScrollBar(q.view);q.scrollratio={x:q.page.maxw/q.scrollvaluemaxw,y:q.page.maxh/q.scrollvaluemax};q.getScrollTop()>q.page.maxh?q.doScrollTop(q.page.maxh):(q.scroll.y=Math.round(q.getScrollTop()*(1/q.scrollratio.y)),q.scroll.x=Math.round(q.getScrollLeft()*(1/q.scrollratio.x)),q.cursoractive&&q.noticeCursor());q.scroll.y&&0==q.getScrollTop()&&q.doScrollTo(Math.floor(q.scroll.y*q.scrollratio.y));return q};this.resize=q.onResize;this.lazyResize=function(b){b=isNaN(b)?30:b;q.delayed("resize",q.resize,b);return q};this._bind=function(b,c,d,g){q.events.push({e:b,n:c,f:d,b:g,q:!1});b.addEventListener?b.addEventListener(c,d,g||!1):b.attachEvent?b.attachEvent("on"+c,d):b["on"+c]=d};this.jqbind=function(b,d,g){q.events.push({e:b,n:d,f:g,q:!0});c(b).bind(d,g)};this.bind=function(b,c,d,g){var e="jquery"in b?b[0]:b;"mousewheel"==c?"onwheel"in q.win?q._bind(e,"wheel",d,g||!1):(b="undefined"!=typeof document.onmousewheel?"mousewheel":"DOMMouseScroll",y(e,b,d,g||!1),"DOMMouseScroll"==b&&y(e,"MozMousePixelScroll",d,g||!1)):e.addEventListener?(D.cantouch&&/mouseup|mousedown|mousemove/.test(c)&&q._bind(e,"mousedown"==c?"touchstart":"mouseup"==c?"touchend":"touchmove",function(b){if(b.touches){if(2>b.touches.length){var c=b.touches.length?b.touches[0]:b;c.original=b;d.call(this,c)}}else b.changedTouches&&(c=b.changedTouches[0],c.original=b,d.call(this,c))},g||!1),q._bind(e,c,d,g||!1),D.cantouch&&"mouseup"==c&&q._bind(e,"touchcancel",d,g||!1)):q._bind(e,c,function(b){(b=b||window.event||!1)&&b.srcElement&&(b.target=b.srcElement);"pageY"in b||(b.pageX=b.clientX+document.documentElement.scrollLeft,b.pageY=b.clientY+document.documentElement.scrollTop);return!1===d.call(e,b)||!1===g?q.cancelEvent(b):!0})};this._unbind=function(b,c,d,g){b.removeEventListener?b.removeEventListener(c,d,g):b.detachEvent?b.detachEvent("on"+c,d):b["on"+c]=!1};this.unbindAll=function(){for(var b=0;b<q.events.length;b++){var c=q.events[b];c.q?c.e.unbind(c.n,c.f):q._unbind(c.e,c.n,c.f,c.b)}};this.cancelEvent=function(b){b=b.original?b.original:b?b:window.event||!1;if(!b)return!1;b.preventDefault&&b.preventDefault();b.stopPropagation&&b.stopPropagation();b.preventManipulation&&b.preventManipulation();b.cancelBubble=!0;b.cancel=!0;return b.returnValue=!1};this.stopPropagation=function(b){b=b.original?b.original:b?b:window.event||!1;if(!b)return!1;if(b.stopPropagation)return b.stopPropagation();b.cancelBubble&&(b.cancelBubble=!0);return!1};this.showRail=function(){0==q.page.maxh||!q.ispage&&"none"==q.win.css("display")||(q.visibility=!0,q.rail.visibility=!0,q.rail.css("display","block"));return q};this.showRailHr=function(){if(!q.railh)return q;0==q.page.maxw||!q.ispage&&"none"==q.win.css("display")||(q.railh.visibility=!0,q.railh.css("display","block"));return q};this.hideRail=function(){q.visibility=!1;q.rail.visibility=!1;q.rail.css("display","none");return q};this.hideRailHr=function(){if(!q.railh)return q;q.railh.visibility=!1;q.railh.css("display","none");return q};this.show=function(){q.hidden=!1;q.locked=!1;return q.showRail().showRailHr()};this.hide=function(){q.hidden=!0;q.locked=!0;return q.hideRail().hideRailHr()};this.toggle=function(){return q.hidden?q.show():q.hide()};this.remove=function(){q.stop();q.cursortimeout&&clearTimeout(q.cursortimeout);q.doZoomOut();q.unbindAll();D.isie9&&q.win[0].detachEvent("onpropertychange",q.onAttributeChange);!1!==q.observer&&q.observer.disconnect();!1!==q.observerremover&&q.observerremover.disconnect();q.events=null;q.cursor&&q.cursor.remove();q.cursorh&&q.cursorh.remove();q.rail&&q.rail.remove();q.railh&&q.railh.remove();q.zoom&&q.zoom.remove();for(var b=0;b<q.saved.css.length;b++){var d=q.saved.css[b];d[0].css(d[1],"undefined"==typeof d[2]?"":d[2])}q.saved=!1;q.me.data("__nicescroll","");var g=c.nicescroll;g.each(function(b){if(this&&this.id===q.id){delete g[b];for(var c=++b;c<g.length;c++,b++)g[b]=g[c];g.length--;g.length&&delete g[g.length]}});for(var e in q)q[e]=null,delete q[e];q=null};this.scrollstart=function(b){this.onscrollstart=b;return q};this.scrollend=function(b){this.onscrollend=b;return q};this.scrollcancel=function(b){this.onscrollcancel=b;return q};this.zoomin=function(b){this.onzoomin=b;return q};this.zoomout=function(b){this.onzoomout=b;return q};this.isScrollable=function(b){b=b.target?b.target:b;if("OPTION"==b.nodeName)return!0;for(;b&&1==b.nodeType&&!/BODY|HTML/.test(b.nodeName);){var d=c(b),d=d.css("overflowY")||d.css("overflowX")||d.css("overflow")||"";if(/scroll|auto/.test(d))return b.clientHeight!=b.scrollHeight;b=b.parentNode?b.parentNode:!1}return!1};this.getViewport=function(b){for(b=b&&b.parentNode?b.parentNode:!1;b&&1==b.nodeType&&!/BODY|HTML/.test(b.nodeName);){var d=c(b);if(/fixed|absolute/.test(d.css("position")))return d;var g=d.css("overflowY")||d.css("overflowX")||d.css("overflow")||"";if(/scroll|auto/.test(g)&&b.clientHeight!=b.scrollHeight||0<d.getNiceScroll().length)return d;b=b.parentNode?b.parentNode:!1}return!1};this.onmousewheel=function(b){if(q.locked)return q.debounced("checkunlock",q.resize,250),!0;if(q.rail.drag)return q.cancelEvent(b);"auto"==q.opt.oneaxismousemode&&0!=b.deltaX&&(q.opt.oneaxismousemode=!1);if(q.opt.oneaxismousemode&&0==b.deltaX&&!q.rail.scrollable)return q.railh&&q.railh.scrollable?q.onmousewheelhr(b):!0;var c=+new Date,d=!1;q.opt.preservenativescrolling&&q.checkarea+600<c&&(q.nativescrollingarea=q.isScrollable(b),d=!0);q.checkarea=c;if(q.nativescrollingarea)return!0;if(b=z(b,!1,d))q.checkarea=0;return b};this.onmousewheelhr=function(b){if(q.locked||!q.railh.scrollable)return!0;if(q.rail.drag)return q.cancelEvent(b);var c=+new Date,d=!1;q.opt.preservenativescrolling&&q.checkarea+600<c&&(q.nativescrollingarea=q.isScrollable(b),d=!0);q.checkarea=c;return q.nativescrollingarea?!0:q.locked?q.cancelEvent(b):z(b,!0,d)};this.stop=function(){q.cancelScroll();q.scrollmon&&q.scrollmon.stop();q.cursorfreezed=!1;q.scroll.y=Math.round(q.getScrollTop()*(1/q.scrollratio.y));q.noticeCursor();return q};this.getTransitionSpeed=function(b){b=Math.min(Math.round(10*q.opt.scrollspeed),Math.round(b/20*q.opt.scrollspeed));return 20<b?b:0};q.opt.smoothscroll?q.ishwscroll&&D.hastransition&&q.opt.usetransition?(this.prepareTransition=function(b,c){var d=c?20<b?b:0:q.getTransitionSpeed(b),g=d?D.prefixstyle+"transform "+d+"ms ease-out":"";q.lasttransitionstyle&&q.lasttransitionstyle==g||(q.lasttransitionstyle=g,q.doc.css(D.transitionstyle,g));return d},this.doScrollLeft=function(b,c){var d=q.scrollrunning?q.newscrolly:q.getScrollTop();q.doScrollPos(b,d,c)},this.doScrollTop=function(b,c){var d=q.scrollrunning?q.newscrollx:q.getScrollLeft();q.doScrollPos(d,b,c)},this.doScrollPos=function(b,c,d){var g=q.getScrollTop(),e=q.getScrollLeft();(0>(q.newscrolly-g)*(c-g)||0>(q.newscrollx-e)*(b-e))&&q.cancelScroll();0==q.opt.bouncescroll&&(0>c?c=0:c>q.page.maxh&&(c=q.page.maxh),0>b?b=0:b>q.page.maxw&&(b=q.page.maxw));if(q.scrollrunning&&b==q.newscrollx&&c==q.newscrolly)return!1;q.newscrolly=c;q.newscrollx=b;q.newscrollspeed=d||!1;if(q.timer)return!1;q.timer=setTimeout(function(){var d=q.getScrollTop(),g=q.getScrollLeft(),e;e=b-g;e=Math.round(Math.sqrt(Math.pow(e,2)+Math.pow(c-d,2)));e=q.newscrollspeed&&1<q.newscrollspeed?q.newscrollspeed:q.getTransitionSpeed(e);q.newscrollspeed&&1>=q.newscrollspeed&&(e*=q.newscrollspeed);q.prepareTransition(e,!0);q.timerscroll&&q.timerscroll.tm&&clearInterval(q.timerscroll.tm);0<e&&(!q.scrollrunning&&q.onscrollstart&&q.onscrollstart.call(q,{type:"scrollstart",current:{x:g,y:d},request:{x:b,y:c},end:{x:q.newscrollx,y:q.newscrolly},speed:e}),D.transitionend?q.scrollendtrapped||(q.scrollendtrapped=!0,q.bind(q.doc,D.transitionend,q.onScrollEnd,!1)):(q.scrollendtrapped&&clearTimeout(q.scrollendtrapped),q.scrollendtrapped=setTimeout(q.onScrollEnd,e)),q.timerscroll={bz:new BezierClass(d,q.newscrolly,e,0,0,.58,1),bh:new BezierClass(g,q.newscrollx,e,0,0,.58,1)},q.cursorfreezed||(q.timerscroll.tm=setInterval(function(){q.showCursor(q.getScrollTop(),q.getScrollLeft())},60)));q.synched("doScroll-set",function(){q.timer=0;q.scrollendtrapped&&(q.scrollrunning=!0);q.setScrollTop(q.newscrolly);q.setScrollLeft(q.newscrollx);if(!q.scrollendtrapped)q.onScrollEnd()})},50)},this.cancelScroll=function(){if(!q.scrollendtrapped)return!0;var b=q.getScrollTop(),c=q.getScrollLeft();q.scrollrunning=!1;D.transitionend||clearTimeout(D.transitionend);q.scrollendtrapped=!1;q._unbind(q.doc,D.transitionend,q.onScrollEnd);q.prepareTransition(0);q.setScrollTop(b);q.railh&&q.setScrollLeft(c);q.timerscroll&&q.timerscroll.tm&&clearInterval(q.timerscroll.tm);q.timerscroll=!1;q.cursorfreezed=!1;q.showCursor(b,c);return q},this.onScrollEnd=function(){q.scrollendtrapped&&q._unbind(q.doc,D.transitionend,q.onScrollEnd);q.scrollendtrapped=!1;q.prepareTransition(0);q.timerscroll&&q.timerscroll.tm&&clearInterval(q.timerscroll.tm);q.timerscroll=!1;var b=q.getScrollTop(),c=q.getScrollLeft();q.setScrollTop(b);q.railh&&q.setScrollLeft(c);q.noticeCursor(!1,b,c);q.cursorfreezed=!1;0>b?b=0:b>q.page.maxh&&(b=q.page.maxh);0>c?c=0:c>q.page.maxw&&(c=q.page.maxw);if(b!=q.newscrolly||c!=q.newscrollx)return q.doScrollPos(c,b,q.opt.snapbackspeed);q.onscrollend&&q.scrollrunning&&q.onscrollend.call(q,{type:"scrollend",current:{x:c,y:b},end:{x:q.newscrollx,y:q.newscrolly}});q.scrollrunning=!1}):(this.doScrollLeft=function(b,c){var d=q.scrollrunning?q.newscrolly:q.getScrollTop();q.doScrollPos(b,d,c)},this.doScrollTop=function(b,c){var d=q.scrollrunning?q.newscrollx:q.getScrollLeft();q.doScrollPos(d,b,c)},this.doScrollPos=function(b,c,d){function g(){if(q.cancelAnimationFrame)return!0;q.scrollrunning=!0;if(t=1-t)return q.timer=m(g)||1;var b=0,c=sy=q.getScrollTop();if(q.dst.ay){var c=q.bzscroll?q.dst.py+q.bzscroll.getNow()*q.dst.ay:q.newscrolly,d=c-sy;if(0>d&&c<q.newscrolly||0<d&&c>q.newscrolly)c=q.newscrolly;q.setScrollTop(c);c==q.newscrolly&&(b=1)}else b=1;var e=sx=q.getScrollLeft();if(q.dst.ax){e=q.bzscroll?q.dst.px+q.bzscroll.getNow()*q.dst.ax:q.newscrollx;d=e-sx;if(0>d&&e<q.newscrollx||0<d&&e>q.newscrollx)e=q.newscrollx;q.setScrollLeft(e);e==q.newscrollx&&(b+=1)}else b+=1;2==b?(q.timer=0,q.cursorfreezed=!1,q.bzscroll=!1,q.scrollrunning=!1,0>c?c=0:c>q.page.maxh&&(c=q.page.maxh),0>e?e=0:e>q.page.maxw&&(e=q.page.maxw),e!=q.newscrollx||c!=q.newscrolly?q.doScrollPos(e,c):q.onscrollend&&q.onscrollend.call(q,{type:"scrollend",current:{x:sx,y:sy},end:{x:q.newscrollx,y:q.newscrolly}})):q.timer=m(g)||1}c="undefined"==typeof c||!1===c?q.getScrollTop(!0):c;if(q.timer&&q.newscrolly==c&&q.newscrollx==b)return!0;q.timer&&r(q.timer);q.timer=0;var e=q.getScrollTop(),f=q.getScrollLeft();(0>(q.newscrolly-e)*(c-e)||0>(q.newscrollx-f)*(b-f))&&q.cancelScroll();q.newscrolly=c;q.newscrollx=b;q.bouncescroll&&q.rail.visibility||(0>q.newscrolly?q.newscrolly=0:q.newscrolly>q.page.maxh&&(q.newscrolly=q.page.maxh));q.bouncescroll&&q.railh.visibility||(0>q.newscrollx?q.newscrollx=0:q.newscrollx>q.page.maxw&&(q.newscrollx=q.page.maxw));q.dst={};q.dst.x=b-f;q.dst.y=c-e;q.dst.px=f;q.dst.py=e;var h=Math.round(Math.sqrt(Math.pow(q.dst.x,2)+Math.pow(q.dst.y,2)));q.dst.ax=q.dst.x/h;q.dst.ay=q.dst.y/h;var k=0,l=h;0==q.dst.x?(k=e,l=c,q.dst.ay=1,q.dst.py=0):0==q.dst.y&&(k=f,l=b,q.dst.ax=1,q.dst.px=0);h=q.getTransitionSpeed(h);d&&1>=d&&(h*=d);q.bzscroll=0<h?q.bzscroll?q.bzscroll.update(l,h):new BezierClass(k,l,h,0,1,0,1):!1;if(!q.timer){(e==q.page.maxh&&c>=q.page.maxh||f==q.page.maxw&&b>=q.page.maxw)&&q.checkContentSize();var t=1;q.cancelAnimationFrame=!1;q.timer=1;q.onscrollstart&&!q.scrollrunning&&q.onscrollstart.call(q,{type:"scrollstart",current:{x:f,y:e},request:{x:b,y:c},end:{x:q.newscrollx,y:q.newscrolly},speed:h});g();(e==q.page.maxh&&c>=e||f==q.page.maxw&&b>=f)&&q.checkContentSize();q.noticeCursor()}},this.cancelScroll=function(){q.timer&&r(q.timer);q.timer=0;q.bzscroll=!1;q.scrollrunning=!1;return q}):(this.doScrollLeft=function(b,c){var d=q.getScrollTop();q.doScrollPos(b,d,c)},this.doScrollTop=function(b,c){var d=q.getScrollLeft();q.doScrollPos(d,b,c)},this.doScrollPos=function(b,c,d){var g=b>q.page.maxw?q.page.maxw:b;0>g&&(g=0);var e=c>q.page.maxh?q.page.maxh:c;0>e&&(e=0);q.synched("scroll",function(){q.setScrollTop(e);q.setScrollLeft(g)})},this.cancelScroll=function(){});this.doScrollBy=function(b,c){var d;d=c?Math.floor((q.scroll.y-b)*q.scrollratio.y):(q.timer?q.newscrolly:q.getScrollTop(!0))-b;if(q.bouncescroll){var g=Math.round(q.view.h/2);d<-g?d=-g:d>q.page.maxh+g&&(d=q.page.maxh+g)}q.cursorfreezed=!1;py=q.getScrollTop(!0);if(0>d&&0>=py)return q.noticeCursor();if(d>q.page.maxh&&py>=q.page.maxh)return q.checkContentSize(),q.noticeCursor();q.doScrollTop(d)};this.doScrollLeftBy=function(b,c){var d;d=c?Math.floor((q.scroll.x-b)*q.scrollratio.x):(q.timer?q.newscrollx:q.getScrollLeft(!0))-b;if(q.bouncescroll){var g=Math.round(q.view.w/2);d<-g?d=-g:d>q.page.maxw+g&&(d=q.page.maxw+g)}q.cursorfreezed=!1;px=q.getScrollLeft(!0);if(0>d&&0>=px||d>q.page.maxw&&px>=q.page.maxw)return q.noticeCursor();q.doScrollLeft(d)};this.doScrollTo=function(b,c){c&&Math.round(b*q.scrollratio.y);q.cursorfreezed=!1;q.doScrollTop(b)};this.checkContentSize=function(){var b=q.getContentSize();b.h==q.page.h&&b.w==q.page.w||q.resize(!1,b)};q.onscroll=function(b){q.rail.drag||q.cursorfreezed||q.synched("scroll",function(){q.scroll.y=Math.round(q.getScrollTop()*(1/q.scrollratio.y));q.railh&&(q.scroll.x=Math.round(q.getScrollLeft()*(1/q.scrollratio.x)));q.noticeCursor()})};q.bind(q.docscroll,"scroll",q.onscroll);this.doZoomIn=function(b){if(!q.zoomactive){q.zoomactive=!0;q.zoomrestore={style:{}};var d="position top left zIndex backgroundColor marginTop marginBottom marginLeft marginRight".split(" "),g=q.win[0].style,f;for(f in d){var h=d[f];q.zoomrestore.style[h]="undefined"!=typeof g[h]?g[h]:""}q.zoomrestore.style.width=q.win.css("width");q.zoomrestore.style.height=q.win.css("height");q.zoomrestore.padding={w:q.win.outerWidth()-q.win.width(),h:q.win.outerHeight()-q.win.height()};D.isios4&&(q.zoomrestore.scrollTop=c(window).scrollTop(),c(window).scrollTop(0));q.win.css({position:D.isios4?"absolute":"fixed",top:0,left:0,"z-index":e+100,margin:"0px"});d=q.win.css("backgroundColor");(""==d||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(d))&&q.win.css("backgroundColor","#fff");q.rail.css({"z-index":e+101});q.zoom.css({"z-index":e+102});q.zoom.css("backgroundPosition","0px -18px");q.resizeZoom();q.onzoomin&&q.onzoomin.call(q);return q.cancelEvent(b)}};this.doZoomOut=function(b){if(q.zoomactive)return q.zoomactive=!1,q.win.css("margin",""),q.win.css(q.zoomrestore.style),D.isios4&&c(window).scrollTop(q.zoomrestore.scrollTop),q.rail.css({"z-index":q.zindex}),q.zoom.css({"z-index":q.zindex}),q.zoomrestore=!1,q.zoom.css("backgroundPosition","0px 0px"),q.onResize(),q.onzoomout&&q.onzoomout.call(q),q.cancelEvent(b)};this.doZoom=function(b){return q.zoomactive?q.doZoomOut(b):q.doZoomIn(b)};this.resizeZoom=function(){if(q.zoomactive){var b=q.getScrollTop();q.win.css({width:c(window).width()-q.zoomrestore.padding.w+"px",height:c(window).height()-q.zoomrestore.padding.h+"px"});q.onResize();q.setScrollTop(Math.min(q.page.maxh,b))}};this.init();c.nicescroll.push(this)},w=function(b){var c=this;this.nc=b;this.steptime=this.lasttime=this.speedy=this.speedx=this.lasty=this.lastx=0;this.snapy=this.snapx=!1;this.demuly=this.demulx=0;this.lastscrolly=this.lastscrollx=-1;this.timer=this.chky=this.chkx=0;this.time=function(){return+new Date};this.reset=function(b,d){c.stop();var g=c.time();c.steptime=0;c.lasttime=g;c.speedx=0;c.speedy=0;c.lastx=b;c.lasty=d;c.lastscrollx=-1;c.lastscrolly=-1};this.update=function(b,d){var g=c.time();c.steptime=g-c.lasttime;c.lasttime=g;var g=d-c.lasty,e=b-c.lastx,f=c.nc.getScrollTop(),h=c.nc.getScrollLeft(),f=f+g,h=h+e;c.snapx=0>h||h>c.nc.page.maxw;c.snapy=0>f||f>c.nc.page.maxh;c.speedx=e;c.speedy=g;c.lastx=b;c.lasty=d};this.stop=function(){c.nc.unsynched("domomentum2d");c.timer&&clearTimeout(c.timer);c.timer=0;c.lastscrollx=-1;c.lastscrolly=-1};this.doSnapy=function(b,d){var g=!1;0>d?(d=0,g=!0):d>c.nc.page.maxh&&(d=c.nc.page.maxh,g=!0);0>b?(b=0,g=!0):b>c.nc.page.maxw&&(b=c.nc.page.maxw,g=!0);g&&c.nc.doScrollPos(b,d,c.nc.opt.snapbackspeed)};this.doMomentum=function(b){var d=c.time(),g=b?d+b:c.lasttime;b=c.nc.getScrollLeft();var e=c.nc.getScrollTop(),f=c.nc.page.maxh,h=c.nc.page.maxw;c.speedx=0<h?Math.min(60,c.speedx):0;c.speedy=0<f?Math.min(60,c.speedy):0;g=g&&60>=d-g;if(0>e||e>f||0>b||b>h)g=!1;b=c.speedx&&g?c.speedx:!1;if(c.speedy&&g&&c.speedy||b){var k=Math.max(16,c.steptime);50<k&&(b=k/50,c.speedx*=b,c.speedy*=b,k=50);c.demulxy=0;c.lastscrollx=c.nc.getScrollLeft();c.chkx=c.lastscrollx;c.lastscrolly=c.nc.getScrollTop();c.chky=c.lastscrolly;var l=c.lastscrollx,m=c.lastscrolly,t=function(){var b=600<c.time()-d?.04:.02;c.speedx&&(l=Math.floor(c.lastscrollx-c.speedx*(1-c.demulxy)),c.lastscrollx=l,0>l||l>h)&&(b=.1);c.speedy&&(m=Math.floor(c.lastscrolly-c.speedy*(1-c.demulxy)),c.lastscrolly=m,0>m||m>f)&&(b=.1);c.demulxy=Math.min(1,c.demulxy+b);c.nc.synched("domomentum2d",function(){c.speedx&&(c.nc.getScrollLeft()!=c.chkx&&c.stop(),c.chkx=l,c.nc.setScrollLeft(l));c.speedy&&(c.nc.getScrollTop()!=c.chky&&c.stop(),c.chky=m,c.nc.setScrollTop(m));c.timer||(c.nc.hideCursor(),c.doSnapy(l,m))});1>c.demulxy?c.timer=setTimeout(t,k):(c.stop(),c.nc.hideCursor(),c.doSnapy(l,m))};t()}else c.doSnapy(c.nc.getScrollLeft(),c.nc.getScrollTop())}},y=c.fn.scrollTop;c.cssHooks.pageYOffset={get:function(b,d,g){return(d=c.data(b,"__nicescroll")||!1)&&d.ishwscroll?d.getScrollTop():y.call(b)},set:function(b,d){var g=c.data(b,"__nicescroll")||!1;g&&g.ishwscroll?g.setScrollTop(parseInt(d)):y.call(b,d);return this}};c.fn.scrollTop=function(b){if("undefined"==typeof b){var d=this[0]?c.data(this[0],"__nicescroll")||!1:!1;return d&&d.ishwscroll?d.getScrollTop():y.call(this)}return this.each(function(){var d=c.data(this,"__nicescroll")||!1;d&&d.ishwscroll?d.setScrollTop(parseInt(b)):y.call(c(this),b)})};var z=c.fn.scrollLeft;c.cssHooks.pageXOffset={get:function(b,d,g){return(d=c.data(b,"__nicescroll")||!1)&&d.ishwscroll?d.getScrollLeft():z.call(b)},set:function(b,d){var g=c.data(b,"__nicescroll")||!1;g&&g.ishwscroll?g.setScrollLeft(parseInt(d)):z.call(b,d);return this}};c.fn.scrollLeft=function(b){if("undefined"==typeof b){var d=this[0]?c.data(this[0],"__nicescroll")||!1:!1;return d&&d.ishwscroll?d.getScrollLeft():z.call(this)}return this.each(function(){var d=c.data(this,"__nicescroll")||!1;d&&d.ishwscroll?d.setScrollLeft(parseInt(b)):z.call(c(this),b)})};var D=function(b){var d=this;this.length=0;this.name="nicescrollarray";this.each=function(b){for(var c=0,g=0;c<d.length;c++)b.call(d[c],g++);return d};this.push=function(b){d[d.length]=b;d.length++};this.eq=function(b){return d[b]};if(b)for(a=0;a<b.length;a++){var g=c.data(b[a],"__nicescroll")||!1;g&&(this[this.length]=g,this.length++)}return this};(function(b,c,d){for(var g=0;g<c.length;g++)d(b,c[g])})(D.prototype,"show hide toggle onResize resize remove stop doScrollPos".split(" "),function(b,c){b[c]=function(){var b=arguments;return this.each(function(){this[c].apply(this,b)})}});c.fn.getNiceScroll=function(b){return"undefined"==typeof b?new D(this):this[b]&&c.data(this[b],"__nicescroll")||!1};c.extend(c.expr[":"],{nicescroll:function(b){return c.data(b,"__nicescroll")?!0:!1}});c.fn.niceScroll=function(b,d){"undefined"==typeof d&&"object"==typeof b&&!("jquery"in b)&&(d=b,b=!1);var g=new D;"undefined"==typeof d&&(d={});b&&(d.doc=c(b),d.win=c(this));var e=!("doc"in d);e||"win"in d||(d.win=c(this));this.each(function(){var b=c(this).data("__nicescroll")||!1;b||(d.doc=e?c(this):d.doc,b=new t(d,c(this)),c(this).data("__nicescroll",b));g.push(b)});return 1==g.length?g[0]:g};window.NiceScroll={getjQuery:function(){return c}};c.nicescroll||(c.nicescroll=new D,c.nicescroll.options=x)})(jQuery);(function(c){var p=[],b=[];c.fn.doAutosize=function(b){var l=c(this).data("minwidth"),e=c(this).data("maxwidth"),n="",d=c(this),m=c("#"+c(this).data("tester_id"));n!==(n=d.val())&&(n=n.replace(/&/g,"\x26amp;").replace(/\s/g," ").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;"),m.html(n),m=m.width(),b=m+b.comfortZone>=l?m+b.comfortZone:l,m=d.width(),(b<m&&b>=l||b>l&&b<e)&&d.width(b))};c.fn.resetAutosize=function(b){var l=c(this).data("minwidth")||b.minInputWidth||c(this).width();b=c(this).data("maxwidth")||b.maxInputWidth||c(this).closest(".tagsinput").width()-b.inputPadding;var e=c(this),n=c("\x3ctester/\x3e").css({position:"absolute",top:-9999,left:-9999,width:"auto",fontSize:e.css("fontSize"),fontFamily:e.css("fontFamily"),fontWeight:e.css("fontWeight"),letterSpacing:e.css("letterSpacing"),whiteSpace:"nowrap"}),d=c(this).attr("id")+"_autosize_tester";0< !c("#"+d).length&&(n.attr("id",d),n.appendTo("body"));e.data("minwidth",l);e.data("maxwidth",b);e.data("tester_id",d);e.css("width",l)};c.fn.addTag=function(h,l){l=jQuery.extend({focus:!1,callback:!0},l);this.each(function(){var e=c(this).attr("id"),n=c(this).val().split(p[e]);""==n[0]&&(n=[]);h=jQuery.trim(h);if(l.unique){var d=c(this).tagExist(h);1==d&&c("#"+e+"_tag").addClass("not_valid")}else d=!1;if(""!=h&&1!=d&&(c("\x3cspan\x3e").addClass("tag").append(c("\x3cspan\x3e").text(h).append("\x26nbsp;\x26nbsp;"),c("\x3ca\x3e",{href:"#",title:"Removing tag",text:"x"}).click(function(){return c("#"+e).removeTag(escape(h))})).insertBefore("#"+e+"_addTag"),n.push(h),c("#"+e+"_tag").val(""),l.focus?c("#"+e+"_tag").focus():c("#"+e+"_tag").blur(),c.fn.tagsInput.updateTagsField(this,n),l.callback&&b[e]&&b[e].onAddTag&&(d=b[e].onAddTag,d.call(this,h)),b[e]&&b[e].onChange)){var m=n.length,d=b[e].onChange;d.call(this,c(this),n[m-1])}});return!1};c.fn.removeTag=function(h){h=unescape(h);this.each(function(){var l=c(this).attr("id"),e=c(this).val().split(p[l]);c("#"+l+"_tagsinput .tag").remove();str="";for(i=0;i<e.length;i++)e[i]!=h&&(str=str+p[l]+e[i]);c.fn.tagsInput.importTags(this,str);b[l]&&b[l].onRemoveTag&&b[l].onRemoveTag.call(this,h)});return!1};c.fn.tagExist=function(b){var l=c(this).attr("id"),l=c(this).val().split(p[l]);return 0<=jQuery.inArray(b,l)};c.fn.importTags=function(b){id=c(this).attr("id");c("#"+id+"_tagsinput .tag").remove();c.fn.tagsInput.importTags(this,b)};c.fn.tagsInput=function(h){var l=jQuery.extend({interactive:!0,defaultText:"add a tag",minChars:0,width:"300px",height:"100px",autocomplete:{selectFirst:!1},hide:!0,delimiter:",",unique:!0,removeWithBackspace:!0,placeholderColor:"#666666",autosize:!0,comfortZone:20,inputPadding:12},h);this.each(function(){l.hide&&c(this).hide();var e=c(this).attr("id");if(!e||p[c(this).attr("id")])e=c(this).attr("id","tags"+(new Date).getTime()).attr("id");var h=jQuery.extend({pid:e,real_input:"#"+e,holder:"#"+e+"_tagsinput",input_wrapper:"#"+e+"_addTag",fake_input:"#"+e+"_tag"},l);p[e]=h.delimiter;if(l.onAddTag||l.onRemoveTag||l.onChange)b[e]=[],b[e].onAddTag=l.onAddTag,b[e].onRemoveTag=l.onRemoveTag,b[e].onChange=l.onChange;var d='\x3cdiv id\x3d"'+e+'_tagsinput" class\x3d"tagsinput"\x3e\x3cdiv id\x3d"'+e+'_addTag"\x3e';l.interactive&&(d=d+'\x3cinput id\x3d"'+e+'_tag" value\x3d"" data-default\x3d"'+l.defaultText+'" /\x3e');c(d+'\x3c/div\x3e\x3cdiv class\x3d"tags_clear"\x3e\x3c/div\x3e\x3c/div\x3e').insertAfter(this);c(h.holder).css("width",l.width);c(h.holder).css("min-height",l.height);c(h.holder).css("height","100%");""!=c(h.real_input).val()&&c.fn.tagsInput.importTags(c(h.real_input),c(h.real_input).val());if(l.interactive){c(h.fake_input).val(c(h.fake_input).attr("data-default"));c(h.fake_input).css("color",l.placeholderColor);c(h.fake_input).resetAutosize(l);c(h.holder).bind("click",h,function(b){c(b.data.fake_input).focus()});c(h.fake_input).bind("focus",h,function(b){c(b.data.fake_input).val()==c(b.data.fake_input).attr("data-default")&&c(b.data.fake_input).val("");c(b.data.fake_input).css("color","#000000")});if(void 0!=l.autocomplete_url){autocomplete_options={source:l.autocomplete_url};for(attrname in l.autocomplete)autocomplete_options[attrname]=l.autocomplete[attrname];void 0!==jQuery.Autocompleter?(c(h.fake_input).autocomplete(l.autocomplete_url,l.autocomplete),c(h.fake_input).bind("result",h,function(b,d,f){d&&c("#"+e).addTag(d[0]+"",{focus:!0,unique:l.unique})})):void 0!==jQuery.ui.autocomplete&&(c(h.fake_input).autocomplete(autocomplete_options),c(h.fake_input).bind("autocompleteselect",h,function(b,d){c(b.data.real_input).addTag(d.item.value,{focus:!0,unique:l.unique});return!1}))}else c(h.fake_input).bind("blur",h,function(b){var d=c(this).attr("data-default");""!=c(b.data.fake_input).val()&&c(b.data.fake_input).val()!=d?b.data.minChars<=c(b.data.fake_input).val().length&&(!b.data.maxChars||b.data.maxChars>=c(b.data.fake_input).val().length)&&c(b.data.real_input).addTag(c(b.data.fake_input).val(),{focus:!0,unique:l.unique}):(c(b.data.fake_input).val(c(b.data.fake_input).attr("data-default")),c(b.data.fake_input).css("color",l.placeholderColor));return!1});c(h.fake_input).bind("keypress",h,function(b){if(b.which==b.data.delimiter.charCodeAt(0)||13==b.which)return b.preventDefault(),b.data.minChars<=c(b.data.fake_input).val().length&&(!b.data.maxChars||b.data.maxChars>=c(b.data.fake_input).val().length)&&c(b.data.real_input).addTag(c(b.data.fake_input).val(),{focus:!0,unique:l.unique}),c(b.data.fake_input).resetAutosize(l),!1;b.data.autosize&&c(b.data.fake_input).doAutosize(l)});h.removeWithBackspace&&c(h.fake_input).bind("keydown",function(b){if(8==b.keyCode&&""==c(this).val()){b.preventDefault();b=c(this).closest(".tagsinput").find(".tag:last").text();var d=c(this).attr("id").replace(/_tag$/,"");b=b.replace(/[\s]+x$/,"");c("#"+d).removeTag(escape(b));c(this).trigger("focus")}});c(h.fake_input).blur();h.unique&&c(h.fake_input).keydown(function(b){(8==b.keyCode||String.fromCharCode(b.which).match(/\w+|[\u00e1\u00e9\u00ed\u00f3\u00fa\u00c1\u00c9\u00cd\u00d3\u00da\u00f1\u00d1,/]+/))&&c(this).removeClass("not_valid")})}});return this};c.fn.tagsInput.updateTagsField=function(b,l){var e=c(b).attr("id");c(b).val(l.join(p[e]))};c.fn.tagsInput.importTags=function(h,l){c(h).val("");var e=c(h).attr("id"),n=l.split(p[e]);for(i=0;i<n.length;i++)c(h).addTag(n[i],{focus:!1,callback:!1});b[e]&&b[e].onChange&&b[e].onChange.call(h,h,n[i])}})(jQuery);(function(c){function p(b,c){if(z.debug&&window.console)console[c?"error":"log"](b)}function b(){var b=navigator.userAgent,c=navigator.appName,d=""+parseFloat(navigator.appVersion);parseInt(navigator.appVersion,10);var g,e,f;-1!==navigator.appVersion.indexOf("Windows NT")&&-1!==navigator.appVersion.indexOf("rv:11")?(c="IE",d="11;"):-1!==(e=b.indexOf("MSIE"))?(c="IE",d=b.substring(e+5)):-1!==(e=b.indexOf("Chrome"))?(c="Chrome",d=b.substring(e+7)):-1!==(e=b.indexOf("Safari"))?(c="Safari",d=b.substring(e+7),-1!==(e=b.indexOf("Version"))&&(d=b.substring(e+8))):-1!==(e=b.indexOf("Firefox"))?(c="Firefox",d=b.substring(e+8)):(g=b.lastIndexOf(" ")+1)<(e=b.lastIndexOf("/"))&&(c=b.substring(g,e),d=b.substring(e+1),c.toLowerCase()==c.toUpperCase()&&(c=navigator.appName));-1!==(f=d.indexOf(";"))&&(d=d.substring(0,f));-1!==(f=d.indexOf(" "))&&(d=d.substring(0,f));b=parseInt(""+d,10);isNaN(b)&&(parseFloat(navigator.appVersion),b=parseInt(navigator.appVersion,10));return{name:c,version:b,ios:/(iPad|iPhone|iPod)/g.test(navigator.platform)}}function h(b,c){var d=b.media;if("video"==b.type)switch(c){case "video/webm":return!(!d.canPlayType||!d.canPlayType('video/webm; codecs\x3d"vp8, vorbis"').replace(/no/,""));case "video/mp4":return!(!d.canPlayType||!d.canPlayType('video/mp4; codecs\x3d"avc1.42E01E, mp4a.40.2"').replace(/no/,""));case "video/ogg":return!(!d.canPlayType||!d.canPlayType('video/ogg; codecs\x3d"theora"').replace(/no/,""))}else if("audio"==b.type)switch(c){case "audio/mpeg":return!(!d.canPlayType||!d.canPlayType("audio/mpeg;").replace(/no/,""));case "audio/ogg":return!(!d.canPlayType||!d.canPlayType('audio/ogg; codecs\x3d"vorbis"').replace(/no/,""));case "audio/wav":return!(!d.canPlayType||!d.canPlayType('audio/wav; codecs\x3d"1"').replace(/no/,""))}return!1}function l(b){if(!document.querySelectorAll('script[src\x3d"'+b+'"]').length){var c=document.createElement("script");c.src=b;b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(c,b)}}function e(b,c){return Array.prototype.indexOf&&-1!=b.indexOf(c)}function n(b,c,d){return b.replace(new RegExp(c.replace(/([.*+?\^=!:${}()|\[\]\/\\])/g,"\\$1"),"g"),d)}function d(b){b.parentNode.removeChild(b)}function m(b,c,d){if(b)if(b.classList)b.classList[d?"add":"remove"](c);else{var g=(" "+b.className+" ").replace(/\s+/g," ").replace(" "+c+" ","");b.className=g+(d?" "+c:"")}}function r(b,c,d,g){var e=c.split(" ");if(b instanceof NodeList)for(e=0;e<b.length;e++)b[e]instanceof Node&&r(b[e],c,d,g);else for(c=0;c<e.length;c++)b[g?"addEventListener":"removeEventListener"](e[c],d,!1)}function f(b,c,d){b&&r(b,c,d,!0)}function k(b,c){var d=document.createEvent("MouseEvents");d.initEvent(c,!0,!0);b.dispatchEvent(d)}function u(b,c){c="boolean"===typeof c?c:!b.getAttribute("aria-pressed");b.setAttribute("aria-pressed",c);return c}function x(b,c){return 0===b||0===c||isNaN(b)||isNaN(c)?0:(b/c*100).toFixed(2)}function v(b,c){for(var d in c)c[d]&&c[d].constructor&&c[d].constructor===Object?(b[d]=b[d]||{},v(b[d],c[d])):b[d]=c[d];return b}function g(){var b={supportsFullScreen:!1,isFullScreen:function(){return!1},requestFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",element:null,prefix:""},c=["webkit","moz","o","ms","khtml"];if("undefined"!==typeof document.cancelFullScreen)b.supportsFullScreen=!0;else for(var d=0,g=c.length;d<g;d++)if(b.prefix=c[d],"undefined"!==typeof document[b.prefix+"CancelFullScreen"]){b.supportsFullScreen=!0;break}else if("undefined"!==typeof document.msExitFullscreen&&document.msFullscreenEnabled){b.prefix="ms";b.supportsFullScreen=!0;break}b.supportsFullScreen&&(b.fullScreenEventName="ms"==b.prefix?"MSFullscreenChange":b.prefix+"fullscreenchange",b.isFullScreen=function(b){"undefined"===typeof b&&(b=document.body);switch(this.prefix){case "":return document.fullscreenElement==b;case "moz":return document.mozFullScreenElement==b;default:return document[this.prefix+"FullscreenElement"]==b}},b.requestFullScreen=function(b){"undefined"===typeof b&&(b=document.body);return""===this.prefix?b.requestFullScreen():b[this.prefix+("ms"==this.prefix?"RequestFullscreen":"RequestFullScreen")]()},b.cancelFullScreen=function(){return""===this.prefix?document.cancelFullScreen():document[this.prefix+("ms"==this.prefix?"ExitFullscreen":"CancelFullScreen")]()},b.element=function(){return""===this.prefix?document.fullscreenElement:document[this.prefix+"FullscreenElement"]});return b}function t(){var b;try{b="localStorage"in window&&null!==window.localStorage}catch(c){b=!1}return{supported:b}}function w(w){function v(b){if(!C.usingTextTracks&&"video"===C.type&&C.supported.full){C.subcount=0;for(b="number"===typeof b?b:C.media.currentTime;A(C.captions[C.subcount][0])<b.toFixed(1);)if(C.subcount++,C.subcount>C.captions.length-1){C.subcount=C.captions.length-1;break}b=C.media.currentTime.toFixed(1);var c;c=C.captions[C.subcount][0].split(" --\x3e ");c=E(c[0]);b>=c&&C.media.currentTime.toFixed(1)<=A(C.captions[C.subcount][0])?(C.currentCaption=C.captions[C.subcount][1],b=C.currentCaption.trim(),C.captionsContainer.innerHTML!=b&&(C.captionsContainer.innerHTML="",C.captionsContainer.innerHTML=b)):C.captionsContainer.innerHTML=""}}function A(b){b=b.split(" --\x3e ");return E(b[1])}function E(b){if(null===b||void 0===b)return 0;b=b.split(",")[0].split(":");return Math.floor(3600*b[0])+Math.floor(60*b[1])+Math.floor(b[2])}function G(b){return C.container.querySelectorAll(b)[0]}function q(b){for(var c=C.container.querySelectorAll('[id^\x3d"youtube"]'),g=c.length-1;0<=g;g--)d(c[g]);var e=document.createElement("div");e.setAttribute("id","youtube-"+Math.floor(1E4*Math.random()));C.media.appendChild(e);m(C.media,z.classes.videoWrapper,!0);m(C.media,z.classes.embedWrapper,!0);"object"===typeof YT?H(b,e):(l("https://www.youtube.com/iframe_api"),D.youtube.push(function(){H(b,e)}),window.onYouTubeIframeAPIReady=function(){for(var b=D.youtube.length-1;0<=b;b--)D.youtube[b](),D.youtube.splice(b,1)})}function H(b,c){p("YouTube API Ready");"timer"in C||(C.timer={});C.embed=new YT.Player(c.id,{videoId:b,playerVars:{autoplay:0,controls:C.supported.full?0:1,rel:0,showinfo:0,iv_load_policy:3,cc_load_policy:z.captions.defaultActive?1:0,cc_lang_pref:"en",wmode:"transparent",modestbranding:1,disablekb:1},events:{onReady:function(b){var c=b.target;C.media.play=function(){c.playVideo()};C.media.pause=function(){c.pauseVideo()};C.media.stop=function(){c.stopVideo()};C.media.duration=c.getDuration();C.media.paused=!0;C.media.currentTime=c.getCurrentTime();C.media.muted=c.isMuted();k(C.media,"timeupdate");window.clearInterval(C.timer.buffering);C.timer.buffering=window.setInterval(function(){C.media.buffered=c.getVideoLoadedFraction();k(C.media,"progress");1===C.media.buffered&&window.clearInterval(C.timer.buffering)},200);C.supported.full&&(C.container.querySelectorAll(z.selectors.controls).length||Ia(),z.displayDuration&&ga())},onStateChange:function(b){var c=b.target;window.clearInterval(C.timer.playing);switch(b.data){case 0:C.media.paused=!0;k(C.media,"ended");break;case 1:C.media.paused=!1;k(C.media,"play");C.timer.playing=window.setInterval(function(){C.media.currentTime=c.getCurrentTime();k(C.media,"timeupdate")},200);break;case 2:C.media.paused=!0,k(C.media,"pause")}}}})}function L(){if("video"===C.type){C.videoContainer.insertAdjacentHTML("afterbegin",'\x3cdiv class\x3d"'+z.selectors.captions.replace(".","")+'"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e');C.captionsContainer=G(z.selectors.captions).querySelector("span");C.usingTextTracks=!1;C.media.textTracks&&(C.usingTextTracks=!0);for(var b="",c,d=C.media.childNodes,g=0;g<d.length;g++)"track"===d[g].nodeName.toLowerCase()&&(c=d[g].kind,"captions"===c||"subtitles"===c)&&(b=d[g].getAttribute("src"));C.captionExists=!0;""===b?(C.captionExists=!1,p("No caption track found.")):p("Caption track found; URI: "+b);if(C.captionExists){c=C.media.textTracks;for(d=0;d<c.length;d++)c[d].mode="hidden";C.buttons.captions&&(m(C.container,z.classes.captions.enabled,!0),z.captions.defaultActive&&(m(C.container,z.classes.captions.active,!0),u(C.buttons.captions,!0)));if("IE"===C.browser.name&&10<=C.browser.version||"Firefox"===C.browser.name&&31<=C.browser.version||"Chrome"===C.browser.name&&43<=C.browser.version||"Safari"===C.browser.name&&7<=C.browser.version)p("Detected unsupported browser for HTML5 captions. Using fallback."),C.usingTextTracks=!1;if(C.usingTextTracks)for(p("TextTracks supported."),b=0;b<c.length;b++)d=c[b],"captions"!==d.kind&&"subtitles"!==d.kind||f(d,"cuechange",function(){C.captionsContainer.innerHTML="";this.activeCues[0]&&this.activeCues[0].hasOwnProperty("text")&&C.captionsContainer.appendChild(this.activeCues[0].getCueAsHTML().trim())});else if(p("TextTracks not supported so rendering captions manually."),C.currentCaption="",C.captions=[],""!==b){var e=new XMLHttpRequest;e.onreadystatechange=function(){if(4===e.readyState)if(200===e.status){var b,c;b=e.responseText.split("\n\n");for(var d=0;d<b.length;d++)c=b[d],C.captions[d]=[],C.captions[d]=c.split("\n");C.captions.shift();p("Successfully loaded the caption file via AJAX.")}else p("There was a problem loading the caption file via AJAX.",!0)};e.open("get",b,!0);e.send()}if("Safari"===C.browser.name&&7<=C.browser.version)for(p("Safari 7+ detected; removing track from DOM."),c=C.media.getElementsByTagName("track"),b=0;b<c.length;b++)C.media.removeChild(c[b])}else m(C.container,z.classes.captions.enabled)}}function I(){C.media.play()}function K(){C.media.pause()}function O(b){"number"!==typeof b&&(b=z.seekTime);J(C.media.currentTime-b)}function M(b){"number"!==typeof b&&(b=z.seekTime);J(C.media.currentTime+b)}function J(b){var c=0,d=C.media.paused;"number"===typeof b?c=b:"object"!==typeof b||"input"!==b.type&&"change"!==b.type||(c=b.target.value/b.target.max*C.media.duration);0>c?c=0:c>C.media.duration&&(c=C.media.duration);try{C.media.currentTime=c.toFixed(1)}catch(g){}"youtube"==C.type&&(C.embed.seekTo(c),d&&K(),k(C.media,"timeupdate"));p("Seeking to "+C.media.currentTime+" seconds");v(c)}function P(){m(C.container,z.classes.playing,!C.media.paused);m(C.container,z.classes.stopped,C.media.paused)}function T(b){function c(){m(C.container,z.classes.hover,!0);window.clearTimeout(e);h||(e=window.setTimeout(function(){m(C.container,z.classes.hover,!1)},2E3))}function d(b){h="mouseenter"===b.type}var g=y.supportsFullScreen;b&&b.type===y.fullScreenEventName?C.isFullscreen=y.isFullScreen(C.container):g?(y.isFullScreen(C.container)?y.cancelFullScreen():y.requestFullScreen(C.container),C.isFullscreen=y.isFullScreen(C.container)):(C.isFullscreen=!C.isFullscreen,C.isFullscreen?(f(document,"keyup",S),document.body.style.overflow="hidden"):(document&&r(document,"keyup",S,!1),document.body.style.overflow=""));m(C.container,z.classes.fullscreen.active,C.isFullscreen);u(C.buttons.fullscreen,C.isFullscreen);var e,h=!1;z.fullscreen.hideControls&&(m(C.controls,z.classes.hover,!1),r(C.controls,"mouseenter mouseleave",d,C.isFullscreen),r(C.container,"mousemove",c,C.isFullscreen))}function S(b){27===(b.which||b.charCode||b.keyCode)&&C.isFullscreen&&T()}function R(b){"undefined"===typeof b&&(b=z.storage.enabled&&t().supported?window.localStorage[z.storage.key]||z.volume:z.volume);10<b&&(b=10);0>b&&(b=0);C.media.volume=parseFloat(b/10);"youtube"==C.type&&(C.embed.setVolume(100*C.media.volume),k(C.media,"volumechange"));C.media.muted&&0<b&&Q()}function Q(b){"boolean"!==typeof b&&(b=!C.media.muted);u(C.buttons.mute,b);C.media.muted=b;"youtube"===C.type&&(C.embed[C.media.muted?"mute":"unMute"](),k(C.media,"volumechange"))}function U(){var b=C.media.muted?0:10*C.media.volume;C.supported.full&&C.volume&&(C.volume.value=b);z.storage.enabled&&t().supported&&window.localStorage.setItem(z.storage.key,b);m(C.container,z.classes.muted,0===b);C.supported.full&&C.buttons.mute&&u(C.buttons.mute,0===b)}function V(b){C.supported.full&&C.buttons.captions&&("boolean"!==typeof b&&(b=-1===C.container.className.indexOf(z.classes.captions.active)),u(C.buttons.captions,b),m(C.container,z.classes.captions.active,b))}function W(b){var c="waiting"===b.type;clearTimeout(C.loadingTimer);C.loadingTimer=setTimeout(function(){m(C.container,z.classes.loading,c)},c?250:0)}function Z(b){var c=C.progress.played.bar,d=C.progress.played.text,g=0;if(b)switch(b.type){case "timeupdate":case "seeking":g=x(C.media.currentTime,C.media.duration);"timeupdate"==b.type&&C.buttons.seek&&(C.buttons.seek.value=g);break;case "change":case "input":g=b.target.value;break;case "playing":case "progress":c=C.progress.buffer.bar,d=C.progress.buffer.text,g=(b=C.media.buffered)&&b.length?x(b.end(0),C.media.duration):"number"===typeof b?100*b:0}c&&(c.value=g);d&&(d.innerHTML=g)}function ba(b,c){if(c){C.secs=parseInt(b%60);C.mins=parseInt(b/60%60);C.hours=parseInt(b/60/60%60);var d=0<parseInt(C.media.duration/60/60%60);C.secs=("0"+C.secs).slice(-2);C.mins=("0"+C.mins).slice(-2);c.innerHTML=(d?C.hours+":":"")+C.mins+":"+C.secs}}function ga(){var b=C.media.duration||0;!C.duration&&z.displayDuration&&C.media.paused&&ba(b,C.currentTime);C.duration&&ba(b,C.duration)}function fa(b){ba(C.media.currentTime,C.currentTime);Z(b)}function Y(b){if(b.src){var c=document.createElement("source"),d;for(d in b)c.setAttribute(d,b[d]);b=C.media;b.insertBefore(c,b.firstChild)}}function ha(){var b="IE"==C.browser.name?"change":"input";f(window,"keyup",function(b){if(9==(b.keyCode?b.keyCode:b.which)){(b=document.activeElement)&&b!=document.body?document.querySelector&&(b=document.querySelector(":focus")):b=null;for(var c in C.buttons){var d=C.buttons[c];m(d,"tab-focus",d===b)}}});for(var c in C.buttons){var d=C.buttons[c];f(d,"blur",function(){m(d,"tab-focus",!1)})}f(C.buttons.play,"click",function(){I();setTimeout(function(){C.buttons.pause.focus()},100)});f(C.buttons.pause,"click",function(){K();setTimeout(function(){C.buttons.play.focus()},100)});f(C.buttons.restart,"click",J);f(C.buttons.rewind,"click",O);f(C.buttons.forward,"click",M);f(C.buttons.seek,b,J);f(C.volume,b,function(){R(this.value)});f(C.buttons.mute,"click",Q);f(C.buttons.fullscreen,"click",T);y.supportsFullScreen&&f(document,y.fullScreenEventName,T);f(C.media,"timeupdate seeking",fa);f(C.media,"timeupdate",v);f(C.media,"loadedmetadata",ga);f(C.buttons.captions,"click",V);f(C.media,"ended",function(){"video"===C.type&&(C.captionsContainer.innerHTML="");P()});f(C.media,"progress playing",Z);f(C.media,"volumechange",U);f(C.media,"play pause",P);f(C.media,"waiting canplay seeked",W);"video"===C.type&&z.click&&f(C.videoContainer,"click",function(){C.media.paused?k(C.buttons.play,"click"):C.media.ended?(J(),k(C.buttons.play,"click")):k(C.buttons.pause,"click")})}function la(){if(C.init)return null;y=g();C.browser=b();C.media=C.container.querySelectorAll("audio, video, div")[0];var d=C.media.tagName.toLowerCase();C.type="div"===d?C.media.getAttribute("data-type"):d;C.supported=c.supported(C.type);if(!C.supported.basic)return!1;p(C.browser.name+" "+C.browser.version);if(C.media){if(C.supported.full&&(C.media.removeAttribute("controls"),m(C.container,z.classes.type.replace("{0}",C.type),!0),m(C.container,z.classes.stopped,null===C.media.getAttribute("autoplay")),C.browser.ios&&m(C.container,"ios",!0),"video"===C.type)){d=document.createElement("div");d.setAttribute("class",z.classes.videoWrapper);var e=C.media;e.length||(e=[e]);for(var f=e.length-1;0<=f;f--){var h=0<f?d.cloneNode(!0):d,k=e[f],l=k.parentNode,t=k.nextSibling;h.appendChild(k);t?l.insertBefore(h,t):l.appendChild(h)}C.videoContainer=d}"youtube"==C.type&&q(C.media.getAttribute("data-video-id"));null!==C.media.getAttribute("autoplay")&&I()}else p("No audio or video element found!",!0);if("video"==C.type||"audio"==C.type){if(!C.supported.full){C.init=!0;return}Ia();z.displayDuration&&ga();C.buttons.play&&(d=C.buttons.play.innerText||z.i18n.play,"undefined"!==typeof z.title&&z.title.length&&(d+=", "+z.title),C.buttons.play.setAttribute("aria-label",d))}C.init=!0}function Ia(){var b=z.html;p("Injecting custom controls.");b||(b=['\x3cdiv class\x3d"player-controls"\x3e','\x3cdiv class\x3d"player-progress"\x3e','\x3clabel for\x3d"seek{id}" class\x3d"sr-only"\x3eSeek\x3c/label\x3e','\x3cinput id\x3d"seek{id}" class\x3d"player-progress-seek" type\x3d"range" min\x3d"0" max\x3d"100" step\x3d"0.5" value\x3d"0" data-player\x3d"seek"\x3e','\x3cprogress class\x3d"player-progress-played" max\x3d"100" value\x3d"0"\x3e',"\x3cspan\x3e0\x3c/span\x3e% "+z.i18n.played,"\x3c/progress\x3e",'\x3cprogress class\x3d"player-progress-buffer" max\x3d"100" value\x3d"0"\x3e',"\x3cspan\x3e0\x3c/span\x3e% "+z.i18n.buffered,"\x3c/progress\x3e","\x3c/div\x3e",'\x3cspan class\x3d"player-controls-left"\x3e'],e(z.controls,"restart")&&b.push('\x3cbutton type\x3d"button" data-player\x3d"restart"\x3e','\x3csvg\x3e\x3cuse xlink:href\x3d"#'+z.iconPrefix+'-restart" /\x3e\x3c/svg\x3e','\x3cspan class\x3d"sr-only"\x3e'+z.i18n.restart+"\x3c/span\x3e","\x3c/button\x3e"),e(z.controls,"rewind")&&b.push('\x3cbutton type\x3d"button" data-player\x3d"rewind"\x3e','\x3csvg\x3e\x3cuse xlink:href\x3d"#'+z.iconPrefix+'-rewind" /\x3e\x3c/svg\x3e','\x3cspan class\x3d"sr-only"\x3e'+z.i18n.rewind+"\x3c/span\x3e","\x3c/button\x3e"),e(z.controls,"play")&&b.push('\x3cbutton type\x3d"button" data-player\x3d"play"\x3e','\x3csvg\x3e\x3cuse xlink:href\x3d"#'+z.iconPrefix+'-play" /\x3e\x3c/svg\x3e','\x3cspan class\x3d"sr-only"\x3e'+z.i18n.play+"\x3c/span\x3e","\x3c/button\x3e",'\x3cbutton type\x3d"button" data-player\x3d"pause"\x3e','\x3csvg\x3e\x3cuse xlink:href\x3d"#'+z.iconPrefix+'-pause" /\x3e\x3c/svg\x3e','\x3cspan class\x3d"sr-only"\x3e'+z.i18n.pause+"\x3c/span\x3e","\x3c/button\x3e"),e(z.controls,"fast-forward")&&b.push('\x3cbutton type\x3d"button" data-player\x3d"fast-forward"\x3e','\x3csvg\x3e\x3cuse xlink:href\x3d"#'+z.iconPrefix+'-fast-forward" /\x3e\x3c/svg\x3e','\x3cspan class\x3d"sr-only"\x3e'+z.i18n.forward+"\x3c/span\x3e","\x3c/button\x3e"),e(z.controls,"current-time")&&b.push('\x3cspan class\x3d"player-time"\x3e','\x3cspan class\x3d"sr-only"\x3e'+z.i18n.currentTime+"\x3c/span\x3e",'\x3cspan class\x3d"player-current-time"\x3e00:00\x3c/span\x3e',"\x3c/span\x3e"),e(z.controls,"duration")&&b.push('\x3cspan class\x3d"player-time"\x3e','\x3cspan class\x3d"sr-only"\x3e'+z.i18n.duration+"\x3c/span\x3e",'\x3cspan class\x3d"player-duration"\x3e00:00\x3c/span\x3e',"\x3c/span\x3e"),b.push("\x3c/span\x3e",'\x3cspan class\x3d"player-controls-right"\x3e'),e(z.controls,"mute")&&b.push('\x3cbutton type\x3d"button" data-player\x3d"mute"\x3e','\x3csvg class\x3d"icon-muted"\x3e\x3cuse xlink:href\x3d"#'+z.iconPrefix+'-muted" /\x3e\x3c/svg\x3e','\x3csvg\x3e\x3cuse xlink:href\x3d"#'+z.iconPrefix+'-volume" /\x3e\x3c/svg\x3e','\x3cspan class\x3d"sr-only"\x3e'+z.i18n.toggleMute+"\x3c/span\x3e","\x3c/button\x3e"),e(z.controls,"volume")&&b.push('\x3clabel for\x3d"volume{id}" class\x3d"sr-only"\x3e'+z.i18n.volume+"\x3c/label\x3e",'\x3cinput id\x3d"volume{id}" class\x3d"player-volume" type\x3d"range" min\x3d"0" max\x3d"10" value\x3d"5" data-player\x3d"volume"\x3e'),e(z.controls,"captions")&&b.push('\x3cbutton type\x3d"button" data-player\x3d"captions"\x3e','\x3csvg class\x3d"icon-captions-on"\x3e\x3cuse xlink:href\x3d"#'+z.iconPrefix+'-captions-on" /\x3e\x3c/svg\x3e','\x3csvg\x3e\x3cuse xlink:href\x3d"#'+z.iconPrefix+'-captions-off" /\x3e\x3c/svg\x3e','\x3cspan class\x3d"sr-only"\x3e'+z.i18n.toggleCaptions+"\x3c/span\x3e","\x3c/button\x3e"),e(z.controls,"fullscreen")&&b.push('\x3cbutton type\x3d"button" data-player\x3d"fullscreen"\x3e','\x3csvg class\x3d"icon-exit-fullscreen"\x3e\x3cuse xlink:href\x3d"#'+z.iconPrefix+'-exit-fullscreen" /\x3e\x3c/svg\x3e','\x3csvg\x3e\x3cuse xlink:href\x3d"#'+z.iconPrefix+'-enter-fullscreen" /\x3e\x3c/svg\x3e','\x3cspan class\x3d"sr-only"\x3e'+z.i18n.toggleFullscreen+"\x3c/span\x3e","\x3c/button\x3e"),b.push("\x3c/span\x3e","\x3c/div\x3e"),b=b.join(""));b=n(b,"{seektime}",z.seekTime);b=n(b,"{id}",Math.floor(1E4*Math.random()));C.container.insertAdjacentHTML("beforeend",b);if(z.tooltips)for(var b=C.container.querySelectorAll(z.selectors.labels),c=b.length-1;0<=c;c--){var d=b[c];m(d,z.classes.hidden,!1);m(d,z.classes.tooltip,!0)}var g;try{C.controls=G(z.selectors.controls),C.buttons={},C.buttons.seek=G(z.selectors.buttons.seek),C.buttons.play=G(z.selectors.buttons.play),C.buttons.pause=G(z.selectors.buttons.pause),C.buttons.restart=G(z.selectors.buttons.restart),C.buttons.rewind=G(z.selectors.buttons.rewind),C.buttons.forward=G(z.selectors.buttons.forward),C.buttons.fullscreen=G(z.selectors.buttons.fullscreen),C.buttons.mute=G(z.selectors.buttons.mute),C.buttons.captions=G(z.selectors.buttons.captions),C.checkboxes=C.container.querySelectorAll('[type\x3d"checkbox"]'),C.progress={},C.progress.container=G(z.selectors.progress.container),C.progress.buffer={},C.progress.buffer.bar=G(z.selectors.progress.buffer),C.progress.buffer.text=C.progress.buffer.bar&&C.progress.buffer.bar.getElementsByTagName("span")[0],C.progress.played={},C.progress.played.bar=G(z.selectors.progress.played),C.progress.played.text=C.progress.played.bar&&C.progress.played.bar.getElementsByTagName("span")[0],C.volume=G(z.selectors.buttons.volume),C.duration=G(z.selectors.duration),C.currentTime=G(z.selectors.currentTime),C.seekTime=C.container.querySelectorAll(z.selectors.seekTime),g=!0}catch(f){p("It looks like there's a problem with your controls html. Bailing.",!0),C.media.setAttribute("controls",""),g=!1}if(!g)return!1;L();R();U();if("audio"!=C.type&&z.fullscreen.enabled){g=y.supportsFullScreen;if(!(b=g)&&(b=z.fullscreen.fallback)){var h;try{h=window.self!==window.top}catch(f){h=!0}b=!h}b?(p((g?"Native":"Fallback")+" fullscreen enabled."),m(C.container,z.classes.fullscreen.enabled,!0)):p("Fullscreen not supported and fallback disabled.");u(C.buttons.fullscreen,!1);z.fullscreen.hideControls&&m(C.container,z.classes.fullscreen.hideControls,!0)}ha()}var C=this;C.container=w;la();return C.init?{media:C.media,play:I,pause:K,restart:J,rewind:O,forward:M,seek:J,source:function(b){if("youtube"===C.type&&"string"===typeof b)C.embed.destroy(),q(b),fa();else{K();J();for(var c=C.media.querySelectorAll("source"),g=c.length-1;0<=g;g--)d(c[g]);C.media.removeAttribute("src");if("string"===typeof b)Y({src:b});else if(b.constructor===Array)for(var e in b)Y(b[e]);C.supported.full&&(fa(),P());C.media.load();null!==C.media.getAttribute("autoplay")&&I()}},poster:function(b){"video"===C.type&&C.media.setAttribute("poster",b)},setVolume:R,togglePlay:function(b){if(!0===b)I();else if(!1===b)K();else C.media[C.media.paused?"play":"pause"]()},toggleMute:Q,toggleCaptions:V,toggleFullscreen:T,isFullscreen:function(){return C.isFullscreen||!1},support:function(b){return h(C,b)},destroy:function(){if(!C.init)return null;C.container.setAttribute("class",z.selectors.container.replace(".",""));C.init=!1;d(G(z.selectors.controls));if("youtube"===C.type)C.embed.destroy();else{if("video"===C.type){d(G(z.selectors.captions));for(var b=C.videoContainer,c=b.parentNode;b.firstChild;)c.insertBefore(b.firstChild,b);c.removeChild(b)}C.media.setAttribute("controls","");b=C.media.cloneNode(!0);C.media.parentNode.replaceChild(b,C.media)}},restore:la}:{}}var y,z,D={youtube:[]},A={enabled:!0,debug:!1,seekTime:10,volume:5,click:!0,tooltips:!0,displayDuration:!0,iconPrefix:"icon",selectors:{container:".player",controls:".player-controls",labels:"[data-player] .sr-only, label .sr-only",buttons:{seek:'[data-player\x3d"seek"]',play:'[data-player\x3d"play"]',pause:'[data-player\x3d"pause"]',restart:'[data-player\x3d"restart"]',rewind:'[data-player\x3d"rewind"]',forward:'[data-player\x3d"fast-forward"]',mute:'[data-player\x3d"mute"]',volume:'[data-player\x3d"volume"]',captions:'[data-player\x3d"captions"]',fullscreen:'[data-player\x3d"fullscreen"]'},progress:{container:".player-progress",buffer:".player-progress-buffer",played:".player-progress-played"},captions:".player-captions",currentTime:".player-current-time",duration:".player-duration"},classes:{videoWrapper:"player-video-wrapper",embedWrapper:"player-video-embed",type:"player-{0}",stopped:"stopped",playing:"playing",muted:"muted",loading:"loading",tooltip:"player-tooltip",hidden:"sr-only",hover:"player-hover",captions:{enabled:"captions-enabled",active:"captions-active"},fullscreen:{enabled:"fullscreen-enabled",active:"fullscreen-active",hideControls:"fullscreen-hide-controls"}},captions:{defaultActive:!1},fullscreen:{enabled:!0,fallback:!0,hideControls:!0},storage:{enabled:!0,key:"plyr_volume"},controls:"restart rewind play fast-forward current-time duration mute volume fullscreen".split(" "),i18n:{restart:"\u91cd\u65b0\u64ad\u653e",rewind:"\u540e\u9000{seektime}\u79d2",play:"\u64ad\u653e",pause:"\u6682\u505c",forward:"\u5feb\u8fdb{seektime}\u79d2",played:"\u64ad\u653e\u4e2d",buffered:"\u7f13\u51b2\u4e2d",currentTime:"\u5f53\u524d\u65f6\u95f4",duration:"\u6301\u7eed\u65f6\u95f4",volume:"\u97f3\u91cf",toggleMute:"\u9759\u97f3",toggleCaptions:"\u5b57\u5e55",toggleFullscreen:"\u5168\u5c4f"}};c.supported=function(c){var d=b(),d="IE"===d.name&&9>=d.version,g=/iPhone|iPod/i.test(navigator.userAgent),e=!!document.createElement("audio").canPlayType,f=!!document.createElement("video").canPlayType;switch(c){case "video":d=(c=f)&&!d&&!g;break;case "audio":d=(c=e)&&!d;break;case "youtube":c=!0;d=!d&&!g;break;default:d=(c=e&&f)&&!d}return{basic:c,full:d}};c.setup=function(b){z=v(A,b);if(!z.enabled||!c.supported().basic)return!1;b=document.querySelectorAll(z.selectors.container);for(var d=[],g=b.length-1;0<=g;g--){var e=b[g];if("undefined"===typeof e.plyr){var f=new w(e);e.plyr=Object.keys(f).length?f:!1;"function"===typeof z.onSetup&&z.onSetup.apply(e.plyr)}d.push(e.plyr)}return d}})(this.plyr=this.plyr||{});(function(c,p,b,h){function l(b,d){this.element=b;this.$elem=c(this.element);this.options=c.extend({},e,d);this._defaults=e;this._name="strength";this.init()}var e={strengthClass:"strength",strengthMeterClass:"strength_meter",strengthButtonClass:"button_strength",strengthButtonText:"Show Password",strengthButtonTextToggle:"Hide Password"};l.prototype={init:function(){function e(b,g){d=8<b.length?1:0;h=b.match(k)?1:0;l=b.match(p)?1:0;f=b.match(x)?1:0;var t=d+h+l+f+0;(t/7*100).toFixed(0);var n=c('div[data-meter\x3d"'+g+'"]');0==t?n.removeClass().html(""):1>=t?(n.removeClass(),n.addClass("veryweak").html("\x3cp\x3e\u5f3a\u5ea6: \u5f88\u5f31\x3c/p\x3e")):2==t?(n.removeClass(),n.addClass("weak").html("\x3cp\x3e\u5f3a\u5ea6: \u8f83\u5f31\x3c/p\x3e")):3==t?(n.removeClass(),n.addClass("medium").html("\x3cp\x3e\u5f3a\u5ea6: \u4e00\u822c\x3c/p\x3e")):(n.removeClass(),n.addClass("strong").html("\x3cp\x3e\u5f3a\u5ea6: \u5f3a\x3c/p\x3e"))}var d=0,h=0,l=0,f=0,k=/[A-Z]/,p=/[a-z]/,x=/[0-9]/,v=!1,g=this.options.strengthButtonText,t=this.options.strengthButtonTextToggle;thisid=this.$elem.attr("id");this.$elem.addClass(this.options.strengthClass).attr("data-password",thisid).after('\x3cinput style\x3d"display:none" class\x3d"'+this.options.strengthClass+'" data-password\x3d"'+thisid+'" type\x3d"text" name\x3d"" value\x3d""\x3e\x3ca data-password-button\x3d"'+thisid+'" href\x3d"" class\x3d"'+this.options.strengthButtonClass+'"\x3e'+this.options.strengthButtonText+'\x3c/a\x3e\x3cdiv class\x3d"'+this.options.strengthMeterClass+'"\x3e\x3cdiv data-meter\x3d"'+thisid+'"\x3e\x3cp\x3e\x3c/p\x3e\x3c/div\x3e\x3c/div\x3e');this.$elem.bind("keyup keydown",function(b){thisval=c("#"+thisid).val();c('input[type\x3d"text"][data-password\x3d"'+thisid+'"]').val(thisval);e(thisval,thisid)});c('input[type\x3d"text"][data-password\x3d"'+thisid+'"]').bind("keyup keydown",function(b){thisval=c('input[type\x3d"text"][data-password\x3d"'+thisid+'"]').val();c('input[type\x3d"password"][data-password\x3d"'+thisid+'"]').val(thisval);e(thisval,thisid)});c(b.body).on("click","."+this.options.strengthButtonClass,function(b){b.preventDefault();thisclass="hide_"+c(this).attr("class");v?(c('input[type\x3d"text"][data-password\x3d"'+thisid+'"]').hide(),c('input[type\x3d"password"][data-password\x3d"'+thisid+'"]').show().focus(),c('a[data-password-button\x3d"'+thisid+'"]').removeClass(thisclass).html(g),v=!1):(c('input[type\x3d"text"][data-password\x3d"'+thisid+'"]').show().focus(),c('input[type\x3d"password"][data-password\x3d"'+thisid+'"]').hide(),c('a[data-password-button\x3d"'+thisid+'"]').addClass(thisclass).html(t),v=!0)})},yourOtherFunction:function(b,c){}};c.fn.strength=function(b){return this.each(function(){c.data(this,"plugin_strength")||c.data(this,"plugin_strength",new l(this,b))})}})(jQuery,window,document);(function(){function c(p,b,h){var l=c.resolve(p);if(null==l)throw h=h||p,b=b||"root",l=Error('Failed to require "'+h+'" from "'+b+'"'),l.path=h,l.parent=b,l.require=!0,l;b=c.modules[l];b._resolving||b.exports||(h={exports:{}},h.client=h.component=!0,b._resolving=!0,b.call(this,h.exports,c.relative(l),h),delete b._resolving,b.exports=h.exports);return b.exports}c.modules={};c.aliases={};c.resolve=function(p){"/"===p.charAt(0)&&(p=p.slice(1));for(var b=[p,p+".js",p+".json",p+"/index.js",p+"/index.json"],h=0;h<b.length;h++){p=b[h];if(c.modules.hasOwnProperty(p))return p;if(c.aliases.hasOwnProperty(p))return c.aliases[p]}};c.normalize=function(c,b){var h=[];if("."!=b.charAt(0))return b;c=c.split("/");b=b.split("/");for(var l=0;l<b.length;++l)".."==b[l]?c.pop():"."!=b[l]&&""!=b[l]&&h.push(b[l]);return c.concat(h).join("/")};c.register=function(p,b){c.modules[p]=b};c.alias=function(p,b){if(!c.modules.hasOwnProperty(p))throw Error('Failed to alias "'+p+'", it does not exist');c.aliases[b]=p};c.relative=function(p){function b(h){var e=b.resolve(h);return c(e,p,h)}var h=c.normalize(p,"..");b.resolve=function(b){var e=b.charAt(0);if("/"==e)return b.slice(1);if("."==e)return c.normalize(h,b);var e=p.split("/"),n;a:{for(n=e.length;n--;)if("deps"===e[n])break a;n=-1}(n+=1)||(n=0);return b=e.slice(0,n+1).join("/")+"/deps/"+b};b.exists=function(h){return c.modules.hasOwnProperty(b.resolve(h))};return b};c.register("abpetkov-transitionize/transitionize.js",function(c,b,h){function l(b,c){if(!(this instanceof l))return new l(b,c);this.element=b;this.props=c||{};this.init()}h.exports=l;l.prototype.isSafari=function(){return/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)};l.prototype.init=function(){var b=[],c;for(c in this.props)b.push(c+" "+this.props[c]);this.element.style.transition=b.join(", ");this.isSafari()&&(this.element.style.webkitTransition=b.join(", "))}});c.register("ftlabs-fastclick/lib/fastclick.js",function(c,b,h){function l(b){var c,d=this;this.trackingClick=!1;this.trackingClickStart=0;this.targetElement=null;this.lastTouchIdentifier=this.touchStartY=this.touchStartX=0;this.touchBoundary=10;this.layer=b;if(!b||!b.nodeType)throw new TypeError("Layer must be a document node");this.onClick=function(){return l.prototype.onClick.apply(d,arguments)};this.onMouse=function(){return l.prototype.onMouse.apply(d,arguments)};this.onTouchStart=function(){return l.prototype.onTouchStart.apply(d,arguments)};this.onTouchMove=function(){return l.prototype.onTouchMove.apply(d,arguments)};this.onTouchEnd=function(){return l.prototype.onTouchEnd.apply(d,arguments)};this.onTouchCancel=function(){return l.prototype.onTouchCancel.apply(d,arguments)};l.notNeeded(b)||(this.deviceIsAndroid&&(b.addEventListener("mouseover",this.onMouse,!0),b.addEventListener("mousedown",this.onMouse,!0),b.addEventListener("mouseup",this.onMouse,!0)),b.addEventListener("click",this.onClick,!0),b.addEventListener("touchstart",this.onTouchStart,!1),b.addEventListener("touchmove",this.onTouchMove,!1),b.addEventListener("touchend",this.onTouchEnd,!1),b.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(b.removeEventListener=function(c,d,f){var h=Node.prototype.removeEventListener;"click"===c?h.call(b,c,d.hijacked||d,f):h.call(b,c,d,f)},b.addEventListener=function(c,d,f){var h=Node.prototype.addEventListener;"click"===c?h.call(b,c,d.hijacked||(d.hijacked=function(b){b.propagationStopped||d(b)}),f):h.call(b,c,d,f)}),"function"===typeof b.onclick&&(c=b.onclick,b.addEventListener("click",function(b){c(b)},!1),b.onclick=null))}l.prototype.deviceIsAndroid=0<navigator.userAgent.indexOf("Android");l.prototype.deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent);l.prototype.deviceIsIOS4=l.prototype.deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent);l.prototype.deviceIsIOSWithBadTarget=l.prototype.deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent);l.prototype.needsClick=function(b){switch(b.nodeName.toLowerCase()){case "button":case "select":case "textarea":if(b.disabled)return!0;break;case "input":if(this.deviceIsIOS&&"file"===b.type||b.disabled)return!0;break;case "label":case "video":return!0}return/\bneedsclick\b/.test(b.className)};l.prototype.needsFocus=function(b){switch(b.nodeName.toLowerCase()){case "textarea":return!0;case "select":return!this.deviceIsAndroid;case "input":switch(b.type){case "button":case "checkbox":case "file":case "image":case "radio":case "submit":return!1}return!b.disabled&&!b.readOnly;default:return/\bneedsfocus\b/.test(b.className)}};l.prototype.sendClick=function(b,c){var d,h;document.activeElement&&document.activeElement!==b&&document.activeElement.blur();h=c.changedTouches[0];d=document.createEvent("MouseEvents");d.initMouseEvent(this.determineEventType(b),!0,!0,window,1,h.screenX,h.screenY,h.clientX,h.clientY,!1,!1,!1,!1,0,null);d.forwardedTouchEvent=!0;b.dispatchEvent(d)};l.prototype.determineEventType=function(b){return this.deviceIsAndroid&&"select"===b.tagName.toLowerCase()?"mousedown":"click"};l.prototype.focus=function(b){var c;this.deviceIsIOS&&b.setSelectionRange&&0!==b.type.indexOf("date")&&"time"!==b.type?(c=b.value.length,b.setSelectionRange(c,c)):b.focus()};l.prototype.updateScrollParent=function(b){var c,d;c=b.fastClickScrollParent;if(!c||!c.contains(b)){d=b;do{if(d.scrollHeight>d.offsetHeight){c=d;b.fastClickScrollParent=d;break}d=d.parentElement}while(d)}c&&(c.fastClickLastScrollTop=c.scrollTop)};l.prototype.getTargetElementFromEventTarget=function(b){return b.nodeType===Node.TEXT_NODE?b.parentNode:b};l.prototype.onTouchStart=function(b){var c,d,h;if(1<b.targetTouches.length)return!0;c=this.getTargetElementFromEventTarget(b.target);d=b.targetTouches[0];if(this.deviceIsIOS){h=window.getSelection();if(h.rangeCount&&!h.isCollapsed)return!0;if(!this.deviceIsIOS4){if(d.identifier===this.lastTouchIdentifier)return b.preventDefault(),!1;this.lastTouchIdentifier=d.identifier;this.updateScrollParent(c)}}this.trackingClick=!0;this.trackingClickStart=b.timeStamp;this.targetElement=c;this.touchStartX=d.pageX;this.touchStartY=d.pageY;200>b.timeStamp-this.lastClickTime&&b.preventDefault();return!0};l.prototype.touchHasMoved=function(b){b=b.changedTouches[0];var c=this.touchBoundary;return Math.abs(b.pageX-this.touchStartX)>c||Math.abs(b.pageY-this.touchStartY)>c?!0:!1};l.prototype.onTouchMove=function(b){if(!this.trackingClick)return!0;if(this.targetElement!==this.getTargetElementFromEventTarget(b.target)||this.touchHasMoved(b))this.trackingClick=!1,this.targetElement=null;return!0};l.prototype.findControl=function(b){return void 0!==b.control?b.control:b.htmlFor?document.getElementById(b.htmlFor):b.querySelector("button, input:not([type\x3dhidden]), keygen, meter, output, progress, select, textarea")};l.prototype.onTouchEnd=function(b){var c,d,h=this.targetElement;if(!this.trackingClick)return!0;if(200>b.timeStamp-this.lastClickTime)return this.cancelNextClick=!0;this.cancelNextClick=!1;this.lastClickTime=b.timeStamp;c=this.trackingClickStart;this.trackingClick=!1;this.trackingClickStart=0;this.deviceIsIOSWithBadTarget&&(d=b.changedTouches[0],h=document.elementFromPoint(d.pageX-window.pageXOffset,d.pageY-window.pageYOffset)||h,h.fastClickScrollParent=this.targetElement.fastClickScrollParent);d=h.tagName.toLowerCase();if("label"===d){if(c=this.findControl(h)){this.focus(h);if(this.deviceIsAndroid)return!1;h=c}}else if(this.needsFocus(h)){if(100<b.timeStamp-c||this.deviceIsIOS&&window.top!==window&&"input"===d)return this.targetElement=null,!1;this.focus(h);this.deviceIsIOS4&&"select"===d||(this.targetElement=null,b.preventDefault());return!1}if(this.deviceIsIOS&&!this.deviceIsIOS4&&(c=h.fastClickScrollParent)&&c.fastClickLastScrollTop!==c.scrollTop)return!0;this.needsClick(h)||(b.preventDefault(),this.sendClick(h,b));return!1};l.prototype.onTouchCancel=function(){this.trackingClick=!1;this.targetElement=null};l.prototype.onMouse=function(b){return this.targetElement&&!b.forwardedTouchEvent&&b.cancelable?!this.needsClick(this.targetElement)||this.cancelNextClick?(b.stopImmediatePropagation?b.stopImmediatePropagation():b.propagationStopped=!0,b.stopPropagation(),b.preventDefault(),!1):!0:!0};l.prototype.onClick=function(b){if(this.trackingClick)return this.targetElement=null,this.trackingClick=!1,!0;if("submit"===b.target.type&&0===b.detail)return!0;b=this.onMouse(b);b||(this.targetElement=null);return b};l.prototype.destroy=function(){var b=this.layer;this.deviceIsAndroid&&(b.removeEventListener("mouseover",this.onMouse,!0),b.removeEventListener("mousedown",this.onMouse,!0),b.removeEventListener("mouseup",this.onMouse,!0));b.removeEventListener("click",this.onClick,!0);b.removeEventListener("touchstart",this.onTouchStart,!1);b.removeEventListener("touchmove",this.onTouchMove,!1);b.removeEventListener("touchend",this.onTouchEnd,!1);b.removeEventListener("touchcancel",this.onTouchCancel,!1)};l.notNeeded=function(b){var c,d;if("undefined"===typeof window.ontouchstart)return!0;if(d=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1])if(l.prototype.deviceIsAndroid){if((c=document.querySelector("meta[name\x3dviewport]"))&&(-1!==c.content.indexOf("user-scalable\x3dno")||31<d&&window.innerWidth<=window.screen.width))return!0}else return!0;return"none"===b.style.msTouchAction?!0:!1};l.attach=function(b){return new l(b)};"undefined"!==typeof define&&define.amd?define(function(){return l}):"undefined"!==typeof h&&h.exports?(h.exports=l.attach,h.exports.FastClick=l):window.FastClick=l});c.register("switchery/switchery.js",function(c,b,h){function l(b,c){if(!(this instanceof l))return new l(b,c);this.element=b;this.options=c||{};for(var e in d)null==this.options[e]&&(this.options[e]=d[e]);null!=this.element&&"checkbox"==this.element.type&&this.init()}var e=b("transitionize"),n=b("fastclick");h.exports=l;var d={color:"#64bd63",secondaryColor:"#dfdfdf",className:"switchery",disabled:!1,disabledOpacity:.5,speed:"0.4s"};l.prototype.hide=function(){this.element.style.display="none"};l.prototype.show=function(){var b=this.create();this.insertAfter(this.element,b)};l.prototype.create=function(){this.switcher=document.createElement("span");this.jack=document.createElement("small");this.switcher.appendChild(this.jack);this.switcher.className=this.options.className;return this.switcher};l.prototype.insertAfter=function(b,c){b.parentNode.insertBefore(c,b.nextSibling)};l.prototype.isChecked=function(){return this.element.checked};l.prototype.isDisabled=function(){return this.options.disabled||this.element.disabled};l.prototype.setPosition=function(b){var c=this.isChecked(),d=this.switcher,e=this.jack;b&&c?c=!1:b&&!c&&(c=!0);!0===c?(this.element.checked=!0,e.style.left=window.getComputedStyle?parseInt(window.getComputedStyle(d).width)-e.offsetWidth+"px":parseInt(d.currentStyle.width)-e.offsetWidth+"px",this.options.color&&this.colorize()):(e.style.left=0,this.element.checked=!1,this.switcher.style.boxShadow="inset 0 0 0 0 "+this.options.secondaryColor,this.switcher.style.borderColor=this.options.secondaryColor,this.switcher.style.backgroundColor="");this.setSpeed()};l.prototype.setSpeed=function(){var b,c={left:this.options.speed.replace(/[a-z]/,"")/2+"s"};b=this.isChecked()?{border:this.options.speed,"box-shadow":this.options.speed,"background-color":3*this.options.speed.replace(/[a-z]/,"")+"s"}:{border:this.options.speed,"box-shadow":this.options.speed};e(this.switcher,b);e(this.jack,c)};l.prototype.setAttributes=function(){var b=this.element.getAttribute("id"),c=this.element.getAttribute("name");b&&this.switcher.setAttribute("id",b);c&&this.switcher.setAttribute("name",c)};l.prototype.colorize=function(){this.switcher.style.backgroundColor=this.options.color;this.switcher.style.borderColor=this.options.color;this.switcher.style.boxShadow="inset 0 0 0 16px "+this.options.color};l.prototype.handleOnchange=function(b){"function"!==typeof Event&&document.fireEvent?this.element.fireEvent("onchange"):(b=document.createEvent("HTMLEvents"),b.initEvent("change",!1,!0),this.element.dispatchEvent(b))};l.prototype.handleClick=function(){var b=this,c=this.switcher;!1===this.isDisabled()?(n(c),c.addEventListener?c.addEventListener("click",function(){b.setPosition(!0);b.handleOnchange(b.element.checked)}):c.attachEvent("onclick",function(){b.setPosition(!0);b.handleOnchange(b.element.checked)})):(this.element.disabled=!0,this.switcher.style.opacity=this.options.disabledOpacity)};l.prototype.disableLabel=function(){for(var b=this.element.parentNode,c=document.getElementsByTagName("label"),d=null,e=0;e<c.length;e++)c[e].getAttribute("for")===this.element.id&&(d=!0);if(!0===d||"label"===b.tagName.toLowerCase())b.addEventListener?b.addEventListener("click",function(b){b.preventDefault()}):b.attachEvent("onclick",function(b){b.returnValue=!1})};l.prototype.markAsSwitched=function(){this.element.setAttribute("data-switchery",!0)};l.prototype.markedAsSwitched=function(){return this.element.getAttribute("data-switchery")};l.prototype.init=function(){this.hide();this.show();this.setPosition();this.setAttributes();this.markAsSwitched();this.disableLabel();this.handleClick()}});c.alias("abpetkov-transitionize/transitionize.js","switchery/deps/transitionize/transitionize.js");c.alias("abpetkov-transitionize/transitionize.js","switchery/deps/transitionize/index.js");c.alias("abpetkov-transitionize/transitionize.js","transitionize/index.js");c.alias("abpetkov-transitionize/transitionize.js","abpetkov-transitionize/index.js");c.alias("ftlabs-fastclick/lib/fastclick.js","switchery/deps/fastclick/lib/fastclick.js");c.alias("ftlabs-fastclick/lib/fastclick.js","switchery/deps/fastclick/index.js");c.alias("ftlabs-fastclick/lib/fastclick.js","fastclick/index.js");c.alias("ftlabs-fastclick/lib/fastclick.js","ftlabs-fastclick/index.js");c.alias("switchery/switchery.js","switchery/index.js");"object"==typeof exports?module.exports=c("switchery"):"function"==typeof define&&define.amd?define(function(){return c("switchery")}):this.Switchery=c("switchery")})();(function(){function c(c,b,h,l){var e,n,d,m,r,f;b=b||{};n=b.indent_size||4;d=b.indent_char||" ";r=b.brace_style||"collapse";m=0===b.max_char?Infinity:b.max_char||250;f=b.unformatted||"a span bdo em strong dfn code samp kbd var cite abbr acronym q sub sup tt i b big small u s strike font ins del pre address dt h1 h2 h3 h4 h5 h6".split(" ");e=new function(){this.pos=0;this.token="";this.current_mode="CONTENT";this.tags={parent:"parent1",parentcount:1,parent1:""};this.token_text=this.last_token=this.last_text=this.token_type=this.tag_type="";this.Utils={whitespace:["\n","\r","\t"," "],single_token:"br input link meta !doctype basefont base area hr wbr param img isindex ?xml embed ?php ? ?\x3d".split(" "),extra_liners:["head","body","/html"],in_array:function(b,c){for(var d=0;d<c.length;d++)if(b===c[d])return!0;return!1}};this.get_content=function(){for(var b,c=[],d=!1;"\x3c"!==this.input.charAt(this.pos);){if(this.pos>=this.input.length)return c.length?c.join(""):["","TK_EOF"];b=this.input.charAt(this.pos);this.pos++;this.line_char_count++;if(this.Utils.in_array(b,this.Utils.whitespace))c.length&&(d=!0),this.line_char_count--;else{if(d){if(this.line_char_count>=this.max_char){c.push("\n");for(d=0;d<this.indent_level;d++)c.push(this.indent_string);this.line_char_count=0}else c.push(" "),this.line_char_count++;d=!1}c.push(b)}}return c.length?c.join(""):""};this.get_contents_to=function(b){if(this.pos===this.input.length)return["","TK_EOF"];var c="";b=new RegExp("\x3c/"+b+"\\s*\x3e","igm");b.lastIndex=this.pos;b=(b=b.exec(this.input))?b.index:this.input.length;this.pos<b&&(c=this.input.substring(this.pos,b),this.pos=b);return c};this.record_tag=function(b){this.tags[b+"count"]?this.tags[b+"count"]++:this.tags[b+"count"]=1;this.tags[b+this.tags[b+"count"]]=this.indent_level;this.tags[b+this.tags[b+"count"]+"parent"]=this.tags.parent;this.tags.parent=b+this.tags[b+"count"]};this.retrieve_tag=function(b){if(this.tags[b+"count"]){for(var c=this.tags.parent;c&&b+this.tags[b+"count"]!==c;)c=this.tags[c+"parent"];c&&(this.indent_level=this.tags[b+this.tags[b+"count"]],this.tags.parent=this.tags[c+"parent"]);delete this.tags[b+this.tags[b+"count"]+"parent"];delete this.tags[b+this.tags[b+"count"]];1===this.tags[b+"count"]?delete this.tags[b+"count"]:this.tags[b+"count"]--}};this.get_tag=function(b){var c,d=[],g=!1,e,h=this.pos,k=this.line_char_count;b=void 0!==b?b:!1;do{if(this.pos>=this.input.length)return b&&(this.pos=h,this.line_char_count=k),d.length?d.join(""):["","TK_EOF"];c=this.input.charAt(this.pos);this.pos++;this.line_char_count++;if(this.Utils.in_array(c,this.Utils.whitespace))g=!0,this.line_char_count--;else{if("'"===c||'"'===c)d[1]&&"!"===d[1]||(c+=this.get_unformatted(c),g=!0);"\x3d"===c&&(g=!1);d.length&&"\x3d"!==d[d.length-1]&&"\x3e"!==c&&g&&(this.line_char_count>=this.max_char?(this.print_newline(!1,d),this.line_char_count=0):(d.push(" "),this.line_char_count++),g=!1);"\x3c"===c&&(e=this.pos-1);d.push(c)}}while("\x3e"!==c);c=d.join("");g=-1!==c.indexOf(" ")?c.indexOf(" "):c.indexOf("\x3e");g=c.substring(1,g).toLowerCase();"/"===c.charAt(c.length-2)||this.Utils.in_array(g,this.Utils.single_token)?b||(this.tag_type="SINGLE"):"script"===g?b||(this.record_tag(g),this.tag_type="SCRIPT"):"style"===g?b||(this.record_tag(g),this.tag_type="STYLE"):this.is_unformatted(g,f)?(c=this.get_unformatted("\x3c/"+g+"\x3e",c),d.push(c),0<e&&this.Utils.in_array(this.input.charAt(e-1),this.Utils.whitespace)&&d.splice(0,0,this.input.charAt(e-1)),e=this.pos-1,this.Utils.in_array(this.input.charAt(e+1),this.Utils.whitespace)&&d.push(this.input.charAt(e+1)),this.tag_type="SINGLE"):"!"===g.charAt(0)?-1!==g.indexOf("[if")?(-1!==c.indexOf("!IE")&&(c=this.get_unformatted("--\x3e",c),d.push(c)),b||(this.tag_type="START")):-1!==g.indexOf("[endif")?(this.tag_type="END",this.unindent()):-1!==g.indexOf("[cdata[")?(c=this.get_unformatted("]]\x3e",c),d.push(c),b||(this.tag_type="SINGLE")):(c=this.get_unformatted("--\x3e",c),d.push(c),this.tag_type="SINGLE"):b||("/"===g.charAt(0)?(this.retrieve_tag(g.substring(1)),this.tag_type="END"):(this.record_tag(g),this.tag_type="START"),this.Utils.in_array(g,this.Utils.extra_liners)&&this.print_newline(!0,this.output));b&&(this.pos=h,this.line_char_count=k);return d.join("")};this.get_unformatted=function(b,c){if(c&&-1!==c.toLowerCase().indexOf(b))return"";var d,g="",e=!0;do{if(this.pos>=this.input.length)break;d=this.input.charAt(this.pos);this.pos++;if(this.Utils.in_array(d,this.Utils.whitespace)){if(!e){this.line_char_count--;continue}if("\n"===d||"\r"===d){g+="\n";this.line_char_count=0;continue}}g+=d;this.line_char_count++;e=!0}while(-1===g.toLowerCase().indexOf(b));return g};this.get_token=function(){var b;if("TK_TAG_SCRIPT"===this.last_token||"TK_TAG_STYLE"===this.last_token){var c=this.last_token.substr(7);b=this.get_contents_to(c);return"string"!==typeof b?b:[b,"TK_"+c]}if("CONTENT"===this.current_mode)return b=this.get_content(),"string"!==typeof b?b:[b,"TK_CONTENT"];if("TAG"===this.current_mode)return b=this.get_tag(),"string"!==typeof b?b:[b,"TK_TAG_"+this.tag_type]};this.get_full_indent=function(b){b=this.indent_level+b||0;return 1>b?"":Array(b+1).join(this.indent_string)};this.is_unformatted=function(b,c){if(!this.Utils.in_array(b,c))return!1;if("a"!==b.toLowerCase()||!this.Utils.in_array("a",c))return!0;var d=(this.get_tag(!0)||"").match(/^\s*<\s*\/?([a-z]*)\s*[^>]*>\s*$/);return!d||this.Utils.in_array(d,c)?!0:!1};this.printer=function(b,c,d,g,e){this.input=b||"";this.output=[];this.indent_character=c;this.indent_string="";this.indent_size=d;this.brace_style=e;this.indent_level=0;this.max_char=g;for(b=this.line_char_count=0;b<this.indent_size;b++)this.indent_string+=this.indent_character;this.print_newline=function(b,c){this.line_char_count=0;if(c&&c.length){if(!b)for(;this.Utils.in_array(c[c.length-1],this.Utils.whitespace);)c.pop();c.push("\n");for(var d=0;d<this.indent_level;d++)c.push(this.indent_string)}};this.print_token=function(b){this.output.push(b)};this.indent=function(){this.indent_level++};this.unindent=function(){0<this.indent_level&&this.indent_level--}};return this};for(e.printer(c,d,n,m,r);;){c=e.get_token();e.token_text=c[0];e.token_type=c[1];if("TK_EOF"===e.token_type)break;switch(e.token_type){case "TK_TAG_START":e.print_newline(!1,e.output);e.print_token(e.token_text);e.indent();e.current_mode="CONTENT";break;case "TK_TAG_STYLE":case "TK_TAG_SCRIPT":e.print_newline(!1,e.output);e.print_token(e.token_text);e.current_mode="CONTENT";break;case "TK_TAG_END":"TK_CONTENT"===e.last_token&&""===e.last_text&&(c=e.token_text.match(/\w+/)[0],n=e.output[e.output.length-1].match(/<\s*(\w+)/),null!==n&&n[1]===c||e.print_newline(!0,e.output));e.print_token(e.token_text);e.current_mode="CONTENT";break;case "TK_TAG_SINGLE":(c=e.token_text.match(/^\s*<([a-z]+)/i))&&e.Utils.in_array(c[1],f)||e.print_newline(!1,e.output);e.print_token(e.token_text);e.current_mode="CONTENT";break;case "TK_CONTENT":""!==e.token_text&&e.print_token(e.token_text);e.current_mode="TAG";break;case "TK_STYLE":case "TK_SCRIPT":if(""!==e.token_text){e.output.push("\n");c=e.token_text;var k;d=1;"TK_SCRIPT"===e.token_type?k="function"===typeof h&&h:"TK_STYLE"===e.token_type&&(k="function"===typeof l&&l);"keep"===b.indent_scripts?d=0:"separate"===b.indent_scripts&&(d=-e.indent_level);n=e.get_full_indent(d);k?c=k(c.replace(/^\s*/,n),b):(m=c.match(/^\s*/)[0].match(/[^\n\r]*$/)[0].split(e.indent_string).length-1,d=e.get_full_indent(d-m),c=c.replace(/^\s*/,n).replace(/\r\n|\r|\n/g,"\n"+d).replace(/\s*$/,""));c&&(e.print_token(c),e.print_newline(!0,e.output))}e.current_mode="TAG"}e.last_token=e.token_type;e.last_text=e.token_text}return e.output.join("")}window.html_beautify=function(p,b){return c(p,b,window.js_beautify,window.css_beautify)}})();!function(c){var p=void 0!==window.orientation,b=-1<navigator.userAgent.toLowerCase().indexOf("android"),h=function(h,e){b||(this.$element=c(h),this.options=c.extend({},c.fn.inputmask.defaults,e),this.mask=String(e.mask),this.init(),this.listen(),this.checkVal())};h.prototype={init:function(){var b=this.options.definitions,e=this.mask.length;this.tests=[];this.partialPosition=this.mask.length;this.firstNonMaskPos=null;c.each(this.mask.split(""),c.proxy(function(c,d){"?"==d?(e--,this.partialPosition=c):b[d]?(this.tests.push(new RegExp(b[d])),null===this.firstNonMaskPos&&(this.firstNonMaskPos=this.tests.length-1)):this.tests.push(null)},this));this.buffer=c.map(this.mask.split(""),c.proxy(function(c,d){if("?"!=c)return b[c]?this.options.placeholder:c},this));this.focusText=this.$element.val();this.$element.data("rawMaskFn",c.proxy(function(){return c.map(this.buffer,function(b,c){return this.tests[c]&&b!=this.options.placeholder?b:null}).join("")},this))},listen:function(){if(!this.$element.attr("readonly")){var b=(navigator.userAgent.match(/msie/i)?"paste":"input")+".mask";this.$element.on("unmask",c.proxy(this.unmask,this)).on("focus.mask",c.proxy(this.focusEvent,this)).on("blur.mask",c.proxy(this.blurEvent,this)).on("keydown.mask",c.proxy(this.keydownEvent,this)).on("keypress.mask",c.proxy(this.keypressEvent,this)).on(b,c.proxy(this.pasteEvent,this))}},caret:function(b,c){if(0!==this.$element.length){if("number"==typeof b)return c="number"==typeof c?c:b,this.$element.each(function(){if(this.setSelectionRange)this.setSelectionRange(b,c);else if(this.createTextRange){var d=this.createTextRange();d.collapse(!0);d.moveEnd("character",c);d.moveStart("character",b);d.select()}});if(this.$element[0].setSelectionRange)b=this.$element[0].selectionStart,c=this.$element[0].selectionEnd;else if(document.selection&&document.selection.createRange){var h=document.selection.createRange();b=0-h.duplicate().moveStart("character",-1E5);c=b+h.text.length}return{begin:b,end:c}}},seekNext:function(b){for(var c=this.mask.length;++b<=c&&!this.tests[b];);return b},seekPrev:function(b){for(;0<=--b&&!this.tests[b];);return b},shiftL:function(b,c){var h=this.mask.length;if(!(0>b)){for(var d=b,m=this.seekNext(c);d<h;d++)if(this.tests[d]){if(m<h&&this.tests[d].test(this.buffer[m]))this.buffer[d]=this.buffer[m],this.buffer[m]=this.options.placeholder;else break;m=this.seekNext(m)}this.writeBuffer();this.caret(Math.max(this.firstNonMaskPos,b))}},shiftR:function(b){for(var c=this.mask.length,h=this.options.placeholder;b<c;b++)if(this.tests[b]){var d=this.seekNext(b),m=this.buffer[b];this.buffer[b]=h;if(d<c&&this.tests[d].test(m))h=m;else break}},unmask:function(){this.$element.unbind(".mask").removeData("inputmask")},focusEvent:function(){this.focusText=this.$element.val();var b=this.mask.length,e=this.checkVal();this.writeBuffer();var h=this,d=function(){e==b?h.caret(0,e):h.caret(e)};c.browser.msie?d():setTimeout(d,0)},blurEvent:function(){this.checkVal();this.$element.val()!=this.focusText&&this.$element.trigger("change")},keydownEvent:function(b){b=b.which;if(8==b||46==b||p&&127==b){var c=this.caret(),h=c.begin,c=c.end;0===c-h&&(h=46!=b?this.seekPrev(h):c=this.seekNext(h-1),c=46==b?this.seekNext(c):c);this.clearBuffer(h,c);this.shiftL(h,c-1);return!1}if(27==b)return this.$element.val(this.focusText),this.caret(0,this.checkVal()),!1},keypressEvent:function(b){var c=this.mask.length,h=b.which,d=this.caret();if(b.ctrlKey||b.altKey||b.metaKey||32>h)return!0;if(h)return 0!==d.end-d.begin&&(this.clearBuffer(d.begin,d.end),this.shiftL(d.begin,d.end-1)),b=this.seekNext(d.begin-1),b<c&&(c=String.fromCharCode(h),this.tests[b].test(c)&&(this.shiftR(b),this.buffer[b]=c,this.writeBuffer(),c=this.seekNext(b),this.caret(c))),!1},pasteEvent:function(){var b=this;setTimeout(function(){b.caret(b.checkVal(!0))},0)},clearBuffer:function(b,c){for(var h=this.mask.length,d=b;d<c&&d<h;d++)this.tests[d]&&(this.buffer[d]=this.options.placeholder)},writeBuffer:function(){return this.$element.val(this.buffer.join("")).val()},checkVal:function(b){for(var c=this.mask.length,h=this.$element.val(),d=-1,m=0,p=0;m<c;m++)if(this.tests[m]){for(this.buffer[m]=this.options.placeholder;p++<h.length;){var f=h.charAt(p-1);if(this.tests[m].test(f)){this.buffer[m]=f;d=m;break}}if(p>h.length)break}else this.buffer[m]==h.charAt(p)&&m!=this.partialPosition&&(p++,d=m);if(!b&&d+1<this.partialPosition)this.$element.val(""),this.clearBuffer(0,c);else if(b||d+1>=this.partialPosition)this.writeBuffer(),b||this.$element.val(this.$element.val().substring(0,d+1));return this.partialPosition?m:this.firstNonMaskPos}};c.fn.inputmask=function(b){return this.each(function(){var e=c(this);e.data("inputmask")||e.data("inputmask",new h(this,b))})};c.fn.inputmask.defaults={mask:"",placeholder:"_",definitions:{9:"[0-9]",a:"[A-Za-z]","?":"[A-Za-z0-9]","*":"."}};c.fn.inputmask.Constructor=h;c(document).on("focus.inputmask.data-api","[data-mask]",function(b){var e=c(this);e.data("inputmask")||(b.preventDefault(),e.inputmask(e.data()))})}(window.jQuery);(function(){var c=[].slice;(function(p,b){var h;h=function(){function c(b,h){null==h&&(h={});this.$element=p(b);this.options=p.extend({},p.fn.bootstrapSwitch.defaults,{state:this.$element.is(":checked"),size:this.$element.data("size"),animate:this.$element.data("animate"),disabled:this.$element.is(":disabled"),readonly:this.$element.is("[readonly]"),indeterminate:this.$element.data("indeterminate"),inverse:this.$element.data("inverse"),radioAllOff:this.$element.data("radio-all-off"),onColor:this.$element.data("on-color"),offColor:this.$element.data("off-color"),onText:this.$element.data("on-text"),offText:this.$element.data("off-text"),labelText:this.$element.data("label-text"),handleWidth:this.$element.data("handle-width"),labelWidth:this.$element.data("label-width"),baseClass:this.$element.data("base-class"),wrapperClass:this.$element.data("wrapper-class")},h);this.prevOptions={};this.$wrapper=p("\x3cdiv\x3e",{"class":function(b){return function(){var c;c=[""+b.options.baseClass].concat(b._getClasses(b.options.wrapperClass));c.push(b.options.state?b.options.baseClass+"-on":b.options.baseClass+"-off");null!=b.options.size&&c.push(b.options.baseClass+"-"+b.options.size);b.options.disabled&&c.push(b.options.baseClass+"-disabled");b.options.readonly&&c.push(b.options.baseClass+"-readonly");b.options.indeterminate&&c.push(b.options.baseClass+"-indeterminate");b.options.inverse&&c.push(b.options.baseClass+"-inverse");b.$element.attr("id")&&c.push(b.options.baseClass+"-id-"+b.$element.attr("id"));return c.join(" ")}}(this)()});this.$container=p("\x3cdiv\x3e",{"class":this.options.baseClass+"-container"});this.$on=p("\x3cspan\x3e",{html:this.options.onText,"class":this.options.baseClass+"-handle-on "+this.options.baseClass+"-"+this.options.onColor});this.$off=p("\x3cspan\x3e",{html:this.options.offText,"class":this.options.baseClass+"-handle-off "+this.options.baseClass+"-"+this.options.offColor});this.$label=p("\x3cspan\x3e",{html:this.options.labelText,"class":this.options.baseClass+"-label"});this.$element.on("init.bootstrapSwitch",function(c){return function(){return c.options.onInit.apply(b,arguments)}}(this));this.$element.on("switchChange.bootstrapSwitch",function(c){return function(h){if(!1===c.options.onSwitchChange.apply(b,arguments))return c.$element.is(":radio")?p("[name\x3d'"+c.$element.attr("name")+"']").trigger("previousState.bootstrapSwitch",!0):c.$element.trigger("previousState.bootstrapSwitch",!0)}}(this));this.$container=this.$element.wrap(this.$container).parent();this.$wrapper=this.$container.wrap(this.$wrapper).parent();this.$element.before(this.options.inverse?this.$off:this.$on).before(this.$label).before(this.options.inverse?this.$on:this.$off);this.options.indeterminate&&this.$element.prop("indeterminate",!0);this._init();this._elementHandlers();this._handleHandlers();this._labelHandlers();this._formHandler();this._externalLabelHandler();this.$element.trigger("init.bootstrapSwitch",this.options.state)}c.prototype._constructor=c;c.prototype.setPrevOptions=function(){return this.prevOptions=p.extend(!0,{},this.options)};c.prototype.state=function(b,c){if("undefined"===typeof b)return this.options.state;if(this.options.disabled||this.options.readonly||this.options.state&&!this.options.radioAllOff&&this.$element.is(":radio"))return this.$element;this.$element.is(":radio")?p("[name\x3d'"+this.$element.attr("name")+"']").trigger("setPreviousOptions.bootstrapSwitch"):this.$element.trigger("setPreviousOptions.bootstrapSwitch");this.options.indeterminate&&this.indeterminate(!1);this.$element.prop("checked",!!b).trigger("change.bootstrapSwitch",c);return this.$element};c.prototype.toggleState=function(b){return this.options.disabled||this.options.readonly?this.$element:this.options.indeterminate?(this.indeterminate(!1),this.state(!0)):this.$element.prop("checked",!this.options.state).trigger("change.bootstrapSwitch",b)};c.prototype.size=function(b){if("undefined"===typeof b)return this.options.size;null!=this.options.size&&this.$wrapper.removeClass(this.options.baseClass+"-"+this.options.size);b&&this.$wrapper.addClass(this.options.baseClass+"-"+b);this._width();this._containerPosition();this.options.size=b;return this.$element};c.prototype.animate=function(b){return"undefined"===typeof b?this.options.animate:!!b===this.options.animate?this.$element:this.toggleAnimate()};c.prototype.toggleAnimate=function(){this.options.animate=!this.options.animate;this.$wrapper.toggleClass(this.options.baseClass+"-animate");return this.$element};c.prototype.disabled=function(b){return"undefined"===typeof b?this.options.disabled:!!b===this.options.disabled?this.$element:this.toggleDisabled()};c.prototype.toggleDisabled=function(){this.options.disabled=!this.options.disabled;this.$element.prop("disabled",this.options.disabled);this.$wrapper.toggleClass(this.options.baseClass+"-disabled");return this.$element};c.prototype.readonly=function(b){return"undefined"===typeof b?this.options.readonly:!!b===this.options.readonly?this.$element:this.toggleReadonly()};c.prototype.toggleReadonly=function(){this.options.readonly=!this.options.readonly;this.$element.prop("readonly",this.options.readonly);this.$wrapper.toggleClass(this.options.baseClass+"-readonly");return this.$element};c.prototype.indeterminate=function(b){return"undefined"===typeof b?this.options.indeterminate:!!b===this.options.indeterminate?this.$element:this.toggleIndeterminate()};c.prototype.toggleIndeterminate=function(){this.options.indeterminate=!this.options.indeterminate;this.$element.prop("indeterminate",this.options.indeterminate);this.$wrapper.toggleClass(this.options.baseClass+"-indeterminate");this._containerPosition();return this.$element};c.prototype.inverse=function(b){return"undefined"===typeof b?this.options.inverse:!!b===this.options.inverse?this.$element:this.toggleInverse()};c.prototype.toggleInverse=function(){var b,c;this.$wrapper.toggleClass(this.options.baseClass+"-inverse");c=this.$on.clone(!0);b=this.$off.clone(!0);this.$on.replaceWith(b);this.$off.replaceWith(c);this.$on=b;this.$off=c;this.options.inverse=!this.options.inverse;return this.$element};c.prototype.onColor=function(b){var c;c=this.options.onColor;if("undefined"===typeof b)return c;null!=c&&this.$on.removeClass(this.options.baseClass+"-"+c);this.$on.addClass(this.options.baseClass+"-"+b);this.options.onColor=b;return this.$element};c.prototype.offColor=function(b){var c;c=this.options.offColor;if("undefined"===typeof b)return c;null!=c&&this.$off.removeClass(this.options.baseClass+"-"+c);this.$off.addClass(this.options.baseClass+"-"+b);this.options.offColor=b;return this.$element};c.prototype.onText=function(b){if("undefined"===typeof b)return this.options.onText;this.$on.html(b);this._width();this._containerPosition();this.options.onText=b;return this.$element};c.prototype.offText=function(b){if("undefined"===typeof b)return this.options.offText;this.$off.html(b);this._width();this._containerPosition();this.options.offText=b;return this.$element};c.prototype.labelText=function(b){if("undefined"===typeof b)return this.options.labelText;this.$label.html(b);this._width();this.options.labelText=b;return this.$element};c.prototype.handleWidth=function(b){if("undefined"===typeof b)return this.options.handleWidth;this.options.handleWidth=b;this._width();this._containerPosition();return this.$element};c.prototype.labelWidth=function(b){if("undefined"===typeof b)return this.options.labelWidth;this.options.labelWidth=b;this._width();this._containerPosition();return this.$element};c.prototype.baseClass=function(b){return this.options.baseClass};c.prototype.wrapperClass=function(b){if("undefined"===typeof b)return this.options.wrapperClass;b||(b=p.fn.bootstrapSwitch.defaults.wrapperClass);this.$wrapper.removeClass(this._getClasses(this.options.wrapperClass).join(" "));this.$wrapper.addClass(this._getClasses(b).join(" "));this.options.wrapperClass=b;return this.$element};c.prototype.radioAllOff=function(b){if("undefined"===typeof b)return this.options.radioAllOff;b=!!b;if(b===this.options.radioAllOff)return this.$element;this.options.radioAllOff=b;return this.$element};c.prototype.onInit=function(b){if("undefined"===typeof b)return this.options.onInit;b||(b=p.fn.bootstrapSwitch.defaults.onInit);this.options.onInit=b;return this.$element};c.prototype.onSwitchChange=function(b){if("undefined"===typeof b)return this.options.onSwitchChange;b||(b=p.fn.bootstrapSwitch.defaults.onSwitchChange);this.options.onSwitchChange=b;return this.$element};c.prototype.destroy=function(){var b;b=this.$element.closest("form");b.length&&b.off("reset.bootstrapSwitch").removeData("bootstrap-switch");this.$container.children().not(this.$element).remove();this.$element.unwrap().unwrap().off(".bootstrapSwitch").removeData("bootstrap-switch");return this.$element};c.prototype._width=function(){var b,c;b=this.$on.add(this.$off);b.add(this.$label).css("width","");c="auto"===this.options.handleWidth?Math.max(this.$on.width(),this.$off.width()):this.options.handleWidth;b.width(c);this.$label.width(function(b){return function(e,h){return"auto"!==b.options.labelWidth?b.options.labelWidth:h<c?c:h}}(this));this._handleWidth=this.$on.outerWidth();this._labelWidth=this.$label.outerWidth();this.$container.width(2*this._handleWidth+this._labelWidth);return this.$wrapper.width(this._handleWidth+this._labelWidth)};c.prototype._containerPosition=function(b,c){null==b&&(b=this.options.state);this.$container.css("margin-left",function(c){return function(){var h;h=[0,"-"+c._handleWidth+"px"];return c.options.indeterminate?"-"+c._handleWidth/2+"px":b?c.options.inverse?h[1]:h[0]:c.options.inverse?h[0]:h[1]}}(this));if(c)return setTimeout(function(){return c()},50)};c.prototype._init=function(){var c,h;c=function(b){return function(){b.setPrevOptions();b._width();return b._containerPosition(null,function(){if(b.options.animate)return b.$wrapper.addClass(b.options.baseClass+"-animate")})}}(this);return this.$wrapper.is(":visible")?c():h=b.setInterval(function(d){return function(){if(d.$wrapper.is(":visible"))return c(),b.clearInterval(h)}}(this),50)};c.prototype._elementHandlers=function(){return this.$element.on({"setPreviousOptions.bootstrapSwitch":function(b){return function(c){return b.setPrevOptions()}}(this),"previousState.bootstrapSwitch":function(b){return function(c){b.options=b.prevOptions;b.options.indeterminate&&b.$wrapper.addClass(b.options.baseClass+"-indeterminate");return b.$element.prop("checked",b.options.state).trigger("change.bootstrapSwitch",!0)}}(this),"change.bootstrapSwitch":function(b){return function(c,d){var h;c.preventDefault();c.stopImmediatePropagation();h=b.$element.is(":checked");b._containerPosition(h);if(h!==b.options.state&&(b.options.state=h,b.$wrapper.toggleClass(b.options.baseClass+"-off").toggleClass(b.options.baseClass+"-on"),!d))return b.$element.is(":radio")&&p("[name\x3d'"+b.$element.attr("name")+"']").not(b.$element).prop("checked",!1).trigger("change.bootstrapSwitch",!0),b.$element.trigger("switchChange.bootstrapSwitch",[h])}}(this),"focus.bootstrapSwitch":function(b){return function(c){c.preventDefault();return b.$wrapper.addClass(b.options.baseClass+"-focused")}}(this),"blur.bootstrapSwitch":function(b){return function(c){c.preventDefault();return b.$wrapper.removeClass(b.options.baseClass+"-focused")}}(this),"keydown.bootstrapSwitch":function(b){return function(c){if(c.which&&!b.options.disabled&&!b.options.readonly)switch(c.which){case 37:return c.preventDefault(),c.stopImmediatePropagation(),b.state(!1);case 39:return c.preventDefault(),c.stopImmediatePropagation(),b.state(!0)}}}(this)})};c.prototype._handleHandlers=function(){this.$on.on("click.bootstrapSwitch",function(b){return function(c){c.preventDefault();c.stopPropagation();b.state(!1);return b.$element.trigger("focus.bootstrapSwitch")}}(this));return this.$off.on("click.bootstrapSwitch",function(b){return function(c){c.preventDefault();c.stopPropagation();b.state(!0);return b.$element.trigger("focus.bootstrapSwitch")}}(this))};c.prototype._labelHandlers=function(){return this.$label.on({click:function(b){return b.stopPropagation()},"mousedown.bootstrapSwitch touchstart.bootstrapSwitch":function(b){return function(c){if(!(b._dragStart||b.options.disabled||b.options.readonly))return c.preventDefault(),c.stopPropagation(),b._dragStart=(c.pageX||c.originalEvent.touches[0].pageX)-parseInt(b.$container.css("margin-left"),10),b.options.animate&&b.$wrapper.removeClass(b.options.baseClass+"-animate"),b.$element.trigger("focus.bootstrapSwitch")}}(this),"mousemove.bootstrapSwitch touchmove.bootstrapSwitch":function(b){return function(c){if(null!=b._dragStart&&(c.preventDefault(),c=(c.pageX||c.originalEvent.touches[0].pageX)-b._dragStart,!(c<-b._handleWidth||0<c)))return b._dragEnd=c,b.$container.css("margin-left",b._dragEnd+"px")}}(this),"mouseup.bootstrapSwitch touchend.bootstrapSwitch":function(b){return function(c){if(b._dragStart)return c.preventDefault(),b.options.animate&&b.$wrapper.addClass(b.options.baseClass+"-animate"),b._dragEnd?(c=b._dragEnd>-(b._handleWidth/2),b._dragEnd=!1,b.state(b.options.inverse?!c:c)):b.state(!b.options.state),b._dragStart=!1}}(this),"mouseleave.bootstrapSwitch":function(b){return function(c){return b.$label.trigger("mouseup.bootstrapSwitch")}}(this)})};c.prototype._externalLabelHandler=function(){var b;b=this.$element.closest("label");return b.on("click",function(c){return function(d){d.preventDefault();d.stopImmediatePropagation();if(d.target===b[0])return c.toggleState()}}(this))};c.prototype._formHandler=function(){var c;c=this.$element.closest("form");if(!c.data("bootstrap-switch"))return c.on("reset.bootstrapSwitch",function(){return b.setTimeout(function(){return c.find("input").filter(function(){return p(this).data("bootstrap-switch")}).each(function(){return p(this).bootstrapSwitch("state",this.checked)})},1)}).data("bootstrap-switch",!0)};c.prototype._getClasses=function(b){var c,d,h,l;if(!p.isArray(b))return[this.options.baseClass+"-"+b];d=[];h=0;for(l=b.length;h<l;h++)c=b[h],d.push(this.options.baseClass+"-"+c);return d};return c}();p.fn.bootstrapSwitch=function(){var b,e,n;e=arguments[0];b=2<=arguments.length?c.call(arguments,1):[];n=this;this.each(function(){var c,m;c=p(this);(m=c.data("bootstrap-switch"))||c.data("bootstrap-switch",m=new h(this,e));if("string"===typeof e)return n=m[e].apply(m,b)});return n};p.fn.bootstrapSwitch.Constructor=h;return p.fn.bootstrapSwitch.defaults={state:!0,size:null,animate:!0,disabled:!1,readonly:!1,indeterminate:!1,inverse:!1,radioAllOff:!1,onColor:"primary",offColor:"default",onText:"ON",offText:"OFF",labelText:"\x26nbsp;",handleWidth:"auto",labelWidth:"auto",baseClass:"bootstrap-switch",wrapperClass:"wrapper",onInit:function(){},onSwitchChange:function(){}}})(window.jQuery,window)}).call(this);(function(c,p,b,h){var l=function(b,h){this.$element=c(b);this._element=b;this._elementId=this._element.id;this._styleId=this._elementId+"-style";this.tree=[];this.nodes=[];this.selectedNode={};this._init(h)};l.defaults={injectStyle:!0,levels:2,expandIcon:"glyphicon glyphicon-plus",collapseIcon:"glyphicon glyphicon-minus",nodeIcon:"glyphicon glyphicon-stop",color:h,backColor:h,borderColor:h,onhoverColor:"#F5F5F5",selectedColor:"#FFFFFF",selectedBackColor:"#428bca",enableLinks:!1,highlightSelected:!0,showBorder:!0,showTags:!1,onNodeSelected:h};l.prototype={remove:function(){this._destroy();c.removeData(this,"plugin_treeview");c("#"+this._styleId).remove()},_destroy:function(){this.initialized&&(this.$wrapper.remove(),this.$wrapper=null,this._unsubscribeEvents());this.initialized=!1},_init:function(b){b.data&&("string"===typeof b.data&&(b.data=c.parseJSON(b.data)),this.tree=c.extend(!0,[],b.data),delete b.data);this.options=c.extend({},l.defaults,b);this._setInitialLevels(this.tree,0);this._destroy();this._subscribeEvents();this._render()},_unsubscribeEvents:function(){this.$element.off("click")},_subscribeEvents:function(){this._unsubscribeEvents();this.$element.on("click",c.proxy(this._clickHandler,this));if("function"===typeof this.options.onNodeSelected)this.$element.on("nodeSelected",this.options.onNodeSelected)},_clickHandler:function(b){this.options.enableLinks||b.preventDefault();var h=c(b.target);b=h.attr("class")?h.attr("class").split(" "):[];h=this._findNode(h);-1!=b.indexOf("click-expand")||-1!=b.indexOf("click-collapse")?(this._toggleNodes(h),this._render()):h&&this._setSelectedNode(h)},_findNode:function(b){b=b.closest("li.list-group-item").attr("data-nodeid");(b=this.nodes[b])||console.log("Error: node does not exist");return b},_triggerNodeSelectedEvent:function(b){this.$element.trigger("nodeSelected",[c.extend(!0,{},b)])},_setSelectedNode:function(b){b&&(b===this.selectedNode?this.selectedNode={}:this._triggerNodeSelectedEvent(this.selectedNode=b),this._render())},_setInitialLevels:function(b,l){if(b){l+=1;var d=this;c.each(b,function(b,c){l>=d.options.levels&&d._toggleNodes(c);var e=c.nodes?c.nodes:c._nodes?c._nodes:h;if(e)return d._setInitialLevels(e,l)})}},_toggleNodes:function(b){if(b.nodes||b._nodes)b.nodes?(b._nodes=b.nodes,delete b.nodes):(b.nodes=b._nodes,delete b._nodes)},_render:function(){this.initialized||(this.$element.addClass("treeview"),this.$wrapper=c(this._template.list),this._injectStyle(),this.initialized=!0);this.$element.empty().append(this.$wrapper.empty());this.nodes=[];this._buildTree(this.tree,0)},_buildTree:function(b,h){if(b){h+=1;var d=this;c.each(b,function(b,e){e.nodeId=d.nodes.length;d.nodes.push(e);for(var f=c(d._template.item).addClass("node-"+d._elementId).addClass(e===d.selectedNode?"node-selected":"").attr("data-nodeid",e.nodeId).attr("style",d._buildStyleOverride(e)),k=0;k<h-1;k++)f.append(d._template.indent);e._nodes?f.append(c(d._template.iconWrapper).append(c(d._template.icon).addClass("click-expand").addClass(d.options.expandIcon))):e.nodes?f.append(c(d._template.iconWrapper).append(c(d._template.icon).addClass("click-collapse").addClass(d.options.collapseIcon))):f.append(c(d._template.iconWrapper).append(c(d._template.icon).addClass("glyphicon")));f.append(c(d._template.iconWrapper).append(c(d._template.icon).addClass(e.icon?e.icon:d.options.nodeIcon)));d.options.enableLinks?f.append(c(d._template.link).attr("href",e.href).append(e.text)):f.append(e.text);d.options.showTags&&e.tags&&c.each(e.tags,function(b,e){f.append(c(d._template.badge).append(e))});d.$wrapper.append(f);if(e.nodes)return d._buildTree(e.nodes,h)})}},_buildStyleOverride:function(b){var c="";this.options.highlightSelected&&b===this.selectedNode?c+="color:"+this.options.selectedColor+";":b.color&&(c+="color:"+b.color+";");this.options.highlightSelected&&b===this.selectedNode?c+="background-color:"+this.options.selectedBackColor+";":b.backColor&&(c+="background-color:"+b.backColor+";");return c},_injectStyle:function(){this.options.injectStyle&&!b.getElementById(this._styleId)&&c('\x3cstyle type\x3d"text/css" id\x3d"'+this._styleId+'"\x3e '+this._buildStyle()+" \x3c/style\x3e").appendTo("head")},_buildStyle:function(){var b=".node-"+this._elementId+"{";this.options.color&&(b+="color:"+this.options.color+";");this.options.backColor&&(b+="background-color:"+this.options.backColor+";");this.options.showBorder?this.options.borderColor&&(b+="border:1px solid "+this.options.borderColor+";"):b+="border:none;";b+="}";this.options.onhoverColor&&(b+=".node-"+this._elementId+":hover{background-color:"+this.options.onhoverColor+";}");return this._css+b},_template:{list:'\x3cul class\x3d"list-group"\x3e\x3c/ul\x3e',item:'\x3cli class\x3d"list-group-item"\x3e\x3c/li\x3e',indent:'\x3cspan class\x3d"indent"\x3e\x3c/span\x3e',iconWrapper:'\x3cspan class\x3d"icon"\x3e\x3c/span\x3e',icon:"\x3ci\x3e\x3c/i\x3e",link:'\x3ca href\x3d"#" style\x3d"color:inherit;"\x3e\x3c/a\x3e',badge:'\x3cspan class\x3d"badge"\x3e\x3c/span\x3e'},_css:".list-group-item{cursor:pointer;}span.indent{margin-left:10px;margin-right:10px}span.icon{margin-right:5px}"};c.fn.treeview=function(b,h){return this.each(function(){var d=c.data(this,"plugin_treeview");"string"===typeof b?d?c.isFunction(d[b])&&"_"!==b.charAt(0)?("string"===typeof h&&(h=[h]),d[b].apply(d,h)):p.console&&p.console.error("No such method : "+b):p.console&&p.console.error("Not initialized, can not call method : "+b):d?d._init(b):c.data(this,"plugin_treeview",new l(this,c.extend(!0,{},b)))})}})(jQuery,window,document);$(document).ready(function(){var c=window.location.hash.replace("#","");if(c&&$("."+c).length){var p=$("."+c).offset().top-40;window.Zepto?window.scrollTo(0,p):$(window).scrollTop($("."+c).offset().top-40)}$(".skin dt").click(function(){$(this).siblings().removeClass("selected").end().prev("dd").andSelf().addClass("selected")});$(".arrows .top, .arrows .bottom, .features .self, .skins-info .self, .usage .self").click(function(b){var c=$(this).data("to"),l=$("."+c).offset().top;b.preventDefault();window.location.hash=c;window.Zepto?window.scrollTo(0,l-40):$("html, body").stop().animate({scrollTop:l-40},600)});$(".colors li").click(function(){var b=$(this);if(!b.hasClass("active")){b.siblings().removeClass("active");var c=b.closest(".skin"),l=b.attr("class")?"-"+b.attr("class"):"",e=c.data("icheckbox"),n=c.data("iradio"),d="icheckbox_minimal",m="iradio_minimal";c.hasClass("skin-square")&&(d="icheckbox_square",m="iradio_square",void 0==e&&(e="icheckbox_square-green",n="iradio_square-green"));c.hasClass("skin-flat")&&(d="icheckbox_flat",m="iradio_flat",void 0==e&&(e="icheckbox_flat-red",n="iradio_flat-red"));c.hasClass("skin-line")&&(d="icheckbox_line",m="iradio_line",void 0==e&&(e="icheckbox_line-blue",n="iradio_line-blue"));void 0==e&&(e=d,n=m);c.find("input, .skin-states .state").each(function(){var b=$(this).hasClass("state")?$(this):$(this).parent(),c=b.attr("class").replace(e,d+l).replace(n,m+l);b.attr("class",c)});c.data("icheckbox",d+l);c.data("iradio",m+l);b.addClass("active")}});$(".demo-methods dt .self").click(function(){var b=$(this);switch(b.attr("class").replace("self ","")){case "do-check":$("#input-1, #input-3").iCheck("check");break;case "do-uncheck":$("#input-1, #input-3").iCheck("uncheck");break;case "do-disable":$("#input-2, #input-4").iCheck("disable");break;case "do-enable":$("#input-2, #input-4").iCheck("enable");break;case "do-destroy":$(".demo-list input").iCheck("destroy");break;default:var c=b.hasClass("active")?"show code":"hide code";b.toggleClass("active").text(c);window.Zepto?$(this).closest("dt").next().toggle():$(this).closest("dt").next().slideToggle(200)}})});!function(c){"function"==typeof define&&define.amd?define(["./blueimp-helper"],c):(window.blueimp=window.blueimp||{},window.blueimp.Gallery=c(window.blueimp.helper||window.jQuery))}(function(c){function p(b,c){return void 0===document.body.style.maxHeight?null:this&&this.options===p.prototype.options?b&&b.length?(this.list=b,this.num=b.length,this.initOptions(c),void this.initialize()):void this.console.log("blueimp Gallery: No or empty list provided as first argument.",b):new p(b,c)}return c.extend(p.prototype,{options:{container:"#blueimp-gallery",slidesContainer:"div",titleElement:"h3",displayClass:"blueimp-gallery-display",controlsClass:"blueimp-gallery-controls",singleClass:"blueimp-gallery-single",leftEdgeClass:"blueimp-gallery-left",rightEdgeClass:"blueimp-gallery-right",playingClass:"blueimp-gallery-playing",slideClass:"slide",slideLoadingClass:"slide-loading",slideErrorClass:"slide-error",slideContentClass:"slide-content",toggleClass:"toggle",prevClass:"prev",nextClass:"next",closeClass:"close",playPauseClass:"play-pause",typeProperty:"type",titleProperty:"title",urlProperty:"href",displayTransition:!0,clearSlides:!0,stretchImages:!1,toggleControlsOnReturn:!0,toggleSlideshowOnSpace:!0,enableKeyboardNavigation:!0,closeOnEscape:!0,closeOnSlideClick:!0,closeOnSwipeUpOrDown:!0,emulateTouchEvents:!0,stopTouchEventsPropagation:!1,hidePageScrollbars:!0,disableScroll:!0,carousel:!1,continuous:!0,unloadElements:!0,startSlideshow:!1,slideshowInterval:5E3,index:0,preloadRange:2,transitionSpeed:400,slideshowTransitionSpeed:void 0,event:void 0,onopen:void 0,onopened:void 0,onslide:void 0,onslideend:void 0,onslidecomplete:void 0,onclose:void 0,onclosed:void 0},carouselOptions:{hidePageScrollbars:!1,toggleControlsOnReturn:!1,toggleSlideshowOnSpace:!1,enableKeyboardNavigation:!1,closeOnEscape:!1,closeOnSlideClick:!1,closeOnSwipeUpOrDown:!1,disableScroll:!1,startSlideshow:!0},console:window.console&&"function"==typeof window.console.log?window.console:{log:function(){}},support:function(b){var h={touch:void 0!==window.ontouchstart||window.DocumentTouch&&document instanceof DocumentTouch},l=function(){var c,l,d=h.transition;document.body.appendChild(b);d&&(c=d.name.slice(0,-9)+"ransform",void 0!==b.style[c]&&(b.style[c]="translateZ(0)",l=window.getComputedStyle(b).getPropertyValue(d.prefix+"transform"),h.transform={prefix:d.prefix,name:c,translate:!0,translateZ:!!l&&"none"!==l}));void 0!==b.style.backgroundSize&&(h.backgroundSize={},b.style.backgroundSize="contain",h.backgroundSize.contain="contain"===window.getComputedStyle(b).getPropertyValue("background-size"),b.style.backgroundSize="cover",h.backgroundSize.cover="cover"===window.getComputedStyle(b).getPropertyValue("background-size"));document.body.removeChild(b)};return function(c,h){for(var d in h)if(h.hasOwnProperty(d)&&void 0!==b.style[d]){c.transition=h[d];c.transition.name=d;break}}(h,{webkitTransition:{end:"webkitTransitionEnd",prefix:"-webkit-"},MozTransition:{end:"transitionend",prefix:"-moz-"},OTransition:{end:"otransitionend",prefix:"-o-"},transition:{end:"transitionend",prefix:""}}),document.body?l():c(document).on("DOMContentLoaded",l),h}(document.createElement("div")),requestAnimationFrame:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame,initialize:function(){return this.initStartIndex(),!1===this.initWidget()?!1:(this.initEventListeners(),this.onslide(this.index),this.ontransitionend(),void(this.options.startSlideshow&&this.play()))},slide:function(b,c){window.clearTimeout(this.timeout);var l,e,n=this.index;if(n!==b&&1!==this.num){if(c||(c=this.options.transitionSpeed),this.support.transform){this.options.continuous||(b=this.circle(b));l=Math.abs(n-b)/(n-b);this.options.continuous&&(e=l,l=-this.positions[this.circle(b)]/this.slideWidth,l!==e&&(b=-l*this.num+b));for(e=Math.abs(n-b)-1;e;)--e,this.move(this.circle((b>n?b:n)-e-1),this.slideWidth*l,0);b=this.circle(b);this.move(n,this.slideWidth*l,c);this.move(b,0,c);this.options.continuous&&this.move(this.circle(b-l),-(this.slideWidth*l),0)}else b=this.circle(b),this.animate(n*-this.slideWidth,b*-this.slideWidth,c);this.onslide(b)}},getIndex:function(){return this.index},getNumber:function(){return this.num},prev:function(){(this.options.continuous||this.index)&&this.slide(this.index-1)},next:function(){(this.options.continuous||this.index<this.num-1)&&this.slide(this.index+1)},play:function(b){var c=this;window.clearTimeout(this.timeout);this.interval=b||this.options.slideshowInterval;1<this.elements[this.index]&&(this.timeout=this.setTimeout(!this.requestAnimationFrame&&this.slide||function(b,e){c.animationFrameId=c.requestAnimationFrame.call(window,function(){c.slide(b,e)})},[this.index+1,this.options.slideshowTransitionSpeed],this.interval));this.container.addClass(this.options.playingClass)},pause:function(){window.clearTimeout(this.timeout);this.interval=null;this.container.removeClass(this.options.playingClass)},add:function(b){b.concat||(b=Array.prototype.slice.call(b));this.list.concat||(this.list=Array.prototype.slice.call(this.list));this.list=this.list.concat(b);this.num=this.list.length;2<this.num&&null===this.options.continuous&&(this.options.continuous=!0,this.container.removeClass(this.options.leftEdgeClass));this.container.removeClass(this.options.rightEdgeClass).removeClass(this.options.singleClass);for(b=this.num-b.length;b<this.num;b+=1)this.addSlide(b),this.positionSlide(b);this.positions.length=this.num;this.initSlides(!0)},resetSlides:function(){this.slidesContainer.empty();this.unloadAllSlides();this.slides=[]},handleClose:function(){var b=this.options;this.destroyEventListeners();this.pause();this.container[0].style.display="none";this.container.removeClass(b.displayClass).removeClass(b.singleClass).removeClass(b.leftEdgeClass).removeClass(b.rightEdgeClass);b.hidePageScrollbars&&(document.body.style.overflow=this.bodyOverflowStyle);this.options.clearSlides&&this.resetSlides();this.options.onclosed&&this.options.onclosed.call(this)},close:function(){var b=this,c=function(l){l.target===b.container[0]&&(b.container.off(b.support.transition.end,c),b.handleClose())};this.options.onclose&&this.options.onclose.call(this);this.support.transition&&this.options.displayTransition?(this.container.on(this.support.transition.end,c),this.container.removeClass(this.options.displayClass)):this.handleClose()},circle:function(b){return(this.num+b%this.num)%this.num},move:function(b,c,l){this.translateX(b,c,l);this.positions[b]=c},translate:function(b,c,l,e){b=this.slides[b].style;var n=this.support.transform;b[this.support.transition.name+"Duration"]=e+"ms";b[n.name]="translate("+c+"px, "+l+"px)"+(n.translateZ?" translateZ(0)":"")},translateX:function(b,c,l){this.translate(b,c,0,l)},translateY:function(b,c,l){this.translate(b,0,c,l)},animate:function(b,c,l){if(!l)return void(this.slidesContainer[0].style.left=c+"px");var e=this,n=(new Date).getTime(),d=window.setInterval(function(){var m=(new Date).getTime()-n;return m>l?(e.slidesContainer[0].style.left=c+"px",e.ontransitionend(),void window.clearInterval(d)):void(e.slidesContainer[0].style.left=Math.floor(m/l*100)/100*(c-b)+b+"px")},4)},preventDefault:function(b){b.preventDefault?b.preventDefault():b.returnValue=!1},stopPropagation:function(b){b.stopPropagation?b.stopPropagation():b.cancelBubble=!0},onresize:function(){this.initSlides(!0)},onmousedown:function(b){b.which&&1===b.which&&"VIDEO"!==b.target.nodeName&&(b.preventDefault(),(b.originalEvent||b).touches=[{pageX:b.pageX,pageY:b.pageY}],this.ontouchstart(b))},onmousemove:function(b){this.touchStart&&((b.originalEvent||b).touches=[{pageX:b.pageX,pageY:b.pageY}],this.ontouchmove(b))},onmouseup:function(b){this.touchStart&&(this.ontouchend(b),delete this.touchStart)},onmouseout:function(b){if(this.touchStart){var h=b.target,l=b.relatedTarget;l&&(l===h||c.contains(h,l))||this.onmouseup(b)}},ontouchstart:function(b){this.options.stopTouchEventsPropagation&&this.stopPropagation(b);b=(b.originalEvent||b).touches[0];this.touchStart={x:b.pageX,y:b.pageY,time:Date.now()};this.isScrolling=void 0;this.touchDelta={}},ontouchmove:function(b){this.options.stopTouchEventsPropagation&&this.stopPropagation(b);var c,l,e=(b.originalEvent||b).touches[0],n=(b.originalEvent||b).scale,d=this.index;if(!(1<e.length||n&&1!==n))if(this.options.disableScroll&&b.preventDefault(),this.touchDelta={x:e.pageX-this.touchStart.x,y:e.pageY-this.touchStart.y},c=this.touchDelta.x,void 0===this.isScrolling&&(this.isScrolling=this.isScrolling||Math.abs(c)<Math.abs(this.touchDelta.y)),this.isScrolling)this.options.closeOnSwipeUpOrDown&&this.translateY(d,this.touchDelta.y+this.positions[d],0);else for(b.preventDefault(),window.clearTimeout(this.timeout),this.options.continuous?l=[this.circle(d+1),d,this.circle(d-1)]:(this.touchDelta.x=c/=!d&&0<c||d===this.num-1&&0>c?Math.abs(c)/this.slideWidth+1:1,l=[d],d&&l.push(d-1),d<this.num-1&&l.unshift(d+1));l.length;)d=l.pop(),this.translateX(d,c+this.positions[d],0)},ontouchend:function(b){this.options.stopTouchEventsPropagation&&this.stopPropagation(b);var c,l,e,n,d;b=this.index;var m=this.options.transitionSpeed,p=this.slideWidth,f=(c=250>Number(Date.now()-this.touchStart.time))&&20<Math.abs(this.touchDelta.x)||Math.abs(this.touchDelta.x)>p/2,k=!b&&0<this.touchDelta.x||b===this.num-1&&0>this.touchDelta.x,u=!f&&this.options.closeOnSwipeUpOrDown&&(c&&20<Math.abs(this.touchDelta.y)||Math.abs(this.touchDelta.y)>this.slideHeight/2);this.options.continuous&&(k=!1);c=0>this.touchDelta.x?-1:1;this.isScrolling?u?this.close():this.translateY(b,0,m):f&&!k?(l=b+c,e=b-c,n=p*c,d=-p*c,this.options.continuous?(this.move(this.circle(l),n,0),this.move(this.circle(b-2*c),d,0)):0<=l&&l<this.num&&this.move(l,n,0),this.move(b,this.positions[b]+n,m),this.move(this.circle(e),this.positions[this.circle(e)]+n,m),b=this.circle(e),this.onslide(b)):this.options.continuous?(this.move(this.circle(b-1),-p,m),this.move(b,0,m),this.move(this.circle(b+1),p,m)):(b&&this.move(b-1,-p,m),this.move(b,0,m),b<this.num-1&&this.move(b+1,p,m))},ontouchcancel:function(b){this.touchStart&&(this.ontouchend(b),delete this.touchStart)},ontransitionend:function(b){var c=this.slides[this.index];b&&c!==b.target||(this.interval&&this.play(),this.setTimeout(this.options.onslideend,[this.index,c]))},oncomplete:function(b){var h,l=b.target||b.srcElement,e=l&&l.parentNode;l&&e&&(h=this.getNodeIndex(e),c(e).removeClass(this.options.slideLoadingClass),"error"===b.type?(c(e).addClass(this.options.slideErrorClass),this.elements[h]=3):this.elements[h]=2,l.clientHeight>this.container[0].clientHeight&&(l.style.maxHeight=this.container[0].clientHeight),this.interval&&this.slides[this.index]===e&&this.play(),this.setTimeout(this.options.onslidecomplete,[h,e]))},onload:function(b){this.oncomplete(b)},onerror:function(b){this.oncomplete(b)},onkeydown:function(b){switch(b.which||b.keyCode){case 13:this.options.toggleControlsOnReturn&&(this.preventDefault(b),this.toggleControls());break;case 27:this.options.closeOnEscape&&(this.close(),b.stopImmediatePropagation());break;case 32:this.options.toggleSlideshowOnSpace&&(this.preventDefault(b),this.toggleSlideshow());break;case 37:this.options.enableKeyboardNavigation&&(this.preventDefault(b),this.prev());break;case 39:this.options.enableKeyboardNavigation&&(this.preventDefault(b),this.next())}},handleClick:function(b){var h=this.options,l=b.target||b.srcElement,e=l.parentNode,n=function(b){return c(l).hasClass(b)||c(e).hasClass(b)};n(h.toggleClass)?(this.preventDefault(b),this.toggleControls()):n(h.prevClass)?(this.preventDefault(b),this.prev()):n(h.nextClass)?(this.preventDefault(b),this.next()):n(h.closeClass)?(this.preventDefault(b),this.close()):n(h.playPauseClass)?(this.preventDefault(b),this.toggleSlideshow()):e===this.slidesContainer[0]?(this.preventDefault(b),h.closeOnSlideClick?this.close():this.toggleControls()):e.parentNode&&e.parentNode===this.slidesContainer[0]&&(this.preventDefault(b),this.toggleControls())},onclick:function(b){return this.options.emulateTouchEvents&&this.touchDelta&&(20<Math.abs(this.touchDelta.x)||20<Math.abs(this.touchDelta.y))?void delete this.touchDelta:this.handleClick(b)},updateEdgeClasses:function(b){b?this.container.removeClass(this.options.leftEdgeClass):this.container.addClass(this.options.leftEdgeClass);b===this.num-1?this.container.addClass(this.options.rightEdgeClass):this.container.removeClass(this.options.rightEdgeClass)},handleSlide:function(b){this.options.continuous||this.updateEdgeClasses(b);this.loadElements(b);this.options.unloadElements&&this.unloadElements(b);this.setTitle(b)},onslide:function(b){this.index=b;this.handleSlide(b);this.setTimeout(this.options.onslide,[b,this.slides[b]])},setTitle:function(b){b=this.slides[b].firstChild.title;var c=this.titleElement;c.length&&(this.titleElement.empty(),b&&c[0].appendChild(document.createTextNode(b)))},setTimeout:function(b,c,l){var e=this;return b&&window.setTimeout(function(){b.apply(e,c||[])},l||0)},imageFactory:function(b,h){var l,e,n,d=this,m=this.imagePrototype.cloneNode(!1),p=b,f=this.options.stretchImages,k=function(b){if(!l){if(b={type:b.type,target:e},!e.parentNode)return d.setTimeout(k,[b]);l=!0;c(m).off("load error",k);f&&"load"===b.type&&(e.style.background='url("'+p+'") center no-repeat',e.style.backgroundSize=f);h(b)}};return"string"!=typeof p&&(p=this.getItemProperty(b,this.options.urlProperty),n=this.getItemProperty(b,this.options.titleProperty)),!0===f&&(f="contain"),f=this.support.backgroundSize&&this.support.backgroundSize[f]&&f,f?e=this.elementPrototype.cloneNode(!1):(e=m,m.draggable=!1),n&&(e.title=n),c(m).on("load error",k),m.src=p,e},createElement:function(b,h){var l=b&&this.getItemProperty(b,this.options.typeProperty),l=l&&this[l.split("/")[0]+"Factory"]||this.imageFactory,l=b&&l.call(this,b,h);return l||(l=this.elementPrototype.cloneNode(!1),this.setTimeout(h,[{type:"error",target:l}])),c(l).addClass(this.options.slideContentClass),l},loadElement:function(b){this.elements[b]||(this.slides[b].firstChild?this.elements[b]=c(this.slides[b]).hasClass(this.options.slideErrorClass)?3:2:(this.elements[b]=1,c(this.slides[b]).addClass(this.options.slideLoadingClass),this.slides[b].appendChild(this.createElement(this.list[b],this.proxyListener))))},loadElements:function(b){var c=Math.min(this.num,2*this.options.preloadRange+1),l=b;for(b=0;c>b;b+=1)l+=b*(0===b%2?-1:1),l=this.circle(l),this.loadElement(l)},unloadElements:function(b){var c,l;for(c in this.elements)this.elements.hasOwnProperty(c)&&(l=Math.abs(b-c),l>this.options.preloadRange&&l+this.options.preloadRange<this.num&&(this.unloadSlide(c),delete this.elements[c]))},addSlide:function(b){var c=this.slidePrototype.cloneNode(!1);c.setAttribute("data-index",b);this.slidesContainer[0].appendChild(c);this.slides.push(c)},positionSlide:function(b){var c=this.slides[b];c.style.width=this.slideWidth+"px";this.support.transform&&(c.style.left=b*-this.slideWidth+"px",this.move(b,this.index>b?-this.slideWidth:this.index<b?this.slideWidth:0,0))},initSlides:function(b){var h;b||(this.positions=[],this.positions.length=this.num,this.elements={},this.imagePrototype=document.createElement("img"),this.elementPrototype=document.createElement("div"),this.slidePrototype=document.createElement("div"),c(this.slidePrototype).addClass(this.options.slideClass),this.slides=this.slidesContainer[0].children,h=this.options.clearSlides||this.slides.length!==this.num);this.slideWidth=this.container[0].offsetWidth;this.slideHeight=this.container[0].offsetHeight;this.slidesContainer[0].style.width=this.num*this.slideWidth+"px";h&&this.resetSlides();for(b=0;b<this.num;b+=1)h&&this.addSlide(b),this.positionSlide(b);this.options.continuous&&this.support.transform&&(this.move(this.circle(this.index-1),-this.slideWidth,0),this.move(this.circle(this.index+1),this.slideWidth,0));this.support.transform||(this.slidesContainer[0].style.left=this.index*-this.slideWidth+"px")},unloadSlide:function(b){var c;b=this.slides[b];c=b.firstChild;null!==c&&b.removeChild(c)},unloadAllSlides:function(){var b,c;b=0;for(c=this.slides.length;c>b;b++)this.unloadSlide(b)},toggleControls:function(){var b=this.options.controlsClass;this.container.hasClass(b)?this.container.removeClass(b):this.container.addClass(b)},toggleSlideshow:function(){this.interval?this.pause():this.play()},getNodeIndex:function(b){return parseInt(b.getAttribute("data-index"),10)},getNestedProperty:function(b,c){return c.replace(/\[(?:'([^']+)'|"([^"]+)"|(\d+))\]|(?:(?:^|\.)([^\.\[]+))/g,function(c,e,h,d,m){e=m||e||h||d&&parseInt(d,10);c&&b&&(b=b[e])}),b},getDataProperty:function(b,h){if(b.getAttribute){var l=b.getAttribute("data-"+h.replace(/([A-Z])/g,"-$1").toLowerCase());if("string"==typeof l){if(/^(true|false|null|-?\d+(\.\d+)?|\{[\s\S]*\}|\[[\s\S]*\])$/.test(l))try{return c.parseJSON(l)}catch(e){}return l}}},getItemProperty:function(b,c){var l=b[c];return void 0===l&&(l=this.getDataProperty(b,c),void 0===l&&(l=this.getNestedProperty(b,c))),l},initStartIndex:function(){var b,c=this.options.index,l=this.options.urlProperty;if(c&&"number"!=typeof c)for(b=0;b<this.num;b+=1)if(this.list[b]===c||this.getItemProperty(this.list[b],l)===this.getItemProperty(c,l)){c=b;break}this.index=this.circle(parseInt(c,10)||0)},initEventListeners:function(){var b=this,h=this.slidesContainer,l=function(c){b["on"+(b.support.transition&&b.support.transition.end===c.type?"transitionend":c.type)](c)};c(window).on("resize",l);c(document.body).on("keydown",l);this.container.on("click",l);this.support.touch?h.on("touchstart touchmove touchend touchcancel",l):this.options.emulateTouchEvents&&this.support.transition&&h.on("mousedown mousemove mouseup mouseout",l);this.support.transition&&h.on(this.support.transition.end,l);this.proxyListener=l},destroyEventListeners:function(){var b=this.slidesContainer,h=this.proxyListener;c(window).off("resize",h);c(document.body).off("keydown",h);this.container.off("click",h);this.support.touch?b.off("touchstart touchmove touchend touchcancel",h):this.options.emulateTouchEvents&&this.support.transition&&b.off("mousedown mousemove mouseup mouseout",h);this.support.transition&&b.off(this.support.transition.end,h)},handleOpen:function(){this.options.onopened&&this.options.onopened.call(this)},initWidget:function(){var b=this,h=function(c){c.target===b.container[0]&&(b.container.off(b.support.transition.end,h),b.handleOpen())};return this.container=c(this.options.container),this.container.length?(this.slidesContainer=this.container.find(this.options.slidesContainer).first(),this.slidesContainer.length?(this.titleElement=this.container.find(this.options.titleElement).first(),1===this.num&&this.container.addClass(this.options.singleClass),this.options.onopen&&this.options.onopen.call(this),this.support.transition&&this.options.displayTransition?this.container.on(this.support.transition.end,h):this.handleOpen(),this.options.hidePageScrollbars&&(this.bodyOverflowStyle=document.body.style.overflow,document.body.style.overflow="hidden"),this.container[0].style.display="block",this.initSlides(),void this.container.addClass(this.options.displayClass)):(this.console.log("blueimp Gallery: Slides container not found.",this.options.slidesContainer),!1)):(this.console.log("blueimp Gallery: Widget container not found.",this.options.container),!1)},initOptions:function(b){this.options=c.extend({},this.options);(b&&b.carousel||this.options.carousel&&(!b||!1!==b.carousel))&&c.extend(this.options,this.carouselOptions);c.extend(this.options,b);3>this.num&&(this.options.continuous=this.options.continuous?null:!1);this.support.transition||(this.options.emulateTouchEvents=!1);this.options.event&&this.preventDefault(this.options.event)}}),p});(function(c){"function"==typeof define&&define.amd?define(["./blueimp-helper","./blueimp-gallery"],c):c(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)})(function(c,p){c.extend(p.prototype.options,{fullScreen:!1});var b=p.prototype.initialize,h=p.prototype.close;return c.extend(p.prototype,{getFullScreenElement:function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement},requestFullScreen:function(b){b.requestFullscreen?b.requestFullscreen():b.webkitRequestFullscreen?b.webkitRequestFullscreen():b.mozRequestFullScreen?b.mozRequestFullScreen():b.msRequestFullscreen&&b.msRequestFullscreen()},exitFullScreen:function(){document.exitFullscreen?document.exitFullscreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()},initialize:function(){b.call(this);this.options.fullScreen&&!this.getFullScreenElement()&&this.requestFullScreen(this.container[0])},close:function(){this.getFullScreenElement()===this.container[0]&&this.exitFullScreen();h.call(this)}}),p});(function(c){"function"==typeof define&&define.amd?define(["./blueimp-helper","./blueimp-gallery"],c):c(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)})(function(c,p){c.extend(p.prototype.options,{indicatorContainer:"ol",activeIndicatorClass:"active",thumbnailProperty:"thumbnail",thumbnailIndicators:!0});var b=p.prototype.initSlides,h=p.prototype.addSlide,l=p.prototype.resetSlides,e=p.prototype.handleClick,n=p.prototype.handleSlide,d=p.prototype.handleClose;return c.extend(p.prototype,{createIndicator:function(b){var d,e,h=this.indicatorPrototype.cloneNode(!1),l=this.getItemProperty(b,this.options.titleProperty),n=this.options.thumbnailProperty;return this.options.thumbnailIndicators&&(n&&(d=this.getItemProperty(b,n)),void 0===d&&(e=b.getElementsByTagName&&c(b).find("img")[0],e&&(d=e.src)),d&&(h.style.backgroundImage='url("'+d+'")')),l&&(h.title=l),h},addIndicator:function(b){if(this.indicatorContainer.length){var c=this.createIndicator(this.list[b]);c.setAttribute("data-index",b);this.indicatorContainer[0].appendChild(c);this.indicators.push(c)}},setActiveIndicator:function(b){this.indicators&&(this.activeIndicator&&this.activeIndicator.removeClass(this.options.activeIndicatorClass),this.activeIndicator=c(this.indicators[b]),this.activeIndicator.addClass(this.options.activeIndicatorClass))},initSlides:function(c){c||(this.indicatorContainer=this.container.find(this.options.indicatorContainer),this.indicatorContainer.length&&(this.indicatorPrototype=document.createElement("li"),this.indicators=this.indicatorContainer[0].children));b.call(this,c)},addSlide:function(b){h.call(this,b);this.addIndicator(b)},resetSlides:function(){l.call(this);this.indicatorContainer.empty();this.indicators=[]},handleClick:function(b){var c=b.target||b.srcElement,d=c.parentNode;if(d===this.indicatorContainer[0])this.preventDefault(b),this.slide(this.getNodeIndex(c));else{if(d.parentNode!==this.indicatorContainer[0])return e.call(this,b);this.preventDefault(b);this.slide(this.getNodeIndex(d))}},handleSlide:function(b){n.call(this,b);this.setActiveIndicator(b)},handleClose:function(){this.activeIndicator&&this.activeIndicator.removeClass(this.options.activeIndicatorClass);d.call(this)}}),p});(function(c){"function"==typeof define&&define.amd?define(["./blueimp-helper","./blueimp-gallery"],c):c(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)})(function(c,p){c.extend(p.prototype.options,{videoContentClass:"video-content",videoLoadingClass:"video-loading",videoPlayingClass:"video-playing",videoPosterProperty:"poster",videoSourcesProperty:"sources"});var b=p.prototype.handleSlide;return c.extend(p.prototype,{handleSlide:function(c){b.call(this,c);this.playingVideo&&this.playingVideo.pause()},videoFactory:function(b,l,e){var n,d,m,p,f,k=this,u=this.options,x=this.elementPrototype.cloneNode(!1),v=c(x),g=[{type:"error",target:x}],t=e||document.createElement("video"),w=this.getItemProperty(b,u.urlProperty),y=this.getItemProperty(b,u.typeProperty),z=this.getItemProperty(b,u.titleProperty),D=this.getItemProperty(b,u.videoPosterProperty);b=this.getItemProperty(b,u.videoSourcesProperty);if(v.addClass(u.videoContentClass),z&&(x.title=z),t.canPlayType)if(w&&y&&t.canPlayType(y))t.src=w;else for(;b&&b.length;)if(d=b.shift(),w=this.getItemProperty(d,u.urlProperty),y=this.getItemProperty(d,u.typeProperty),w&&y&&t.canPlayType(y)){t.src=w;break}return D&&(t.poster=D,n=this.imagePrototype.cloneNode(!1),c(n).addClass(u.toggleClass),n.src=D,n.draggable=!1,x.appendChild(n)),m=document.createElement("a"),m.setAttribute("target","_blank"),e||m.setAttribute("download",z),m.href=w,t.src&&(t.controls=!0,(e||c(t)).on("error",function(){k.setTimeout(l,g)}).on("pause",function(){p=!1;v.removeClass(k.options.videoLoadingClass).removeClass(k.options.videoPlayingClass);f&&k.container.addClass(k.options.controlsClass);delete k.playingVideo;k.interval&&k.play()}).on("playing",function(){p=!1;v.removeClass(k.options.videoLoadingClass).addClass(k.options.videoPlayingClass);k.container.hasClass(k.options.controlsClass)?(f=!0,k.container.removeClass(k.options.controlsClass)):f=!1}).on("play",function(){window.clearTimeout(k.timeout);p=!0;v.addClass(k.options.videoLoadingClass);k.playingVideo=t}),c(m).on("click",function(b){k.preventDefault(b);p?t.pause():t.play()}),x.appendChild(e&&e.element||t)),x.appendChild(m),this.setTimeout(l,[{type:"load",target:x}]),x}}),p});(function(c){"function"==typeof define&&define.amd?define(["./blueimp-helper","./blueimp-gallery-video"],c):c(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)})(function(c,p){if(!window.postMessage)return p;c.extend(p.prototype.options,{vimeoVideoIdProperty:"vimeo",vimeoPlayerUrl:"//player.vimeo.com/video/VIDEO_ID?api\x3d1\x26player_id\x3dPLAYER_ID",vimeoPlayerIdPrefix:"vimeo-player-",vimeoClickToPlay:!0});var b=p.prototype.textFactory||p.prototype.imageFactory,h=function(b,c,d,h){this.url=b;this.videoId=c;this.playerId=d;this.clickToPlay=h;this.element=document.createElement("div");this.listeners={}},l=0;return c.extend(h.prototype,{canPlayType:function(){return!0},on:function(b,c){return this.listeners[b]=c,this},loadAPI:function(){for(var b,h,d=this,l="//"+("https"===location.protocol?"secure-":"")+"a.vimeocdn.com/js/froogaloop2.min.js",p=document.getElementsByTagName("script"),f=p.length,k=function(){!h&&d.playOnReady&&d.play();h=!0};f;)if(--f,p[f].src===l){b=p[f];break}b||(b=document.createElement("script"),b.src=l);c(b).on("load",k);p[0].parentNode.insertBefore(b,p[0]);/loaded|complete/.test(b.readyState)&&k()},onReady:function(){var b=this;this.ready=!0;this.player.addEvent("play",function(){b.hasPlayed=!0;b.onPlaying()});this.player.addEvent("pause",function(){b.onPause()});this.player.addEvent("finish",function(){b.onPause()});this.playOnReady&&this.play()},onPlaying:function(){2>this.playStatus&&(this.listeners.playing(),this.playStatus=2)},onPause:function(){this.listeners.pause();delete this.playStatus},insertIframe:function(){var b=document.createElement("iframe");b.src=this.url.replace("VIDEO_ID",this.videoId).replace("PLAYER_ID",this.playerId);b.id=this.playerId;this.element.parentNode.replaceChild(b,this.element);this.element=b},play:function(){var b=this;this.playStatus||(this.listeners.play(),this.playStatus=1);this.ready?!this.hasPlayed&&(this.clickToPlay||window.navigator&&/iP(hone|od|ad)/.test(window.navigator.platform))?this.onPlaying():this.player.api("play"):(this.playOnReady=!0,window.$f?this.player||(this.insertIframe(),this.player=$f(this.element),this.player.addEvent("ready",function(){b.onReady()})):this.loadAPI())},pause:function(){this.ready?this.player.api("pause"):this.playStatus&&(delete this.playOnReady,this.listeners.pause(),delete this.playStatus)}}),c.extend(p.prototype,{VimeoPlayer:h,textFactory:function(c,n){var d=this.options,m=this.getItemProperty(c,d.vimeoVideoIdProperty);return m?(void 0===this.getItemProperty(c,d.urlProperty)&&(c[d.urlProperty]="//vimeo.com/"+m),l+=1,this.videoFactory(c,n,new h(d.vimeoPlayerUrl,m,d.vimeoPlayerIdPrefix+l,d.vimeoClickToPlay))):b.call(this,c,n)}}),p});(function(c){"function"==typeof define&&define.amd?define(["./blueimp-helper","./blueimp-gallery-video"],c):c(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)})(function(c,p){if(!window.postMessage)return p;c.extend(p.prototype.options,{youTubeVideoIdProperty:"youtube",youTubePlayerVars:{wmode:"transparent"},youTubeClickToPlay:!0});var b=p.prototype.textFactory||p.prototype.imageFactory,h=function(b,c,h){this.videoId=b;this.playerVars=c;this.clickToPlay=h;this.element=document.createElement("div");this.listeners={}};return c.extend(h.prototype,{canPlayType:function(){return!0},on:function(b,c){return this.listeners[b]=c,this},loadAPI:function(){var b,c=this,h=window.onYouTubeIframeAPIReady,d=document.getElementsByTagName("script");b=d.length;for(window.onYouTubeIframeAPIReady=function(){h&&h.apply(this);c.playOnReady&&c.play()};b;)if(--b,"//www.youtube.com/iframe_api"===d[b].src)return;b=document.createElement("script");b.src="//www.youtube.com/iframe_api";d[0].parentNode.insertBefore(b,d[0])},onReady:function(){this.ready=!0;this.playOnReady&&this.play()},onPlaying:function(){2>this.playStatus&&(this.listeners.playing(),this.playStatus=2)},onPause:function(){p.prototype.setTimeout.call(this,this.checkSeek,null,2E3)},checkSeek:function(){this.stateChange!==YT.PlayerState.PAUSED&&this.stateChange!==YT.PlayerState.ENDED||(this.listeners.pause(),delete this.playStatus)},onStateChange:function(b){switch(b.data){case YT.PlayerState.PLAYING:this.hasPlayed=!0;this.onPlaying();break;case YT.PlayerState.PAUSED:case YT.PlayerState.ENDED:this.onPause()}this.stateChange=b.data},onError:function(b){this.listeners.error(b)},play:function(){var b=this;this.playStatus||(this.listeners.play(),this.playStatus=1);this.ready?!this.hasPlayed&&(this.clickToPlay||window.navigator&&/iP(hone|od|ad)/.test(window.navigator.platform))?this.onPlaying():this.player.playVideo():(this.playOnReady=!0,window.YT&&YT.Player?this.player||(this.player=new YT.Player(this.element,{videoId:this.videoId,playerVars:this.playerVars,events:{onReady:function(){b.onReady()},onStateChange:function(c){b.onStateChange(c)},onError:function(c){b.onError(c)}}})):this.loadAPI())},pause:function(){this.ready?this.player.pauseVideo():this.playStatus&&(delete this.playOnReady,this.listeners.pause(),delete this.playStatus)}}),c.extend(p.prototype,{YouTubePlayer:h,textFactory:function(c,e){var n=this.options,d=this.getItemProperty(c,n.youTubeVideoIdProperty);return d?(void 0===this.getItemProperty(c,n.urlProperty)&&(c[n.urlProperty]="//www.youtube.com/watch?v\x3d"+d),void 0===this.getItemProperty(c,n.videoPosterProperty)&&(c[n.videoPosterProperty]="//img.youtube.com/vi/"+d+"/maxresdefault.jpg"),this.videoFactory(c,e,new h(d,n.youTubePlayerVars,n.youTubeClickToPlay))):b.call(this,c,e)}}),p});(function(c){"function"==typeof define&&define.amd?define(["jquery","./blueimp-gallery"],c):c(window.jQuery,window.blueimp.Gallery)})(function(c,p){c(document).on("click","[data-gallery]",function(b){var h=c(this).data("gallery"),l=c(h),e=l.length&&l||c(p.prototype.options.container);b=c.extend(e.data(),{container:e[0],index:this,event:b},{onopen:function(){e.data("gallery",this).trigger("open")},onopened:function(){e.trigger("opened")},onslide:function(){e.trigger("slide",arguments)},onslideend:function(){e.trigger("slideend",arguments)},onslidecomplete:function(){e.trigger("slidecomplete",arguments)},onclose:function(){e.trigger("close")},onclosed:function(){e.trigger("closed").removeData("gallery")}});h=c('[data-gallery\x3d"'+h+'"]');return b.filter&&(h=h.filter(b.filter)),new p(h,b)})});(function(){var c;c=jQuery;c.fn.extend({prettyTextDiff:function(p){var b,h;h={originalContainer:".original",changedContainer:".changed",diffContainer:".diff",cleanup:!0,debug:!1};h=c.extend(h,p);c.fn.prettyTextDiff.debug("Options: ",h,h);b=new diff_match_patch;return this.each(function(){var l,e;h.originalContent&&h.changedContent?(e=c("\x3cdiv /\x3e").html(h.originalContent).text(),l=c("\x3cdiv /\x3e").html(h.changedContent).text()):(e=c(h.originalContainer,this).text(),l=c(h.changedContainer,this).text());c.fn.prettyTextDiff.debug("Original text found: ",e,h);c.fn.prettyTextDiff.debug("Changed  text found: ",l,h);l=b.diff_main(e,l);h.cleanup&&b.diff_cleanupSemantic(l);c.fn.prettyTextDiff.debug("Diffs: ",l,h);l=c.map(l,function(b){return c.fn.prettyTextDiff.createHTML(b)});c(h.diffContainer,this).html(l.join(""));return this})}});c.fn.prettyTextDiff.debug=function(c,b,h){if(h.debug)return console.log(c,b)};c.fn.prettyTextDiff.createHTML=function(c){var b;b=c[0];c=c[1].replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;").replace(/\n/g,"\x3cbr\x3e");switch(b){case DIFF_INSERT:return"\x3cins\x3e"+c+"\x3c/ins\x3e";case DIFF_DELETE:return"\x3cdel\x3e"+c+"\x3c/del\x3e";case DIFF_EQUAL:return"\x3cspan\x3e"+c+"\x3c/span\x3e"}}}).call(this);!function(c,p){function b(b,d,g){var e=b.children(d.headerTag),h=b.children(d.bodyTag);e.length>h.length?L(S,"contents"):e.length<h.length&&L(S,"titles");var l=d.startIndex;if(g.stepCount=e.length,d.saveState&&c.cookie)d=c.cookie(O+f(b)),d=parseInt(d,0),!isNaN(d)&&d<g.stepCount&&(l=d);g.currentIndex=l;e.each(function(d){var g=c(this);d=h.eq(d);var e=d.data("mode"),e=null==e?R.html:k(R,/^\s*$/.test(e)||isNaN(e)?e:parseInt(e,0)),f=e===R.html||d.data("url")===p?"":d.data("url"),l=e!==R.html&&"1"===d.data("loaded"),g=c.extend({},V,{title:g.html(),content:e===R.html?d.html():"",contentUrl:f,contentMode:e,contentLoaded:l});b.data("steps").push(g)})}function h(b,c){var d=b.find(".steps li").eq(c.currentIndex);b.triggerHandler("finishing",[c.currentIndex])?(d.addClass("done").removeClass("error"),b.triggerHandler("finished",[c.currentIndex])):d.addClass("error")}function l(b){var c=b.data("eventNamespace");return null==c&&(c="."+f(b),b.data("eventNamespace",c)),c}function e(b,c){var d=f(b);return b.find("#"+d+M+c)}function n(b,c){var d=f(b);return b.find("#"+d+J+c)}function d(b){return b.data("options")}function m(b){return b.data("state")}function r(b,c){var d=b.data("steps");return(0>c||c>=d.length)&&L(T),d[c]}function f(b){var c=b.data("uid");return null==c&&(c=b._id(),null==c&&(c="steps-uid-".concat(K),b._id(c)),K++,b.data("uid",c)),c}function k(b,c){if(I("enumType",b),I("keyOrValue",c),"string"==typeof c){var d=b[c];return d===p&&L("The enum key '{0}' does not exist.",c),d}if("number"==typeof c){for(d in b)if(b[d]===c)return c;L("Invalid enum value '{0}'.",c)}else L("Invalid key or value type.")}function u(d){var g=c.extend(!0,{},W,d);return this.each(function(){var d=c(this),f={currentIndex:g.startIndex,currentStep:null,stepCount:0,transitionElement:null};d.data("options",g);d.data("state",f);d.data("steps",[]);b(d,g,f);A(d,g,f);f=l(d);d.bind("canceled"+f,g.onCanceled);d.bind("finishing"+f,g.onFinishing);d.bind("finished"+f,g.onFinished);d.bind("stepChanging"+f,g.onStepChanging);d.bind("stepChanged"+f,g.onStepChanged);g.enableKeyNavigation&&d.bind("keyup"+f,v);d.find(".actions a").bind("click"+f,w);g.autoFocus&&0===K&&e(d,g.startIndex).focus()})}function x(b,d,g,e,f){(0>e||e>g.stepCount)&&L(T);var h=f=c.extend({},V,f);b.data("steps").splice(e,0,h);g.currentIndex!==g.stepCount&&g.currentIndex>=e&&(g.currentIndex++,G(b,d,g));g.stepCount++;var h=b.find(".content"),k=c("\x3c{0}\x3e{1}\x3c/{0}\x3e".format(d.headerTag,f.title)),l=c("\x3c{0}\x3e\x3c/{0}\x3e".format(d.bodyTag));return(null==f.contentMode||f.contentMode===R.html)&&l.html(f.content),0===e?h.prepend(l).prepend(k):n(b,e-1).after(l).after(k),B(b,g,l,e),E(b,d,g,k,e),D(b,d,g,e),e===g.currentIndex&&z(b,d,g),y(b,d,g),b}function v(b){var g=c(this),e=d(g),f=m(g);if(e.suppressPaginationOnFocus&&g.find(":focus").is(":input"))return b.preventDefault(),!1;37===b.keyCode?(b.preventDefault(),t(g,e,f,f.currentIndex-1)):39===b.keyCode&&(b.preventDefault(),t(g,e,f,f.currentIndex+1))}function g(b,d,g){if(0<g.stepCount){var e=r(b,g.currentIndex);if(!d.enableContentCache||!e.contentLoaded)switch(k(R,e.contentMode)){case R.iframe:b.find(".content \x3e .body").eq(g.currentIndex).empty().html('\x3ciframe src\x3d"'+e.contentUrl+'" frameborder\x3d"0" scrolling\x3d"no" /\x3e').data("loaded","1");break;case R.async:var f=n(b,g.currentIndex)._aria("busy","true").empty().append(N(d.loadingTemplate,{text:d.labels.loading}));c.ajax({url:e.contentUrl,cache:!1}).done(function(b){f.empty().html(b)._aria("busy","false").data("loaded","1")})}}}function t(b,c,d,g){var f=d.currentIndex;return 0<=g&&g<d.stepCount&&!(c.forceMoveForward&&g<d.currentIndex)?(b=e(b,g),c=b.parent(),g=c.hasClass("disabled"),c._enableAria(),b.click(),f===d.currentIndex&&g?(c._enableAria(!1),!1):!0):!1}function w(b){b.preventDefault();var g=c(this);b=g.parent().parent().parent().parent();var e=d(b),f=m(b),g=g.attr("href");switch(g.substring(g.lastIndexOf("#")+1)){case "cancel":b.triggerHandler("canceled");break;case "finish":h(b,f);break;case "next":t(b,e,f,f.currentIndex+1);break;case "previous":t(b,e,f,f.currentIndex-1)}}function y(b,c,d){if(c.enablePagination){var g=b.find(".actions a[href$\x3d'#finish']").parent(),e=b.find(".actions a[href$\x3d'#next']").parent();c.forceMoveForward||b.find(".actions a[href$\x3d'#previous']").parent()._enableAria(0<d.currentIndex);c.enableFinishButton&&c.showFinishButtonAlways?(g._enableAria(0<d.stepCount),e._enableAria(1<d.stepCount&&d.stepCount>d.currentIndex+1)):(g._showAria(c.enableFinishButton&&d.stepCount>=d.currentIndex+1),e._showAria(0===d.stepCount||d.stepCount>d.currentIndex+1)._enableAria(d.stepCount>d.currentIndex+1||!c.enableFinishButton))}}function z(b,d,g,f){var h=e(b,g.currentIndex),k=c('\x3cspan class\x3d"current-info audible"\x3e'+d.labels.current+" \x3c/span\x3e");d=b.find(".content \x3e .title");null!=f&&(b=e(b,f),b.parent().addClass("done").removeClass("error")._selectAria(!1),d.eq(f).removeClass("current").next(".body").removeClass("current"),k=b.find(".current-info"),h.focus());h.prepend(k).parent()._selectAria().removeClass("done")._enableAria();d.eq(g.currentIndex).addClass("current").next(".body").addClass("current")}function D(b,c,d,g){for(var e=f(b);g<d.stepCount;g++){var h=e+M+g,k=e+J+g,l=e+P+g,m=b.find(".title").eq(g)._id(l);b.find(".steps a").eq(g)._id(h)._aria("controls",k).attr("href","#"+l).html(N(c.titleTemplate,{index:g+1,title:m.html()}));b.find(".body").eq(g)._id(k)._aria("labelledby",l)}}function A(b,d,g){var e=k(Q,d.stepsOrientation)===Q.vertical?" vertical":"",f=c('\x3c{0} class\x3d"{1}"\x3e{2}\x3c/{0}\x3e'.format(d.contentContainerTag,"content "+d.clearFixCssClass,b.html())),h=c('\x3c{0} class\x3d"{1}"\x3e{2}\x3c/{0}\x3e'.format(d.stepsContainerTag,"steps "+d.clearFixCssClass,'\x3cul role\x3d"tablist"\x3e\x3c/ul\x3e')),l=f.children(d.headerTag),m=f.children(d.bodyTag);b.attr("role","application").empty().append(h).append(f).addClass(d.cssClass+" "+d.clearFixCssClass+e);m.each(function(d){B(b,g,c(this),d)});l.each(function(e){E(b,d,g,c(this),e)});z(b,d,g);F(b,d,g)}function B(b,c,d,g){b=f(b);var e=b+P+g;d._id(b+J+g).attr("role","tabpanel")._aria("labelledby",e).addClass("body")._showAria(c.currentIndex===g)}function F(b,c,d){if(c.enablePagination){var e="";c.forceMoveForward||(e+='\x3cli\x3e\x3ca href\x3d"#{0}" role\x3d"menuitem"\x3e{1}\x3c/a\x3e\x3c/li\x3e'.format("previous",c.labels.previous));e+='\x3cli\x3e\x3ca href\x3d"#{0}" role\x3d"menuitem"\x3e{1}\x3c/a\x3e\x3c/li\x3e'.format("next",c.labels.next);c.enableFinishButton&&(e+='\x3cli\x3e\x3ca href\x3d"#{0}" role\x3d"menuitem"\x3e{1}\x3c/a\x3e\x3c/li\x3e'.format("finish",c.labels.finish));c.enableCancelButton&&(e+='\x3cli\x3e\x3ca href\x3d"#{0}" role\x3d"menuitem"\x3e{1}\x3c/a\x3e\x3c/li\x3e'.format("cancel",c.labels.cancel));b.append('\x3c{0} class\x3d"actions {1}"\x3e\x3cul role\x3d"menu" aria-label\x3d"{2}"\x3e{3}\x3c/ul\x3e\x3c/{0}\x3e'.format(c.actionContainerTag,c.clearFixCssClass,c.labels.pagination,e));y(b,c,d);g(b,c,d)}}function N(b,c){for(var d=b.match(/#([a-z]*)#/gi),g=0;g<d.length;g++){var e=d[g],f=e.substring(1,e.length-1);c[f]===p&&L("The key '{0}' does not exist in the substitute collection!",f);b=b.replace(e,c[f])}return b}function E(b,d,g,e,h){var k=f(b),m=k+M+h,t=k+J+h,k=k+P+h,q=b.find(".steps \x3e ul"),n=N(d.titleTemplate,{index:h+1,title:e.html()}),m=c('\x3cli role\x3d"tab"\x3e\x3ca id\x3d"'+m+'" href\x3d"#'+k+'" aria-controls\x3d"'+t+'"\x3e'+n+"\x3c/a\x3e\x3c/li\x3e");m._enableAria(d.enableAllSteps||g.currentIndex>h);g.currentIndex>h&&m.addClass("done");e._id(k).attr("tabindex","-1").addClass("title");0===h?q.prepend(m):q.find("li").eq(h-1).after(m);0===h&&q.find("li").removeClass("first").eq(h).addClass("first");h===g.stepCount-1&&q.find("li").removeClass("last").eq(h).addClass("last");m.children("a").bind("click"+l(b),H)}function G(b,d,g){d.saveState&&c.cookie&&c.cookie(O+f(b),g.currentIndex)}function q(b,d,g,e,f){var h=b.find(".content \x3e .body");b=k(U,d.transitionEffect);var l=d.transitionEffectSpeed;d=h.eq(e);h=h.eq(f);switch(b){case U.fade:case U.slide:e=b===U.fade?"fadeOut":"slideUp";var t=b===U.fade?"fadeIn":"slideDown";g.transitionElement=d;h[e](l,function(){var b=c(this)._showAria(!1).parent().parent(),b=m(b);b.transitionElement&&(b.transitionElement[t](l,function(){c(this)._showAria()}),b.transitionElement=null)}).promise();break;case U.slideLeft:g=h.outerWidth(!0);b=e>f?g:-g;h.animate({left:e>f?-g:g},l,function(){c(this)._showAria(!1)}).promise();d.css("left",b+"px")._showAria().animate({left:0},l).promise();break;default:h._showAria(!1),d._showAria()}}function H(b){b.preventDefault();var f=c(this);b=f.parent().parent().parent().parent();var h=d(b),k=m(b),l=k.currentIndex;if(f.parent().is(":not(.disabled):not(.current)")&&(f=f.attr("href"),f=parseInt(f.substring(f.lastIndexOf("-")+1),0),(0>f||f>=k.stepCount)&&L(T),!(h.forceMoveForward&&f<k.currentIndex))){var t=k.currentIndex;b.triggerHandler("stepChanging",[k.currentIndex,f])?(k.currentIndex=f,G(b,h,k),z(b,h,k,t),y(b,h,k),g(b,h,k),q(b,h,k,f,t),b.triggerHandler("stepChanged",[f,t])):b.find(".steps li").eq(t).addClass("error")}return l===k.currentIndex?(e(b,l).focus(),!1):void 0}function L(b){throw 1<arguments.length&&(b=b.format(Array.prototype.slice.call(arguments,1))),Error(b);}function I(b,c){null==c&&L("The argument '{0}' is null or undefined.",b)}c.fn.extend({_aria:function(b,c){return this.attr("aria-"+b,c)},_removeAria:function(b){return this.removeAttr("aria-"+b)},_enableAria:function(b){return null==b||b?this.removeClass("disabled")._aria("disabled","false"):this.addClass("disabled")._aria("disabled","true")},_showAria:function(b){return null==b||b?this.show()._aria("hidden","false"):this.hide()._aria("hidden","true")},_selectAria:function(b){return null==b||b?this.addClass("current")._aria("selected","true"):this.removeClass("current")._aria("selected","false")},_id:function(b){return b?this.attr("id",b):this.attr("id")}});String.prototype.format||(String.prototype.format=function(){for(var b=1===arguments.length&&c.isArray(arguments[0])?arguments[0]:arguments,d=this,g=0;g<b.length;g++)d=d.replace(new RegExp("\\{"+g+"\\}","gm"),b[g]);return d});var K=0,O="jQu3ry_5teps_St@te_",M="-t-",J="-p-",P="-h-",T="Index out of range.",S="One or more corresponding step {0} are missing.";c.fn.steps=function(b){return c.fn.steps[b]?c.fn.steps[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?void c.error("Method "+b+" does not exist on jQuery.steps"):u.apply(this,arguments)};c.fn.steps.add=function(b){var c=m(this);return x(this,d(this),c,c.stepCount,b)};c.fn.steps.destroy=function(){var b=d(this),g=l(this);this.unbind(g).removeData("uid").removeData("options").removeData("state").removeData("steps").removeData("eventNamespace").find(".actions a").unbind(g);this.removeClass(b.clearFixCssClass+" vertical");b=this.find(".content \x3e *");b.removeData("loaded").removeData("mode").removeData("url");b.removeAttr("id").removeAttr("role").removeAttr("tabindex").removeAttr("class").removeAttr("style")._removeAria("labelledby")._removeAria("hidden");this.find(".content \x3e [data-mode\x3d'async'],.content \x3e [data-mode\x3d'iframe']").empty();b=c('\x3c{0} class\x3d"{1}"\x3e\x3c/{0}\x3e'.format(this.get(0).tagName,this.attr("class")));g=this._id();return null!=g&&""!==g&&b._id(g),b.html(this.find(".content").html()),this.after(b),this.remove(),b};c.fn.steps.finish=function(){h(this,m(this))};c.fn.steps.getCurrentIndex=function(){return m(this).currentIndex};c.fn.steps.getCurrentStep=function(){return r(this,m(this).currentIndex)};c.fn.steps.getStep=function(b){return r(this,b)};c.fn.steps.insert=function(b,c){return x(this,d(this),m(this),b,c)};c.fn.steps.next=function(){var b=d(this),c=m(this);return t(this,b,c,c.currentIndex+1)};c.fn.steps.previous=function(){var b=d(this),c=m(this);return t(this,b,c,c.currentIndex-1)};c.fn.steps.remove=function(b){var c=d(this),g=m(this);if(0>b||b>=g.stepCount||g.currentIndex===b)b=!1;else{this.data("steps").splice(b,1);g.currentIndex>b&&(g.currentIndex--,G(this,c,g));g.stepCount--;var h=f(this);b=(this.find("#"+h+P+b).remove(),n(this,b).remove(),e(this,b).parent().remove(),0===b&&this.find(".steps li").first().addClass("first"),b===g.stepCount&&this.find(".steps li").eq(b).addClass("last"),D(this,c,g,b),y(this,c,g),!0)}return b};c.fn.steps.setStep=function(){throw Error("Not yet implemented!");};c.fn.steps.skip=function(){throw Error("Not yet implemented!");};var R=c.fn.steps.contentMode={html:0,iframe:1,async:2},Q=c.fn.steps.stepsOrientation={horizontal:0,vertical:1},U=c.fn.steps.transitionEffect={none:0,fade:1,slide:2,slideLeft:3},V=c.fn.steps.stepModel={title:"",content:"",contentUrl:"",contentMode:R.html,contentLoaded:!1},W=c.fn.steps.defaults={headerTag:"h1",bodyTag:"div",contentContainerTag:"div",actionContainerTag:"div",stepsContainerTag:"div",cssClass:"wizard",clearFixCssClass:"clearfix",stepsOrientation:Q.horizontal,titleTemplate:'\x3cspan class\x3d"number"\x3e#index#.\x3c/span\x3e #title#',loadingTemplate:'\x3cspan class\x3d"spinner"\x3e\x3c/span\x3e #text#',autoFocus:!1,enableAllSteps:!1,enableKeyNavigation:!0,enablePagination:!0,suppressPaginationOnFocus:!0,enableContentCache:!0,enableCancelButton:!0,enableFinishButton:!0,preloadContent:!1,showFinishButtonAlways:!1,forceMoveForward:!1,saveState:!1,startIndex:0,transitionEffect:U.none,transitionEffectSpeed:200,onStepChanging:function(){return!0},onStepChanged:function(){},onCanceled:function(){},onFinishing:function(){return!0},onFinished:function(){},labels:{cancel:"\u53d6\u6d88",current:"\u5f53\u524d\u6b65\u9aa4\uff1a",pagination:"\u5206\u9875",finish:"\u5b8c\u6210",next:"\u4e0b\u4e00\u6b65",previous:"\u4e0a\u4e00\u6b65",loading:"\u52a0\u8f7d\u4e2d ..."}}}(jQuery);!function(c){"function"==typeof define&&define.amd?define(["jquery"],c):c(jQuery)}(function(c){c.extend(c.fn,{validate:function(b){if(!this.length)return void(b&&b.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var l=c.data(this[0],"validator");return l?l:(this.attr("novalidate","novalidate"),l=new c.validator(b,this[0]),c.data(this[0],"validator",l),l.settings.onsubmit&&(this.validateDelegate(":submit","click",function(b){l.settings.submitHandler&&(l.submitButton=b.target);c(b.target).hasClass("cancel")&&(l.cancelSubmit=!0);void 0!==c(b.target).attr("formnovalidate")&&(l.cancelSubmit=!0)}),this.submit(function(b){function h(){var d;return l.settings.submitHandler?(l.submitButton&&(d=c("\x3cinput type\x3d'hidden'/\x3e").attr("name",l.submitButton.name).val(c(l.submitButton).val()).appendTo(l.currentForm)),l.settings.submitHandler.call(l,l.currentForm,b),l.submitButton&&d.remove(),!1):!0}return l.settings.debug&&b.preventDefault(),l.cancelSubmit?(l.cancelSubmit=!1,h()):l.form()?l.pendingRequest?(l.formSubmitted=!0,!1):h():(l.focusInvalid(),!1)})),l)},valid:function(){var b,l;return c(this[0]).is("form")?b=this.validate().form():(b=!0,l=c(this[0].form).validate(),this.each(function(){b=l.element(this)&&b})),b},removeAttrs:function(b){var l={},e=this;return c.each(b.split(/\s/),function(b,c){l[c]=e.attr(c);e.removeAttr(c)}),l},rules:function(b,l){var e,n,d,m,p,f,k=this[0];if(b)switch(e=c.data(k.form,"validator").settings,n=e.rules,d=c.validator.staticRules(k),b){case "add":c.extend(d,c.validator.normalizeRule(l));delete d.messages;n[k.name]=d;l.messages&&(e.messages[k.name]=c.extend(e.messages[k.name],l.messages));break;case "remove":return l?(f={},c.each(l.split(/\s/),function(b,e){f[e]=d[e];delete d[e];"required"===e&&c(k).removeAttr("aria-required")}),f):(delete n[k.name],d)}return m=c.validator.normalizeRules(c.extend({},c.validator.classRules(k),c.validator.attributeRules(k),c.validator.dataRules(k),c.validator.staticRules(k)),k),m.required&&(p=m.required,delete m.required,m=c.extend({required:p},m),c(k).attr("aria-required","true")),m.remote&&(p=m.remote,delete m.remote,m=c.extend(m,{remote:p})),m}});c.extend(c.expr[":"],{blank:function(b){return!c.trim(""+c(b).val())},filled:function(b){return!!c.trim(""+c(b).val())},unchecked:function(b){return!c(b).prop("checked")}});c.validator=function(b,l){this.settings=c.extend(!0,{},c.validator.defaults,b);this.currentForm=l;this.init()};c.validator.format=function(b,l){return 1===arguments.length?function(){var e=c.makeArray(arguments);return e.unshift(b),c.validator.format.apply(this,e)}:(2<arguments.length&&l.constructor!==Array&&(l=c.makeArray(arguments).slice(1)),l.constructor!==Array&&(l=[l]),c.each(l,function(c,l){b=b.replace(new RegExp("\\{"+c+"\\}","g"),function(){return l})}),b)};c.extend(c.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:c([]),errorLabelContainer:c([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(b){this.lastActive=b;this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,b,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(b)))},onfocusout:function(b){this.checkable(b)||!(b.name in this.submitted)&&this.optional(b)||this.element(b)},onkeyup:function(b,c){(9!==c.which||""!==this.elementValue(b))&&(b.name in this.submitted||b===this.lastElement)&&this.element(b)},onclick:function(b){b.name in this.submitted?this.element(b):b.parentNode.name in this.submitted&&this.element(b.parentNode)},highlight:function(b,l,e){"radio"===b.type?this.findByName(b.name).addClass(l).removeClass(e):c(b).addClass(l).removeClass(e)},unhighlight:function(b,l,e){"radio"===b.type?this.findByName(b.name).removeClass(l).addClass(e):c(b).removeClass(l).addClass(e)}},setDefaults:function(b){c.extend(c.validator.defaults,b)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:c.validator.format("Please enter no more than {0} characters."),minlength:c.validator.format("Please enter at least {0} characters."),rangelength:c.validator.format("Please enter a value between {0} and {1} characters long."),range:c.validator.format("Please enter a value between {0} and {1}."),max:c.validator.format("Please enter a value less than or equal to {0}."),min:c.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function b(e){var d=c.data(this[0].form,"validator"),h="on"+e.type.replace(/^validate/,""),l=d.settings;l[h]&&!this.is(l.ignore)&&l[h].call(d,this[0],e)}this.labelContainer=c(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||c(this.currentForm);this.containers=c(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var l,e=this.groups={};c.each(this.settings.groups,function(b,d){"string"==typeof d&&(d=d.split(/\s/));c.each(d,function(c,d){e[d]=b})});l=this.settings.rules;c.each(l,function(b,d){l[b]=c.validator.normalizeRule(d)});c(this.currentForm).validateDelegate(":text, [type\x3d'password'], [type\x3d'file'], select, textarea, [type\x3d'number'], [type\x3d'search'] ,[type\x3d'tel'], [type\x3d'url'], [type\x3d'email'], [type\x3d'datetime'], [type\x3d'date'], [type\x3d'month'], [type\x3d'week'], [type\x3d'time'], [type\x3d'datetime-local'], [type\x3d'range'], [type\x3d'color'], [type\x3d'radio'], [type\x3d'checkbox']","focusin focusout keyup",b).validateDelegate("select, option, [type\x3d'radio'], [type\x3d'checkbox']","click",b);this.settings.invalidHandler&&c(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler);c(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),c.extend(this.submitted,this.errorMap),this.invalid=c.extend({},this.errorMap),this.valid()||c(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var b=0,c=this.currentElements=this.elements();c[b];b++)this.check(c[b]);return this.valid()},element:function(b){var l=this.clean(b),e=this.validationTargetFor(l),n=!0;return this.lastElement=e,void 0===e?delete this.invalid[l.name]:(this.prepareElement(e),this.currentElements=c(e),n=!1!==this.check(e),n?delete this.invalid[e.name]:this.invalid[e.name]=!0),c(b).attr("aria-invalid",!n),this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),n},showErrors:function(b){if(b){c.extend(this.errorMap,b);this.errorList=[];for(var l in b)this.errorList.push({message:b[l],element:this.findByName(l)[0]});this.successList=c.grep(this.successList,function(c){return!(c.name in b)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){c.fn.resetForm&&c(this.currentForm).resetForm();this.submitted={};this.lastElement=null;this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass).removeData("previousValue").removeAttr("aria-invalid")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(b){var c,e=0;for(c in b)e++;return e},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(b){b.not(this.containers).text("");this.addWrapper(b).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{c(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(b){}},findLastActive:function(){var b=this.lastActive;return b&&1===c.grep(this.errorList,function(c){return c.element.name===b.name}).length&&b},elements:function(){var b=this,l={};return c(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&b.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in l||!b.objectLength(c(this).rules())?!1:(l[this.name]=!0,!0)})},clean:function(b){return c(b)[0]},errors:function(){var b=this.settings.errorClass.split(" ").join(".");return c(this.settings.errorElement+"."+b,this.errorContext)},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=c([]);this.toHide=c([]);this.currentElements=c([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},prepareElement:function(b){this.reset();this.toHide=this.errorsFor(b)},elementValue:function(b){var l,e=c(b),n=b.type;return"radio"===n||"checkbox"===n?c("input[name\x3d'"+b.name+"']:checked").val():"number"===n&&"undefined"!=typeof b.validity?b.validity.badInput?!1:e.val():(l=e.val(),"string"==typeof l?l.replace(/\r/g,""):l)},check:function(b){b=this.validationTargetFor(this.clean(b));var l,e,n,d=c(b).rules(),m=c.map(d,function(b,c){return c}).length,p=!1,f=this.elementValue(b);for(e in d){n={method:e,parameters:d[e]};try{if(l=c.validator.methods[e].call(this,f,b,n.parameters),"dependency-mismatch"===l&&1===m)p=!0;else{if(p=!1,"pending"===l)return void(this.toHide=this.toHide.not(this.errorsFor(b)));if(!l)return this.formatAndAdd(b,n),!1}}catch(k){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+b.id+", check the '"+n.method+"' method.",k),k;}}if(!p)return this.objectLength(d)&&this.successList.push(b),!0},customDataMessage:function(b,l){return c(b).data("msg"+l.charAt(0).toUpperCase()+l.substring(1).toLowerCase())||c(b).data("msg")},customMessage:function(b,c){var e=this.settings.messages[b];return e&&(e.constructor===String?e:e[c])},findDefined:function(){for(var b=0;b<arguments.length;b++)if(void 0!==arguments[b])return arguments[b]},defaultMessage:function(b,l){return this.findDefined(this.customMessage(b.name,l),this.customDataMessage(b,l),!this.settings.ignoreTitle&&b.title||void 0,c.validator.messages[l],"\x3cstrong\x3eWarning: No message defined for "+b.name+"\x3c/strong\x3e")},formatAndAdd:function(b,l){var e=this.defaultMessage(b,l.method),n=/\$?\{(\d+)\}/g;"function"==typeof e?e=e.call(this,l.parameters,b):n.test(e)&&(e=c.validator.format(e.replace(n,"{$1}"),l.parameters));this.errorList.push({message:e,element:b,method:l.method});this.errorMap[b.name]=e;this.submitted[b.name]=e},addWrapper:function(b){return this.settings.wrapper&&(b=b.add(b.parent(this.settings.wrapper))),b},defaultShowErrors:function(){var b,c;for(b=0;this.errorList[b];b++)c=this.errorList[b],this.settings.highlight&&this.settings.highlight.call(this,c.element,this.settings.errorClass,this.settings.validClass),this.showLabel(c.element,c.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(b=0;this.successList[b];b++)this.showLabel(this.successList[b]);if(this.settings.unhighlight)for(b=0,c=this.validElements();c[b];b++)this.settings.unhighlight.call(this,c[b],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return c(this.errorList).map(function(){return this.element})},showLabel:function(b,l){var e,n,d,m=this.errorsFor(b),p=this.idOrName(b),f=c(b).attr("aria-describedby");m.length?(m.removeClass(this.settings.validClass).addClass(this.settings.errorClass),m.html(l)):(m=c("\x3c"+this.settings.errorElement+"\x3e").attr("id",p+"-error").addClass(this.settings.errorClass).html(l||""),e=m,this.settings.wrapper&&(e=m.hide().show().wrap("\x3c"+this.settings.wrapper+"/\x3e").parent()),this.labelContainer.length?this.labelContainer.append(e):this.settings.errorPlacement?this.settings.errorPlacement(e,c(b)):e.insertAfter(b),m.is("label")?m.attr("for",p):0===m.parents("label[for\x3d'"+p+"']").length&&(d=m.attr("id"),f?f.match(new RegExp("\b"+d+"\b"))||(f+=" "+d):f=d,c(b).attr("aria-describedby",f),n=this.groups[b.name],n&&c.each(this.groups,function(b,d){d===n&&c("[name\x3d'"+b+"']",this.currentForm).attr("aria-describedby",m.attr("id"))})));!l&&this.settings.success&&(m.text(""),"string"==typeof this.settings.success?m.addClass(this.settings.success):this.settings.success(m,b));this.toShow=this.toShow.add(m)},errorsFor:function(b){var l=this.idOrName(b);b=c(b).attr("aria-describedby");l="label[for\x3d'"+l+"'], label[for\x3d'"+l+"'] *";return b&&(l=l+", #"+b.replace(/\s+/g,", #")),this.errors().filter(l)},idOrName:function(b){return this.groups[b.name]||(this.checkable(b)?b.name:b.id||b.name)},validationTargetFor:function(b){return this.checkable(b)&&(b=this.findByName(b.name).not(this.settings.ignore)[0]),b},checkable:function(b){return/radio|checkbox/i.test(b.type)},findByName:function(b){return c(this.currentForm).find("[name\x3d'"+b+"']")},getLength:function(b,l){switch(l.nodeName.toLowerCase()){case "select":return c("option:selected",l).length;case "input":if(this.checkable(l))return this.findByName(l.name).filter(":checked").length}return b.length},depend:function(b,c){return this.dependTypes[typeof b]?this.dependTypes[typeof b](b,c):!0},dependTypes:{"boolean":function(b){return b},string:function(b,l){return!!c(b,l.form).length},"function":function(b,c){return b(c)}},optional:function(b){var l=this.elementValue(b);return!c.validator.methods.required.call(this,l,b)&&"dependency-mismatch"},startRequest:function(b){this.pending[b.name]||(this.pendingRequest++,this.pending[b.name]=!0)},stopRequest:function(b,l){this.pendingRequest--;0>this.pendingRequest&&(this.pendingRequest=0);delete this.pending[b.name];l&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(c(this.currentForm).submit(),this.formSubmitted=!1):!l&&0===this.pendingRequest&&this.formSubmitted&&(c(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(b){return c.data(b,"previousValue")||c.data(b,"previousValue",{old:null,valid:!0,message:this.defaultMessage(b,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(b,l){b.constructor===String?this.classRuleSettings[b]=l:c.extend(this.classRuleSettings,b)},classRules:function(b){var l={};b=c(b).attr("class");return b&&c.each(b.split(" "),function(){this in c.validator.classRuleSettings&&c.extend(l,c.validator.classRuleSettings[this])}),l},attributeRules:function(b){var l,e,n={},d=c(b),m=b.getAttribute("type");for(l in c.validator.methods)"required"===l?(e=b.getAttribute(l),""===e&&(e=!0),e=!!e):e=d.attr(l),/min|max/.test(l)&&(null===m||/number|range|text/.test(m))&&(e=Number(e)),e||0===e?n[l]=e:m===l&&"range"!==m&&(n[l]=!0);return n.maxlength&&/-1|2147483647|524288/.test(n.maxlength)&&delete n.maxlength,n},dataRules:function(b){var l,e={},n=c(b);for(l in c.validator.methods)b=n.data("rule"+l.charAt(0).toUpperCase()+l.substring(1).toLowerCase()),void 0!==b&&(e[l]=b);return e},staticRules:function(b){var l={},e=c.data(b.form,"validator");return e.settings.rules&&(l=c.validator.normalizeRule(e.settings.rules[b.name])||{}),l},normalizeRules:function(b,l){return c.each(b,function(e,n){if(!1===n)return void delete b[e];if(n.param||n.depends){var d=!0;switch(typeof n.depends){case "string":d=!!c(n.depends,l.form).length;break;case "function":d=n.depends.call(l,l)}d?b[e]=void 0!==n.param?n.param:!0:delete b[e]}}),c.each(b,function(e,n){b[e]=c.isFunction(n)?n(l):n}),c.each(["minlength","maxlength"],function(){b[this]&&(b[this]=Number(b[this]))}),c.each(["rangelength","range"],function(){var e;b[this]&&(c.isArray(b[this])?b[this]=[Number(b[this][0]),Number(b[this][1])]:"string"==typeof b[this]&&(e=b[this].replace(/[\[\]]/g,"").split(/[\s,]+/),b[this]=[Number(e[0]),Number(e[1])]))}),c.validator.autoCreateRanges&&(b.min&&b.max&&(b.range=[b.min,b.max],delete b.min,delete b.max),b.minlength&&b.maxlength&&(b.rangelength=[b.minlength,b.maxlength],delete b.minlength,delete b.maxlength)),b},normalizeRule:function(b){if("string"==typeof b){var l={};c.each(b.split(/\s/),function(){l[this]=!0});b=l}return b},addMethod:function(b,l,e){c.validator.methods[b]=l;c.validator.messages[b]=void 0!==e?e:c.validator.messages[b];3>l.length&&c.validator.addClassRules(b,c.validator.normalizeRule(b))},methods:{required:function(b,l,e){return this.depend(e,l)?"select"===l.nodeName.toLowerCase()?(b=c(l).val())&&0<b.length:this.checkable(l)?0<this.getLength(b,l):0<c.trim(b).length:"dependency-mismatch"},email:function(b,c){return this.optional(c)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(b)},url:function(b,c){return this.optional(c)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(b)},date:function(b,c){return this.optional(c)||!/Invalid|NaN/.test((new Date(b)).toString())},dateISO:function(b,c){return this.optional(c)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(b)},number:function(b,c){return this.optional(c)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(b)},digits:function(b,c){return this.optional(c)||/^\d+$/.test(b)},creditcard:function(b,c){if(this.optional(c))return"dependency-mismatch";if(/[^0-9 \-]+/.test(b))return!1;var e,n,d=0,m=!1;if(b=b.replace(/\D/g,""),13>b.length||19<b.length)return!1;for(e=b.length-1;0<=e;e--)n=b.charAt(e),n=parseInt(n,10),m&&9<(n*=2)&&(n-=9),d+=n,m=!m;return 0===d%10},minlength:function(b,l,e){b=c.isArray(b)?b.length:this.getLength(c.trim(b),l);return this.optional(l)||b>=e},maxlength:function(b,l,e){b=c.isArray(b)?b.length:this.getLength(c.trim(b),l);return this.optional(l)||e>=b},rangelength:function(b,l,e){b=c.isArray(b)?b.length:this.getLength(c.trim(b),l);return this.optional(l)||b>=e[0]&&b<=e[1]},min:function(b,c,e){return this.optional(c)||b>=e},max:function(b,c,e){return this.optional(c)||e>=b},range:function(b,c,e){return this.optional(c)||b>=e[0]&&b<=e[1]},equalTo:function(b,l,e){e=c(e);return this.settings.onfocusout&&e.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){c(l).valid()}),b===e.val()},remote:function(b,l,e){if(this.optional(l))return"dependency-mismatch";var n,d,m=this.previousValue(l);return this.settings.messages[l.name]||(this.settings.messages[l.name]={}),m.originalMessage=this.settings.messages[l.name].remote,this.settings.messages[l.name].remote=m.message,e="string"==typeof e&&{url:e}||e,m.old===b?m.valid:(m.old=b,n=this,this.startRequest(l),d={},d[l.name]=b,c.ajax(c.extend(!0,{url:e,mode:"abort",port:"validate"+l.name,dataType:"json",data:d,context:n.currentForm,success:function(d){var e,k,p,x=!0===d||"true"===d;n.settings.messages[l.name].remote=m.originalMessage;x?(p=n.formSubmitted,n.prepareElement(l),n.formSubmitted=p,n.successList.push(l),delete n.invalid[l.name],n.showErrors()):(e={},k=d||n.defaultMessage(l,"remote"),e[l.name]=m.message=c.isFunction(k)?k(b):k,n.invalid[l.name]=!0,n.showErrors(e));m.valid=x;n.stopRequest(l,x)}},e)),"pending")}}});c.format=function(){throw"$.format has been deprecated. Please use $.validator.format instead.";};var p,b={};c.ajaxPrefilter?c.ajaxPrefilter(function(c,l,e){l=c.port;"abort"===c.mode&&(b[l]&&b[l].abort(),b[l]=e)}):(p=c.ajax,c.ajax=function(h){var l=("port"in h?h:c.ajaxSettings).port;return"abort"===("mode"in h?h:c.ajaxSettings).mode?(b[l]&&b[l].abort(),b[l]=p.apply(this,arguments),b[l]):p.apply(this,arguments)});c.extend(c.fn,{validateDelegate:function(b,l,e){return this.bind(l,function(l){var d=c(l.target);return d.is(b)?e.apply(d,arguments):void 0})}})});(function(c){"function"===typeof define&&define.amd?define(["jquery"],c):"undefined"!==typeof module&&module.exports?module.exports=c(require("jquery")):c(jQuery)})(function(c,p){var b=0,h=!1,l=!1,e=!1,n=[],d=c("script:last").attr("src"),m=window.document,r=m.createElement("LI"),f,k;r.setAttribute("role","treeitem");f=m.createElement("I");f.className="jstree-icon jstree-ocl";f.setAttribute("role","presentation");r.appendChild(f);f=m.createElement("A");f.className="jstree-anchor";f.setAttribute("href","#");f.setAttribute("tabindex","-1");k=m.createElement("I");k.className="jstree-icon jstree-themeicon";k.setAttribute("role","presentation");f.appendChild(k);r.appendChild(f);f=k=null;c.jstree={version:"4.0.0",defaults:{plugins:[]},plugins:{},path:d&&-1!==d.indexOf("/")?d.replace(/\/[^\/]+$/,""):"",idregex:/[\\:&!^|()\[\]<>@*'+~#";.,=\- \/${}%?`]/g,root:"#"};c.jstree.create=function(d,e){var f=new c.jstree.core(++b),h=e;e=c.extend(!0,{},c.jstree.defaults,e);h&&h.plugins&&(e.plugins=h.plugins);c.each(e.plugins,function(b,c){"core"!==b&&(f=f.plugin(c,e[c]))});c(d).data("jstree",f);f.init(d,e);return f};c.jstree.destroy=function(){c(".jstree:jstree").jstree("destroy");c(m).off(".jstree")};c.jstree.core=function(b){this._id=b;this._cnt=0;this._wrk=null;this._data={core:{themes:{name:!1,dots:!1,icons:!1},selected:[],last_error:{},working:!1,worker_queue:[],focused:null}}};c.jstree.reference=function(b){var d=null,e=null;!b||!b.id||b.tagName&&b.nodeType||(b=b.id);if(!e||!e.length)try{e=c(b)}catch(f){}if(!e||!e.length)try{e=c("#"+b.replace(c.jstree.idregex,"\\$\x26"))}catch(f){}e&&e.length&&(e=e.closest(".jstree")).length&&(e=e.data("jstree"))?d=e:c(".jstree").each(function(){var e=c(this).data("jstree");if(e&&e._model.data[b])return d=e,!1});return d};c.fn.jstree=function(b){var d="string"===typeof b,e=Array.prototype.slice.call(arguments,1),f=null;if(!0===b&&!this.length)return!1;this.each(function(){var h=c.jstree.reference(this),k=d&&h?h[b]:null;f=d&&k?k.apply(h,e):null;h||d||b!==p&&!c.isPlainObject(b)||c.jstree.create(this,b);if(h&&!d||!0===b)f=h||!1;if(null!==f&&f!==p)return!1});return null!==f&&f!==p?f:this};c.expr[":"].jstree=c.expr.createPseudo(function(b){return function(b){return c(b).hasClass("jstree")&&c(b).data("jstree")!==p}});c.jstree.defaults.core={data:!1,strings:!1,check_callback:!1,error:c.noop,animation:200,multiple:!0,themes:{name:!1,url:!1,dir:!1,dots:!0,icons:!0,stripes:!1,variant:!1,responsive:!1},expand_selected_onload:!0,worker:!0,force_text:!1,dblclick_toggle:!0};c.jstree.core.prototype={plugin:function(b,d){var e=c.jstree.plugins[b];return e?(this._data[b]={},e.prototype=this,new e(d,this)):this},init:function(b,d){this._model={data:{},changed:[],force_full_redraw:!1,redraw_timeout:!1,default_state:{loaded:!0,opened:!1,selected:!1,disabled:!1}};this._model.data[c.jstree.root]={id:c.jstree.root,parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}};this.element=c(b).addClass("jstree jstree-"+this._id);this.settings=d;this._data.core.ready=!1;this._data.core.loaded=!1;this._data.core.rtl="rtl"===this.element.css("direction");this.element[this._data.core.rtl?"addClass":"removeClass"]("jstree-rtl");this.element.attr("role","tree");this.settings.core.multiple&&this.element.attr("aria-multiselectable",!0);this.element.attr("tabindex")||this.element.attr("tabindex","0");this.bind();this.trigger("init");this._data.core.original_container_html=this.element.find(" \x3e ul \x3e li").clone(!0);this._data.core.original_container_html.find("li").addBack().contents().filter(function(){return 3===this.nodeType&&(!this.nodeValue||/^\s+$/.test(this.nodeValue))}).remove();this.element.html("\x3cul class\x3d'jstree-container-ul jstree-children' role\x3d'group'\x3e\x3cli id\x3d'j"+this._id+"_loading' class\x3d'jstree-initial-node jstree-loading jstree-leaf jstree-last' role\x3d'tree-item'\x3e\x3ci class\x3d'jstree-icon jstree-ocl'\x3e\x3c/i\x3e\x3ca class\x3d'jstree-anchor' href\x3d'#'\x3e\x3ci class\x3d'jstree-icon jstree-themeicon-hidden'\x3e\x3c/i\x3e"+this.get_string("\u52a0\u8f7d\u4e2d ...")+"\x3c/a\x3e\x3c/li\x3e\x3c/ul\x3e");this.element.attr("aria-activedescendant","j"+this._id+"_loading");this._data.core.li_height=this.get_container_ul().children("li").first().height()||24;this.trigger("loading");this.load_node(c.jstree.root)},destroy:function(b){if(this._wrk)try{window.URL.revokeObjectURL(this._wrk),this._wrk=null}catch(c){}b||this.element.empty();this.teardown()},teardown:function(){this.unbind();this.element.removeClass("jstree").removeData("jstree").find("[class^\x3d'jstree']").addBack().attr("class",function(){return this.className.replace(/jstree[^ ]*|$/ig,"")});this.element=null},bind:function(){var b="",d=null,e=0;this.element.on("dblclick.jstree",function(b){if(b.target.tagName&&"input"===b.target.tagName.toLowerCase())return!0;if(m.selection&&m.selection.empty)m.selection.empty();else if(window.getSelection){b=window.getSelection();try{b.removeAllRanges(),b.collapse()}catch(c){}}}).on("mousedown.jstree",c.proxy(function(b){b.target===this.element[0]&&(b.preventDefault(),e=+new Date)},this)).on("mousedown.jstree",".jstree-ocl",function(b){b.preventDefault()}).on("click.jstree",".jstree-ocl",c.proxy(function(b){this.toggle_node(b.target)},this)).on("dblclick.jstree",".jstree-anchor",c.proxy(function(b){if(b.target.tagName&&"input"===b.target.tagName.toLowerCase())return!0;this.settings.core.dblclick_toggle&&this.toggle_node(b.target)},this)).on("click.jstree",".jstree-anchor",c.proxy(function(b){b.preventDefault();b.currentTarget!==m.activeElement&&c(b.currentTarget).focus();this.activate_node(b.currentTarget,b)},this)).on("keydown.jstree",".jstree-anchor",c.proxy(function(b){if(b.target.tagName&&"input"===b.target.tagName.toLowerCase()||32!==b.which&&13!==b.which&&(b.shiftKey||b.ctrlKey||b.altKey||b.metaKey))return!0;var d=null;this._data.core.rtl&&(37===b.which?b.which=39:39===b.which&&(b.which=37));switch(b.which){case 32:b.ctrlKey&&(b.type="click",c(b.currentTarget).trigger(b));break;case 13:b.type="click";c(b.currentTarget).trigger(b);break;case 37:b.preventDefault();this.is_open(b.currentTarget)?this.close_node(b.currentTarget):(d=this.get_parent(b.currentTarget))&&d.id!==c.jstree.root&&this.get_node(d,!0).children(".jstree-anchor").focus();break;case 38:b.preventDefault();(d=this.get_prev_dom(b.currentTarget))&&d.length&&d.children(".jstree-anchor").focus();break;case 39:b.preventDefault();this.is_closed(b.currentTarget)?this.open_node(b.currentTarget,function(b){this.get_node(b,!0).children(".jstree-anchor").focus()}):this.is_open(b.currentTarget)&&(d=this.get_node(b.currentTarget,!0).children(".jstree-children")[0])&&c(this._firstChild(d)).children(".jstree-anchor").focus();break;case 40:b.preventDefault();(d=this.get_next_dom(b.currentTarget))&&d.length&&d.children(".jstree-anchor").focus();break;case 106:this.open_all();break;case 36:b.preventDefault();(d=this._firstChild(this.get_container_ul()[0]))&&c(d).children(".jstree-anchor").filter(":visible").focus();break;case 35:b.preventDefault(),this.element.find(".jstree-anchor").filter(":visible").last().focus()}},this)).on("load_node.jstree",c.proxy(function(b,d){d.status&&(d.node.id!==c.jstree.root||this._data.core.loaded||(this._data.core.loaded=!0,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.trigger("loaded")),this._data.core.ready||setTimeout(c.proxy(function(){if(this.element&&!this.get_container_ul().find(".jstree-loading").length){this._data.core.ready=!0;if(this._data.core.selected.length){if(this.settings.core.expand_selected_onload){var b=[],d,g;d=0;for(g=this._data.core.selected.length;d<g;d++)b=b.concat(this._model.data[this._data.core.selected[d]].parents);b=c.vakata.array_unique(b);d=0;for(g=b.length;d<g;d++)this.open_node(b[d],!1,0)}this.trigger("changed",{action:"ready",selected:this._data.core.selected})}this.trigger("ready")}},this),0))},this)).on("keypress.jstree",c.proxy(function(e){if(e.target.tagName&&"input"===e.target.tagName.toLowerCase())return!0;d&&clearTimeout(d);d=setTimeout(function(){b=""},500);var f=String.fromCharCode(e.which).toLowerCase();e=this.element.find(".jstree-anchor").filter(":visible");var h=e.index(m.activeElement)||0,k=!1;b+=f;if(1<b.length){e.slice(h).each(c.proxy(function(d,e){if(0===c(e).text().toLowerCase().indexOf(b))return c(e).focus(),k=!0,!1},this));if(k)return;e.slice(0,h).each(c.proxy(function(d,e){if(0===c(e).text().toLowerCase().indexOf(b))return c(e).focus(),k=!0,!1},this));if(k)return}(new RegExp("^"+f.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$\x26")+"+$")).test(b)&&(e.slice(h+1).each(c.proxy(function(b,d){if(c(d).text().toLowerCase().charAt(0)===f)return c(d).focus(),k=!0,!1},this)),k||e.slice(0,h+1).each(c.proxy(function(b,d){if(c(d).text().toLowerCase().charAt(0)===f)return c(d).focus(),k=!0,!1},this)))},this)).on("init.jstree",c.proxy(function(){var b=this.settings.core.themes;this._data.core.themes.dots=b.dots;this._data.core.themes.stripes=b.stripes;this._data.core.themes.icons=b.icons;this.set_theme(b.name||"default",b.url);this.set_theme_variant(b.variant)},this)).on("loading.jstree",c.proxy(function(){this[this._data.core.themes.dots?"show_dots":"hide_dots"]();this[this._data.core.themes.icons?"show_icons":"hide_icons"]();this[this._data.core.themes.stripes?"show_stripes":"hide_stripes"]()},this)).on("blur.jstree",".jstree-anchor",c.proxy(function(b){this._data.core.focused=null;c(b.currentTarget).filter(".jstree-hovered").mouseleave();this.element.attr("tabindex","0")},this)).on("focus.jstree",".jstree-anchor",c.proxy(function(b){var d=this.get_node(b.currentTarget);d&&d.id&&(this._data.core.focused=d.id);this.element.find(".jstree-hovered").not(b.currentTarget).mouseleave();c(b.currentTarget).mouseenter();this.element.attr("tabindex","-1")},this)).on("focus.jstree",c.proxy(function(){if(500<+new Date-e&&!this._data.core.focused){e=0;var b=this.get_node(this.element.attr("aria-activedescendant"),!0);b&&b.find("\x3e .jstree-anchor").focus()}},this)).on("mouseenter.jstree",".jstree-anchor",c.proxy(function(b){this.hover_node(b.currentTarget)},this)).on("mouseleave.jstree",".jstree-anchor",c.proxy(function(b){this.dehover_node(b.currentTarget)},this))},unbind:function(){this.element.off(".jstree");c(m).off(".jstree-"+this._id)},trigger:function(b,c){c||(c={});c.instance=this;this.element.triggerHandler(b.replace(".jstree","")+".jstree",c)},get_container:function(){return this.element},get_container_ul:function(){return this.element.children(".jstree-children").first()},get_string:function(b){var d=this.settings.core.strings;return c.isFunction(d)?d.call(this,b):d&&d[b]?d[b]:b},_firstChild:function(b){for(b=b?b.firstChild:null;null!==b&&1!==b.nodeType;)b=b.nextSibling;return b},_nextSibling:function(b){for(b=b?b.nextSibling:null;null!==b&&1!==b.nodeType;)b=b.nextSibling;return b},_previousSibling:function(b){for(b=b?b.previousSibling:null;null!==b&&1!==b.nodeType;)b=b.previousSibling;return b},get_node:function(b,d){b&&b.id&&(b=b.id);var e;try{if(this._model.data[b])b=this._model.data[b];else if("string"===typeof b&&this._model.data[b.replace(/^#/,"")])b=this._model.data[b.replace(/^#/,"")];else if("string"===typeof b&&(e=c("#"+b.replace(c.jstree.idregex,"\\$\x26"),this.element)).length&&this._model.data[e.closest(".jstree-node").attr("id")])b=this._model.data[e.closest(".jstree-node").attr("id")];else if((e=c(b,this.element)).length&&this._model.data[e.closest(".jstree-node").attr("id")])b=this._model.data[e.closest(".jstree-node").attr("id")];else if((e=c(b,this.element)).length&&e.hasClass("jstree"))b=this._model.data[c.jstree.root];else return!1;d&&(b=b.id===c.jstree.root?this.element:c("#"+b.id.replace(c.jstree.idregex,"\\$\x26"),this.element));return b}catch(f){return!1}},get_path:function(b,d,e){b=b.parents?b:this.get_node(b);if(!b||b.id===c.jstree.root||!b.parents)return!1;var f,h,k=[];k.push(e?b.id:b.text);f=0;for(h=b.parents.length;f<h;f++)k.push(e?b.parents[f]:this.get_text(b.parents[f]));k=k.reverse().slice(1);return d?k.join(d):k},get_next_dom:function(b,d){var e;b=this.get_node(b,!0);if(b[0]===this.element[0]){for(e=this._firstChild(this.get_container_ul()[0]);e&&0===e.offsetHeight;)e=this._nextSibling(e);return e?c(e):!1}if(!b||!b.length)return!1;if(d){e=b[0];do e=this._nextSibling(e);while(e&&0===e.offsetHeight);return e?c(e):!1}if(b.hasClass("jstree-open")){for(e=this._firstChild(b.children(".jstree-children")[0]);e&&0===e.offsetHeight;)e=this._nextSibling(e);if(null!==e)return c(e)}e=b[0];do e=this._nextSibling(e);while(e&&0===e.offsetHeight);return null!==e?c(e):b.parentsUntil(".jstree",".jstree-node").nextAll(".jstree-node:visible").first()},get_prev_dom:function(b,d){var e;b=this.get_node(b,!0);if(b[0]===this.element[0]){for(e=this.get_container_ul()[0].lastChild;e&&0===e.offsetHeight;)e=this._previousSibling(e);return e?c(e):!1}if(!b||!b.length)return!1;if(d){e=b[0];do e=this._previousSibling(e);while(e&&0===e.offsetHeight);return e?c(e):!1}e=b[0];do e=this._previousSibling(e);while(e&&0===e.offsetHeight);if(null!==e){for(b=c(e);b.hasClass("jstree-open");)b=b.children(".jstree-children").first().children(".jstree-node:visible:last");return b}return(e=b[0].parentNode.parentNode)&&e.className&&-1!==e.className.indexOf("jstree-node")?c(e):!1},get_parent:function(b){return(b=this.get_node(b))&&b.id!==c.jstree.root?b.parent:!1},get_children_dom:function(b){b=this.get_node(b,!0);return b[0]===this.element[0]?this.get_container_ul().children(".jstree-node"):b&&b.length?b.children(".jstree-children").children(".jstree-node"):!1},is_parent:function(b){return(b=this.get_node(b))&&(!1===b.state.loaded||0<b.children.length)},is_loaded:function(b){return(b=this.get_node(b))&&b.state.loaded},is_loading:function(b){return(b=this.get_node(b))&&b.state&&b.state.loading},is_open:function(b){return(b=this.get_node(b))&&b.state.opened},is_closed:function(b){return(b=this.get_node(b))&&this.is_parent(b)&&!b.state.opened},is_leaf:function(b){return!this.is_parent(b)},load_node:function(b,d){var e,f,h,k,l;if(c.isArray(b))return this._load_nodes(b.slice(),d),!0;b=this.get_node(b);if(!b)return d&&d.call(this,b,!1),!1;if(b.state.loaded){b.state.loaded=!1;e=0;for(f=b.children_d.length;e<f;e++){h=0;for(k=b.parents.length;h<k;h++)this._model.data[b.parents[h]].children_d=c.vakata.array_remove_item(this._model.data[b.parents[h]].children_d,b.children_d[e]);this._model.data[b.children_d[e]].state.selected&&(l=!0,this._data.core.selected=c.vakata.array_remove_item(this._data.core.selected,b.children_d[e]));delete this._model.data[b.children_d[e]]}b.children=[];b.children_d=[];l&&this.trigger("changed",{action:"load_node",node:b,selected:this._data.core.selected})}b.state.failed=!1;b.state.loading=!0;this.get_node(b,!0).addClass("jstree-loading").attr("aria-busy",!0);this._load_node(b,c.proxy(function(c){b=this._model.data[b.id];b.state.loading=!1;b.state.loaded=c;b.state.failed=!b.state.loaded;var e=this.get_node(b,!0),f,h,k=this._model.data,l=!1;f=0;for(h=b.children.length;f<h;f++)if(k[b.children[f]]&&!k[b.children[f]].state.hidden){l=!0;break}b.state.loaded&&!l&&e&&e.length&&!e.hasClass("jstree-leaf")&&e.removeClass("jstree-closed jstree-open").addClass("jstree-leaf");e.removeClass("jstree-loading").attr("aria-busy",!1);this.trigger("load_node",{node:b,status:c});d&&d.call(this,b,c)},this));return!0},_load_nodes:function(b,c,d){var e=!0,f=function(){this._load_nodes(b,c,!0)},h=this._model.data,k,l,m=[];k=0;for(l=b.length;k<l;k++)!h[b[k]]||(h[b[k]].state.loaded||h[b[k]].state.failed)&&d||(this.is_loading(b[k])||this.load_node(b[k],f),e=!1);if(e){k=0;for(l=b.length;k<l;k++)h[b[k]]&&h[b[k]].state.loaded&&m.push(b[k]);c&&!c.done&&(c.call(this,m),c.done=!0)}},load_all:function(b,d){b||(b=c.jstree.root);b=this.get_node(b);if(!b)return!1;var e=[],f=this._model.data,h=f[b.id].children_d,k,l;b.state&&!b.state.loaded&&e.push(b.id);k=0;for(l=h.length;k<l;k++)f[h[k]]&&f[h[k]].state&&!f[h[k]].state.loaded&&e.push(h[k]);e.length?this._load_nodes(e,function(){this.load_all(b,d)}):(d&&d.call(this,b),this.trigger("load_all",{node:b}))},_load_node:function(b,d){var e=this.settings.core.data;if(!e)return b.id===c.jstree.root?this._append_html_data(b,this._data.core.original_container_html.clone(!0),function(b){d.call(this,b)}):d.call(this,!1);if(c.isFunction(e))return e.call(this,b,c.proxy(function(e){!1===e&&d.call(this,!1);this["string"===typeof e?"_append_html_data":"_append_json_data"](b,"string"===typeof e?c(c.parseHTML(e)).filter(function(){return 3!==this.nodeType}):e,function(b){d.call(this,b)})},this));if("object"===typeof e){if(e.url)return e=c.extend(!0,{},e),c.isFunction(e.url)&&(e.url=e.url.call(this,b)),c.isFunction(e.data)&&(e.data=e.data.call(this,b)),c.ajax(e).done(c.proxy(function(e,f,h){if((f=h.getResponseHeader("Content-Type"))&&-1!==f.indexOf("json")||"object"===typeof e)return this._append_json_data(b,e,function(b){d.call(this,b)});if(f&&-1!==f.indexOf("html")||"string"===typeof e)return this._append_html_data(b,c(c.parseHTML(e)).filter(function(){return 3!==this.nodeType}),function(b){d.call(this,b)});this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:b.id,xhr:h})};this.settings.core.error.call(this,this._data.core.last_error);return d.call(this,!1)},this)).fail(c.proxy(function(c){d.call(this,!1);this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:b.id,xhr:c})};this.settings.core.error.call(this,this._data.core.last_error)},this));e=c.isArray(e)||c.isPlainObject(e)?JSON.parse(JSON.stringify(e)):e;if(b.id===c.jstree.root)return this._append_json_data(b,e,function(b){d.call(this,b)});this._data.core.last_error={error:"nodata",plugin:"core",id:"core_05",reason:"Could not load node",data:JSON.stringify({id:b.id})};this.settings.core.error.call(this,this._data.core.last_error);return d.call(this,!1)}if("string"===typeof e){if(b.id===c.jstree.root)return this._append_html_data(b,c(c.parseHTML(e)).filter(function(){return 3!==this.nodeType}),function(b){d.call(this,b)});this._data.core.last_error={error:"nodata",plugin:"core",id:"core_06",reason:"Could not load node",data:JSON.stringify({id:b.id})};this.settings.core.error.call(this,this._data.core.last_error)}return d.call(this,!1)},_node_changed:function(b){(b=this.get_node(b))&&this._model.changed.push(b.id)},_append_html_data:function(b,d,e){b=this.get_node(b);b.children=[];b.children_d=[];d=d.is("ul")?d.children():d;var f=b.id,h=[],k=[],l=this._model.data,m=l[f];b=this._data.core.selected.length;var n,p;d.each(c.proxy(function(b,d){if(n=this._parse_model_from_html(c(d),f,m.parents.concat()))h.push(n),k.push(n),l[n].children_d.length&&(k=k.concat(l[n].children_d))},this));m.children=h;m.children_d=k;d=0;for(p=m.parents.length;d<p;d++)l[m.parents[d]].children_d=l[m.parents[d]].children_d.concat(k);this.trigger("model",{nodes:k,parent:f});f!==c.jstree.root?(this._node_changed(f),this.redraw()):(this.get_container_ul().children(".jstree-initial-node").remove(),this.redraw(!0));this._data.core.selected.length!==b&&this.trigger("changed",{action:"model",selected:this._data.core.selected});e.call(this,!0)},_append_json_data:function(b,d,e,f){if(null!==this.element){b=this.get_node(b);b.children=[];b.children_d=[];d.d&&(d=d.d,"string"===typeof d&&(d=JSON.parse(d)));c.isArray(d)||(d=[d]);var h=null,k={df:this._model.default_state,dat:d,par:b.id,m:this._model.data,t_id:this._id,t_cnt:this._cnt,sel:this._data.core.selected},l=function(b,c){b.data&&(b=b.data);var d=b.dat,g=b.par,e=[],f=[],h=[],k=b.df,l=b.t_id,m=b.t_cnt,t=b.m,n=t[g],p=b.sel,w,r,u,z=function(b,d,g){g=g?g.concat():[];d&&g.unshift(d);var e=b.id.toString(),f,l,m;d={id:e,text:b.text||"",icon:b.icon!==c?b.icon:!0,parent:d,parents:g,children:b.children||[],children_d:b.children_d||[],data:b.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(f in k)k.hasOwnProperty(f)&&(d.state[f]=k[f]);b&&b.data&&b.data.jstree&&b.data.jstree.icon&&(d.icon=b.data.jstree.icon);if(d.icon===c||null===d.icon||""===d.icon)d.icon=!0;if(b&&b.data&&(d.data=b.data,b.data.jstree))for(f in b.data.jstree)b.data.jstree.hasOwnProperty(f)&&(d.state[f]=b.data.jstree[f]);if(b&&"object"===typeof b.state)for(f in b.state)b.state.hasOwnProperty(f)&&(d.state[f]=b.state[f]);if(b&&"object"===typeof b.li_attr)for(f in b.li_attr)b.li_attr.hasOwnProperty(f)&&(d.li_attr[f]=b.li_attr[f]);d.li_attr.id||(d.li_attr.id=e);if(b&&"object"===typeof b.a_attr)for(f in b.a_attr)b.a_attr.hasOwnProperty(f)&&(d.a_attr[f]=b.a_attr[f]);b&&b.children&&!0===b.children&&(d.state.loaded=!1,d.children=[],d.children_d=[]);t[d.id]=d;f=0;for(e=d.children.length;f<e;f++)l=z(t[d.children[f]],d.id,g),m=t[l],d.children_d.push(l),m.children_d.length&&(d.children_d=d.children_d.concat(m.children_d));delete b.data;delete b.children;t[d.id].original=b;d.state.selected&&h.push(d.id);return d.id},y=function(b,d,g){g=g?g.concat():[];d&&g.unshift(d);var e,f,q,n;do e="j"+l+"_"+ ++m;while(t[e]);d={id:!1,text:"string"===typeof b?b:"",icon:"object"===typeof b&&b.icon!==c?b.icon:!0,parent:d,parents:g,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(f in k)k.hasOwnProperty(f)&&(d.state[f]=k[f]);b&&b.id&&(d.id=b.id.toString());b&&b.text&&(d.text=b.text);b&&b.data&&b.data.jstree&&b.data.jstree.icon&&(d.icon=b.data.jstree.icon);if(d.icon===c||null===d.icon||""===d.icon)d.icon=!0;if(b&&b.data&&(d.data=b.data,b.data.jstree))for(f in b.data.jstree)b.data.jstree.hasOwnProperty(f)&&(d.state[f]=b.data.jstree[f]);if(b&&"object"===typeof b.state)for(f in b.state)b.state.hasOwnProperty(f)&&(d.state[f]=b.state[f]);if(b&&"object"===typeof b.li_attr)for(f in b.li_attr)b.li_attr.hasOwnProperty(f)&&(d.li_attr[f]=b.li_attr[f]);d.li_attr.id&&!d.id&&(d.id=d.li_attr.id.toString());d.id||(d.id=e);d.li_attr.id||(d.li_attr.id=d.id);if(b&&"object"===typeof b.a_attr)for(f in b.a_attr)b.a_attr.hasOwnProperty(f)&&(d.a_attr[f]=b.a_attr[f]);if(b&&b.children&&b.children.length){f=0;for(e=b.children.length;f<e;f++)q=y(b.children[f],d.id,g),n=t[q],d.children.push(q),n.children_d.length&&(d.children_d=d.children_d.concat(n.children_d));d.children_d=d.children_d.concat(d.children)}b&&b.children&&!0===b.children&&(d.state.loaded=!1,d.children=[],d.children_d=[]);delete b.data;delete b.children;d.original=b;t[d.id]=d;d.state.selected&&h.push(d.id);return d.id};if(d.length&&d[0].id!==c&&d[0].parent!==c){r=0;for(u=d.length;r<u;r++)d[r].children||(d[r].children=[]),t[d[r].id.toString()]=d[r];r=0;for(u=d.length;r<u;r++)t[d[r].parent.toString()].children.push(d[r].id.toString()),n.children_d.push(d[r].id.toString());r=0;for(u=n.children.length;r<u;r++)w=z(t[n.children[r]],g,n.parents.concat()),f.push(w),t[w].children_d.length&&(f=f.concat(t[w].children_d))}else{r=0;for(u=d.length;r<u;r++)if(w=y(d[r],g,n.parents.concat()))e.push(w),f.push(w),t[w].children_d.length&&(f=f.concat(t[w].children_d));n.children=e;n.children_d=f}r=0;for(u=n.parents.length;r<u;r++)t[n.parents[r]].children_d=t[n.parents[r]].children_d.concat(f);d={cnt:m,mod:t,sel:p,par:g,dpc:f,add:h};if("undefined"===typeof window||"undefined"===typeof window.document)postMessage(d);else return d},m=function(b,d){if(null!==this.element){this._cnt=b.cnt;this._model.data=b.mod;if(d){var g,f,h=b.add,k=b.sel,l=this._data.core.selected.slice(),m=this._model.data;if(k.length!==l.length||c.vakata.array_unique(k.concat(l)).length!==k.length){g=0;for(f=k.length;g<f;g++)-1===c.inArray(k[g],h)&&-1===c.inArray(k[g],l)&&(m[k[g]].state.selected=!1);g=0;for(f=l.length;g<f;g++)-1===c.inArray(l[g],k)&&(m[l[g]].state.selected=!0)}}b.add.length&&(this._data.core.selected=this._data.core.selected.concat(b.add));this.trigger("model",{nodes:b.dpc,parent:b.par});b.par!==c.jstree.root?(this._node_changed(b.par),this.redraw()):this.redraw(!0);b.add.length&&this.trigger("changed",{action:"model",selected:this._data.core.selected});e.call(this,!0)}};if(this.settings.core.worker&&window.Blob&&window.URL&&window.Worker)try{null===this._wrk&&(this._wrk=window.URL.createObjectURL(new window.Blob(["self.onmessage \x3d "+l.toString()],{type:"text/javascript"}))),!this._data.core.working||f?(this._data.core.working=!0,h=new window.Worker(this._wrk),h.onmessage=c.proxy(function(b){m.call(this,b.data,!0);try{h.terminate(),h=null}catch(c){}this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1},this),k.par?h.postMessage(k):this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1):this._data.core.worker_queue.push([b,d,e,!0])}catch(n){m.call(this,l(k),!1),this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1}else m.call(this,l(k),!1)}},_parse_model_from_html:function(b,d,e){e=e?[].concat(e):[];d&&e.unshift(d);var f,h,k=this._model.data,l={id:!1,text:!1,icon:!0,parent:d,parents:e,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1},m;for(m in this._model.default_state)this._model.default_state.hasOwnProperty(m)&&(l.state[m]=this._model.default_state[m]);d=c.vakata.attributes(b,!0);c.each(d,function(b,d){d=c.trim(d);if(!d.length)return!0;l.li_attr[b]=d;"id"===b&&(l.id=d.toString())});d=b.children("a").first();d.length&&(d=c.vakata.attributes(d,!0),c.each(d,function(b,d){d=c.trim(d);d.length&&(l.a_attr[b]=d)}));d=b.children("a").first().length?b.children("a").first().clone():b.clone();d.children("ins, i, ul").remove();d=d.html();d=c("\x3cdiv /\x3e").html(d);l.text=this.settings.core.force_text?d.text():d.html();d=b.data();l.data=d?c.extend(!0,{},d):null;l.state.opened=b.hasClass("jstree-open");l.state.selected=b.children("a").hasClass("jstree-clicked");l.state.disabled=b.children("a").hasClass("jstree-disabled");if(l.data&&l.data.jstree)for(m in l.data.jstree)l.data.jstree.hasOwnProperty(m)&&(l.state[m]=l.data.jstree[m]);d=b.children("a").children(".jstree-themeicon");d.length&&(l.icon=d.hasClass("jstree-themeicon-hidden")?!1:d.attr("rel"));l.state.icon!==p&&(l.icon=l.state.icon);if(l.icon===p||null===l.icon||""===l.icon)l.icon=!0;d=b.children("ul").children("li");do m="j"+this._id+"_"+ ++this._cnt;while(k[m]);l.id=l.li_attr.id?l.li_attr.id.toString():m;d.length?(d.each(c.proxy(function(b,d){f=this._parse_model_from_html(c(d),l.id,e);h=this._model.data[f];l.children.push(f);h.children_d.length&&(l.children_d=l.children_d.concat(h.children_d))},this)),l.children_d=l.children_d.concat(l.children)):b.hasClass("jstree-closed")&&(l.state.loaded=!1);l.li_attr["class"]&&(l.li_attr["class"]=l.li_attr["class"].replace("jstree-closed","").replace("jstree-open",""));l.a_attr["class"]&&(l.a_attr["class"]=l.a_attr["class"].replace("jstree-clicked","").replace("jstree-disabled",""));k[l.id]=l;l.state.selected&&this._data.core.selected.push(l.id);return l.id},_parse_model_from_flat_json:function(b,c,d){d=d?d.concat():[];c&&d.unshift(c);var e=b.id.toString(),f=this._model.data,h=this._model.default_state,k,l;c={id:e,text:b.text||"",icon:b.icon!==p?b.icon:!0,parent:c,parents:d,children:b.children||[],children_d:b.children_d||[],data:b.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(k in h)h.hasOwnProperty(k)&&(c.state[k]=h[k]);b&&b.data&&b.data.jstree&&b.data.jstree.icon&&(c.icon=b.data.jstree.icon);if(c.icon===p||null===c.icon||""===c.icon)c.icon=!0;if(b&&b.data&&(c.data=b.data,b.data.jstree))for(k in b.data.jstree)b.data.jstree.hasOwnProperty(k)&&(c.state[k]=b.data.jstree[k]);if(b&&"object"===typeof b.state)for(k in b.state)b.state.hasOwnProperty(k)&&(c.state[k]=b.state[k]);if(b&&"object"===typeof b.li_attr)for(k in b.li_attr)b.li_attr.hasOwnProperty(k)&&(c.li_attr[k]=b.li_attr[k]);c.li_attr.id||(c.li_attr.id=e);if(b&&"object"===typeof b.a_attr)for(k in b.a_attr)b.a_attr.hasOwnProperty(k)&&(c.a_attr[k]=b.a_attr[k]);b&&b.children&&!0===b.children&&(c.state.loaded=!1,c.children=[],c.children_d=[]);f[c.id]=c;k=0;for(e=c.children.length;k<e;k++)h=this._parse_model_from_flat_json(f[c.children[k]],c.id,d),l=f[h],c.children_d.push(h),l.children_d.length&&(c.children_d=c.children_d.concat(l.children_d));delete b.data;delete b.children;f[c.id].original=b;c.state.selected&&this._data.core.selected.push(c.id);return c.id},_parse_model_from_json:function(b,c,d){d=d?d.concat():[];c&&d.unshift(c);var e,f,h,k,l=this._model.data;h=this._model.default_state;do e="j"+this._id+"_"+ ++this._cnt;while(l[e]);c={id:!1,text:"string"===typeof b?b:"",icon:"object"===typeof b&&b.icon!==p?b.icon:!0,parent:c,parents:d,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(f in h)h.hasOwnProperty(f)&&(c.state[f]=h[f]);b&&b.id&&(c.id=b.id.toString());b&&b.text&&(c.text=b.text);b&&b.data&&b.data.jstree&&b.data.jstree.icon&&(c.icon=b.data.jstree.icon);if(c.icon===p||null===c.icon||""===c.icon)c.icon=!0;if(b&&b.data&&(c.data=b.data,b.data.jstree))for(f in b.data.jstree)b.data.jstree.hasOwnProperty(f)&&(c.state[f]=b.data.jstree[f]);if(b&&"object"===typeof b.state)for(f in b.state)b.state.hasOwnProperty(f)&&(c.state[f]=b.state[f]);if(b&&"object"===typeof b.li_attr)for(f in b.li_attr)b.li_attr.hasOwnProperty(f)&&(c.li_attr[f]=b.li_attr[f]);c.li_attr.id&&!c.id&&(c.id=c.li_attr.id.toString());c.id||(c.id=e);c.li_attr.id||(c.li_attr.id=c.id);if(b&&"object"===typeof b.a_attr)for(f in b.a_attr)b.a_attr.hasOwnProperty(f)&&(c.a_attr[f]=b.a_attr[f]);if(b&&b.children&&b.children.length){f=0;for(e=b.children.length;f<e;f++)h=this._parse_model_from_json(b.children[f],c.id,d),k=l[h],c.children.push(h),k.children_d.length&&(c.children_d=c.children_d.concat(k.children_d));c.children_d=c.children_d.concat(c.children)}b&&b.children&&!0===b.children&&(c.state.loaded=!1,c.children=[],c.children_d=[]);delete b.data;delete b.children;c.original=b;l[c.id]=c;c.state.selected&&this._data.core.selected.push(c.id);return c.id},_redraw:function(){var b=this._model.force_full_redraw?this._model.data[c.jstree.root].children.concat([]):this._model.changed.concat([]),d=m.createElement("UL"),e,f,h,k=this._data.core.focused;f=0;for(h=b.length;f<h;f++)(e=this.redraw_node(b[f],!0,this._model.force_full_redraw))&&this._model.force_full_redraw&&d.appendChild(e);this._model.force_full_redraw&&(d.className=this.get_container_ul()[0].className,d.setAttribute("role","group"),this.element.empty().append(d));null!==k&&((e=this.get_node(k,!0))&&e.length&&e.children(".jstree-anchor")[0]!==m.activeElement?e.children(".jstree-anchor").focus():this._data.core.focused=null);this._model.force_full_redraw=!1;this._model.changed=[];this.trigger("redraw",{nodes:b})},redraw:function(b){b&&(this._model.force_full_redraw=!0);this._redraw()},draw_children:function(b){var d=this.get_node(b),e,f,h;if(!d)return!1;if(d.id===c.jstree.root)return this.redraw(!0);b=this.get_node(b,!0);if(!b||!b.length)return!1;b.children(".jstree-children").remove();b=b[0];if(d.children.length&&d.state.loaded){h=m.createElement("UL");h.setAttribute("role","group");h.className="jstree-children";e=0;for(f=d.children.length;e<f;e++)h.appendChild(this.redraw_node(d.children[e],!0,!0));b.appendChild(h)}},redraw_node:function(b,d,e,f){var h=this.get_node(b),k=!1,l=!1,n=!1,p=!1,u=!1,v=!1,x="",v=this._model.data,q=!1,H=null,x=u=0,L=!1,I=!1;if(!h)return!1;if(h.id===c.jstree.root)return this.redraw(!0);d=d||0===h.children.length;if(b=m.querySelector?this.element[0].querySelector("#"+(-1!=="0123456789".indexOf(h.id[0])?"\\3"+h.id[0]+" "+h.id.substr(1).replace(c.jstree.idregex,"\\$\x26"):h.id.replace(c.jstree.idregex,"\\$\x26"))):m.getElementById(h.id))b=c(b),e||(k=b.parent().parent()[0],k===this.element[0]&&(k=null),l=b.index()),d||!h.children.length||b.children(".jstree-children").length||(d=!0),d||(n=b.children(".jstree-children")[0]),q=b.children(".jstree-anchor")[0]===m.activeElement,b.remove();else if(d=!0,!e){k=h.parent!==c.jstree.root?c("#"+h.parent.replace(c.jstree.idregex,"\\$\x26"),this.element)[0]:null;if(!(null===k||k&&v[h.parent].state.opened))return!1;l=c.inArray(h.id,null===k?v[c.jstree.root].children:v[h.parent].children)}b=r.cloneNode(!0);x="jstree-node ";for(p in h.li_attr)h.li_attr.hasOwnProperty(p)&&"id"!==p&&("class"!==p?b.setAttribute(p,h.li_attr[p]):x+=h.li_attr[p]);h.a_attr.id||(h.a_attr.id=h.id+"_anchor");b.setAttribute("aria-selected",!!h.state.selected);b.setAttribute("aria-level",h.parents.length);b.setAttribute("aria-labelledby",h.a_attr.id);h.state.disabled&&b.setAttribute("aria-disabled",!0);p=0;for(u=h.children.length;p<u;p++)if(!v[h.children[p]].state.hidden){L=!0;break}if(null!==h.parent&&v[h.parent]&&!h.state.hidden&&(p=c.inArray(h.id,v[h.parent].children),I=h.id,-1!==p))for(p++,u=v[h.parent].children.length;p<u&&(v[v[h.parent].children[p]].state.hidden||(I=v[h.parent].children[p]),I===h.id);p++);h.state.hidden&&(x+=" jstree-hidden");h.state.loaded&&!L?x+=" jstree-leaf":(x+=h.state.opened&&h.state.loaded?" jstree-open":" jstree-closed",b.setAttribute("aria-expanded",h.state.opened&&h.state.loaded));I===h.id&&(x+=" jstree-last");b.id=h.id;b.className=x;x=(h.state.selected?" jstree-clicked":"")+(h.state.disabled?" jstree-disabled":"");for(u in h.a_attr)!h.a_attr.hasOwnProperty(u)||"href"===u&&"#"===h.a_attr[u]||("class"!==u?b.childNodes[1].setAttribute(u,h.a_attr[u]):x+=" "+h.a_attr[u]);x.length&&(b.childNodes[1].className="jstree-anchor "+x);if(h.icon&&!0!==h.icon||!1===h.icon)!1===h.icon?b.childNodes[1].childNodes[0].className+=" jstree-themeicon-hidden":-1===h.icon.indexOf("/")&&-1===h.icon.indexOf(".")?b.childNodes[1].childNodes[0].className+=" "+h.icon+" jstree-themeicon-custom":(b.childNodes[1].childNodes[0].style.backgroundImage="url("+h.icon+")",b.childNodes[1].childNodes[0].style.backgroundPosition="center center",b.childNodes[1].childNodes[0].style.backgroundSize="auto",b.childNodes[1].childNodes[0].className+=" jstree-themeicon-custom");this.settings.core.force_text?b.childNodes[1].appendChild(m.createTextNode(h.text)):b.childNodes[1].innerHTML+=h.text;if(d&&h.children.length&&(h.state.opened||f)&&h.state.loaded){v=m.createElement("UL");v.setAttribute("role","group");v.className="jstree-children";p=0;for(u=h.children.length;p<u;p++)v.appendChild(this.redraw_node(h.children[p],d,!0));b.appendChild(v)}n&&b.appendChild(n);if(!e){k||(k=this.element[0]);p=0;for(u=k.childNodes.length;p<u;p++)if(k.childNodes[p]&&k.childNodes[p].className&&-1!==k.childNodes[p].className.indexOf("jstree-children")){H=k.childNodes[p];break}H||(H=m.createElement("UL"),H.setAttribute("role","group"),H.className="jstree-children",k.appendChild(H));k=H;l<k.childNodes.length?k.insertBefore(b,k.childNodes[l]):k.appendChild(b);q&&(u=this.element[0].scrollTop,x=this.element[0].scrollLeft,b.childNodes[1].focus(),this.element[0].scrollTop=u,this.element[0].scrollLeft=x)}h.state.opened&&!h.state.loaded&&(h.state.opened=!1,setTimeout(c.proxy(function(){this.open_node(h.id,!1,0)},this),0));return b},open_node:function(b,d,e){var f,h,k;if(c.isArray(b)){b=b.slice();f=0;for(h=b.length;f<h;f++)this.open_node(b[f],d,e);return!0}b=this.get_node(b);if(!b||b.id===c.jstree.root)return!1;e=e===p?this.settings.core.animation:e;if(!this.is_closed(b))return d&&d.call(this,b,!1),!1;if(this.is_loaded(b))f=this.get_node(b,!0),k=this,f.length&&(e&&f.children(".jstree-children").length&&f.children(".jstree-children").stop(!0,!0),b.children.length&&!this._firstChild(f.children(".jstree-children")[0])&&this.draw_children(b),e?(this.trigger("before_open",{node:b}),f.children(".jstree-children").css("display","none").end().removeClass("jstree-closed").addClass("jstree-open").attr("aria-expanded",!0).children(".jstree-children").stop(!0,!0).slideDown(e,function(){this.style.display="";k.trigger("after_open",{node:b})})):(this.trigger("before_open",{node:b}),f[0].className=f[0].className.replace("jstree-closed","jstree-open"),f[0].setAttribute("aria-expanded",!0))),b.state.opened=!0,d&&d.call(this,b,!0),f.length||this.trigger("before_open",{node:b}),this.trigger("open_node",{node:b}),e&&f.length||this.trigger("after_open",{node:b});else{if(this.is_loading(b))return setTimeout(c.proxy(function(){this.open_node(b,d,e)},this),500);this.load_node(b,function(b,c){return c?this.open_node(b,d,e):d?d.call(this,b,!1):!1})}},_open_to:function(b){b=this.get_node(b);if(!b||b.id===c.jstree.root)return!1;var d,e,f=b.parents;d=0;for(e=f.length;d<e;d+=1)d!==c.jstree.root&&this.open_node(f[d],!1,0);return c("#"+b.id.replace(c.jstree.idregex,"\\$\x26"),this.element)},close_node:function(b,d){var e,f,h,k;if(c.isArray(b)){b=b.slice();e=0;for(f=b.length;e<f;e++)this.close_node(b[e],d);return!0}b=this.get_node(b);if(!b||b.id===c.jstree.root||this.is_closed(b))return!1;d=d===p?this.settings.core.animation:d;h=this;k=this.get_node(b,!0);k.length&&(d?k.children(".jstree-children").attr("style","display:block !important").end().removeClass("jstree-open").addClass("jstree-closed").attr("aria-expanded",!1).children(".jstree-children").stop(!0,!0).slideUp(d,function(){this.style.display="";k.children(".jstree-children").remove();h.trigger("after_close",{node:b})}):(k[0].className=k[0].className.replace("jstree-open","jstree-closed"),k.attr("aria-expanded",!1).children(".jstree-children").remove()));b.state.opened=!1;this.trigger("close_node",{node:b});d&&k.length||this.trigger("after_close",{node:b})},toggle_node:function(b){var d,e;if(c.isArray(b)){b=b.slice();d=0;for(e=b.length;d<e;d++)this.toggle_node(b[d]);return!0}if(this.is_closed(b))return this.open_node(b);if(this.is_open(b))return this.close_node(b)},open_all:function(b,d,e){b||(b=c.jstree.root);b=this.get_node(b);if(!b)return!1;var f=b.id===c.jstree.root?this.get_container_ul():this.get_node(b,!0),h,k;if(!f.length){f=0;for(h=b.children_d.length;f<h;f++)this.is_closed(this._model.data[b.children_d[f]])&&(this._model.data[b.children_d[f]].state.opened=!0);return this.trigger("open_all",{node:b})}e=e||f;k=this;f=this.is_closed(b)?f.find(".jstree-closed").addBack():f.find(".jstree-closed");f.each(function(){k.open_node(this,function(b,c){c&&this.is_parent(b)&&this.open_all(b,d,e)},d||0)});0===e.find(".jstree-closed").length&&this.trigger("open_all",{node:this.get_node(e)})},close_all:function(b,d){b||(b=c.jstree.root);b=this.get_node(b);if(!b)return!1;var e=b.id===c.jstree.root?this.get_container_ul():this.get_node(b,!0),f=this,h;e.length&&(e=this.is_open(b)?e.find(".jstree-open").addBack():e.find(".jstree-open"),c(e.get().reverse()).each(function(){f.close_node(this,d||0)}));e=0;for(h=b.children_d.length;e<h;e++)this._model.data[b.children_d[e]].state.opened=!1;this.trigger("close_all",{node:b})},is_disabled:function(b){return(b=this.get_node(b))&&b.state&&b.state.disabled},enable_node:function(b){var d,e;if(c.isArray(b)){b=b.slice();d=0;for(e=b.length;d<e;d++)this.enable_node(b[d]);return!0}b=this.get_node(b);if(!b||b.id===c.jstree.root)return!1;b.state.disabled=!1;this.get_node(b,!0).children(".jstree-anchor").removeClass("jstree-disabled").attr("aria-disabled",!1);this.trigger("enable_node",{node:b})},disable_node:function(b){var d,e;if(c.isArray(b)){b=b.slice();d=0;for(e=b.length;d<e;d++)this.disable_node(b[d]);return!0}b=this.get_node(b);if(!b||b.id===c.jstree.root)return!1;b.state.disabled=!0;this.get_node(b,!0).children(".jstree-anchor").addClass("jstree-disabled").attr("aria-disabled",!0);this.trigger("disable_node",{node:b})},hide_node:function(b,d){var e,f;if(c.isArray(b)){b=b.slice();e=0;for(f=b.length;e<f;e++)this.hide_node(b[e],!0);this.redraw();return!0}b=this.get_node(b);if(!b||b.id===c.jstree.root)return!1;b.state.hidden||(b.state.hidden=!0,this._node_changed(b.parent),d||this.redraw(),this.trigger("hide_node",{node:b}))},show_node:function(b,d){var e,f;if(c.isArray(b)){b=b.slice();e=0;for(f=b.length;e<f;e++)this.show_node(b[e],!0);this.redraw();return!0}b=this.get_node(b);if(!b||b.id===c.jstree.root)return!1;b.state.hidden&&(b.state.hidden=!1,this._node_changed(b.parent),d||this.redraw(),this.trigger("show_node",{node:b}))},hide_all:function(b){var d;b=this._model.data;var e=[];for(d in b)b.hasOwnProperty(d)&&d!==c.jstree.root&&!b[d].state.hidden&&(b[d].state.hidden=!0,e.push(d));this._model.force_full_redraw=!0;this.redraw();this.trigger("hide_all",{nodes:e});return e},show_all:function(b){var d;b=this._model.data;var e=[];for(d in b)b.hasOwnProperty(d)&&d!==c.jstree.root&&b[d].state.hidden&&(b[d].state.hidden=!1,e.push(d));this._model.force_full_redraw=!0;this.redraw();this.trigger("show_all",{nodes:e});return e},activate_node:function(b,c){if(this.is_disabled(b))return!1;c&&"object"===typeof c||(c={});this._data.core.last_clicked=this._data.core.last_clicked&&this._data.core.last_clicked.id!==p?this.get_node(this._data.core.last_clicked.id):null;this._data.core.last_clicked&&!this._data.core.last_clicked.state.selected&&(this._data.core.last_clicked=null);!this._data.core.last_clicked&&this._data.core.selected.length&&(this._data.core.last_clicked=this.get_node(this._data.core.selected[this._data.core.selected.length-1]));if(this.settings.core.multiple&&(c.metaKey||c.ctrlKey||c.shiftKey)&&(!c.shiftKey||this._data.core.last_clicked&&this.get_parent(b)&&this.get_parent(b)===this._data.core.last_clicked.parent))if(c.shiftKey){var d=this.get_node(b).id,e=this._data.core.last_clicked.id,f=this.get_node(this._data.core.last_clicked.parent).children,h=!1,k,l;k=0;for(l=f.length;k<l;k+=1)f[k]===d&&(h=!h),f[k]===e&&(h=!h),this.is_disabled(f[k])||!h&&f[k]!==d&&f[k]!==e?this.deselect_node(f[k],!0,c):this.select_node(f[k],!0,!1,c);this.trigger("changed",{action:"select_node",node:this.get_node(b),selected:this._data.core.selected,event:c})}else this.is_selected(b)?this.deselect_node(b,!1,c):this.select_node(b,!1,!1,c);else!this.settings.core.multiple&&(c.metaKey||c.ctrlKey||c.shiftKey)&&this.is_selected(b)?this.deselect_node(b,!1,c):(this.deselect_all(!0),this.select_node(b,!1,!1,c),this._data.core.last_clicked=this.get_node(b));this.trigger("activate_node",{node:this.get_node(b),event:c})},hover_node:function(b){b=this.get_node(b,!0);if(!b||!b.length||b.children(".jstree-hovered").length)return!1;var c=this.element.find(".jstree-hovered"),d=this.element;c&&c.length&&this.dehover_node(c);b.children(".jstree-anchor").addClass("jstree-hovered");this.trigger("hover_node",{node:this.get_node(b)});setTimeout(function(){d.attr("aria-activedescendant",b[0].id)},0)},dehover_node:function(b){b=this.get_node(b,!0);if(!b||!b.length||!b.children(".jstree-hovered").length)return!1;b.children(".jstree-anchor").removeClass("jstree-hovered");this.trigger("dehover_node",{node:this.get_node(b)})},select_node:function(b,d,e,f){var h,k;if(c.isArray(b)){b=b.slice();h=0;for(k=b.length;h<k;h++)this.select_node(b[h],d,e,f);return!0}b=this.get_node(b);if(!b||b.id===c.jstree.root)return!1;h=this.get_node(b,!0);b.state.selected||(b.state.selected=!0,this._data.core.selected.push(b.id),e||(h=this._open_to(b)),h&&h.length&&h.attr("aria-selected",!0).children(".jstree-anchor").addClass("jstree-clicked"),this.trigger("select_node",{node:b,selected:this._data.core.selected,event:f}),d||this.trigger("changed",{action:"select_node",node:b,selected:this._data.core.selected,event:f}))},deselect_node:function(b,d,e){var f,h;if(c.isArray(b)){b=b.slice();f=0;for(h=b.length;f<h;f++)this.deselect_node(b[f],d,e);return!0}b=this.get_node(b);if(!b||b.id===c.jstree.root)return!1;f=this.get_node(b,!0);b.state.selected&&(b.state.selected=!1,this._data.core.selected=c.vakata.array_remove_item(this._data.core.selected,b.id),f.length&&f.attr("aria-selected",!1).children(".jstree-anchor").removeClass("jstree-clicked"),this.trigger("deselect_node",{node:b,selected:this._data.core.selected,event:e}),d||this.trigger("changed",{action:"deselect_node",node:b,selected:this._data.core.selected,event:e}))},select_all:function(b){var d=this._data.core.selected.concat([]),e,f;this._data.core.selected=this._model.data[c.jstree.root].children_d.concat();e=0;for(f=this._data.core.selected.length;e<f;e++)this._model.data[this._data.core.selected[e]]&&(this._model.data[this._data.core.selected[e]].state.selected=!0);this.redraw(!0);this.trigger("select_all",{selected:this._data.core.selected});b||this.trigger("changed",{action:"select_all",selected:this._data.core.selected,old_selection:d})},deselect_all:function(b){var c=this._data.core.selected.concat([]),d,e;d=0;for(e=this._data.core.selected.length;d<e;d++)this._model.data[this._data.core.selected[d]]&&(this._model.data[this._data.core.selected[d]].state.selected=!1);this._data.core.selected=[];this.element.find(".jstree-clicked").removeClass("jstree-clicked").parent().attr("aria-selected",!1);this.trigger("deselect_all",{selected:this._data.core.selected,node:c});b||this.trigger("changed",{action:"deselect_all",selected:this._data.core.selected,old_selection:c})},is_selected:function(b){return(b=this.get_node(b))&&b.id!==c.jstree.root?b.state.selected:!1},get_selected:function(b){return b?c.map(this._data.core.selected,c.proxy(function(b){return this.get_node(b)},this)):this._data.core.selected.slice()},get_top_selected:function(b){var d=this.get_selected(!0),e={},f,h,k,l;f=0;for(h=d.length;f<h;f++)e[d[f].id]=d[f];f=0;for(h=d.length;f<h;f++)for(k=0,l=d[f].children_d.length;k<l;k++)e[d[f].children_d[k]]&&delete e[d[f].children_d[k]];d=[];for(f in e)e.hasOwnProperty(f)&&d.push(f);return b?c.map(d,c.proxy(function(b){return this.get_node(b)},this)):d},get_bottom_selected:function(b){var d=this.get_selected(!0),e=[],f,h;f=0;for(h=d.length;f<h;f++)d[f].children.length||e.push(d[f].id);return b?c.map(e,c.proxy(function(b){return this.get_node(b)},this)):e},get_state:function(){var b={core:{open:[],scroll:{left:this.element.scrollLeft(),top:this.element.scrollTop()},selected:[]}},d;for(d in this._model.data)this._model.data.hasOwnProperty(d)&&d!==c.jstree.root&&(this._model.data[d].state.opened&&b.core.open.push(d),this._model.data[d].state.selected&&b.core.selected.push(d));return b},set_state:function(b,d){if(b){if(b.core){var e,f;if(b.core.open)return c.isArray(b.core.open)&&b.core.open.length?this._load_nodes(b.core.open,function(c){this.open_node(c,!1,0);delete b.core.open;this.set_state(b,d)},!0):(delete b.core.open,this.set_state(b,d)),!1;if(b.core.scroll)return b.core.scroll&&b.core.scroll.left!==p&&this.element.scrollLeft(b.core.scroll.left),b.core.scroll&&b.core.scroll.top!==p&&this.element.scrollTop(b.core.scroll.top),delete b.core.scroll,this.set_state(b,d),!1;if(b.core.selected)return e=this,this.deselect_all(),c.each(b.core.selected,function(b,c){e.select_node(c,!1,!0)}),delete b.core.selected,this.set_state(b,d),!1;for(f in b)b.hasOwnProperty(f)&&"core"!==f&&-1===c.inArray(f,this.settings.plugins)&&delete b[f];if(c.isEmptyObject(b.core))return delete b.core,this.set_state(b,d),!1}return c.isEmptyObject(b)?(b=null,d&&d.call(this),this.trigger("set_state"),!1):!0}return!1},refresh:function(b,d){this._data.core.state=!0===d?{}:this.get_state();d&&c.isFunction(d)&&(this._data.core.state=d.call(this,this._data.core.state));this._cnt=0;this._model.data={};this._model.data[c.jstree.root]={id:c.jstree.root,parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}};this._data.core.selected=[];this._data.core.last_clicked=null;this._data.core.focused=null;var e=this.get_container_ul()[0].className;b||(this.element.html("\x3cul class\x3d'"+e+"' role\x3d'group'\x3e\x3cli class\x3d'jstree-initial-node jstree-loading jstree-leaf jstree-last' role\x3d'treeitem' id\x3d'j"+this._id+"_loading'\x3e\x3ci class\x3d'jstree-icon jstree-ocl'\x3e\x3c/i\x3e\x3ca class\x3d'jstree-anchor' href\x3d'#'\x3e\x3ci class\x3d'jstree-icon jstree-themeicon-hidden'\x3e\x3c/i\x3e"+this.get_string("Loading ...")+"\x3c/a\x3e\x3c/li\x3e\x3c/ul\x3e"),this.element.attr("aria-activedescendant","j"+this._id+"_loading"));this.load_node(c.jstree.root,function(b,d){d&&(this.get_container_ul()[0].className=e,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.set_state(c.extend(!0,{},this._data.core.state),function(){this.trigger("refresh")}));this._data.core.state=null})},refresh_node:function(b){b=this.get_node(b);if(!b||b.id===c.jstree.root)return!1;var d=[],e=[];this._data.core.selected.concat([]);e.push(b.id);!0===b.state.opened&&d.push(b.id);this.get_node(b,!0).find(".jstree-open").each(function(){d.push(this.id)});this._load_nodes(e,c.proxy(function(c){this.open_node(d,!1,0);this.select_node(this._data.core.selected);this.trigger("refresh_node",{node:b,nodes:c})},this))},set_id:function(b,d){b=this.get_node(b);if(!b||b.id===c.jstree.root)return!1;var e,f,h=this._model.data;d=d.toString();h[b.parent].children[c.inArray(b.id,h[b.parent].children)]=d;e=0;for(f=b.parents.length;e<f;e++)h[b.parents[e]].children_d[c.inArray(b.id,h[b.parents[e]].children_d)]=d;e=0;for(f=b.children.length;e<f;e++)h[b.children[e]].parent=d;e=0;for(f=b.children_d.length;e<f;e++)h[b.children_d[e]].parents[c.inArray(b.id,h[b.children_d[e]].parents)]=d;e=c.inArray(b.id,this._data.core.selected);-1!==e&&(this._data.core.selected[e]=d);if(e=this.get_node(b.id,!0))e.attr("id",d).children(".jstree-anchor").attr("id",d+"_anchor").end().attr("aria-labelledby",d+"_anchor"),this.element.attr("aria-activedescendant")===b.id&&this.element.attr("aria-activedescendant",d);delete h[b.id];b.id=d;b.li_attr.id=d;h[d]=b;return!0},get_text:function(b){return(b=this.get_node(b))&&b.id!==c.jstree.root?b.text:!1},set_text:function(b,d){var e,f;if(c.isArray(b)){b=b.slice();e=0;for(f=b.length;e<f;e++)this.set_text(b[e],d);return!0}b=this.get_node(b);if(!b||b.id===c.jstree.root)return!1;b.text=d;this.get_node(b,!0).length&&this.redraw_node(b.id);this.trigger("set_text",{obj:b,text:d});return!0},get_json:function(b,d,e){b=this.get_node(b||c.jstree.root);if(!b)return!1;d&&d.flat&&!e&&(e=[]);var f={id:b.id,text:b.text,icon:this.get_icon(b),li_attr:c.extend(!0,{},b.li_attr),a_attr:c.extend(!0,{},b.a_attr),state:{},data:d&&d.no_data?!1:c.extend(!0,{},b.data)},h,k;d&&d.flat?f.parent=b.parent:f.children=[];if(!d||!d.no_state)for(h in b.state)b.state.hasOwnProperty(h)&&(f.state[h]=b.state[h]);d&&d.no_id&&(delete f.id,f.li_attr&&f.li_attr.id&&delete f.li_attr.id,f.a_attr&&f.a_attr.id&&delete f.a_attr.id);d&&d.flat&&b.id!==c.jstree.root&&e.push(f);if(!d||!d.no_children)for(h=0,k=b.children.length;h<k;h++)d&&d.flat?this.get_json(b.children[h],d,e):f.children.push(this.get_json(b.children[h],d));return d&&d.flat?e:b.id===c.jstree.root?f.children:f},create_node:function(b,d,e,f,h){null===b&&(b=c.jstree.root);b=this.get_node(b);if(!b)return!1;e=e===p?"last":e;if(!e.toString().match(/^(before|after)$/)&&!h&&!this.is_loaded(b))return this.load_node(b,function(){this.create_node(b,d,e,f,!0)});d||(d={text:this.get_string("New node")});"string"===typeof d&&(d={text:d});d.text===p&&(d.text=this.get_string("New node"));var k,l,m;b.id===c.jstree.root&&("before"===e&&(e="first"),"after"===e&&(e="last"));switch(e){case "before":h=this.get_node(b.parent);e=c.inArray(b.id,h.children);b=h;break;case "after":h=this.get_node(b.parent);e=c.inArray(b.id,h.children)+1;b=h;break;case "inside":case "first":e=0;break;case "last":e=b.children.length;break;default:e||(e=0)}e>b.children.length&&(e=b.children.length);d.id||(d.id=!0);if(!this.check("create_node",d,b,e))return this.settings.core.error.call(this,this._data.core.last_error),!1;!0===d.id&&delete d.id;d=this._parse_model_from_json(d,b.id,b.parents.concat());if(!d)return!1;h=this.get_node(d);k=[];k.push(d);k=k.concat(h.children_d);this.trigger("model",{nodes:k,parent:b.id});b.children_d=b.children_d.concat(k);l=0;for(m=b.parents.length;l<m;l++)this._model.data[b.parents[l]].children_d=this._model.data[b.parents[l]].children_d.concat(k);d=h;h=[];l=0;for(m=b.children.length;l<m;l++)h[l>=e?l+1:l]=b.children[l];h[e]=d.id;b.children=h;this.redraw_node(b,!0);f&&f.call(this,this.get_node(d));this.trigger("create_node",{node:this.get_node(d),parent:b.id,position:e});return d.id},rename_node:function(b,d){alert("aaaa");var e,f;if(c.isArray(b)){b=b.slice();e=0;for(f=b.length;e<f;e++)this.rename_node(b[e],d);return!0}b=this.get_node(b);if(!b||b.id===c.jstree.root)return!1;e=b.text;alert("bbb");if(!this.check("rename_node",b,this.get_parent(b),d))return alert("mmm"),this.settings.core.error.call(this,this._data.core.last_error),!1;alert("ccc");this.set_text(b,d);this.trigger("rename_node",{node:b,text:d,old:e});return!0},delete_node:function(b){var d,e,f,h,k,l,m,n;if(c.isArray(b)){b=b.slice();d=0;for(e=b.length;d<e;d++)this.delete_node(b[d]);return!0}b=this.get_node(b);if(!b||b.id===c.jstree.root)return!1;d=this.get_node(b.parent);e=c.inArray(b.id,d.children);n=!1;if(!this.check("delete_node",b,d,e))return this.settings.core.error.call(this,this._data.core.last_error),!1;-1!==e&&(d.children=c.vakata.array_remove(d.children,e));f=b.children_d.concat([]);f.push(b.id);l=0;for(m=f.length;l<m;l++){h=0;for(k=b.parents.length;h<k;h++)e=c.inArray(f[l],this._model.data[b.parents[h]].children_d),-1!==e&&(this._model.data[b.parents[h]].children_d=c.vakata.array_remove(this._model.data[b.parents[h]].children_d,e));this._model.data[f[l]].state.selected&&(n=!0,e=c.inArray(f[l],this._data.core.selected),-1!==e&&(this._data.core.selected=c.vakata.array_remove(this._data.core.selected,e)))}this.trigger("delete_node",{node:b,parent:d.id});n&&this.trigger("changed",{action:"delete_node",node:b,selected:this._data.core.selected,parent:d.id});l=0;for(m=f.length;l<m;l++)delete this._model.data[f[l]];-1!==c.inArray(this._data.core.focused,f)&&(this._data.core.focused=null,b=this.element[0].scrollTop,e=this.element[0].scrollLeft,d.id===c.jstree.root?this.get_node(this._model.data[c.jstree.root].children[0],!0).children(".jstree-anchor").focus():this.get_node(d,!0).children(".jstree-anchor").focus(),this.element[0].scrollTop=b,this.element[0].scrollLeft=e);this.redraw_node(d,!0);return!0},check:function(b,d,e,f,h){d=d&&d.id?d:this.get_node(d);e=e&&e.id?e:this.get_node(e);var k=b.match(/^move_node|copy_node|create_node$/i)?e:d,l=this.settings.core.check_callback;if(!("move_node"!==b&&"copy_node"!==b||h&&h.is_multi||d.id!==e.id&&c.inArray(d.id,e.children)!==f&&-1===c.inArray(e.id,d.children_d)))return this._data.core.last_error={error:"check",plugin:"core",id:"core_01",reason:"Moving parent inside child",data:JSON.stringify({chk:b,pos:f,obj:d&&d.id?d.id:!1,par:e&&e.id?e.id:!1})},!1;k&&k.data&&(k=k.data);return k&&k.functions&&(!1===k.functions[b]||!0===k.functions[b])?(!1===k.functions[b]&&(this._data.core.last_error={error:"check",plugin:"core",id:"core_02",reason:"Node data prevents function: "+b,data:JSON.stringify({chk:b,pos:f,obj:d&&d.id?d.id:!1,par:e&&e.id?e.id:!1})}),k.functions[b]):!1===l||c.isFunction(l)&&!1===l.call(this,b,d,e,f,h)||l&&!1===l[b]?(this._data.core.last_error={error:"check",plugin:"core",id:"core_03",reason:"User config for core.check_callback prevents function: "+b,data:JSON.stringify({chk:b,pos:f,obj:d&&d.id?d.id:!1,par:e&&e.id?e.id:!1})},!1):!0},last_error:function(){return this._data.core.last_error},move_node:function(b,d,e,f,h,k,l){var m,n,r,u,v,q,x,L,I,K;d=this.get_node(d);e=e===p?0:e;if(!d)return!1;if(!e.toString().match(/^(before|after)$/)&&!h&&!this.is_loaded(d))return this.load_node(d,function(){this.move_node(b,d,e,f,!0,!1,l)});if(c.isArray(b))if(1===b.length)b=b[0];else{k=0;for(m=b.length;k<m;k++)if(v=this.move_node(b[k],d,e,f,h,!1,l))d=v,e="after";this.redraw();return!0}b=b&&b.id?b:this.get_node(b);if(!b||b.id===c.jstree.root)return!1;m=(b.parent||c.jstree.root).toString();r=e.toString().match(/^(before|after)$/)&&d.id!==c.jstree.root?this.get_node(d.parent):d;u=l?l:this._model.data[b.id]?this:c.jstree.reference(b.id);v=!u||!u._id||this._id!==u._id;n=u&&u._id&&m&&u._model.data[m]&&u._model.data[m].children?c.inArray(b.id,u._model.data[m].children):-1;u&&u._id&&(b=u._model.data[b.id]);if(v)return(v=this.copy_node(b,d,e,f,h,!1,l))?(u&&u.delete_node(b),v):!1;d.id===c.jstree.root&&("before"===e&&(e="first"),"after"===e&&(e="last"));switch(e){case "before":e=c.inArray(d.id,r.children);break;case "after":e=c.inArray(d.id,r.children)+1;break;case "inside":case "first":e=0;break;case "last":e=r.children.length;break;default:e||(e=0)}e>r.children.length&&(e=r.children.length);if(!this.check("move_node",b,r,e,{core:!0,origin:l,is_multi:u&&u._id&&u._id!==this._id,is_foreign:!u||!u._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(b.parent===r.id){h=r.children.concat();v=c.inArray(b.id,h);-1!==v&&(h=c.vakata.array_remove(h,v),e>v&&e--);v=[];q=0;for(x=h.length;q<x;q++)v[q>=e?q+1:q]=h[q];v[e]=b.id;r.children=v;this._node_changed(r.id);this.redraw(r.id===c.jstree.root)}else{v=b.children_d.concat();v.push(b.id);q=0;for(x=b.parents.length;q<x;q++){h=[];K=u._model.data[b.parents[q]].children_d;L=0;for(I=K.length;L<I;L++)-1===c.inArray(K[L],v)&&h.push(K[L]);u._model.data[b.parents[q]].children_d=h}u._model.data[m].children=c.vakata.array_remove_item(u._model.data[m].children,b.id);q=0;for(x=r.parents.length;q<x;q++)this._model.data[r.parents[q]].children_d=this._model.data[r.parents[q]].children_d.concat(v);h=[];q=0;for(x=r.children.length;q<x;q++)h[q>=e?q+1:q]=r.children[q];h[e]=b.id;r.children=h;r.children_d.push(b.id);r.children_d=r.children_d.concat(b.children_d);b.parent=r.id;v=r.parents.concat();v.unshift(r.id);K=b.parents.length;b.parents=v;v=v.concat();q=0;for(x=b.children_d.length;q<x;q++)this._model.data[b.children_d[q]].parents=this._model.data[b.children_d[q]].parents.slice(0,-1*K),Array.prototype.push.apply(this._model.data[b.children_d[q]].parents,v);if(m===c.jstree.root||r.id===c.jstree.root)this._model.force_full_redraw=!0;this._model.force_full_redraw||(this._node_changed(m),this._node_changed(r.id));k||this.redraw()}f&&f.call(this,b,r,e);this.trigger("move_node",{node:b,parent:r.id,position:e,old_parent:m,old_position:n,is_multi:u&&u._id&&u._id!==this._id,is_foreign:!u||!u._id,old_instance:u,new_instance:this});return b.id},copy_node:function(b,d,e,f,h,k,l){var m,n,r,u,v,q;d=this.get_node(d);e=e===p?0:e;if(!d)return!1;if(!e.toString().match(/^(before|after)$/)&&!h&&!this.is_loaded(d))return this.load_node(d,function(){this.copy_node(b,d,e,f,!0,!1,l)});if(c.isArray(b))if(1===b.length)b=b[0];else{k=0;for(m=b.length;k<m;k++)if(n=this.copy_node(b[k],d,e,f,h,!0,l))d=n,e="after";this.redraw();return!0}b=b&&b.id?b:this.get_node(b);if(!b||b.id===c.jstree.root)return!1;m=(b.parent||c.jstree.root).toString();v=e.toString().match(/^(before|after)$/)&&d.id!==c.jstree.root?this.get_node(d.parent):d;(q=l?l:this._model.data[b.id]?this:c.jstree.reference(b.id))&&q._id&&(b=q._model.data[b.id]);d.id===c.jstree.root&&("before"===e&&(e="first"),"after"===e&&(e="last"));switch(e){case "before":e=c.inArray(d.id,v.children);break;case "after":e=c.inArray(d.id,v.children)+1;break;case "inside":case "first":e=0;break;case "last":e=v.children.length;break;default:e||(e=0)}e>v.children.length&&(e=v.children.length);if(!this.check("copy_node",b,v,e,{core:!0,origin:l,is_multi:q&&q._id&&q._id!==this._id,is_foreign:!q||!q._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;r=q?q.get_json(b,{no_id:!0,no_data:!0,no_state:!0}):b;if(!r)return!1;!0===r.id&&delete r.id;r=this._parse_model_from_json(r,v.id,v.parents.concat());if(!r)return!1;n=this.get_node(r);b&&b.state&&!1===b.state.loaded&&(n.state.loaded=!1);h=[];h.push(r);h=h.concat(n.children_d);this.trigger("model",{nodes:h,parent:v.id});r=0;for(u=v.parents.length;r<u;r++)this._model.data[v.parents[r]].children_d=this._model.data[v.parents[r]].children_d.concat(h);h=[];r=0;for(u=v.children.length;r<u;r++)h[r>=e?r+1:r]=v.children[r];h[e]=n.id;v.children=h;v.children_d.push(n.id);v.children_d=v.children_d.concat(n.children_d);v.id===c.jstree.root&&(this._model.force_full_redraw=!0);this._model.force_full_redraw||this._node_changed(v.id);k||this.redraw(v.id===c.jstree.root);f&&f.call(this,n,v,e);this.trigger("copy_node",{node:n,original:b,parent:v.id,position:e,old_parent:m,old_position:q&&q._id&&m&&q._model.data[m]&&q._model.data[m].children?c.inArray(b.id,q._model.data[m].children):-1,is_multi:q&&q._id&&q._id!==this._id,is_foreign:!q||!q._id,old_instance:q,new_instance:this});return n.id},cut:function(b){b||(b=this._data.core.selected.concat());c.isArray(b)||(b=[b]);if(!b.length)return!1;var d=[],f,k,m;k=0;for(m=b.length;k<m;k++)(f=this.get_node(b[k]))&&f.id&&f.id!==c.jstree.root&&d.push(f);if(!d.length)return!1;h=d;e=this;l="move_node";this.trigger("cut",{node:b})},copy:function(b){b||(b=this._data.core.selected.concat());c.isArray(b)||(b=[b]);if(!b.length)return!1;var d=[],f,k,m;k=0;for(m=b.length;k<m;k++)(f=this.get_node(b[k]))&&f.id&&f.id!==c.jstree.root&&d.push(f);if(!d.length)return!1;h=d;e=this;l="copy_node";this.trigger("copy",{node:b})},get_buffer:function(){return{mode:l,node:h,inst:e}},can_paste:function(){return!1!==l&&!1!==h},paste:function(b,c){b=this.get_node(b);if(!(b&&l&&l.match(/^(copy_node|move_node)$/)&&h))return!1;this[l](h,b,c,!1,!1,!1,e)&&this.trigger("paste",{parent:b.id,node:h,mode:l});e=l=h=!1},clear_buffer:function(){e=l=h=!1;this.trigger("clear_buffer")},edit:function(b,d,e){var f,h,k,l,m,n,p,r,u=!1;b=this.get_node(b);if(!b)return!1;if(!1===this.settings.core.check_callback)return this._data.core.last_error={error:"check",plugin:"core",id:"core_07",reason:"Could not edit node because of check_callback"},this.settings.core.error.call(this,this._data.core.last_error),!1;r=b;d="string"===typeof d?d:b.text;this.set_text(b,"");b=this._open_to(b);r.text=d;f=this._data.core.rtl;h=this.element.width();this._data.core.focused=r.id;k=b.children(".jstree-anchor").focus();l=c("\x3cspan\x3e");m=d;n=c("\x3cdiv /\x3e",{css:{position:"absolute",top:"-200px",left:f?"0px":"-1000px",visibility:"hidden"}}).appendTo("body");p=c("\x3cinput /\x3e",{value:m,"class":"jstree-rename-input",css:{padding:"0",border:"1px solid silver","box-sizing":"border-box",display:"inline-block",height:this._data.core.li_height+"px",lineHeight:this._data.core.li_height+"px",width:"150px"},blur:c.proxy(function(d){d.stopImmediatePropagation();d.preventDefault();d=l.children(".jstree-rename-input").val();var f=this.settings.core.force_text;""===d&&(d=m);n.remove();l.replaceWith(k);l.remove();m=f?m:c("\x3cdiv\x3e\x3c/div\x3e").append(c.parseHTML(m)).html();this.set_text(b,m);(d=!!this.rename_node(b,f?c("\x3cdiv\x3e\x3c/div\x3e").text(d).text():c("\x3cdiv\x3e\x3c/div\x3e").append(c.parseHTML(d)).html()))||this.set_text(b,m);this._data.core.focused=r.id;setTimeout(c.proxy(function(){var b=this.get_node(r.id,!0);b.length&&(this._data.core.focused=r.id,b.children(".jstree-anchor").focus())},this),0);e&&e.call(this,r,d,u)},this),keydown:function(b){var c=b.which;27===c&&(u=!0,this.value=m);27!==c&&13!==c&&37!==c&&38!==c&&39!==c&&40!==c&&32!==c||b.stopImmediatePropagation();if(27===c||13===c)b.preventDefault(),this.blur()},click:function(b){b.stopImmediatePropagation()},mousedown:function(b){b.stopImmediatePropagation()},keyup:function(b){p.width(Math.min(n.text("pW"+this.value).width(),h))},keypress:function(b){if(13===b.which)return!1}});d={fontFamily:k.css("fontFamily")||"",fontSize:k.css("fontSize")||"",fontWeight:k.css("fontWeight")||"",fontStyle:k.css("fontStyle")||"",fontStretch:k.css("fontStretch")||"",fontVariant:k.css("fontVariant")||"",letterSpacing:k.css("letterSpacing")||"",wordSpacing:k.css("wordSpacing")||""};l.attr("class",k.attr("class")).append(k.contents().clone()).append(p);k.replaceWith(l);n.css(d);p.css(d).width(Math.min(n.text("pW"+p[0].value).width(),h))[0].select()},set_theme:function(b,d){if(!b)return!1;if(!0===d){var e=this.settings.core.themes.dir;e||(e=c.jstree.path+"/themes");d=e+"/"+b+"/style.css"}d&&-1===c.inArray(d,n)&&(c("head").append('\x3clink rel\x3d"stylesheet" href\x3d"'+d+'" type\x3d"text/css" /\x3e'),n.push(d));this._data.core.themes.name&&this.element.removeClass("jstree-"+this._data.core.themes.name);this._data.core.themes.name=b;this.element.addClass("jstree-"+b);this.element[this.settings.core.themes.responsive?"addClass":"removeClass"]("jstree-"+b+"-responsive");this.trigger("set_theme",{theme:b})},get_theme:function(){return this._data.core.themes.name},set_theme_variant:function(b){this._data.core.themes.variant&&this.element.removeClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant);(this._data.core.themes.variant=b)&&this.element.addClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant)},get_theme_variant:function(){return this._data.core.themes.variant},show_stripes:function(){this._data.core.themes.stripes=!0;this.get_container_ul().addClass("jstree-striped")},hide_stripes:function(){this._data.core.themes.stripes=!1;this.get_container_ul().removeClass("jstree-striped")},toggle_stripes:function(){this._data.core.themes.stripes?this.hide_stripes():this.show_stripes()},show_dots:function(){this._data.core.themes.dots=!0;this.get_container_ul().removeClass("jstree-no-dots")},hide_dots:function(){this._data.core.themes.dots=!1;this.get_container_ul().addClass("jstree-no-dots")},toggle_dots:function(){this._data.core.themes.dots?this.hide_dots():this.show_dots()},show_icons:function(){this._data.core.themes.icons=!0;this.get_container_ul().removeClass("jstree-no-icons")},hide_icons:function(){this._data.core.themes.icons=!1;this.get_container_ul().addClass("jstree-no-icons")},toggle_icons:function(){this._data.core.themes.icons?this.hide_icons():this.show_icons()},set_icon:function(b,d){var e,f;if(c.isArray(b)){b=b.slice();e=0;for(f=b.length;e<f;e++)this.set_icon(b[e],d);return!0}b=this.get_node(b);if(!b||b.id===c.jstree.root)return!1;f=b.icon;b.icon=!0===d||null===d||d===p||""===d?!0:d;e=this.get_node(b,!0).children(".jstree-anchor").children(".jstree-themeicon");!1===d?this.hide_icon(b):(!0===d||null===d||d===p||""===d?e.removeClass("jstree-themeicon-custom "+f).css("background","").removeAttr("rel"):-1===d.indexOf("/")&&-1===d.indexOf(".")?(e.removeClass(f).css("background",""),e.addClass(d+" jstree-themeicon-custom").attr("rel",d)):(e.removeClass(f).css("background",""),e.addClass("jstree-themeicon-custom").css("background","url('"+d+"') center center no-repeat").attr("rel",d)),!1===f&&this.show_icon(b));return!0},get_icon:function(b){return(b=this.get_node(b))&&b.id!==c.jstree.root?b.icon:!1},hide_icon:function(b){var d,e;if(c.isArray(b)){b=b.slice();d=0;for(e=b.length;d<e;d++)this.hide_icon(b[d]);return!0}b=this.get_node(b);if(!b||b===c.jstree.root)return!1;b.icon=!1;this.get_node(b,!0).children(".jstree-anchor").children(".jstree-themeicon").addClass("jstree-themeicon-hidden");return!0},show_icon:function(b){var d,e;if(c.isArray(b)){b=b.slice();d=0;for(e=b.length;d<e;d++)this.show_icon(b[d]);return!0}b=this.get_node(b);if(!b||b===c.jstree.root)return!1;d=this.get_node(b,!0);b.icon=d.length?d.children(".jstree-anchor").children(".jstree-themeicon").attr("rel"):!0;b.icon||(b.icon=!0);d.children(".jstree-anchor").children(".jstree-themeicon").removeClass("jstree-themeicon-hidden");return!0}};c.vakata={};c.vakata.attributes=function(b,d){b=c(b)[0];var e=d?{}:[];b&&b.attributes&&c.each(b.attributes,function(b,f){-1===c.inArray(f.name.toLowerCase(),["style","contenteditable","hasfocus","tabindex"])&&null!==f.value&&""!==c.trim(f.value)&&(d?e[f.name]=f.value:e.push(f.name))});return e};c.vakata.array_unique=function(b){var c=[],d,e,f={};d=0;for(e=b.length;d<e;d++)f[b[d]]===p&&(c.push(b[d]),f[b[d]]=!0);return c};c.vakata.array_remove=function(b,c,d){d=b.slice((d||c)+1||b.length);b.length=0>c?b.length+c:c;b.push.apply(b,d);return b};c.vakata.array_remove_item=function(b,d){var e=c.inArray(d,b);return-1!==e?c.vakata.array_remove(b,e):b};c.jstree.plugins.changed=function(b,c){var d=[];this.trigger=function(b,e){var f,g;e||(e={});if("changed"===b.replace(".jstree","")){e.changed={selected:[],deselected:[]};var h={};f=0;for(g=d.length;f<g;f++)h[d[f]]=1;f=0;for(g=e.selected.length;f<g;f++)h[e.selected[f]]?h[e.selected[f]]=2:e.changed.selected.push(e.selected[f]);f=0;for(g=d.length;f<g;f++)1===h[d[f]]&&e.changed.deselected.push(d[f]);d=e.selected.slice()}c.trigger.call(this,b,e)};this.refresh=function(b,e){d=[];return c.refresh.apply(this,arguments)}};var u=m.createElement("I");u.className="jstree-icon jstree-checkbox";u.setAttribute("role","presentation");c.jstree.defaults.checkbox={visible:!0,three_state:!0,whole_node:!0,keep_selected_style:!0,cascade:"",tie_selection:!0};c.jstree.plugins.checkbox=function(b,d){this.bind=function(){d.bind.call(this);this._data.checkbox.uto=!1;this._data.checkbox.selected=[];this.settings.checkbox.three_state&&(this.settings.checkbox.cascade="up+down+undetermined");this.element.on("init.jstree",c.proxy(function(){this._data.checkbox.visible=this.settings.checkbox.visible;this.settings.checkbox.keep_selected_style||this.element.addClass("jstree-checkbox-no-clicked");this.settings.checkbox.tie_selection&&this.element.addClass("jstree-checkbox-selection")},this)).on("loading.jstree",c.proxy(function(){this[this._data.checkbox.visible?"show_checkboxes":"hide_checkboxes"]()},this));if(-1!==this.settings.checkbox.cascade.indexOf("undetermined"))this.element.on("changed.jstree uncheck_node.jstree check_node.jstree uncheck_all.jstree check_all.jstree move_node.jstree copy_node.jstree redraw.jstree open_node.jstree",c.proxy(function(){this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto);this._data.checkbox.uto=setTimeout(c.proxy(this._undetermined,this),50)},this));if(!this.settings.checkbox.tie_selection)this.element.on("model.jstree",c.proxy(function(b,c){var d=this._model.data,e=c.nodes,f,g;f=0;for(g=e.length;f<g;f++)d[e[f]].state.checked=d[e[f]].state.checked||d[e[f]].original&&d[e[f]].original.state&&d[e[f]].original.state.checked,d[e[f]].state.checked&&this._data.checkbox.selected.push(e[f])},this));if(-1!==this.settings.checkbox.cascade.indexOf("up")||-1!==this.settings.checkbox.cascade.indexOf("down"))this.element.on("model.jstree",c.proxy(function(b,d){var e=this._model.data,f=e[d.parent],g=d.nodes,h=[],k,l,m,n,q=this.settings.checkbox.cascade,p=this.settings.checkbox.tie_selection;if(-1!==q.indexOf("down"))if(f.state[p?"selected":"checked"]){k=0;for(l=g.length;k<l;k++)e[g[k]].state[p?"selected":"checked"]=!0;this._data[p?"core":"checkbox"].selected=this._data[p?"core":"checkbox"].selected.concat(g)}else for(k=0,l=g.length;k<l;k++)if(e[g[k]].state[p?"selected":"checked"]){m=0;for(n=e[g[k]].children_d.length;m<n;m++)e[e[g[k]].children_d[m]].state[p?"selected":"checked"]=!0;this._data[p?"core":"checkbox"].selected=this._data[p?"core":"checkbox"].selected.concat(e[g[k]].children_d)}if(-1!==q.indexOf("up")){k=0;for(l=f.children_d.length;k<l;k++)e[f.children_d[k]].children.length||h.push(e[f.children_d[k]].parent);h=c.vakata.array_unique(h);m=0;for(n=h.length;m<n;m++)for(f=e[h[m]];f&&f.id!==c.jstree.root;){k=g=0;for(l=f.children.length;k<l;k++)g+=e[f.children[k]].state[p?"selected":"checked"];if(g===l)f.state[p?"selected":"checked"]=!0,this._data[p?"core":"checkbox"].selected.push(f.id),(k=this.get_node(f,!0))&&k.length&&k.attr("aria-selected",!0).children(".jstree-anchor").addClass(p?"jstree-clicked":"jstree-checked");else break;f=this.get_node(f.parent)}}this._data[p?"core":"checkbox"].selected=c.vakata.array_unique(this._data[p?"core":"checkbox"].selected)},this)).on(this.settings.checkbox.tie_selection?"select_node.jstree":"check_node.jstree",c.proxy(function(b,d){var e=d.node,f=this._model.data,g=this.get_node(e.parent),h=this.get_node(e,!0),k,l,m,n=this.settings.checkbox.cascade,q=this.settings.checkbox.tie_selection;if(-1!==n.indexOf("down"))for(this._data[q?"core":"checkbox"].selected=c.vakata.array_unique(this._data[q?"core":"checkbox"].selected.concat(e.children_d)),k=0,l=e.children_d.length;k<l;k++)m=f[e.children_d[k]],m.state[q?"selected":"checked"]=!0,m&&m.original&&m.original.state&&m.original.state.undetermined&&(m.original.state.undetermined=!1);if(-1!==n.indexOf("up"))for(;g&&g.id!==c.jstree.root;){k=e=0;for(l=g.children.length;k<l;k++)e+=f[g.children[k]].state[q?"selected":"checked"];if(e===l)g.state[q?"selected":"checked"]=!0,this._data[q?"core":"checkbox"].selected.push(g.id),(m=this.get_node(g,!0))&&m.length&&m.attr("aria-selected",!0).children(".jstree-anchor").addClass(q?"jstree-clicked":"jstree-checked");else break;g=this.get_node(g.parent)}-1!==n.indexOf("down")&&h.length&&h.find(".jstree-anchor").addClass(q?"jstree-clicked":"jstree-checked").parent().attr("aria-selected",!0)},this)).on(this.settings.checkbox.tie_selection?"deselect_all.jstree":"uncheck_all.jstree",c.proxy(function(b,d){var e=this.get_node(c.jstree.root),f=this._model.data,g,h,k;g=0;for(h=e.children_d.length;g<h;g++)(k=f[e.children_d[g]])&&k.original&&k.original.state&&k.original.state.undetermined&&(k.original.state.undetermined=!1)},this)).on(this.settings.checkbox.tie_selection?"deselect_node.jstree":"uncheck_node.jstree",c.proxy(function(b,d){var e=d.node,f=this.get_node(e,!0),g,h,k,l=this.settings.checkbox.cascade,m=this.settings.checkbox.tie_selection;e&&e.original&&e.original.state&&e.original.state.undetermined&&(e.original.state.undetermined=!1);if(-1!==l.indexOf("down"))for(g=0,h=e.children_d.length;g<h;g++)k=this._model.data[e.children_d[g]],k.state[m?"selected":"checked"]=!1,k&&k.original&&k.original.state&&k.original.state.undetermined&&(k.original.state.undetermined=!1);if(-1!==l.indexOf("up"))for(g=0,h=e.parents.length;g<h;g++)k=this._model.data[e.parents[g]],k.state[m?"selected":"checked"]=!1,k&&k.original&&k.original.state&&k.original.state.undetermined&&(k.original.state.undetermined=!1),(k=this.get_node(e.parents[g],!0))&&k.length&&k.attr("aria-selected",!1).children(".jstree-anchor").removeClass(m?"jstree-clicked":"jstree-checked");k=[];g=0;for(h=this._data[m?"core":"checkbox"].selected.length;g<h;g++)-1!==l.indexOf("down")&&-1!==c.inArray(this._data[m?"core":"checkbox"].selected[g],e.children_d)||-1!==l.indexOf("up")&&-1!==c.inArray(this._data[m?"core":"checkbox"].selected[g],e.parents)||k.push(this._data[m?"core":"checkbox"].selected[g]);this._data[m?"core":"checkbox"].selected=c.vakata.array_unique(k);-1!==l.indexOf("down")&&f.length&&f.find(".jstree-anchor").removeClass(m?"jstree-clicked":"jstree-checked").parent().attr("aria-selected",!1)},this));if(-1!==this.settings.checkbox.cascade.indexOf("up"))this.element.on("delete_node.jstree",c.proxy(function(b,d){for(var e=this.get_node(d.parent),f=this._model.data,g,h,k,l=this.settings.checkbox.tie_selection;e&&e.id!==c.jstree.root;){g=k=0;for(h=e.children.length;g<h;g++)k+=f[e.children[g]].state[l?"selected":"checked"];if(k===h)e.state[l?"selected":"checked"]=!0,this._data[l?"core":"checkbox"].selected.push(e.id),(g=this.get_node(e,!0))&&g.length&&g.attr("aria-selected",!0).children(".jstree-anchor").addClass(l?"jstree-clicked":"jstree-checked");else break;e=this.get_node(e.parent)}},this)).on("move_node.jstree",c.proxy(function(b,d){var e=d.is_multi,f=d.old_parent,g=this.get_node(d.parent),h=this._model.data,k,l,m=this.settings.checkbox.tie_selection;if(!e)for(e=this.get_node(f);e&&e.id!==c.jstree.root;){k=f=0;for(l=e.children.length;k<l;k++)f+=h[e.children[k]].state[m?"selected":"checked"];if(f===l)e.state[m?"selected":"checked"]=!0,this._data[m?"core":"checkbox"].selected.push(e.id),(f=this.get_node(e,!0))&&f.length&&f.attr("aria-selected",!0).children(".jstree-anchor").addClass(m?"jstree-clicked":"jstree-checked");else break;e=this.get_node(e.parent)}for(e=g;e&&e.id!==c.jstree.root;){k=f=0;for(l=e.children.length;k<l;k++)f+=h[e.children[k]].state[m?"selected":"checked"];if(f===l)e.state[m?"selected":"checked"]||(e.state[m?"selected":"checked"]=!0,this._data[m?"core":"checkbox"].selected.push(e.id),(f=this.get_node(e,!0))&&f.length&&f.attr("aria-selected",!0).children(".jstree-anchor").addClass(m?"jstree-clicked":"jstree-checked"));else if(e.state[m?"selected":"checked"])e.state[m?"selected":"checked"]=!1,this._data[m?"core":"checkbox"].selected=c.vakata.array_remove_item(this._data[m?"core":"checkbox"].selected,e.id),(f=this.get_node(e,!0))&&f.length&&f.attr("aria-selected",!1).children(".jstree-anchor").removeClass(m?"jstree-clicked":"jstree-checked");else break;e=this.get_node(e.parent)}},this))};this._undetermined=function(){if(null!==this.element){var b,d,e,f,g={},h=this._model.data,k=this.settings.checkbox.tie_selection,l=this._data[k?"core":"checkbox"].selected,m=[],n=this;b=0;for(d=l.length;b<d;b++)if(h[l[b]]&&h[l[b]].parents)for(e=0,f=h[l[b]].parents.length;e<f;e++)g[h[l[b]].parents[e]]===p&&h[l[b]].parents[e]!==c.jstree.root&&(g[h[l[b]].parents[e]]=!0,m.push(h[l[b]].parents[e]));this.element.find(".jstree-closed").not(":has(.jstree-children)").each(function(){var k=n.get_node(this),l;if(k.state.loaded)for(b=0,d=k.children_d.length;b<d;b++){if(l=h[k.children_d[b]],!l.state.loaded&&l.original&&l.original.state&&l.original.state.undetermined&&!0===l.original.state.undetermined)for(g[l.id]===p&&l.id!==c.jstree.root&&(g[l.id]=!0,m.push(l.id)),e=0,f=l.parents.length;e<f;e++)g[l.parents[e]]===p&&l.parents[e]!==c.jstree.root&&(g[l.parents[e]]=!0,m.push(l.parents[e]))}else if(k.original&&k.original.state&&k.original.state.undetermined&&!0===k.original.state.undetermined)for(g[k.id]===p&&k.id!==c.jstree.root&&(g[k.id]=!0,m.push(k.id)),e=0,f=k.parents.length;e<f;e++)g[k.parents[e]]===p&&k.parents[e]!==c.jstree.root&&(g[k.parents[e]]=!0,m.push(k.parents[e]))});this.element.find(".jstree-undetermined").removeClass("jstree-undetermined");b=0;for(d=m.length;b<d;b++)h[m[b]].state[k?"selected":"checked"]||(l=this.get_node(m[b],!0))&&l.length&&l.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-undetermined")}};this.redraw_node=function(b,e,f,g){if(b=d.redraw_node.apply(this,arguments)){var h,k,l=null;h=0;for(k=b.childNodes.length;h<k;h++)if(b.childNodes[h]&&b.childNodes[h].className&&-1!==b.childNodes[h].className.indexOf("jstree-anchor")){l=b.childNodes[h];break}l&&(!this.settings.checkbox.tie_selection&&this._model.data[b.id].state.checked&&(l.className+=" jstree-checked"),h=u.cloneNode(!1),this._model.data[b.id].state.checkbox_disabled&&(h.className+=" jstree-checkbox-disabled"),l.insertBefore(h,l.childNodes[0]))}f||-1===this.settings.checkbox.cascade.indexOf("undetermined")||(this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(c.proxy(this._undetermined,this),50));return b};this.show_checkboxes=function(){this._data.core.themes.checkboxes=!0;this.get_container_ul().removeClass("jstree-no-checkboxes")};this.hide_checkboxes=function(){this._data.core.themes.checkboxes=!1;this.get_container_ul().addClass("jstree-no-checkboxes")};this.toggle_checkboxes=function(){this._data.core.themes.checkboxes?this.hide_checkboxes():this.show_checkboxes()};this.is_undetermined=function(b){b=this.get_node(b);var d=this.settings.checkbox.cascade,e;e=this.settings.checkbox.tie_selection;var f=this._data[e?"core":"checkbox"].selected,g=this._model.data;if(!b||!0===b.state[e?"selected":"checked"]||-1===d.indexOf("undetermined")||-1===d.indexOf("down")&&-1===d.indexOf("up"))return!1;if(!b.state.loaded&&!0===b.original.state.undetermined)return!0;d=0;for(e=b.children_d.length;d<e;d++)if(-1!==c.inArray(b.children_d[d],f)||!g[b.children_d[d]].state.loaded&&g[b.children_d[d]].original.state.undetermined)return!0;return!1};this.disable_checkbox=function(b){var d,e;if(c.isArray(b)){b=b.slice();d=0;for(e=b.length;d<e;d++)this.disable_checkbox(b[d]);return!0}b=this.get_node(b);if(!b||b.id===c.jstree.root)return!1;d=this.get_node(b,!0);b.state.checkbox_disabled||(b.state.checkbox_disabled=!0,d&&d.length&&d.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-checkbox-disabled"),this.trigger("disable_checkbox",{node:b}))};this.enable_checkbox=function(b){var d,e;if(c.isArray(b)){b=b.slice();d=0;for(e=b.length;d<e;d++)this.enable_checkbox(b[d]);return!0}b=this.get_node(b);if(!b||b.id===c.jstree.root)return!1;d=this.get_node(b,!0);b.state.checkbox_disabled&&(b.state.checkbox_disabled=!1,d&&d.length&&d.children(".jstree-anchor").children(".jstree-checkbox").removeClass("jstree-checkbox-disabled"),this.trigger("enable_checkbox",{node:b}))};this.activate_node=function(b,e){if(c(e.target).hasClass("jstree-checkbox-disabled"))return!1;this.settings.checkbox.tie_selection&&(this.settings.checkbox.whole_node||c(e.target).hasClass("jstree-checkbox"))&&(e.ctrlKey=!0);if(this.settings.checkbox.tie_selection||!this.settings.checkbox.whole_node&&!c(e.target).hasClass("jstree-checkbox"))return d.activate_node.call(this,b,e);if(this.is_disabled(b))return!1;this.is_checked(b)?this.uncheck_node(b,e):this.check_node(b,e);this.trigger("activate_node",{node:this.get_node(b)})};this.check_node=function(b,d){if(this.settings.checkbox.tie_selection)return this.select_node(b,!1,!0,d);var e,f;if(c.isArray(b)){b=b.slice();e=0;for(f=b.length;e<f;e++)this.check_node(b[e],d);return!0}b=this.get_node(b);if(!b||b.id===c.jstree.root)return!1;e=this.get_node(b,!0);b.state.checked||(b.state.checked=!0,this._data.checkbox.selected.push(b.id),e&&e.length&&e.children(".jstree-anchor").addClass("jstree-checked"),this.trigger("check_node",{node:b,selected:this._data.checkbox.selected,event:d}))};this.uncheck_node=function(b,d){if(this.settings.checkbox.tie_selection)return this.deselect_node(b,!1,d);var e,f;if(c.isArray(b)){b=b.slice();e=0;for(f=b.length;e<f;e++)this.uncheck_node(b[e],d);return!0}b=this.get_node(b);if(!b||b.id===c.jstree.root)return!1;e=this.get_node(b,!0);b.state.checked&&(b.state.checked=!1,this._data.checkbox.selected=c.vakata.array_remove_item(this._data.checkbox.selected,b.id),e.length&&e.children(".jstree-anchor").removeClass("jstree-checked"),this.trigger("uncheck_node",{node:b,selected:this._data.checkbox.selected,event:d}))};this.check_all=function(){if(this.settings.checkbox.tie_selection)return this.select_all();this._data.checkbox.selected.concat([]);var b,d;this._data.checkbox.selected=this._model.data[c.jstree.root].children_d.concat();b=0;for(d=this._data.checkbox.selected.length;b<d;b++)this._model.data[this._data.checkbox.selected[b]]&&(this._model.data[this._data.checkbox.selected[b]].state.checked=!0);this.redraw(!0);this.trigger("check_all",{selected:this._data.checkbox.selected})};this.uncheck_all=function(){if(this.settings.checkbox.tie_selection)return this.deselect_all();var b=this._data.checkbox.selected.concat([]),c,d;c=0;for(d=this._data.checkbox.selected.length;c<d;c++)this._model.data[this._data.checkbox.selected[c]]&&(this._model.data[this._data.checkbox.selected[c]].state.checked=!1);this._data.checkbox.selected=[];this.element.find(".jstree-checked").removeClass("jstree-checked");this.trigger("uncheck_all",{selected:this._data.checkbox.selected,node:b})};this.is_checked=function(b){return this.settings.checkbox.tie_selection?this.is_selected(b):(b=this.get_node(b))&&b.id!==c.jstree.root?b.state.checked:!1};this.get_checked=function(b){return this.settings.checkbox.tie_selection?this.get_selected(b):b?c.map(this._data.checkbox.selected,c.proxy(function(b){return this.get_node(b)},this)):this._data.checkbox.selected};this.get_top_checked=function(b){if(this.settings.checkbox.tie_selection)return this.get_top_selected(b);var d=this.get_checked(!0),e={},f,g,h,k;f=0;for(g=d.length;f<g;f++)e[d[f].id]=d[f];f=0;for(g=d.length;f<g;f++)for(h=0,k=d[f].children_d.length;h<k;h++)e[d[f].children_d[h]]&&delete e[d[f].children_d[h]];d=[];for(f in e)e.hasOwnProperty(f)&&d.push(f);return b?c.map(d,c.proxy(function(b){return this.get_node(b)},this)):d};this.get_bottom_checked=function(b){if(this.settings.checkbox.tie_selection)return this.get_bottom_selected(b);var d=this.get_checked(!0),e=[],f,g;f=0;for(g=d.length;f<g;f++)d[f].children.length||e.push(d[f].id);return b?c.map(e,c.proxy(function(b){return this.get_node(b)},this)):e};this.load_node=function(b,e){var f,g,h;if(!c.isArray(b)&&!this.settings.checkbox.tie_selection&&(h=this.get_node(b))&&h.state.loaded)for(f=0,g=h.children_d.length;f<g;f++)this._model.data[h.children_d[f]].state.checked&&(this._data.checkbox.selected=c.vakata.array_remove_item(this._data.checkbox.selected,h.children_d[f]));return d.load_node.apply(this,arguments)};this.get_state=function(){var b=d.get_state.apply(this,arguments);if(this.settings.checkbox.tie_selection)return b;b.checkbox=this._data.checkbox.selected.slice();return b};this.set_state=function(b,e){var f=d.set_state.apply(this,arguments);if(f&&b.checkbox){if(!this.settings.checkbox.tie_selection){this.uncheck_all();var g=this;c.each(b.checkbox,function(b,c){g.check_node(c)})}delete b.checkbox;this.set_state(b,e);return!1}return f};this.refresh=function(b,c){this.settings.checkbox.tie_selection||(this._data.checkbox.selected=[]);return d.refresh.apply(this,arguments)}};c.jstree.defaults.conditionalselect=function(){return!0};c.jstree.plugins.conditionalselect=function(b,c){this.activate_node=function(b,d){this.settings.conditionalselect.call(this,this.get_node(b),d)&&c.activate_node.call(this,b,d)}};c.jstree.defaults.contextmenu={select_node:!0,show_at_node:!0,items:function(b,d){return{create:{separator_before:!1,separator_after:!0,_disabled:!1,label:"Create",action:function(b){var d=c.jstree.reference(b.reference);b=d.get_node(b.reference);d.create_node(b,{},"last",function(b){setTimeout(function(){d.edit(b)},0)})}},rename:{separator_before:!1,separator_after:!1,_disabled:!1,label:"Rename",action:function(b){var d=c.jstree.reference(b.reference);b=d.get_node(b.reference);d.edit(b)}},remove:{separator_before:!1,icon:!1,separator_after:!1,_disabled:!1,label:"Delete",action:function(b){var d=c.jstree.reference(b.reference);b=d.get_node(b.reference);d.is_selected(b)?d.delete_node(d.get_selected()):d.delete_node(b)}},ccp:{separator_before:!0,icon:!1,separator_after:!1,label:"Edit",action:!1,submenu:{cut:{separator_before:!1,separator_after:!1,label:"Cut",action:function(b){var d=c.jstree.reference(b.reference);b=d.get_node(b.reference);d.is_selected(b)?d.cut(d.get_top_selected()):d.cut(b)}},copy:{separator_before:!1,icon:!1,separator_after:!1,label:"Copy",action:function(b){var d=c.jstree.reference(b.reference);b=d.get_node(b.reference);d.is_selected(b)?d.copy(d.get_top_selected()):d.copy(b)}},paste:{separator_before:!1,icon:!1,_disabled:function(b){return!c.jstree.reference(b.reference).can_paste()},separator_after:!1,label:"Paste",action:function(b){var d=c.jstree.reference(b.reference);b=d.get_node(b.reference);d.paste(b)}}}}}}};c.jstree.plugins.contextmenu=function(b,d){this.bind=function(){d.bind.call(this);var b=0,e=null,f,g;this.element.on("contextmenu.jstree",".jstree-anchor",c.proxy(function(c,d){c.preventDefault();b=c.ctrlKey?+new Date:0;if(d||e)b=+new Date+1E4;e&&clearTimeout(e);this.is_loading(c.currentTarget)||this.show_contextmenu(c.currentTarget,c.pageX,c.pageY,c)},this)).on("click.jstree",".jstree-anchor",c.proxy(function(d){this._data.contextmenu.visible&&(!b||250<+new Date-b)&&c.vakata.context.hide();b=0},this)).on("touchstart.jstree",".jstree-anchor",function(b){b.originalEvent&&b.originalEvent.changedTouches&&b.originalEvent.changedTouches[0]&&(f=b.pageX,g=b.pageY,e=setTimeout(function(){c(b.currentTarget).trigger("contextmenu",!0)},750))}).on("touchmove.vakata.jstree",function(b){e&&b.originalEvent&&b.originalEvent.changedTouches&&b.originalEvent.changedTouches[0]&&(50<Math.abs(f-b.pageX)||50<Math.abs(g-b.pageY))&&clearTimeout(e)}).on("touchend.vakata.jstree",function(b){e&&clearTimeout(e)});c(m).on("context_hide.vakata.jstree",c.proxy(function(){this._data.contextmenu.visible=!1},this))};this.teardown=function(){this._data.contextmenu.visible&&c.vakata.context.hide();d.teardown.call(this)};this.show_contextmenu=function(b,d,e,f){b=this.get_node(b);if(!b||b.id===c.jstree.root)return!1;var g=this.settings.contextmenu,h=this.get_node(b,!0).children(".jstree-anchor"),k=!1,k=!1;if(g.show_at_node||d===p||e===p)k=h.offset(),d=k.left,e=k.top+this._data.core.li_height;this.settings.contextmenu.select_node&&!this.is_selected(b)&&this.activate_node(b,f);k=g.items;c.isFunction(k)&&(k=k.call(this,b,c.proxy(function(c){this._show_contextmenu(b,d,e,c)},this)));c.isPlainObject(k)&&this._show_contextmenu(b,d,e,k)};this._show_contextmenu=function(b,d,e,f){var g=this.get_node(b,!0).children(".jstree-anchor");c(m).one("context_show.vakata.jstree",c.proxy(function(b,d){var e="jstree-contextmenu jstree-"+this.get_theme()+"-contextmenu";c(d.element).addClass(e)},this));this._data.contextmenu.visible=!0;c.vakata.context.show(g,{x:d,y:e},f);this.trigger("show_contextmenu",{node:b,x:d,y:e})}};(function(b){var c=!1,d=!1,e=!1,f=0,h=0,k=[],l="",n=!1;b.vakata.context={settings:{hide_onmouseleave:0,icons:!0},_trigger:function(c){b(m).triggerHandler("context_"+c+".vakata",{reference:e,element:d,position:{x:f,y:h}})},_execute:function(c){return(c=k[c])&&(!c._disabled||b.isFunction(c._disabled)&&!c._disabled({item:c,reference:e,element:d}))&&c.action?c.action.call(null,{item:c,reference:e,element:d,position:{x:f,y:h}}):!1},_parse:function(c,f){if(!c)return!1;f||(l="",k=[]);var h="",m=!1,n;f&&(h+="\x3cul\x3e");b.each(c,function(c,f){if(!f)return!0;k.push(f);!m&&f.separator_before&&(h+="\x3cli class\x3d'vakata-context-separator'\x3e\x3ca href\x3d'#' "+(b.vakata.context.settings.icons?"":'style\x3d"margin-left:0px;"')+"\x3e\x26#160;\x3c/a\x3e\x3c/li\x3e");m=!1;h+="\x3cli class\x3d'"+(f._class||"")+(!0===f._disabled||b.isFunction(f._disabled)&&f._disabled({item:f,reference:e,element:d})?" vakata-contextmenu-disabled ":"")+"' "+(f.shortcut?" data-shortcut\x3d'"+f.shortcut+"' ":"")+"\x3e";h+="\x3ca href\x3d'#' rel\x3d'"+(k.length-1)+"'\x3e";b.vakata.context.settings.icons&&(h+="\x3ci ",f.icon&&(h=-1!==f.icon.indexOf("/")||-1!==f.icon.indexOf(".")?h+(" style\x3d'background:url(\""+f.icon+"\") center center no-repeat' "):h+(" class\x3d'"+f.icon+"' ")),h+="\x3e\x3c/i\x3e\x3cspan class\x3d'vakata-contextmenu-sep'\x3e\x26#160;\x3c/span\x3e");h+=(b.isFunction(f.label)?f.label({item:c,reference:e,element:d}):f.label)+(f.shortcut?' \x3cspan class\x3d"vakata-contextmenu-shortcut vakata-contextmenu-shortcut-'+f.shortcut+'"\x3e'+(f.shortcut_label||"")+"\x3c/span\x3e":"")+"\x3c/a\x3e";f.submenu&&(n=b.vakata.context._parse(f.submenu,!0))&&(h+=n);h+="\x3c/li\x3e";f.separator_after&&(h+="\x3cli class\x3d'vakata-context-separator'\x3e\x3ca href\x3d'#' "+(b.vakata.context.settings.icons?"":'style\x3d"margin-left:0px;"')+"\x3e\x26#160;\x3c/a\x3e\x3c/li\x3e",m=!0)});h=h.replace(/<li class\='vakata-context-separator'\><\/li\>$/,"");f&&(h+="\x3c/ul\x3e");f||(l=h,b.vakata.context._trigger("parse"));return 10<h.length?h:!1},_show_submenu:function(d){d=b(d);if(d.length&&d.children("ul").length){var e=d.children("ul"),f=d.offset().left+d.outerWidth(),h=d.offset().top,k=e.width(),l=e.height(),m=b(window).width()+b(window).scrollLeft(),n=b(window).height()+b(window).scrollTop();if(c)d[0>f-(k+10+d.outerWidth())?"addClass":"removeClass"]("vakata-context-left");else d[f+k+10>m?"addClass":"removeClass"]("vakata-context-right");h+l+10>n&&e.css("bottom","-1px");e.show()}},show:function(m,p,r){var q,u,v,x,K;d&&d.length&&d.width("");switch(!0){case !p&&!m:return!1;case !!p&&!!m:e=m;f=p.x;h=p.y;break;case !p&&!!m:e=m;p=m.offset();f=p.left+m.outerHeight();h=p.top;break;case !!p&&!m:f=p.x,h=p.y}m&&!r&&b(m).data("vakata_contextmenu")&&(r=b(m).data("vakata_contextmenu"));b.vakata.context._parse(r)&&d.html(l);k.length&&(d.appendTo("body"),r=d,p=f,q=h,u=r.width(),v=r.height(),x=b(window).width()+b(window).scrollLeft(),K=b(window).height()+b(window).scrollTop(),c&&(p-=r.outerWidth()-b(m).outerWidth(),p<b(window).scrollLeft()+20&&(p=b(window).scrollLeft()+20)),p+u+20>x&&(p=x-(u+20)),q+v+20>K&&(q=K-(v+20)),d.css({left:p,top:q}).show().find("a").first().focus().parent().addClass("vakata-context-hover"),n=!0,b.vakata.context._trigger("show"))},hide:function(){n&&(d.hide().find("ul").hide().end().find(":focus").blur().end().detach(),n=!1,b.vakata.context._trigger("hide"))}};b(function(){c="rtl"===b("body").css("direction");var e=!1;d=b("\x3cul class\x3d'vakata-context'\x3e\x3c/ul\x3e");d.on("mouseenter","li",function(c){c.stopImmediatePropagation();b.contains(this,c.relatedTarget)||(e&&clearTimeout(e),d.find(".vakata-context-hover").removeClass("vakata-context-hover").end(),b(this).siblings().find("ul").hide().end().end().parentsUntil(".vakata-context","li").addBack().addClass("vakata-context-hover"),b.vakata.context._show_submenu(this))}).on("mouseleave","li",function(c){b.contains(this,c.relatedTarget)||b(this).find(".vakata-context-hover").addBack().removeClass("vakata-context-hover")}).on("mouseleave",function(c){b(this).find(".vakata-context-hover").removeClass("vakata-context-hover");b.vakata.context.settings.hide_onmouseleave&&(e=setTimeout(function(c){return function(){b.vakata.context.hide()}}(this),b.vakata.context.settings.hide_onmouseleave))}).on("click","a",function(c){c.preventDefault();b(this).blur().parent().hasClass("vakata-context-disabled")||!1===b.vakata.context._execute(b(this).attr("rel"))||b.vakata.context.hide()}).on("keydown","a",function(c){var e;switch(c.which){case 13:case 32:c.type="mouseup";c.preventDefault();b(c.currentTarget).trigger(c);break;case 37:n&&(d.find(".vakata-context-hover").last().closest("li").first().find("ul").hide().find(".vakata-context-hover").removeClass("vakata-context-hover").end().end().children("a").focus(),c.stopImmediatePropagation(),c.preventDefault());break;case 38:n&&(e=d.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").prevAll("li:not(.vakata-context-separator)").first(),e.length||(e=d.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").last()),e.addClass("vakata-context-hover").children("a").focus(),c.stopImmediatePropagation(),c.preventDefault());break;case 39:n&&(d.find(".vakata-context-hover").last().children("ul").show().children("li:not(.vakata-context-separator)").removeClass("vakata-context-hover").first().addClass("vakata-context-hover").children("a").focus(),c.stopImmediatePropagation(),c.preventDefault());break;case 40:n&&(e=d.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").nextAll("li:not(.vakata-context-separator)").first(),e.length||(e=d.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").first()),e.addClass("vakata-context-hover").children("a").focus(),c.stopImmediatePropagation(),c.preventDefault());break;case 27:b.vakata.context.hide(),c.preventDefault()}}).on("keydown",function(b){b.preventDefault();b=d.find(".vakata-contextmenu-shortcut-"+b.which).parent();b.parent().not(".vakata-context-disabled")&&b.click()});b(m).on("mousedown.vakata.jstree",function(c){n&&!b.contains(d[0],c.target)&&b.vakata.context.hide()}).on("context_show.vakata.jstree",function(b,e){d.find("li:has(ul)").children("a").addClass("vakata-context-parent");c&&d.addClass("vakata-context-rtl").css("direction","rtl");d.find("ul").hide().end()})})})(c);c.jstree.defaults.dnd={copy:!0,open_timeout:500,is_draggable:!0,check_while_dragging:!0,always_copy:!1,inside_pos:0,drag_selection:!0,touch:!0,large_drop_target:!1,large_drag_target:!1};c.jstree.plugins.dnd=function(b,d){this.bind=function(){d.bind.call(this);this.element.on("mousedown.jstree touchstart.jstree",this.settings.dnd.large_drag_target?".jstree-node":".jstree-anchor",c.proxy(function(b){if(this.settings.dnd.large_drag_target&&c(b.target).closest(".jstree-node")[0]!==b.currentTarget||"touchstart"===b.type&&(!this.settings.dnd.touch||"selected"===this.settings.dnd.touch&&!c(b.currentTarget).closest(".jstree-node").children(".jstree-anchor").hasClass("jstree-clicked")))return!0;var d=this.get_node(b.target),e=this.is_selected(d)&&this.settings.dnd.drag_selection?this.get_top_selected().length:1,f=1<e?e+" "+this.get_string("nodes"):this.get_text(b.currentTarget);this.settings.core.force_text&&(f=c.vakata.html.escape(f));if(d&&d.id&&d.id!==c.jstree.root&&(1===b.which||"touchstart"===b.type)&&(!0===this.settings.dnd.is_draggable||c.isFunction(this.settings.dnd.is_draggable)&&this.settings.dnd.is_draggable.call(this,1<e?this.get_top_selected(!0):[d],b)))return this.element.trigger("mousedown.jstree"),c.vakata.dnd.start(b,{jstree:!0,origin:this,obj:this.get_node(d,!0),nodes:1<e?this.get_top_selected():[d.id]},'\x3cdiv id\x3d"jstree-dnd" class\x3d"jstree-'+this.get_theme()+" jstree-"+this.get_theme()+"-"+this.get_theme_variant()+" "+(this.settings.core.themes.responsive?" jstree-dnd-responsive":"")+'"\x3e\x3ci class\x3d"jstree-icon jstree-er"\x3e\x3c/i\x3e'+f+'\x3cins class\x3d"jstree-copy" style\x3d"display:none;"\x3e+\x3c/ins\x3e\x3c/div\x3e')},this))}};c(function(){var b=!1,d=!1,e=!1,f=!1,h=c('\x3cdiv id\x3d"jstree-marker"\x3e\x26#160;\x3c/div\x3e').hide();c(m).on("dnd_start.vakata.jstree",function(c,d){e=b=!1;d&&d.data&&d.data.jstree&&h.appendTo("body")}).on("dnd_move.vakata.jstree",function(k,l){f&&clearTimeout(f);if(l&&l.data&&l.data.jstree&&(!l.event.target.id||"jstree-marker"!==l.event.target.id)){e=l.event;var m=c.jstree.reference(l.event.target),n=!1,p=!1,r=!1,u,q,v,x,I,K,O,M,J,P,T,S,R,Q;if(m&&m._data&&m._data.dnd)if(h.attr("class","jstree-"+m.get_theme()+(m.settings.core.themes.responsive?" jstree-dnd-responsive":"")),l.helper.children().attr("class","jstree-"+m.get_theme()+" jstree-"+m.get_theme()+"-"+m.get_theme_variant()+" "+(m.settings.core.themes.responsive?" jstree-dnd-responsive":"")).find(".jstree-copy").first()[l.data.origin&&(l.data.origin.settings.dnd.always_copy||l.data.origin.settings.dnd.copy&&(l.event.metaKey||l.event.ctrlKey))?"show":"hide"](),l.event.target!==m.element[0]&&l.event.target!==m.get_container_ul()[0]||0!==m.get_container_ul().children().length){if((n=m.settings.dnd.large_drop_target?c(l.event.target).closest(".jstree-node").children(".jstree-anchor"):c(l.event.target).closest(".jstree-anchor"))&&n.length&&n.parent().is(".jstree-closed, .jstree-open, .jstree-leaf")&&(p=n.offset(),r=l.event.pageY-p.top,v=n.outerHeight(),K=r<v/3?["b","i","a"]:r>v-v/3?["a","i","b"]:r>v/2?["i","a","b"]:["i","b","a"],c.each(K,function(e,k){switch(k){case "b":u=p.left-6;q=p.top;x=m.get_parent(n);I=n.parent().index();break;case "i":R=m.settings.dnd.inside_pos;Q=m.get_node(n.parent());u=p.left-2;q=p.top+v/2+1;x=Q.id;I="first"===R?0:"last"===R?Q.children.length:Math.min(R,Q.children.length);break;case "a":u=p.left-6,q=p.top+v,x=m.get_parent(n),I=n.parent().index()+1}O=!0;M=0;for(J=l.data.nodes.length;M<J;M++)if(P=l.data.origin&&(l.data.origin.settings.dnd.always_copy||l.data.origin.settings.dnd.copy&&(l.event.metaKey||l.event.ctrlKey))?"copy_node":"move_node",T=I,"move_node"===P&&"a"===k&&l.data.origin&&l.data.origin===m&&x===m.get_parent(l.data.nodes[M])&&(S=m.get_node(x),T>c.inArray(l.data.nodes[M],S.children)&&--T),O=O&&(m&&m.settings&&m.settings.dnd&&!1===m.settings.dnd.check_while_dragging||m.check(P,l.data.origin&&l.data.origin!==m?l.data.origin.get_node(l.data.nodes[M]):l.data.nodes[M],x,T,{dnd:!0,ref:m.get_node(n.parent()),pos:k,origin:l.data.origin,is_multi:l.data.origin&&l.data.origin!==m,is_foreign:!l.data.origin})),!O){m&&m.last_error&&(d=m.last_error());break}"i"===k&&n.parent().is(".jstree-closed")&&m.settings.dnd.open_timeout&&(f=setTimeout(function(b,c){return function(){b.open_node(c)}}(m,n),m.settings.dnd.open_timeout));if(O)return b={ins:m,par:x,pos:"i"!==k||"last"!==R||0!==I||m.is_loaded(Q)?I:"last"},h.css({left:u+"px",top:q+"px"}).show(),l.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok"),d={},K=!0,!1}),!0===K))return}else{O=!0;M=0;for(J=l.data.nodes.length;M<J&&(O=O&&m.check(l.data.origin&&(l.data.origin.settings.dnd.always_copy||l.data.origin.settings.dnd.copy&&(l.event.metaKey||l.event.ctrlKey))?"copy_node":"move_node",l.data.origin&&l.data.origin!==m?l.data.origin.get_node(l.data.nodes[M]):l.data.nodes[M],c.jstree.root,"last",{dnd:!0,ref:m.get_node(c.jstree.root),pos:"i",origin:l.data.origin,is_multi:l.data.origin&&l.data.origin!==m,is_foreign:!l.data.origin}),O);M++);if(O){b={ins:m,par:c.jstree.root,pos:"last"};h.hide();l.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok");return}}b=!1;l.helper.find(".jstree-icon").removeClass("jstree-ok").addClass("jstree-er");h.hide()}}).on("dnd_scroll.vakata.jstree",function(c,d){d&&d.data&&d.data.jstree&&(h.hide(),e=b=!1,d.helper.find(".jstree-icon").first().removeClass("jstree-ok").addClass("jstree-er"))}).on("dnd_stop.vakata.jstree",function(k,l){f&&clearTimeout(f);if(l&&l.data&&l.data.jstree){h.hide().detach();var m,n,p=[];if(b){m=0;for(n=l.data.nodes.length;m<n;m++)p[m]=l.data.origin?l.data.origin.get_node(l.data.nodes[m]):l.data.nodes[m];b.ins[l.data.origin&&(l.data.origin.settings.dnd.always_copy||l.data.origin.settings.dnd.copy&&(l.event.metaKey||l.event.ctrlKey))?"copy_node":"move_node"](p,b.par,b.pos,!1,!1,!1,l.data.origin)}else m=c(l.event.target).closest(".jstree"),m.length&&d&&d.error&&"check"===d.error&&(m=m.jstree(!0))&&m.settings.core.error.call(this,d);b=e=!1}}).on("keyup.jstree keydown.jstree",function(b,d){(d=c.vakata.dnd._get())&&d.data&&d.data.jstree&&(d.helper.find(".jstree-copy").first()[d.data.origin&&(d.data.origin.settings.dnd.always_copy||d.data.origin.settings.dnd.copy&&(b.metaKey||b.ctrlKey))?"show":"hide"](),e&&(e.metaKey=b.metaKey,e.ctrlKey=b.ctrlKey,c.vakata.dnd._trigger("move",e)))})});(function(b){b.vakata.html={div:b("\x3cdiv /\x3e"),escape:function(c){return b.vakata.html.div.text(c).html()},strip:function(c){return b.vakata.html.div.empty().append(b.parseHTML(c)).text()}};var c=!1,d=!1,e=!1,f=!1,h=!1,k=0,l=!1,n=0,p=0,r=0,u=0,q=!1,v=!1,x=!1;b.vakata.dnd={settings:{scroll_speed:10,scroll_proximity:20,helper_left:5,helper_top:10,threshold:5,threshold_touch:50},_trigger:function(c,d){var e=b.vakata.dnd._get();e.event=d;b(m).triggerHandler("dnd_"+c+".vakata",e)},_get:function(){return{data:l,element:c,helper:h}},_clean:function(){h&&h.remove();v&&(clearInterval(v),v=!1);h=f=e=d=c=!1;k=0;l=!1;u=r=p=n=0;x=v=q=!1;b(m).off("mousemove.vakata.jstree touchmove.vakata.jstree",b.vakata.dnd.drag);b(m).off("mouseup.vakata.jstree touchend.vakata.jstree",b.vakata.dnd.stop)},_scroll:function(c){if(!q||!r&&!u)return v&&(clearInterval(v),v=!1),!1;if(!v)return v=setInterval(b.vakata.dnd._scroll,100),!1;if(!0===c)return!1;c=q.scrollTop();var d=q.scrollLeft();q.scrollTop(c+u*b.vakata.dnd.settings.scroll_speed);q.scrollLeft(d+r*b.vakata.dnd.settings.scroll_speed);c===q.scrollTop()&&d===q.scrollLeft()||b.vakata.dnd._trigger("scroll",q)},start:function(k,q,r){"touchstart"===k.type&&k.originalEvent&&k.originalEvent.changedTouches&&k.originalEvent.changedTouches[0]&&(k.pageX=k.originalEvent.changedTouches[0].pageX,k.pageY=k.originalEvent.changedTouches[0].pageY,k.target=m.elementFromPoint(k.originalEvent.changedTouches[0].pageX-window.pageXOffset,k.originalEvent.changedTouches[0].pageY-window.pageYOffset));f&&b.vakata.dnd.stop({});try{k.currentTarget.unselectable="on",k.currentTarget.onselectstart=function(){return!1},k.currentTarget.style&&(k.currentTarget.style.MozUserSelect="none")}catch(u){}n=k.pageX;p=k.pageY;l=q;e=!0;c=k.currentTarget;d=k.target;x="touchstart"===k.type;!1!==r&&(h=b("\x3cdiv id\x3d'vakata-dnd'\x3e\x3c/div\x3e").html(r).css({display:"block",margin:"0",padding:"0",position:"absolute",top:"-2000px",lineHeight:"16px",zIndex:"10000"}));b(m).on("mousemove.vakata.jstree touchmove.vakata.jstree",b.vakata.dnd.drag);b(m).on("mouseup.vakata.jstree touchend.vakata.jstree",b.vakata.dnd.stop);return!1},drag:function(c){"touchmove"===c.type&&c.originalEvent&&c.originalEvent.changedTouches&&c.originalEvent.changedTouches[0]&&(c.pageX=c.originalEvent.changedTouches[0].pageX,c.pageY=c.originalEvent.changedTouches[0].pageY,c.target=m.elementFromPoint(c.originalEvent.changedTouches[0].pageX-window.pageXOffset,c.originalEvent.changedTouches[0].pageY-window.pageYOffset));if(e){if(!f)if(Math.abs(c.pageX-n)>(x?b.vakata.dnd.settings.threshold_touch:b.vakata.dnd.settings.threshold)||Math.abs(c.pageY-p)>(x?b.vakata.dnd.settings.threshold_touch:b.vakata.dnd.settings.threshold))h&&(h.appendTo("body"),k=h.outerWidth()),f=!0,b.vakata.dnd._trigger("start",c);else return;var d=!1,l=!1,t=!1,v=!1,w=!1,B=l=!1,H=!1,v=d=!1;r=u=0;q=!1;b(b(c.target).parentsUntil("body").addBack().get().reverse()).filter(function(){return/^auto|scroll$/.test(b(this).css("overflow"))&&(this.scrollHeight>this.offsetHeight||this.scrollWidth>this.offsetWidth)}).each(function(){var d=b(this),e=d.offset();this.scrollHeight>this.offsetHeight&&(e.top+d.height()-c.pageY<b.vakata.dnd.settings.scroll_proximity&&(u=1),c.pageY-e.top<b.vakata.dnd.settings.scroll_proximity&&(u=-1));this.scrollWidth>this.offsetWidth&&(e.left+d.width()-c.pageX<b.vakata.dnd.settings.scroll_proximity&&(r=1),c.pageX-e.left<b.vakata.dnd.settings.scroll_proximity&&(r=-1));if(u||r)return q=b(this),!1});!q&&(d=b(m),l=b(window),t=d.height(),v=l.height(),w=d.width(),l=l.width(),B=d.scrollTop(),H=d.scrollLeft(),t>v&&c.pageY-B<b.vakata.dnd.settings.scroll_proximity&&(u=-1),t>v&&v-(c.pageY-B)<b.vakata.dnd.settings.scroll_proximity&&(u=1),w>l&&c.pageX-H<b.vakata.dnd.settings.scroll_proximity&&(r=-1),w>l&&l-(c.pageX-H)<b.vakata.dnd.settings.scroll_proximity&&(r=1),u||r)&&(q=d);q&&b.vakata.dnd._scroll(!0);h&&(d=parseInt(c.pageY+b.vakata.dnd.settings.helper_top,10),v=parseInt(c.pageX+b.vakata.dnd.settings.helper_left,10),t&&d+25>t&&(d=t-50),w&&v+k>w&&(v=w-(k+2)),h.css({left:v+"px",top:d+"px"}));b.vakata.dnd._trigger("move",c);return!1}},stop:function(c){"touchend"===c.type&&c.originalEvent&&c.originalEvent.changedTouches&&c.originalEvent.changedTouches[0]&&(c.pageX=c.originalEvent.changedTouches[0].pageX,c.pageY=c.originalEvent.changedTouches[0].pageY,c.target=m.elementFromPoint(c.originalEvent.changedTouches[0].pageX-window.pageXOffset,c.originalEvent.changedTouches[0].pageY-window.pageYOffset));if(f)b.vakata.dnd._trigger("stop",c);else if("touchend"===c.type&&c.target===d){var e=setTimeout(function(){b(c.target).click()},100);b(c.target).one("click",function(){e&&clearTimeout(e)})}b.vakata.dnd._clean();return!1}}})(c);c.jstree.defaults.massload=null;c.jstree.plugins.massload=function(b,d){this.init=function(b,c){d.init.call(this,b,c);this._data.massload={}};this._load_nodes=function(b,e,f){var g=this.settings.massload;return f&&!c.isEmptyObject(this._data.massload)?d._load_nodes.call(this,b,e,f):c.isFunction(g)?g.call(this,b,c.proxy(function(c){if(c)for(var g in c)c.hasOwnProperty(g)&&(this._data.massload[g]=c[g]);d._load_nodes.call(this,b,e,f)},this)):"object"===typeof g&&g&&g.url?(g=c.extend(!0,{},g),c.isFunction(g.url)&&(g.url=g.url.call(this,b)),c.isFunction(g.data)&&(g.data=g.data.call(this,b)),c.ajax(g).done(c.proxy(function(c,g,h){if(c)for(var k in c)c.hasOwnProperty(k)&&(this._data.massload[k]=c[k]);d._load_nodes.call(this,b,e,f)},this)).fail(c.proxy(function(c){d._load_nodes.call(this,b,e,f)},this))):d._load_nodes.call(this,b,e,f)};this._load_node=function(b,e){var f=this._data.massload[b.id];return f?this["string"===typeof f?"_append_html_data":"_append_json_data"](b,"string"===typeof f?c(c.parseHTML(f)).filter(function(){return 3!==this.nodeType}):f,function(c){e.call(this,c);delete this._data.massload[b.id]}):d._load_node.call(this,b,e)}};c.jstree.defaults.search={ajax:!1,fuzzy:!1,case_sensitive:!1,show_only_matches:!1,show_only_matches_children:!1,close_opened_onclear:!0,search_leaves_only:!1,search_callback:!1};c.jstree.plugins.search=function(b,d){this.bind=function(){d.bind.call(this);this._data.search.str="";this._data.search.dom=c();this._data.search.res=[];this._data.search.opn=[];this._data.search.som=!1;this._data.search.smc=!1;this._data.search.hdn=[];this.element.on("search.jstree",c.proxy(function(b,d){if(this._data.search.som&&d.res.length){var e=this._model.data,f,g,h=[];f=0;for(g=d.res.length;f<g;f++)e[d.res[f]]&&!e[d.res[f]].state.hidden&&(h.push(d.res[f]),h=h.concat(e[d.res[f]].parents),this._data.search.smc&&(h=h.concat(e[d.res[f]].children_d)));h=c.vakata.array_remove_item(c.vakata.array_unique(h),c.jstree.root);this._data.search.hdn=this.hide_all();this.show_node(h)}},this)).on("clear_search.jstree",c.proxy(function(b,c){this._data.search.som&&c.res.length&&this.show_node(this._data.search.hdn)},this))};this.search=function(b,d,e,f,g,h){if(!1===b||""===c.trim(b.toString()))return this.clear_search();f=(f=this.get_node(f))&&f.id?f.id:null;b=b.toString();var k=this.settings.search,l=k.ajax?k.ajax:!1,m=this._model.data,n=null,q=[],t=[];this._data.search.res.length&&!g&&this.clear_search();e===p&&(e=k.show_only_matches);h===p&&(h=k.show_only_matches_children);if(!d&&!1!==l){if(c.isFunction(l))return l.call(this,b,c.proxy(function(d){d&&d.d&&(d=d.d);this._load_nodes(c.isArray(d)?c.vakata.array_unique(d):[],function(){this.search(b,!0,e,f,g)},!0)},this),f);l=c.extend({},l);l.data||(l.data={});l.data.str=b;f&&(l.data.inside=f);return c.ajax(l).fail(c.proxy(function(){this._data.core.last_error={error:"ajax",plugin:"search",id:"search_01",reason:"Could not load search parents",data:JSON.stringify(l)};this.settings.core.error.call(this,this._data.core.last_error)},this)).done(c.proxy(function(d){d&&d.d&&(d=d.d);this._load_nodes(c.isArray(d)?c.vakata.array_unique(d):[],function(){this.search(b,!0,e,f,g)},!0)},this))}g||(this._data.search.str=b,this._data.search.dom=c(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=e,this._data.search.smc=h);n=new c.vakata.search(b,!0,{caseSensitive:k.case_sensitive,fuzzy:k.fuzzy});c.each(m[f?f:c.jstree.root].children_d,function(c,d){var e=m[d];e.text&&(!k.search_leaves_only||e.state.loaded&&0===e.children.length)&&(k.search_callback&&k.search_callback.call(this,b,e)||!k.search_callback&&n.search(e.text).isMatch)&&(q.push(d),t=t.concat(e.parents))});q.length&&(t=c.vakata.array_unique(t),this._search_open(t),g?(this._data.search.dom=this._data.search.dom.add(c(this.element[0].querySelectorAll("#"+c.map(q,function(b){return-1!=="0123456789".indexOf(b[0])?"\\3"+b[0]+" "+b.substr(1).replace(c.jstree.idregex,"\\$\x26"):b.replace(c.jstree.idregex,"\\$\x26")}).join(", #")))),this._data.search.res=c.vakata.array_unique(this._data.search.res.concat(q))):(this._data.search.dom=c(this.element[0].querySelectorAll("#"+c.map(q,function(b){return-1!=="0123456789".indexOf(b[0])?"\\3"+b[0]+" "+b.substr(1).replace(c.jstree.idregex,"\\$\x26"):b.replace(c.jstree.idregex,"\\$\x26")}).join(", #"))),this._data.search.res=q),this._data.search.dom.children(".jstree-anchor").addClass("jstree-search"));this.trigger("search",{nodes:this._data.search.dom,str:b,res:this._data.search.res,show_only_matches:e})};this.clear_search=function(){this.settings.search.close_opened_onclear&&this.close_node(this._data.search.opn,0);this.trigger("clear_search",{nodes:this._data.search.dom,str:this._data.search.str,res:this._data.search.res});this._data.search.res.length&&(this._data.search.dom=c(this.element[0].querySelectorAll("#"+c.map(this._data.search.res,function(b){return-1!=="0123456789".indexOf(b[0])?"\\3"+b[0]+" "+b.substr(1).replace(c.jstree.idregex,"\\$\x26"):b.replace(c.jstree.idregex,"\\$\x26")}).join(", #"))),this._data.search.dom.children(".jstree-anchor").removeClass("jstree-search"));this._data.search.str="";this._data.search.res=[];this._data.search.opn=[];this._data.search.dom=c()};this._search_open=function(b){var d=this;c.each(b.concat([]),function(e,f){if(f===c.jstree.root)return!0;try{f=c("#"+f.replace(c.jstree.idregex,"\\$\x26"),d.element)}catch(g){}f&&f.length&&d.is_closed(f)&&(d._data.search.opn.push(f[0].id),d.open_node(f,function(){d._search_open(b)},0))})};this.redraw_node=function(b,e,f,g){if((b=d.redraw_node.apply(this,arguments))&&-1!==c.inArray(b.id,this._data.search.res)){var h,k,l=null;h=0;for(k=b.childNodes.length;h<k;h++)if(b.childNodes[h]&&b.childNodes[h].className&&-1!==b.childNodes[h].className.indexOf("jstree-anchor")){l=b.childNodes[h];break}l&&(l.className+=" jstree-search")}return b}};(function(b){b.vakata.search=function(c,d,e){e=e||{};e=b.extend({},b.vakata.search.defaults,e);!1!==e.fuzzy&&(e.fuzzy=!0);c=e.caseSensitive?c:c.toLowerCase();var f=e.location,h=e.distance,k=e.threshold,l=c.length,m,n,p,r;32<l&&(e.fuzzy=!1);e.fuzzy&&(m=1<<l-1,n=function(){var b={},d;for(d=0;d<l;d++)b[c.charAt(d)]=0;for(d=0;d<l;d++)b[c.charAt(d)]|=1<<l-d-1;return b}(),p=function(b,c){var d=b/l,e=Math.abs(f-c);return h?d+e/h:e?1:d});r=function(b){b=e.caseSensitive?b:b.toLowerCase();if(c===b||-1!==b.indexOf(c))return{isMatch:!0,score:0};if(!e.fuzzy)return{isMatch:!1,score:1};var d,g,h=b.length,r=k,u=b.indexOf(c,f),v,w,x=l+h,D,G,R=1,Q=[];-1!==u&&(r=Math.min(p(0,u),r),u=b.lastIndexOf(c,f+l),-1!==u&&(r=Math.min(p(0,u),r)));u=-1;for(d=0;d<l;d++){v=0;for(w=x;v<w;)p(d,f+w)<=r?v=w:x=w,w=Math.floor((x-v)/2+v);x=w;v=Math.max(1,f-w+1);g=Math.min(f+w,h)+l;w=Array(g+2);for(w[g+1]=(1<<d)-1;g>=v;g--)if(G=n[b.charAt(g-1)],w[g]=0===d?(w[g+1]<<1|1)&G:(w[g+1]<<1|1)&G|(D[g+1]|D[g])<<1|1|D[g+1],w[g]&m&&(R=p(d,g-1),R<=r))if(r=R,u=g-1,Q.push(u),u>f)v=Math.max(1,2*f-u);else break;if(p(d+1,f)>r)break;D=w}return{isMatch:0<=u,score:R}};return!0===d?{search:r}:r(d)};b.vakata.search.defaults={location:0,distance:100,threshold:.6,fuzzy:!1,caseSensitive:!1}})(c);c.jstree.defaults.sort=function(b,c){return this.get_text(b)>this.get_text(c)?1:-1};c.jstree.plugins.sort=function(b,d){this.bind=function(){d.bind.call(this);this.element.on("model.jstree",c.proxy(function(b,c){this.sort(c.parent,!0)},this)).on("rename_node.jstree create_node.jstree",c.proxy(function(b,c){this.sort(c.parent||c.node.parent,!1);this.redraw_node(c.parent||c.node.parent,!0)},this)).on("move_node.jstree copy_node.jstree",c.proxy(function(b,c){this.sort(c.parent,!1);this.redraw_node(c.parent,!0)},this))};this.sort=function(b,d){var e,f;if((b=this.get_node(b))&&b.children&&b.children.length&&(b.children.sort(c.proxy(this.settings.sort,this)),d))for(e=0,f=b.children_d.length;e<f;e++)this.sort(b.children_d[e],!1)}};var x=!1;c.jstree.defaults.state={key:"jstree",events:"changed.jstree open_node.jstree close_node.jstree check_node.jstree uncheck_node.jstree",ttl:!1,filter:!1};c.jstree.plugins.state=function(b,d){this.bind=function(){d.bind.call(this);var b=c.proxy(function(){this.element.on(this.settings.state.events,c.proxy(function(){x&&clearTimeout(x);x=setTimeout(c.proxy(function(){this.save_state()},this),100)},this));this.trigger("state_ready")},this);this.element.on("ready.jstree",c.proxy(function(c,d){this.element.one("restore_state.jstree",b);this.restore_state()||b()},this))};this.save_state=function(){var b={state:this.get_state(),ttl:this.settings.state.ttl,sec:+new Date};c.vakata.storage.set(this.settings.state.key,JSON.stringify(b))};this.restore_state=function(){var b=c.vakata.storage.get(this.settings.state.key);if(b)try{b=JSON.parse(b)}catch(d){return!1}if(b&&b.ttl&&b.sec&&+new Date-b.sec>b.ttl)return!1;b&&b.state&&(b=b.state);b&&c.isFunction(this.settings.state.filter)&&(b=this.settings.state.filter.call(this,b));return b?(this.element.one("set_state.jstree",function(d,e){e.instance.trigger("restore_state",{state:c.extend(!0,{},b)})}),this.set_state(b),!0):!1};this.clear_state=function(){return c.vakata.storage.del(this.settings.state.key)}};(function(b,c){b.vakata.storage={set:function(b,c){return window.localStorage.setItem(b,c)},get:function(b){return window.localStorage.getItem(b)},del:function(b){return window.localStorage.removeItem(b)}}})(c);c.jstree.defaults.types={"default":{}};c.jstree.defaults.types[c.jstree.root]={};c.jstree.plugins.types=function(b,d){this.init=function(b,e){var f,g;if(e&&e.types&&e.types["default"])for(f in e.types)if("default"!==f&&f!==c.jstree.root&&e.types.hasOwnProperty(f))for(g in e.types["default"])e.types["default"].hasOwnProperty(g)&&e.types[f][g]===p&&(e.types[f][g]=e.types["default"][g]);d.init.call(this,b,e);this._model.data[c.jstree.root].type=c.jstree.root};this.refresh=function(b,e){d.refresh.call(this,b,e);this._model.data[c.jstree.root].type=c.jstree.root};this.bind=function(){this.element.on("model.jstree",c.proxy(function(b,d){var e=this._model.data,f=d.nodes,g=this.settings.types,h,k,l;h=0;for(k=f.length;h<k;h++)l="default",e[f[h]].original&&e[f[h]].original.type&&g[e[f[h]].original.type]&&(l=e[f[h]].original.type),e[f[h]].data&&e[f[h]].data.jstree&&e[f[h]].data.jstree.type&&g[e[f[h]].data.jstree.type]&&(l=e[f[h]].data.jstree.type),e[f[h]].type=l,!0===e[f[h]].icon&&g[l].icon!==p&&(e[f[h]].icon=g[l].icon);e[c.jstree.root].type=c.jstree.root},this));d.bind.call(this)};this.get_json=function(b,e,f){var g=this._model.data,h=e?c.extend(!0,{},e,{no_id:!1}):{},h=d.get_json.call(this,b,h,f);if(!1===h)return!1;if(c.isArray(h))for(b=0,f=h.length;b<f;b++)h[b].type=h[b].id&&g[h[b].id]&&g[h[b].id].type?g[h[b].id].type:"default",e&&e.no_id&&(delete h[b].id,h[b].li_attr&&h[b].li_attr.id&&delete h[b].li_attr.id,h[b].a_attr&&h[b].a_attr.id&&delete h[b].a_attr.id);else h.type=h.id&&g[h.id]&&g[h.id].type?g[h.id].type:"default",e&&e.no_id&&(h=this._delete_ids(h));return h};this._delete_ids=function(b){if(c.isArray(b)){for(var d=0,e=b.length;d<e;d++)b[d]=this._delete_ids(b[d]);return b}delete b.id;b.li_attr&&b.li_attr.id&&delete b.li_attr.id;b.a_attr&&b.a_attr.id&&delete b.a_attr.id;b.children&&c.isArray(b.children)&&(b.children=this._delete_ids(b.children));return b};this.check=function(b,e,f,g,h){if(!1===d.check.call(this,b,e,f,g,h))return!1;e=e&&e.id?e:this.get_node(e);f=f&&f.id?f:this.get_node(f);h=e&&e.id?h&&h.origin?h.origin:c.jstree.reference(e.id):null;var k,l,m,n;h=h&&h._model&&h._model.data?h._model.data:null;switch(b){case "create_node":case "move_node":case "copy_node":if("move_node"!==b||-1===c.inArray(e.id,f.children)){k=this.get_rules(f);if(k.max_children!==p&&-1!==k.max_children&&k.max_children===f.children.length)return this._data.core.last_error={error:"check",plugin:"types",id:"types_01",reason:"max_children prevents function: "+b,data:JSON.stringify({chk:b,pos:g,obj:e&&e.id?e.id:!1,par:f&&f.id?f.id:!1})},!1;if(k.valid_children!==p&&-1!==k.valid_children&&-1===c.inArray(e.type||"default",k.valid_children))return this._data.core.last_error={error:"check",plugin:"types",id:"types_02",reason:"valid_children prevents function: "+b,data:JSON.stringify({chk:b,pos:g,obj:e&&e.id?e.id:!1,par:f&&f.id?f.id:!1})},!1;if(h&&e.children_d&&e.parents){m=l=0;for(n=e.children_d.length;m<n;m++)l=Math.max(l,h[e.children_d[m]].parents.length);l=l-e.parents.length+1}if(0>=l||l===p)l=1;do{if(k.max_depth!==p&&-1!==k.max_depth&&k.max_depth<l)return this._data.core.last_error={error:"check",plugin:"types",id:"types_03",reason:"max_depth prevents function: "+b,data:JSON.stringify({chk:b,pos:g,obj:e&&e.id?e.id:!1,par:f&&f.id?f.id:!1})},!1;f=this.get_node(f.parent);k=this.get_rules(f);l++}while(f)}}return!0};this.get_rules=function(b){b=this.get_node(b);if(!b)return!1;b=this.get_type(b,!0);b.max_depth===p&&(b.max_depth=-1);b.max_children===p&&(b.max_children=-1);b.valid_children===p&&(b.valid_children=-1);return b};this.get_type=function(b,d){return(b=this.get_node(b))?d?c.extend({type:b.type},this.settings.types[b.type]):b.type:!1};this.set_type=function(b,d){var e,f,g;if(c.isArray(b)){b=b.slice();e=0;for(f=b.length;e<f;e++)this.set_type(b[e],d);return!0}e=this.settings.types;b=this.get_node(b);if(!e[d]||!b)return!1;f=b.type;g=this.get_icon(b);b.type=d;(!0===g||e[f]&&e[f].icon!==p&&g===e[f].icon)&&this.set_icon(b,e[d].icon!==p?e[d].icon:!0);return!0}};c.jstree.defaults.unique={case_sensitive:!1,duplicate:function(b,c){return b+" ("+c+")"}};c.jstree.plugins.unique=function(b,d){this.check=function(b,e,f,g,h){if(!1===d.check.call(this,b,e,f,g,h))return!1;e=e&&e.id?e:this.get_node(e);f=f&&f.id?f:this.get_node(f);if(!f||!f.children)return!0;var k="rename_node"===b?g:e.text,l=[],m=this.settings.unique.case_sensitive,n=this._model.data,p,q;p=0;for(q=f.children.length;p<q;p++)l.push(m?n[f.children[p]].text:n[f.children[p]].text.toLowerCase());m||(k=k.toLowerCase());switch(b){case "rename_node":return p=-1===c.inArray(k,l)||e.text&&e.text[m?"toString":"toLowerCase"]()===k,p||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_01",reason:"Child with name "+k+" already exists. Preventing: "+b,data:JSON.stringify({chk:b,pos:g,obj:e&&e.id?e.id:!1,par:f&&f.id?f.id:!1})}),p;case "create_node":return p=-1===c.inArray(k,l),p||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_04",reason:"Child with name "+k+" already exists. Preventing: "+b,data:JSON.stringify({chk:b,pos:g,obj:e&&e.id?e.id:!1,par:f&&f.id?f.id:!1})}),p;case "copy_node":return p=-1===c.inArray(k,l),p||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_02",reason:"Child with name "+k+" already exists. Preventing: "+b,data:JSON.stringify({chk:b,pos:g,obj:e&&e.id?e.id:!1,par:f&&f.id?f.id:!1})}),p;case "move_node":return p=e.parent===f.id&&(!h||!h.is_multi)||-1===c.inArray(k,l),p||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_03",reason:"Child with name "+k+" already exists. Preventing: "+b,data:JSON.stringify({chk:b,pos:g,obj:e&&e.id?e.id:!1,par:f&&f.id?f.id:!1})}),p}return!0};this.create_node=function(b,e,f,g,h){if(!e||e.text===p){null===b&&(b=c.jstree.root);b=this.get_node(b);if(!b)return d.create_node.call(this,b,e,f,g,h);f=f===p?"last":f;if(!f.toString().match(/^(before|after)$/)&&!h&&!this.is_loaded(b))return d.create_node.call(this,b,e,f,g,h);e||(e={});var k,l,m,n,r,q=this._model.data,u=this.settings.unique.case_sensitive,v=this.settings.unique.duplicate;l=k=this.get_string("New node");m=[];n=0;for(r=b.children.length;n<r;n++)m.push(u?q[b.children[n]].text:q[b.children[n]].text.toLowerCase());for(n=1;-1!==c.inArray(u?l:l.toLowerCase(),m);)l=v.call(this,k,++n).toString();e.text=l}return d.create_node.call(this,b,e,f,g,h)}};var v=m.createElement("DIV");v.setAttribute("unselectable","on");v.setAttribute("role","presentation");v.className="jstree-wholerow";v.innerHTML="\x26#160;";c.jstree.plugins.wholerow=function(b,d){this.bind=function(){d.bind.call(this);this.element.on("ready.jstree set_state.jstree",c.proxy(function(){this.hide_dots()},this)).on("init.jstree loading.jstree ready.jstree",c.proxy(function(){this.get_container_ul().addClass("jstree-wholerow-ul")},this)).on("deselect_all.jstree",c.proxy(function(b,c){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked")},this)).on("changed.jstree",c.proxy(function(b,c){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked");var d,e,f;e=0;for(f=c.selected.length;e<f;e++)(d=this.get_node(c.selected[e],!0))&&d.length&&d.children(".jstree-wholerow").addClass("jstree-wholerow-clicked")},this)).on("open_node.jstree",c.proxy(function(b,c){this.get_node(c.node,!0).find(".jstree-clicked").parent().children(".jstree-wholerow").addClass("jstree-wholerow-clicked")},this)).on("hover_node.jstree dehover_node.jstree",c.proxy(function(b,c){if("hover_node"!==b.type||!this.is_disabled(c.node))this.get_node(c.node,!0).children(".jstree-wholerow")["hover_node"===b.type?"addClass":"removeClass"]("jstree-wholerow-hovered")},this)).on("contextmenu.jstree",".jstree-wholerow",c.proxy(function(b){b.preventDefault();var d=c.Event("contextmenu",{metaKey:b.metaKey,ctrlKey:b.ctrlKey,altKey:b.altKey,shiftKey:b.shiftKey,pageX:b.pageX,pageY:b.pageY});c(b.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(d)},this)).on("click.jstree",".jstree-wholerow",function(b){b.stopImmediatePropagation();var d=c.Event("click",{metaKey:b.metaKey,ctrlKey:b.ctrlKey,altKey:b.altKey,shiftKey:b.shiftKey});c(b.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(d).focus()}).on("click.jstree",".jstree-leaf \x3e .jstree-ocl",c.proxy(function(b){b.stopImmediatePropagation();var d=c.Event("click",{metaKey:b.metaKey,ctrlKey:b.ctrlKey,altKey:b.altKey,shiftKey:b.shiftKey});c(b.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(d).focus()},this)).on("mouseover.jstree",".jstree-wholerow, .jstree-icon",c.proxy(function(b){b.stopImmediatePropagation();this.is_disabled(b.currentTarget)||this.hover_node(b.currentTarget);return!1},this)).on("mouseleave.jstree",".jstree-node",c.proxy(function(b){this.dehover_node(b.currentTarget)},this))};this.teardown=function(){this.settings.wholerow&&this.element.find(".jstree-wholerow").remove();d.teardown.call(this)};this.redraw_node=function(b,e,f,g){if(b=d.redraw_node.apply(this,arguments)){var h=v.cloneNode(!0);-1!==c.inArray(b.id,this._data.core.selected)&&(h.className+=" jstree-wholerow-clicked");this._data.core.focused&&this._data.core.focused===b.id&&(h.className+=" jstree-wholerow-hovered");b.insertBefore(h,b.childNodes[0])}return b}};if(m.registerElement&&Object&&Object.create){d=Object.create(HTMLElement.prototype);d.createdCallback=function(){var b={core:{},plugins:[]},d;for(d in c.jstree.plugins)c.jstree.plugins.hasOwnProperty(d)&&this.attributes[d]&&(b.plugins.push(d),this.getAttribute(d)&&JSON.parse(this.getAttribute(d))&&(b[d]=JSON.parse(this.getAttribute(d))));for(d in c.jstree.defaults.core)c.jstree.defaults.core.hasOwnProperty(d)&&this.attributes[d]&&(b.core[d]=JSON.parse(this.getAttribute(d))||this.getAttribute(d));c(this).jstree(b)};try{m.registerElement("vakata-jstree",{prototype:d})}catch(g){}}return c.fn.jstree});!function(c){"function"==typeof define&&define.amd?define(["jquery","../../../../../error/ie.html"],c):c(jQuery)}(function(c){c.extend(c.validator.messages,{required:"\x3ci class\x3d'fa fa-times-circle'\x3e\x3c/i\x3e  \u5fc5\u586b",remote:"\x3ci class\x3d'fa fa-times-circle'\x3e\x3c/i\x3e  \u8bf7\u4fee\u6b63\u6b64\u680f\u4f4d",email:"\x3ci class\x3d'fa fa-times-circle'\x3e\x3c/i\x3e  \u8bf7\u8f93\u5165\u6709\u6548\u7684\u7535\u5b50\u90ae\u4ef6",url:"\x3ci class\x3d'fa fa-times-circle'\x3e\x3c/i\x3e  \u8bf7\u8f93\u5165\u6709\u6548\u7684\u7f51\u5740",date:"\x3ci class\x3d'fa fa-times-circle'\x3e\x3c/i\x3e  \u8bf7\u8f93\u5165\u6709\u6548\u7684\u65e5\u671f",dateISO:"\x3ci class\x3d'fa fa-times-circle'\x3e\x3c/i\x3e  \u8bf7\u8f93\u5165\u6709\u6548\u7684\u65e5\u671f (YYYY-MM-DD)",number:"\x3ci class\x3d'fa fa-times-circle'\x3e\x3c/i\x3e  \u8bf7\u8f93\u5165\u6b63\u786e\u7684\u6570\u5b57",digits:"\x3ci class\x3d'fa fa-times-circle'\x3e\x3c/i\x3e  \u53ea\u80fd\u8f93\u5165\u6570\u5b57",creditcard:"\x3ci class\x3d'fa fa-times-circle'\x3e\x3c/i\x3e  \u8bf7\u8f93\u5165\u6709\u6548\u7684\u4fe1\u7528\u5361\u53f7\u7801",equalTo:"\x3ci class\x3d'fa fa-times-circle'\x3e\x3c/i\x3e  \u4f60\u7684\u8f93\u5165\u4e0d\u76f8\u540c",extension:"\x3ci class\x3d'fa fa-times-circle'\x3e\x3c/i\x3e  \u8bf7\u8f93\u5165\u6709\u6548\u7684\u540e\u7f00",maxlength:c.validator.format("\x3ci class\x3d'fa fa-times-circle'\x3e\x3c/i\x3e  \u6700\u591a {0} \u4e2a\u5b57"),minlength:c.validator.format("\x3ci class\x3d'fa fa-times-circle'\x3e\x3c/i\x3e  \u6700\u5c11 {0} \u4e2a\u5b57"),rangelength:c.validator.format("\x3ci class\x3d'fa fa-times-circle'\x3e\x3c/i\x3e  \u8bf7\u8f93\u5165\u957f\u5ea6\u4e3a {0} \u81f3 {1} \u4e4b\u95f4\u7684\u5b57\u4e32"),range:c.validator.format("\x3ci class\x3d'fa fa-times-circle'\x3e\x3c/i\x3e  \u8bf7\u8f93\u5165 {0} \u81f3 {1} \u4e4b\u95f4\u7684\u6570\u503c"),max:c.validator.format("\x3ci class\x3d'fa fa-times-circle'\x3e\x3c/i\x3e  \u8bf7\u8f93\u5165\u4e0d\u5927\u4e8e {0} \u7684\u6570\u503c"),min:c.validator.format("\x3ci class\x3d'fa fa-times-circle'\x3e\x3c/i\x3e  \u8bf7\u8f93\u5165\u4e0d\u5c0f\u4e8e {0} \u7684\u6570\u503c")})});!function(c,p,b){!function l(b,c,d){function m(f,u){if(!c[f]){if(!b[f]){var x="function"==typeof require&&require;if(!u&&x)return x(f,!0);if(p)return p(f,!0);x=Error("Cannot find module '"+f+"'");throw x.code="MODULE_NOT_FOUND",x;}x=c[f]={exports:{}};b[f][0].call(x.exports,function(c){var d=b[f][1][c];return m(d?d:c)},x,x.exports,l,b,c,d)}return c[f].exports}for(var p="function"==typeof require&&require,f=0;f<d.length;f++)m(d[f]);return m}({1:[function(l){var e,n,d;d=function(b){return b&&b.__esModule?b:{"default":b}};var m=l("./modules/handle-dom"),r=l("./modules/utils"),f=l("./modules/handle-swal-dom"),k=l("./modules/handle-click"),u=l("./modules/handle-key"),x=d(u),u=l("./modules/default-params"),v=d(u);l=l("./modules/set-params");var g=d(l);d=l=function(d,l,u){function z(c){var d=D;return d[c]===b?v["default"][c]:d[c]}var D=d;if(m.addClass(p.body,"stop-scrolling"),f.resetInput(),D===b)return r.logStr("SweetAlert expects at least 1 attribute!"),!1;var A=r.extend({},v["default"]);switch(typeof D){case "string":A.title=D;A.text=l||"";A.type=u||"";break;case "object":if(D.title===b)return r.logStr('Missing "title" argument!'),!1;A.title=D.title;for(var B in v["default"])A[B]=z(B);A.confirmButtonText=A.showCancelButton?"Confirm":v["default"].confirmButtonText;A.confirmButtonText=z("confirmButtonText");A.doneFunction=l||null;break;default:return r.logStr('Unexpected type of argument! Expected "string" or "object", got '+typeof D),!1}g["default"](A);f.fixVerticalPosition();f.openModal(l);var F=f.getModal();d=F.querySelectorAll("button");l="onclick onmouseover onmouseout onmousedown onmouseup onfocus".split(" ");u=function(b){return k.handleButton(b,A,F)};for(B=0;B<d.length;B++)for(var N=0;N<l.length;N++)d[B][l[N]]=u;f.getOverlay().onclick=u;e=c.onkeydown;c.onkeydown=function(b){return x["default"](b,A,F)};c.onfocus=function(){setTimeout(function(){n!==b&&(n.focus(),n=b)},0)}};d.setDefaults=l.setDefaults=function(b){if(!b)throw Error("userParams is required");if("object"!=typeof b)throw Error("userParams has to be a object");r.extend(v["default"],b)};d.close=l.close=function(){var d=f.getModal();m.fadeOut(f.getOverlay(),5);m.fadeOut(d,5);m.removeClass(d,"showSweetAlert");m.addClass(d,"hideSweetAlert");m.removeClass(d,"visible");var g=d.querySelector(".sa-icon.sa-success");m.removeClass(g,"animate");m.removeClass(g.querySelector(".sa-tip"),"animateSuccessTip");m.removeClass(g.querySelector(".sa-long"),"animateSuccessLong");g=d.querySelector(".sa-icon.sa-error");m.removeClass(g,"animateErrorIcon");m.removeClass(g.querySelector(".sa-x-mark"),"animateXMark");g=d.querySelector(".sa-icon.sa-warning");return m.removeClass(g,"pulseWarning"),m.removeClass(g.querySelector(".sa-body"),"pulseWarningIns"),m.removeClass(g.querySelector(".sa-dot"),"pulseWarningIns"),setTimeout(function(){var b=d.getAttribute("data-custom-class");m.removeClass(d,b)},300),m.removeClass(p.body,"stop-scrolling"),c.onkeydown=e,c.previousActiveElement&&c.previousActiveElement.focus(),n=b,clearTimeout(d.timeout),!0};d.showInputError=l.showInputError=function(b){var c=f.getModal(),d=c.querySelector(".sa-input-error");m.addClass(d,"show");d=c.querySelector(".sa-error-container");m.addClass(d,"show");d.querySelector("p").innerHTML=b;c.querySelector("input").focus()};d.resetInputError=l.resetInputError=function(b){if(b&&13===b.keyCode)return!1;b=f.getModal();var c=b.querySelector(".sa-input-error");m.removeClass(c,"show");b=b.querySelector(".sa-error-container");m.removeClass(b,"show")};"undefined"!=typeof c?c.sweetAlert=c.swal=d:r.logStr("SweetAlert is a frontend module!")},{"./modules/default-params":2,"./modules/handle-click":3,"./modules/handle-dom":4,"./modules/handle-key":5,"./modules/handle-swal-dom":6,"./modules/set-params":8,"./modules/utils":9}],2:[function(b,c,n){Object.defineProperty(n,"__esModule",{value:!0});n["default"]={title:"",text:"",type:null,allowOutsideClick:!1,showConfirmButton:!0,showCancelButton:!1,closeOnConfirm:!0,closeOnCancel:!0,confirmButtonText:"OK",confirmButtonColor:"#AEDEF4",cancelButtonText:"Cancel",imageUrl:null,imageSize:null,timer:null,customClass:"",html:!1,animation:!0,allowEscapeKey:!0,inputType:"text",inputPlaceholder:"",inputValue:""};c.exports=n["default"]},{}],3:[function(b,e,n){Object.defineProperty(n,"__esModule",{value:!0});var d=b("./utils"),m=(b("./handle-swal-dom"),b("./handle-dom")),p=function(b,c){var d=!0;m.hasClass(b,"show-input")&&(d=b.querySelector("input").value,d||(d=""));c.doneFunction(d);c.closeOnConfirm&&sweetAlert.close()},f=function(b,c){var d=String(c.doneFunction).replace(/\s/g,"");"function("===d.substring(0,9)&&")"!==d.substring(9,10)&&c.doneFunction(!1);c.closeOnCancel&&sweetAlert.close()};n["default"]={handleButton:function(b,e,l){function n(b){D&&e.confirmButtonColor&&(z.style.backgroundColor=b)}var g,t,w,y=b||c.event,z=y.target||y.srcElement,D=-1!==z.className.indexOf("confirm");b=-1!==z.className.indexOf("sweet-overlay");var A=m.hasClass(l,"visible"),B=e.doneFunction&&"true"===l.getAttribute("data-has-done-function");switch(D&&e.confirmButtonColor&&(g=e.confirmButtonColor,t=d.colorLuminance(g,-.04),w=d.colorLuminance(g,-.14)),y.type){case "mouseover":n(t);break;case "mouseout":n(g);break;case "mousedown":n(w);break;case "mouseup":n(t);break;case "focus":b=l.querySelector("button.confirm");l=l.querySelector("button.cancel");D?l.style.boxShadow="none":b.style.boxShadow="none";break;case "click":if(g=l===z,t=m.isDescendant(l,z),g||t||!A||e.allowOutsideClick)D&&B&&A?p(l,e):B&&A||b?f(l,e):m.isDescendant(l,z)&&"BUTTON"===z.tagName&&sweetAlert.close()}},handleConfirm:p,handleCancel:f};e.exports=n["default"]},{"./handle-dom":4,"./handle-swal-dom":6,"./utils":9}],4:[function(b,e,n){Object.defineProperty(n,"__esModule",{value:!0});var d=function(b,c){return(new RegExp(" "+c+" ")).test(" "+b.className+" ")},m=function(b){b.style.opacity="";b.style.display="block"},r=function(b){b.style.opacity="";b.style.display="none"};n.hasClass=d;n.addClass=function(b,c){d(b,c)||(b.className+=" "+c)};n.removeClass=function(b,c){var e=" "+b.className.replace(/[\t\r\n]/g," ")+" ";if(d(b,c)){for(;0<=e.indexOf(" "+c+" ");)e=e.replace(" "+c+" "," ");b.className=e.replace(/^\s+|\s+$/g,"")}};n.escapeHtml=function(b){var c=p.createElement("div");return c.appendChild(p.createTextNode(b)),c.innerHTML};n._show=m;n.show=function(b){if(b&&!b.length)return m(b);for(var c=0;c<b.length;++c)m(b[c])};n._hide=r;n.hide=function(b){if(b&&!b.length)return r(b);for(var c=0;c<b.length;++c)r(b[c])};n.isDescendant=function(b,c){for(var d=c.parentNode;null!==d;){if(d===b)return!0;d=d.parentNode}return!1};n.getTopMargin=function(b){b.style.left="-9999px";b.style.display="block";var c,d=b.clientHeight;return c="undefined"!=typeof getComputedStyle?parseInt(getComputedStyle(b).getPropertyValue("padding-top"),10):parseInt(b.currentStyle.padding),b.style.left="",b.style.display="none","-"+parseInt((d+c)/2)+"px"};n.fadeIn=function(b,c){if(1>+b.style.opacity){c=c||16;b.style.opacity=0;b.style.display="block";var d=+new Date,e=function(b){function c(){return b.apply(this,arguments)}return c.toString=function(){return b.toString()},c}(function(){b.style.opacity=+b.style.opacity+(new Date-d)/100;d=+new Date;1>+b.style.opacity&&setTimeout(e,c)});e()}b.style.display="block"};n.fadeOut=function(b,c){c=c||16;b.style.opacity=1;var d=+new Date,e=function(b){function c(){return b.apply(this,arguments)}return c.toString=function(){return b.toString()},c}(function(){b.style.opacity=+b.style.opacity-(new Date-d)/100;d=+new Date;0<+b.style.opacity?setTimeout(e,c):b.style.display="none"});e()};n.fireClick=function(b){if("function"==typeof MouseEvent){var d=new MouseEvent("click",{view:c,bubbles:!1,cancelable:!0});b.dispatchEvent(d)}else p.createEvent?(d=p.createEvent("MouseEvents"),d.initEvent("click",!1,!1),b.dispatchEvent(d)):p.createEventObject?b.fireEvent("onclick"):"function"==typeof b.onclick&&b.onclick()};n.stopEventPropagation=function(b){"function"==typeof b.stopPropagation?(b.stopPropagation(),b.preventDefault()):c.event&&c.event.hasOwnProperty("cancelBubble")&&(c.event.cancelBubble=!0)}},{}],5:[function(b,e,n){Object.defineProperty(n,"__esModule",{value:!0});var d=b("./handle-dom"),m=b("./handle-swal-dom");n["default"]=function(b,e,k){b=b||c.event;var l=b.keyCode||b.which,n=k.querySelector("button.confirm"),p=k.querySelector("button.cancel");k=k.querySelectorAll("button[tabindex]");if(-1!==[9,13,32,27].indexOf(l)){for(var g=b.target||b.srcElement,t=-1,w=0;w<k.length;w++)if(g===k[w]){t=w;break}9===l?(g=-1===t?n:t===k.length-1?k[0]:k[t+1],d.stopEventPropagation(b),g.focus(),e.confirmButtonColor&&m.setFocusStyle(g,e.confirmButtonColor)):13===l?"INPUT"===g.tagName&&n.focus():27===l&&!0===e.allowEscapeKey&&(g=p,d.fireClick(g,b))}};e.exports=n["default"]},{"./handle-dom":4,"./handle-swal-dom":6}],6:[function(b,e,n){Object.defineProperty(n,"__esModule",{value:!0});var d=b("./utils"),m=b("./handle-dom"),r=(e=b("./default-params"))&&e.__esModule?e:{"default":e},f=(b=b("./injected-html"))&&b.__esModule?b:{"default":b},k=function(){var b=p.createElement("div");for(b.innerHTML=f["default"];b.firstChild;)p.body.appendChild(b.firstChild)},u=function(b){function c(){return b.apply(this,arguments)}return c.toString=function(){return b.toString()},c}(function(){var b=p.querySelector(".sweet-alert");return b||(k(),b=u()),b}),x=function(){var b=u();return b?b.querySelector("input"):void 0},v=function(){return p.querySelector(".sweet-overlay")},g=function(b){if(b&&13===b.keyCode)return!1;b=u();var c=b.querySelector(".sa-input-error");m.removeClass(c,"show");b=b.querySelector(".sa-error-container");m.removeClass(b,"show")};n.sweetAlertInitialize=k;n.getModal=u;n.getOverlay=v;n.getInput=x;n.setFocusStyle=function(b,c){var e=d.hexToRgb(c);b.style.boxShadow="0 0 2px rgba("+e+", 0.8), inset 0 0 0 1px rgba(0, 0, 0, 0.05)"};n.openModal=function(b){var d=u();m.fadeIn(v(),10);m.show(d);m.addClass(d,"showSweetAlert");m.removeClass(d,"hideSweetAlert");c.previousActiveElement=p.activeElement;d.querySelector("button.confirm").focus();setTimeout(function(){m.addClass(d,"visible")},500);var e=d.getAttribute("data-timer");"null"!==e&&""!==e&&(d.timeout=setTimeout(function(){b&&"true"===d.getAttribute("data-has-done-function")?b(null):sweetAlert.close()},e))};n.resetInput=function(){var b=u(),c=x();m.removeClass(b,"show-input");c.value=r["default"].inputValue;c.setAttribute("type",r["default"].inputType);c.setAttribute("placeholder",r["default"].inputPlaceholder);g()};n.resetInputError=g;n.fixVerticalPosition=function(){u().style.marginTop=m.getTopMargin(u())}},{"./default-params":2,"./handle-dom":4,"./injected-html":7,"./utils":9}],7:[function(b,c,n){Object.defineProperty(n,"__esModule",{value:!0});n["default"]='\x3cdiv class\x3d"sweet-overlay" tabIndex\x3d"-1"\x3e\x3c/div\x3e\x3cdiv class\x3d"sweet-alert"\x3e\x3cdiv class\x3d"sa-icon sa-error"\x3e\n      \x3cspan class\x3d"sa-x-mark"\x3e\n        \x3cspan class\x3d"sa-line sa-left"\x3e\x3c/span\x3e\n        \x3cspan class\x3d"sa-line sa-right"\x3e\x3c/span\x3e\n      \x3c/span\x3e\n    \x3c/div\x3e\x3cdiv class\x3d"sa-icon sa-warning"\x3e\n      \x3cspan class\x3d"sa-body"\x3e\x3c/span\x3e\n      \x3cspan class\x3d"sa-dot"\x3e\x3c/span\x3e\n    \x3c/div\x3e\x3cdiv class\x3d"sa-icon sa-info"\x3e\x3c/div\x3e\x3cdiv class\x3d"sa-icon sa-success"\x3e\n      \x3cspan class\x3d"sa-line sa-tip"\x3e\x3c/span\x3e\n      \x3cspan class\x3d"sa-line sa-long"\x3e\x3c/span\x3e\n\n      \x3cdiv class\x3d"sa-placeholder"\x3e\x3c/div\x3e\n      \x3cdiv class\x3d"sa-fix"\x3e\x3c/div\x3e\n    \x3c/div\x3e\x3cdiv class\x3d"sa-icon sa-custom"\x3e\x3c/div\x3e\x3ch2\x3eTitle\x3c/h2\x3e\n    \x3cp\x3eText\x3c/p\x3e\n    \x3cfieldset\x3e\n      \x3cinput type\x3d"text" tabIndex\x3d"3" /\x3e\n      \x3cdiv class\x3d"sa-input-error"\x3e\x3c/div\x3e\n    \x3c/fieldset\x3e\x3cdiv class\x3d"sa-error-container"\x3e\n      \x3cdiv class\x3d"icon"\x3e!\x3c/div\x3e\n      \x3cp\x3eNot valid!\x3c/p\x3e\n    \x3c/div\x3e\x3cdiv class\x3d"sa-button-container"\x3e\n      \x3cbutton class\x3d"cancel" tabIndex\x3d"2"\x3eCancel\x3c/button\x3e\n      \x3cbutton class\x3d"confirm" tabIndex\x3d"1"\x3eOK\x3c/button\x3e\n    \x3c/div\x3e\x3c/div\x3e';c.exports=n["default"]},{}],8:[function(c,e,n){Object.defineProperty(n,"__esModule",{value:!0});var d=c("./utils"),m=c("./handle-swal-dom"),p=c("./handle-dom"),f="error warning info success input prompt".split(" ");n["default"]=function(c){var e=m.getModal(),l=e.querySelector("h2"),n=e.querySelector("p"),g=e.querySelector("button.cancel"),t=e.querySelector("button.confirm");(l.innerHTML=c.html?c.title:p.escapeHtml(c.title).split("\n").join("\x3cbr\x3e"),n.innerHTML=c.html?c.text:p.escapeHtml(c.text||"").split("\n").join("\x3cbr\x3e"),c.text&&p.show(n),c.customClass)?(p.addClass(e,c.customClass),e.setAttribute("data-custom-class",c.customClass)):(l=e.getAttribute("data-custom-class"),p.removeClass(e,l),e.setAttribute("data-custom-class",""));if(p.hide(e.querySelectorAll(".sa-icon")),c.type&&!d.isIE8())if(l=function(){for(var d=!1,g=0;g<f.length;g++)if(c.type===f[g]){d=!0;break}if(!d)return logStr("Unknown alert type: "+c.type),{v:!1};d=b;-1!==["success","error","warning","info"].indexOf(c.type)&&(d=e.querySelector(".sa-icon.sa-"+c.type),p.show(d));var l=m.getInput();switch(c.type){case "success":p.addClass(d,"animate");p.addClass(d.querySelector(".sa-tip"),"animateSuccessTip");p.addClass(d.querySelector(".sa-long"),"animateSuccessLong");break;case "error":p.addClass(d,"animateErrorIcon");p.addClass(d.querySelector(".sa-x-mark"),"animateXMark");break;case "warning":p.addClass(d,"pulseWarning");p.addClass(d.querySelector(".sa-body"),"pulseWarningIns");p.addClass(d.querySelector(".sa-dot"),"pulseWarningIns");break;case "input":case "prompt":l.setAttribute("type",c.inputType),l.value=c.inputValue,l.setAttribute("placeholder",c.inputPlaceholder),p.addClass(e,"show-input"),setTimeout(function(){l.focus();l.addEventListener("keyup",swal.resetInputError)},400)}}(),"object"==typeof l)return l.v;if(c.imageUrl){l=e.querySelector(".sa-icon.sa-custom");l.style.backgroundImage="url("+c.imageUrl+")";p.show(l);var w=n=80;if(c.imageSize){var y=c.imageSize.toString().split("x"),z=y[0],y=y[1];z&&y?(n=z,w=y):logStr("Parameter imageSize expects value with format WIDTHxHEIGHT, got "+c.imageSize)}l.setAttribute("style",l.getAttribute("style")+"width:"+n+"px; height:"+w+"px")}e.setAttribute("data-has-cancel-button",c.showCancelButton);c.showCancelButton?g.style.display="inline-block":p.hide(g);e.setAttribute("data-has-confirm-button",c.showConfirmButton);c.showConfirmButton?t.style.display="inline-block":p.hide(t);c.cancelButtonText&&(g.innerHTML=p.escapeHtml(c.cancelButtonText));c.confirmButtonText&&(t.innerHTML=p.escapeHtml(c.confirmButtonText));c.confirmButtonColor&&(t.style.backgroundColor=c.confirmButtonColor,m.setFocusStyle(t,c.confirmButtonColor));e.setAttribute("data-allow-outside-click",c.allowOutsideClick);e.setAttribute("data-has-done-function",c.doneFunction?!0:!1);c.animation?"string"==typeof c.animation?e.setAttribute("data-animation",c.animation):e.setAttribute("data-animation","pop"):e.setAttribute("data-animation","none");e.setAttribute("data-timer",c.timer)};e.exports=n["default"]},{"./handle-dom":4,"./handle-swal-dom":6,"./utils":9}],9:[function(b,e,n){Object.defineProperty(n,"__esModule",{value:!0});n.extend=function(b,c){for(var e in c)c.hasOwnProperty(e)&&(b[e]=c[e]);return b};n.hexToRgb=function(b){return(b=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(b))?parseInt(b[1],16)+", "+parseInt(b[2],16)+", "+parseInt(b[3],16):null};n.isIE8=function(){return c.attachEvent&&!c.addEventListener};n.logStr=function(b){c.console&&c.console.log("SweetAlert: "+b)};n.colorLuminance=function(b,c){b=String(b).replace(/[^0-9a-f]/gi,"");6>b.length&&(b=b[0]+b[0]+b[1]+b[1]+b[2]+b[2]);c=c||0;var e,f,k="#";for(f=0;3>f;f++)e=parseInt(b.substr(2*f,2),16),e=Math.round(Math.min(Math.max(0,e+e*c),255)).toString(16),k+=("00"+e).substr(e.length);return k}},{}]},{},[1]);"function"==typeof define&&define.amd?define(function(){return sweetAlert}):"undefined"!=typeof module&&module.exports&&(module.exports=sweetAlert)}(window,document);!function(c){c(["jquery"],function(c){return function(){function b(b,f){b||(b=e());d=c("#"+b.containerId);if(!d.length&&f){var h=b;d=(d=c("\x3cdiv/\x3e").attr("id",h.containerId).addClass(h.positionClass).attr("aria-live","polite").attr("role","alert"),d.appendTo(c(h.target)),d)}return d}function h(b,d){return b&&0===c(":focus",b).length?(b[d.hideMethod]({duration:d.hideDuration,easing:d.hideEasing,complete:function(){n(b)}}),!0):!1}function l(h){function k(b){return!c(":focus",y).length||b?(clearTimeout(F.intervalId),y[g.hideMethod]({duration:g.hideDuration,easing:g.hideEasing,complete:function(){n(y);g.onHidden&&"hidden"!==N.state&&g.onHidden();N.state="hidden";N.endTime=new Date;m&&m(N)}})):void 0}function l(){var b=(F.hideEta-(new Date).getTime())/F.maxHideTime*100;A.width(b+"%")}var g=e(),t=h.iconClass||g.iconClass;if("undefined"!=typeof h.optionsOverride&&(g=c.extend(g,h.optionsOverride),t=h.optionsOverride.iconClass||t),g.preventDuplicates){if(h.message===r)return;r=h.message}f++;d=b(g,!0);var w=null,y=c("\x3cdiv/\x3e"),z=c("\x3cdiv/\x3e"),D=c("\x3cdiv/\x3e"),A=c("\x3cdiv/\x3e"),B=c(g.closeHtml),F={intervalId:null,hideEta:null,maxHideTime:null},N={toastId:f,state:"visible",startTime:new Date,options:g,map:h};h.iconClass&&y.addClass(g.toastClass).addClass(t);h.title&&(z.append(h.title).addClass(g.titleClass),y.append(z));h.message&&(D.append(h.message).addClass(g.messageClass),y.append(D));g.closeButton&&(B.addClass("toast-close-button").attr("role","button"),y.prepend(B));g.progressBar&&(A.addClass("toast-progress"),y.prepend(A));y.hide();g.newestOnTop?d.prepend(y):d.append(y);y[g.showMethod]({duration:g.showDuration,easing:g.showEasing,complete:g.onShown});0<g.timeOut&&(w=setTimeout(k,g.timeOut),F.maxHideTime=parseFloat(g.timeOut),F.hideEta=(new Date).getTime()+F.maxHideTime,g.progressBar&&(F.intervalId=setInterval(l,10)));y.hover(function(){clearTimeout(w);F.hideEta=0;y.stop(!0,!0)[g.showMethod]({duration:g.showDuration,easing:g.showEasing})},function(){(0<g.timeOut||0<g.extendedTimeOut)&&(w=setTimeout(k,g.extendedTimeOut),F.maxHideTime=parseFloat(g.extendedTimeOut),F.hideEta=(new Date).getTime()+F.maxHideTime)});!g.onclick&&g.tapToDismiss&&y.click(k);g.closeButton&&B&&B.click(function(b){b.stopPropagation?b.stopPropagation():void 0!==b.cancelBubble&&!0!==b.cancelBubble&&(b.cancelBubble=!0);k(!0)});g.onclick&&y.click(function(){g.onclick();k()});m&&m(N);return g.debug&&console&&console.log(N),y}function e(){return c.extend({},{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1E3,hideEasing:"swing",onHidden:void 0,extendedTimeOut:1E3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5E3,titleClass:"toast-title",messageClass:"toast-message",target:"body",closeHtml:'\x3cbutton type\x3d"button"\x3e\x26times;\x3c/button\x3e',newestOnTop:!0,preventDuplicates:!1,progressBar:!1},k.options)}function n(c){d||(d=b());c.is(":visible")||(c.remove(),0===d.children().length&&(d.remove(),r=void 0))}var d,m,r,f=0,k={clear:function(f){var k=e();d||b(k);if(!h(f,k)){f=d.children();for(var l=f.length-1;0<=l;l--)h(c(f[l]),k)}},remove:function(f){var h=e();return d||b(h),f&&0===c(":focus",f).length?void n(f):void(d.children().length&&d.remove())},error:function(b,c,d){return l({type:"error",iconClass:e().iconClasses.error,message:b,optionsOverride:d,title:c})},getContainer:b,info:function(b,c,d){return l({type:"info",iconClass:e().iconClasses.info,message:b,optionsOverride:d,title:c})},options:{},subscribe:function(b){m=b},success:function(b,c,d){return l({type:"success",iconClass:e().iconClasses.success,message:b,optionsOverride:d,title:c})},version:"2.1.0",warning:function(b,c,d){return l({type:"warning",iconClass:e().iconClasses.warning,message:b,optionsOverride:d,title:c})}};return k}()})}("function"==typeof define&&define.amd?define:function(c,p){"undefined"!=typeof module&&module.exports?module.exports=p(require("jquery")):window.toastr=p(window.jQuery)});(function(c,p){function b(b,f,g){function m(){setTimeout(function(){!H.start&&c("body").is(":visible")&&t()},0)}function q(){return b.is(":visible")}function r(b){H&&b==H.name||(S++,H&&(N("viewDestroy",H,H,H.element),I(),H.triggerEventDestroy(),L(),H.element.remove(),M.deactivateButton(H.name)),M.activateButton(b),H=new ja[b](c("\x3cdiv class\x3d'fc-view fc-view-"+b+"' style\x3d'position:relative'/\x3e").appendTo(ra),K),t(),J(),S--)}function t(b){(!H.start||b||H.start>U||U>=H.end)&&q()&&u(b)}function u(b){S++;H.start&&(N("viewDestroy",H,H,H.element),I(),F());L();H.render(U,b||0);A();J();(H.afterRender||G)();M.updateTitle(H.title);b=new Date;b>=H.start&&H.end>b?M.disableButton("today"):M.enableButton("today");N("viewRender",H,H,H.element);H.trigger("viewDisplay",ca);S--;!f.lazyFetching||T(H.visStart,H.visEnd)?V(H.visStart,H.visEnd):D()}function x(){q()&&(I(),F(),w(),A(),D())}function w(){Q=f.contentHeight?f.contentHeight:f.height?f.height-(O?O.height():0)-E(ra):Math.round(ra.width()/Math.max(f.aspectRatio,.5))}function A(){Q===p&&w();S++;H.setHeight(Q);H.setWidth(ra.width());S--;P=b.outerWidth()}function B(){if(!S)if(H.start){var c=++da;setTimeout(function(){c==da&&!S&&q()&&P!=(P=b.outerWidth())&&(S++,x(),H.trigger("windowResize",ca),S--)},200)}else m()}function C(b){F();D(b)}function D(b){q()&&(H.setEventData(ea),H.renderEvents(ea,b),H.trigger("eventAfterAllRender"))}function F(){H.triggerEventDestroy();H.clearEvents();H.clearEventData()}function I(){H&&H.unselect()}function L(){ra.css({width:"100%",height:ra.height(),overflow:"hidden"})}function J(){ra.css({width:"",height:"",overflow:""})}function N(b,c){return f[b]?f[b].apply(c||ca,Array.prototype.slice.call(arguments,2)):p}var K=this;K.options=f;K.render=function(d){ra?q()&&(w(),u(d)):(b.addClass("fc"),f.isRTL?b.addClass("fc-rtl"):b.addClass("fc-ltr"),f.theme&&b.addClass("ui-widget"),ra=c("\x3cdiv class\x3d'fc-content' style\x3d'position:relative'/\x3e").prependTo(b),M=new h(K,f),(O=M.render())&&b.prepend(O),r(f.defaultView),f.handleWindowResize&&c(window).resize(B),c("body").is(":visible")||m())};K.destroy=function(){H&&(N("viewDestroy",H,H,H.element),H.triggerEventDestroy());c(window).unbind("resize",B);M.destroy();ra.remove();b.removeClass("fc fc-rtl ui-widget")};K.refetchEvents=function(){F();V(H.visStart,H.visEnd)};K.reportEvents=function(b){ea=b;D()};K.reportEventChange=function(b){C(b)};K.rerenderEvents=C;K.changeView=r;K.select=function(b,c,d){H.select(b,c,d===p?!0:d)};K.unselect=I;K.prev=function(){t(-1)};K.next=function(){t(1)};K.prevYear=function(){e(U,-1);t()};K.nextYear=function(){e(U,1);t()};K.today=function(){U=new Date;t()};K.gotoDate=function(b,c,d){b instanceof Date?U=k(b):v(U,b,c,d);t()};K.incrementDate=function(b,c,f){b!==p&&e(U,b);c!==p&&n(U,c);f!==p&&d(U,f);t()};K.formatDate=function(b,c){return y(b,c,f)};K.formatDates=function(b,c,d){return z(b,c,d,f)};K.getDate=function(){return k(U)};K.getView=function(){return H};K.option=function(b,c){return c===p?f[b]:(("height"==b||"contentHeight"==b||"aspectRatio"==b)&&(f[b]=c,x()),p)};K.trigger=N;l.call(K,f,g);var M,O,ra,H,P,Q,R,T=K.isFetchNeeded,V=K.fetchEvents,ca=b[0],da=0,S=0,U=new Date,ea=[];v(U,f.year,f.month,f.date);f.droppable&&c(document).bind("dragstart",function(b,d){var e=b.target,g=c(e);if(!g.parents(".fc").length){var h=f.dropAccept;(c.isFunction(h)?h.call(e,g):g.is(h))&&(R=e,H.dragStart(R,b,d))}}).bind("dragstop",function(b,c){R&&(H.dragStop(R,b,c),R=null)})}function h(b,d){function e(g){var h=c("\x3ctd class\x3d'fc-header-"+g+"'/\x3e");g=d.header[g];return g&&c.each(g.split(" "),function(e){0<e&&h.append("\x3cspan class\x3d'fc-header-space'/\x3e");var g;c.each(this.split(","),function(e,k){if("title"==k)h.append("\x3cspan class\x3d'fc-header-title'\x3e\x3ch2\x3e\x26nbsp;\x3c/h2\x3e\x3c/span\x3e"),g&&g.addClass(f+"-corner-right"),g=null;else{var l;if(b[k]?l=b[k]:ja[k]&&(l=function(){p.removeClass(f+"-state-hover");b.changeView(k)}),l){var m=d.theme?L(d.buttonIcons,k):null,n=L(d.buttonText,k),p=c("\x3cspan class\x3d'fc-button fc-button-"+k+" "+f+"-state-default'\x3e"+(m?"\x3cspan class\x3d'fc-icon-wrap'\x3e\x3cspan class\x3d'ui-icon ui-icon-"+m+"'/\x3e\x3c/span\x3e":n)+"\x3c/span\x3e").click(function(){p.hasClass(f+"-state-disabled")||l()}).mousedown(function(){p.not("."+f+"-state-active").not("."+f+"-state-disabled").addClass(f+"-state-down")}).mouseup(function(){p.removeClass(f+"-state-down")}).hover(function(){p.not("."+f+"-state-active").not("."+f+"-state-disabled").addClass(f+"-state-hover")},function(){p.removeClass(f+"-state-hover").removeClass(f+"-state-down")}).appendTo(h);K(p);g||p.addClass(f+"-corner-left");g=p}}});g&&g.addClass(f+"-corner-right")}),h}this.render=function(){f=d.theme?"ui":"fc";return d.header?g=c("\x3ctable class\x3d'fc-header' style\x3d'width:100%'/\x3e").append(c("\x3ctr/\x3e").append(e("left")).append(e("center")).append(e("right"))):p};this.destroy=function(){g.remove()};this.updateTitle=function(b){g.find("h2").html(b)};this.activateButton=function(b){g.find("span.fc-button-"+b).addClass(f+"-state-active")};this.deactivateButton=function(b){g.find("span.fc-button-"+b).removeClass(f+"-state-active")};this.disableButton=function(b){g.find("span.fc-button-"+b).addClass(f+"-state-disabled")};this.enableButton=function(b){g.find("span.fc-button-"+b).removeClass(f+"-state-disabled")};var f,g=c([])}function l(b,d){function e(d,g){f(d,function(e){if(g==A){if(e){b.eventDataTransform&&(e=c.map(e,b.eventDataTransform));d.eventDataTransform&&(e=c.map(e,d.eventDataTransform));for(var f=0;e.length>f;f++)e[f].source=d,n(e[f]);D=D.concat(e)}B--;B||w(D)}})}function f(d,e){var g,h,n=X.sourceFetchers;for(g=0;n.length>g;g++){if(h=n[g](d,t,u,e),!0===h)return;if("object"==typeof h)return f(h,e),p}if(g=d.events)c.isFunction(g)?(l(),g(k(t),k(u),function(b){e(b);m()})):c.isArray(g)?e(g):e();else if(d.url){var q=d.success,r=d.error,v=d.complete;g=c.isFunction(d.data)?d.data():d.data;g=c.extend({},g||{});h=P(d.startParam,b.startParam);n=P(d.endParam,b.endParam);h&&(g[h]=Math.round(+t/1E3));n&&(g[n]=Math.round(+u/1E3));l();c.ajax(c.extend({},oa,d,{data:g,success:function(b){b=b||[];var d=J(q,this,arguments);c.isArray(d)&&(b=d);e(b)},error:function(){J(r,this,arguments);e()},complete:function(){J(v,this,arguments);m()}}))}else e()}function h(b){c.isFunction(b)||c.isArray(b)?b={events:b}:"string"==typeof b&&(b={url:b});if("object"==typeof b){var d=b;d.className?"string"==typeof d.className&&(d.className=d.className.split(/\s+/)):d.className=[];for(var e=X.sourceNormalizers,f=0;e.length>f;f++)e[f](d);b=(y.push(b),b)}else b=p;return b}function l(){C++||v("loading",null,!0,x())}function m(){--C||v("loading",null,!1,x())}function n(c){var d=c.source||{},e=P(d.ignoreTimezone,b.ignoreTimezone);c._id=c._id||(c.id===p?"_fc"+Da++:c.id+"");c.date&&(c.start||(c.start=c.date),delete c.date);c._start=k(c.start=g(c.start,e));c.end=g(c.end,e);c.end&&c.end<=c.start&&(c.end=null);c._end=c.end?k(c.end):null;c.allDay===p&&(c.allDay=P(d.allDayDefault,b.allDayDefault));c.className?"string"==typeof c.className&&(c.className=c.className.split(/\s+/)):c.className=[]}function q(b,c){return b&&c&&r(b)==r(c)}function r(b){return("object"==typeof b?b.events||b.url:"")||b}this.isFetchNeeded=function(b,c){return!t||t>b||c>u};this.fetchEvents=function(b,c){t=b;u=c;D=[];var d=++A,f=y.length;B=f;for(var g=0;f>g;g++)e(y[g],d)};this.addEventSource=function(b){(b=h(b))&&(B++,e(b,A))};this.removeEventSource=function(b){y=c.grep(y,function(c){return!q(c,b)});D=c.grep(D,function(c){return!q(c.source,b)});w(D)};this.updateEvent=function(b){var c,d,e=D.length,f=x().defaultEventEnd,g=b.start-b._start,h=b.end?b.end-(b._end||f(b)):0;for(c=0;e>c;c++)d=D[c],d._id==b._id&&d!=b&&(d.start=new Date(+d.start+g),d.end=b.end?d.end?new Date(+d.end+h):new Date(+f(d)+h):null,d.title=b.title,d.url=b.url,d.allDay=b.allDay,d.className=b.className,d.editable=b.editable,d.color=b.color,d.backgroundColor=b.backgroundColor,d.borderColor=b.borderColor,d.textColor=b.textColor,n(d));n(b);w(D)};this.renderEvent=function(b,c){n(b);b.source||(c&&(z.events.push(b),b.source=z),D.push(b));w(D)};this.removeEvents=function(b){if(b){if(!c.isFunction(b)){var d=b+"";b=function(b){return b._id==d}}D=c.grep(D,b,!0);for(var e=0;y.length>e;e++)c.isArray(y[e].events)&&(y[e].events=c.grep(y[e].events,b,!0))}else for(D=[],e=0;y.length>e;e++)c.isArray(y[e].events)&&(y[e].events=[]);w(D)};this.clientEvents=function(b){return c.isFunction(b)?c.grep(D,b):b?(b+="",c.grep(D,function(c){return c._id==b})):D};this.normalizeEvent=n;for(var t,u,v=this.trigger,x=this.getView,w=this.reportEvents,z={events:[]},y=[z],A=0,B=0,C=0,D=[],E=0;d.length>E;E++)h(d[E])}function e(b,c,d){return b.setFullYear(b.getFullYear()+c),d||f(b),b}function n(b,c,d){if(+b){c=b.getMonth()+c;var e=k(b);e.setDate(1);e.setMonth(c);b.setMonth(c);for(d||f(b);b.getMonth()!=e.getMonth();)b.setDate(b.getDate()+(e>b?1:-1))}return b}function d(b,c,d){if(+b){c=b.getDate()+c;var e=k(b);e.setHours(9);e.setDate(c);b.setDate(c);d||f(b);m(b,e)}return b}function m(b,c){if(+b)for(;b.getDate()!=c.getDate();)b.setTime(+b+(c>b?1:-1)*ma)}function r(b,c){return b.setMinutes(b.getMinutes()+c),b}function f(b){return b.setHours(0),b.setMinutes(0),b.setSeconds(0),b.setMilliseconds(0),b}function k(b,c){return c?f(new Date(+b)):new Date(+b)}function u(){var b,c=0;do b=new Date(1970,c++,1);while(b.getHours());return b}function x(b,c){return Math.round((k(b,!0)-k(c,!0))/qa)}function v(b,c,d,e){c!==p&&c!=b.getFullYear()&&(b.setDate(1),b.setMonth(0),b.setFullYear(c));d!==p&&d!=b.getMonth()&&(b.setDate(1),b.setMonth(d));e!==p&&b.setDate(e)}function g(b,c){return"object"==typeof b?b:"number"==typeof b?new Date(1E3*b):"string"==typeof b?b.match(/^\d+(\.\d+)?$/)?new Date(1E3*parseFloat(b)):(c===p&&(c=!0),t(b,c)||(b?new Date(b):null)):null}function t(b,c){var d=b.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);if(!d)return null;var e=new Date(d[1],0,1);if(c||!d[13]){var f=new Date(d[1],0,1,9,0);d[3]&&(e.setMonth(d[3]-1),f.setMonth(d[3]-1));d[5]&&(e.setDate(d[5]),f.setDate(d[5]));m(e,f);d[7]&&e.setHours(d[7]);d[8]&&e.setMinutes(d[8]);d[10]&&e.setSeconds(d[10]);d[12]&&e.setMilliseconds(1E3*Number("0."+d[12]));m(e,f)}else if(e.setUTCFullYear(d[1],d[3]?d[3]-1:0,d[5]||1),e.setUTCHours(d[7]||0,d[8]||0,d[10]||0,d[12]?1E3*Number("0."+d[12]):0),d[14])f=60*Number(d[16])+(d[18]?Number(d[18]):0),f*="-"==d[15]?1:-1,e=new Date(+e+6E4*f);return e}function w(b){if("number"==typeof b)return 60*b;if("object"==typeof b)return 60*b.getHours()+b.getMinutes();if(b=b.match(/(\d+)(?::(\d+))?\s*(\w+)?/)){var c=parseInt(b[1],10);return b[3]&&(c%=12,"p"==b[3].toLowerCase().charAt(0)&&(c+=12)),60*c+(b[2]?parseInt(b[2],10):0)}}function y(b,c,d){return z(b,null,c,d)}function z(b,c,d,e){e=e||Ja;var f,g,h,k,l=b,m=c,n=d.length,p="";for(f=0;n>f;f++)if(g=d.charAt(f),"'"==g)for(h=f+1;n>h;h++){if("'"==d.charAt(h)){l&&(p+=h==f+1?"'":d.substring(f+1,h),f=h);break}}else if("("==g)for(h=f+1;n>h;h++){if(")"==d.charAt(h)){f=y(l,d.substring(f+1,h),e);parseInt(f.replace(/\D/,""),10)&&(p+=f);f=h;break}}else if("["==g)for(h=f+1;n>h;h++){if("]"==d.charAt(h)){k=d.substring(f+1,h);f=y(l,k,e);f!=y(m,k,e)&&(p+=f);f=h;break}}else if("{"==g)l=c,m=b;else if("}"==g)l=b,m=c;else{for(h=n;h>f;h--)if(k=La[d.substring(f,h)]){l&&(p+=k(l,e));f=h-1;break}h==f&&l&&(p+=g)}return p}function D(b){if(b.end){var c=b.end;b=b.allDay;b=(c=k(c),b||c.getHours()||c.getMinutes()?d(c,1):f(c))}else b=d(k(b.start),1);return b}function A(b,d,e){b.unbind("mouseover").mouseover(function(b){for(var f,g,h,k=b.target;k!=this;)f=k,k=k.parentNode;(g=f._fci)!==p&&(f._fci=p,h=d[g],e(h.event,h.element,h),c(b.target).trigger(b));b.stopPropagation()})}function B(b,d,e){for(var f,g=0;b.length>g;g++)f=c(b[g]),f.width(Math.max(0,d-N(f,e)))}function F(b,d,e){for(var f,g=0;b.length>g;g++)f=c(b[g]),f.height(Math.max(0,d-E(f,e)))}function N(b,d){var e=(parseFloat(c.css(b[0],"paddingLeft",!0))||0)+(parseFloat(c.css(b[0],"paddingRight",!0))||0),f;f=(parseFloat(c.css(b[0],"borderLeftWidth",!0))||0)+(parseFloat(c.css(b[0],"borderRightWidth",!0))||0);e+=f;f=d?(parseFloat(c.css(b[0],"marginLeft",!0))||0)+(parseFloat(c.css(b[0],"marginRight",!0))||0):0;return e+f}function E(b,d){var e=(parseFloat(c.css(b[0],"paddingTop",!0))||0)+(parseFloat(c.css(b[0],"paddingBottom",!0))||0),f;f=(parseFloat(c.css(b[0],"borderTopWidth",!0))||0)+(parseFloat(c.css(b[0],"borderBottomWidth",!0))||0);e+=f;f=d?(parseFloat(c.css(b[0],"marginTop",!0))||0)+(parseFloat(c.css(b[0],"marginBottom",!0))||0):0;return e+f}function G(){}function q(b,c){return b-c}function H(b){return(10>b?"0":"")+b}function L(b,c){if(b[c]!==p)return b[c];for(var d,e=c.split(/(?=[A-Z])/),f=e.length-1;0<=f;f--)if(d=b[e[f].toLowerCase()],d!==p)return d;return b[""]}function I(b){return b.replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;").replace(/'/g,"\x26#039;").replace(/"/g,"\x26quot;").replace(/\n/g,"\x3cbr /\x3e")}function K(b){b.attr("unselectable","on").css("MozUserSelect","none").bind("../../../../../error/ie.html",function(){return!1})}function O(b){b.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}function M(b,c){var d=b.source||{},e=b.color,f=d.color,g=c("eventColor"),h=b.backgroundColor||e||d.backgroundColor||f||c("eventBackgroundColor")||g,e=b.borderColor||e||d.borderColor||f||c("eventBorderColor")||g,d=b.textColor||d.textColor||c("eventTextColor"),f=[];return h&&f.push("background-color:"+h),e&&f.push("border-color:"+e),d&&f.push("color:"+d),f.join(";")}function J(b,d,e){if(c.isFunction(b)&&(b=[b]),b){var f,g;for(f=0;b.length>f;f++)g=b[f].apply(d,e)||g;return g}}function P(){for(var b=0;arguments.length>b;b++)if(arguments[b]!==p)return arguments[b]}function T(b,e,g){function h(){var d=l();r&&r.remove();r=c(d).appendTo(b);u=r.find("thead");v=u.find(".fc-day-header");x=r.find("tbody");w=x.find("tr");y=x.find(".fc-day");z=w.find("td:first-child");A=w.eq(0).find(".fc-day \x3e div");D=w.eq(0).find(".fc-day-content \x3e div");O(u.add(u.find("tr")));O(w);w.eq(0).addClass("fc-first");w.filter(":last").addClass("fc-last");y.each(function(b,d){var e=wa(Math.floor(b/M),b%M);W("dayRender",q,e,c(d))});y.click(m).mousedown(xa)}function l(){var b,c,d=da+"-widget-header",e;e="\x3cthead\x3e\x3ctr\x3e";V&&(e+="\x3cth class\x3d'fc-week-number "+d+"'\x3e"+I(ea)+"\x3c/th\x3e");for(b=0;M>b;b++)c=wa(0,b),e+="\x3cth class\x3d'fc-day-header fc-"+ya[c.getDay()]+" "+d+"'\x3e"+I(Aa(c,T))+"\x3c/th\x3e";b="\x3ctable class\x3d'fc-border-separate' style\x3d'width:100%' cellspacing\x3d'0'\x3e"+(e+"\x3c/tr\x3e\x3c/thead\x3e");var g;e=da+"-widget-content";var h;h="\x3ctbody\x3e";for(c=0;J>c;c++){h+="\x3ctr class\x3d'fc-week'\x3e";V&&(g=wa(c,0),h+="\x3ctd class\x3d'fc-week-number "+e+"'\x3e\x3cdiv\x3e"+I(Aa(g,Y))+"\x3c/div\x3e\x3c/td\x3e");for(d=0;M>d;d++){g=wa(c,d);var k;k=g;var m=da+"-widget-content",n=q.start.getMonth(),p=f(new Date),r="",m=["fc-day","fc-"+ya[k.getDay()],m];k=(k.getMonth()!=n&&m.push("fc-other-month"),+k==+p?m.push("fc-today",da+"-state-highlight"):p>k?m.push("fc-past"):m.push("fc-future"),r+="\x3ctd class\x3d'"+m.join(" ")+"' data-date\x3d'"+Aa(k,"yyyy-MM-dd")+"'\x3e\x3cdiv\x3e",P&&(r+="\x3cdiv class\x3d'fc-day-number'\x3e"+k.getDate()+"\x3c/div\x3e"),r+"\x3cdiv class\x3d'fc-day-content'\x3e\x3cdiv style\x3d'position:relative'\x3e\x26nbsp;\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/td\x3e");h+=k}h+="\x3c/tr\x3e"}return b+(h+"\x3c/tbody\x3e")+"\x3c/table\x3e"}function m(b){if(!ka("selectable")){var d=t(c(this).data("date"));W("dayClick",this,d,!0,b)}}function n(b,c,d){d&&Q.build();b=sa(b,c);for(c=0;b.length>c;c++)d=b[c],p(d.row,d.leftCol,d.row,d.rightCol).click(m).mousedown(xa)}function p(c,d,e,f){c=Q.rect(c,d,e,f,b);return X(c,b)}var q=this;q.renderBasic=function(d,e,f){J=d;M=e;P=f;da=ka("theme")?"ui":"fc";T=ka("columnFormat");V=ka("weekNumbers");ea=ka("weekNumberTitle");Y="iso"!=ka("weekNumberCalculation")?"w":"W";x||(F=c("\x3cdiv class\x3d'fc-event-container' style\x3d'position:absolute;z-index:8;top:0;left:0'/\x3e").appendTo(b));h()};q.setHeight=function(b){G=b;var d,e,f;b=G-u.height();"variable"==ka("weekMode")?d=e=Math.floor(b/(1==J?2:6)):(d=Math.floor(b/J),e=b-d*(J-1));z.each(function(b,g){J>b&&(f=c(g),f.find("\x3e div").css("min-height",(b==J-1?e:d)-E(f)))})};q.setWidth=function(b){H=b;U.clear();ca.clear();N=0;V&&(N=u.find("th.fc-week-number").outerWidth());L=Math.floor((H-N)/M);B(v.slice(0,-1),L)};q.renderDayOverlay=n;q.defaultSelectionEnd=function(b){return k(b)};q.renderSelection=function(b,c){n(b,d(k(c),1),!0)};q.clearSelection=function(){Z()};q.reportDayClick=function(b,c,d){var e=Ga(b);W("dayClick",y[e.row*M+e.col],b,c,d)};q.dragStart=function(b,c){R.start(function(b){Z();b&&p(b.row,b.col,b.row,b.col)},c)};q.dragStop=function(b,c,d){var e=R.stop();if(Z(),e)e=wa(e),W("drop",b,e,!0,c,d)};q.defaultEventEnd=function(b){return k(b.start)};q.getHoverListener=function(){return R};q.colLeft=function(b){return U.left(b)};q.colRight=function(b){return U.right(b)};q.colContentLeft=function(b){return ca.left(b)};q.colContentRight=function(b){return ca.right(b)};q.getIsCellAllDay=function(){return!0};q.allDayRow=function(b){return w.eq(b)};q.getRowCnt=function(){return J};q.getColCnt=function(){return M};q.getColWidth=function(){return L};q.getDaySegmentContainer=function(){return F};ga.call(q,b,e,g);C.call(q);Ia.call(q);S.call(q);var r,u,v,x,w,y,z,A,D,F,H,G,L,N,J,M,P,Q,R,U,ca,da,T,V,ea,Y,ka=q.opt,W=q.trigger,X=q.renderOverlay,Z=q.clearOverlays,xa=q.daySelectionMousedown,wa=q.cellToDate,Ga=q.dateToCell,sa=q.rangeToSegments,Aa=e.formatDate;K(b.addClass("fc-grid"));Q=new Sa(function(b,d){var e,f,g;v.each(function(b,h){e=c(h);f=e.offset().left;b&&(g[1]=f);g=[f];d[b]=g});g[1]=f+e.outerWidth();w.each(function(d,h){J>d&&(e=c(h),f=e.offset().top,d&&(g[1]=f),g=[f],b[d]=g)});g[1]=f+e.outerHeight()});R=new Ta(Q);U=new Ka(function(b){return A.eq(b)});ca=new Ka(function(b){return D.eq(b)})}function S(){var b=this;b.renderEvents=function(c,d){b.renderDayEvents(c,d)};b.clearEvents=function(){b.getDaySegmentContainer().empty()};fa.call(b)}function R(b,e,g){function h(){var d,e,g=Ba+"-widget-header",k;k="\x3cthead\x3e\x3ctr\x3e";Wa?(d=Ha(0,0),e=ma(d,Xa),Ua?e+=Qa:e=Qa+e,k+="\x3cth class\x3d'fc-agenda-axis fc-week-number "+g+"'\x3e"+I(e)+"\x3c/th\x3e"):k+="\x3cth class\x3d'fc-agenda-axis "+g+"'\x3e\x26nbsp;\x3c/th\x3e";for(e=0;sa>e;e++)d=Ha(0,e),k+="\x3cth class\x3d'fc-"+ya[d.getDay()]+" fc-col"+e+" "+g+"'\x3e"+I(ma(d,Va))+"\x3c/th\x3e";d="\x3ctable style\x3d'width:100%' class\x3d'fc-agenda-days fc-border-separate' cellspacing\x3d'0'\x3e"+(k+("\x3cth class\x3d'fc-agenda-gutter "+g+"'\x3e\x26nbsp;\x3c/th\x3e\x3c/tr\x3e\x3c/thead\x3e"));var l,m,n,p;e=Ba+"-widget-header";g=Ba+"-widget-content";k=f(new Date);e=""+("\x3ctbody\x3e\x3ctr\x3e\x3cth class\x3d'fc-agenda-axis "+e+"'\x3e\x26nbsp;\x3c/th\x3e");n="";for(m=0;sa>m;m++)l=Ha(0,m),p=["fc-col"+m,"fc-"+ya[l.getDay()],g],+l==+k?p.push(Ba+"-state-highlight","fc-today"):k>l?p.push("fc-past"):p.push("fc-future"),l="\x3ctd class\x3d'"+p.join(" ")+"'\x3e\x3cdiv\x3e\x3cdiv class\x3d'fc-day-content'\x3e\x3cdiv style\x3d'position:relative'\x3e\x26nbsp;\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/td\x3e",n+=l;g=(e+=n,e+("\x3ctd class\x3d'fc-agenda-gutter "+g+"'\x3e\x26nbsp;\x3c/td\x3e\x3c/tr\x3e\x3c/tbody\x3e"));d=d+g+"\x3c/table\x3e";J&&J.remove();J=c(d).appendTo(b);L=J.find("thead");N=L.find("th").slice(1,-1);M=J.find("tbody");P=M.find("td").slice(0,-1);R=P.find("\x3e div");U=P.find(".fc-day-content \x3e div");V=P.eq(0);T=R.eq(0);O(L.add(L.find("tr")));O(M.add(M.find("tr")))}function l(){function b(){ca.scrollTop(e)}var c=u(),d=k(c);d.setHours(aa("firstHour"));var e=z(c,d)+1;b();setTimeout(b,0)}function m(b){if(!aa("selectable")){var c=Math.min(sa-1,Math.floor((b.pageX-J.offset().left-ka)/ba)),d=Ha(0,c),e=this.parentNode.className.match(/fc-slot(\d+)/);e?(e=parseInt(e[1])*aa("slotMinutes"),d.setHours(Math.floor(e/60)),d.setMinutes(e%60+Ca),Pa("dayClick",P[c],d,!1,b)):Pa("dayClick",P[c],d,!0,b)}}function n(b,c,d){d&&za.build();b=qa(b,c);for(c=0;b.length>c;c++)d=b[c],t(d.row,d.leftCol,d.row,d.rightCol).click(m).mousedown(Ya)}function t(b,c,d,e){b=za.rect(b,c,d,e,S);return Za(b,S)}function v(b,c){for(var e=0;sa>e;e++){var f=Ha(0,e),g=d(k(f),1),h=new Date(Math.max(f,b)),l=new Date(Math.min(g,c));l>h&&(g=za.rect(0,e,0,e,da),h=z(f,h),f=z(f,l),g.top=h,g.height=f-h,Za(g,da).click(m).mousedown(H))}}function x(b){return aa("allDaySlot")&&!b.row}function y(b){var c=Ha(0,b.col);b=b.row;return aa("allDaySlot")&&b--,0<=b&&r(c,Ca+b*xa),c}function z(b,c){if(b=k(b,!0),r(k(b),Ca)>c)return 0;if(c>=r(k(b),Oa))return ua.height();var d=aa("slotMinutes"),e=60*c.getHours()+c.getMinutes()-Ca,f=Math.floor(e/d),g=oa[f];return g===p&&(g=oa[f]=ua.find("tr").eq(f).find("td div")[0].offsetTop),Math.max(0,Math.round(g-1+e%d/d*fa))}function A(b,d){var e=aa("selectHelper");if(za.build(),e){var f=$a(b).col;if(0<=f&&sa>f){var f=za.rect(0,f,0,f,da),g=z(b,b),h=z(b,d);h>g&&((f.top=g,f.height=h-g,f.left+=2,f.width-=5,c.isFunction(e))?(e=e(b,d))&&(f.position="absolute",ea=c(e).css(f).appendTo(da)):(f.isStart=!0,f.isEnd=!0,ea=c(ja({title:"",start:b,end:d,className:["fc-select-helper"],editable:!1},f)),ea.css("opacity",aa("dragOpacity"))),ea&&(ea.click(m).mousedown(H),da.append(ea),B(ea,f.width,!0),F(ea,f.height,!0)))}}else v(b,d)}function D(){Ra();ea&&(ea.remove(),ea=null)}function H(b){if(1==b.which&&aa("selectable")){la(b);var d;Fa.start(function(b,c){if(D(),b&&b.col==c.col&&!x(b)){var e=y(c),f=y(b);d=[e,r(k(e),xa),f,r(k(f),xa)].sort(q);A(d[0],d[3])}else d=null},b);c(document).one("mouseup",function(b){Fa.stop();d&&(+d[0]==+d[1]&&G(d[0],!1,b),cb(d[0],d[3],!1,b))})}}function G(b,c,d){Pa("dayClick",P[$a(b).col],b,c,d)}this.renderAgenda=function(d){sa=d;Ba=aa("theme")?"ui":"fc";Ua=aa("isRTL");Ca=w(aa("minTime"));Oa=w(aa("maxTime"));Va=aa("columnFormat");Wa=aa("weekNumbers");Qa=aa("weekNumberTitle");Xa="iso"!=aa("weekNumberCalculation")?"w":"W";xa=aa("snapMinutes")||aa("slotMinutes");if(J)h();else{var e,f,g,l,n=Ba+"-widget-header",p=Ba+"-widget-content",q=0==aa("slotMinutes")%15;h();S=c("\x3cdiv style\x3d'position:absolute;z-index:2;left:0;width:100%'/\x3e").appendTo(b);aa("allDaySlot")?(Y=c("\x3cdiv class\x3d'fc-event-container' style\x3d'position:absolute;z-index:8;top:0;left:0'/\x3e").appendTo(S),d="\x3ctable style\x3d'width:100%' class\x3d'fc-agenda-allday' cellspacing\x3d'0'\x3e\x3ctr\x3e\x3cth class\x3d'"+n+" fc-agenda-axis'\x3e"+aa("allDayText")+"\x3c/th\x3e\x3ctd\x3e\x3cdiv class\x3d'fc-day-content'\x3e\x3cdiv style\x3d'position:relative'/\x3e\x3c/div\x3e\x3c/td\x3e\x3cth class\x3d'"+n+" fc-agenda-gutter'\x3e\x26nbsp;\x3c/th\x3e\x3c/tr\x3e\x3c/table\x3e",W=c(d).appendTo(S),X=W.find("tr"),X.find("td").click(m).mousedown(Ya),S.append("\x3cdiv class\x3d'fc-agenda-divider "+n+"'\x3e\x3cdiv class\x3d'fc-agenda-divider-inner'/\x3e\x3c/div\x3e")):Y=c([]);ca=c("\x3cdiv style\x3d'position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/\x3e").appendTo(S);da=c("\x3cdiv style\x3d'position:relative;width:100%;overflow:hidden'/\x3e").appendTo(ca);ta=c("\x3cdiv class\x3d'fc-event-container' style\x3d'position:absolute;z-index:8;top:0;left:0'/\x3e").appendTo(da);d="\x3ctable class\x3d'fc-agenda-slots' style\x3d'width:100%' cellspacing\x3d'0'\x3e\x3ctbody\x3e";e=u();g=r(k(e),Oa);r(e,Ca);for(f=Aa=0;g>e;f++)l=e.getMinutes(),d+="\x3ctr class\x3d'fc-slot"+f+" "+(l?"fc-minor":"")+"'\x3e\x3cth class\x3d'fc-agenda-axis "+n+"'\x3e"+(q&&l?"\x26nbsp;":ma(e,aa("axisFormat")))+"\x3c/th\x3e\x3ctd class\x3d'"+p+"'\x3e\x3cdiv style\x3d'position:relative'\x3e\x26nbsp;\x3c/div\x3e\x3c/td\x3e\x3c/tr\x3e",r(e,aa("slotMinutes")),Aa++;ua=c(d+"\x3c/tbody\x3e\x3c/table\x3e").appendTo(da);ua.find("td").click(m).mousedown(H)}};this.setWidth=function(b){Ma.clear();Na.clear();b=L.find("th:first");W&&(b=b.add(W.find("th:first")));b=b.add(ua.find("th:first"));ka=0;B(b.width("").each(function(b,d){ka=Math.max(ka,c(d).outerWidth())}),ka);b=J.find(".fc-agenda-gutter");W&&(b=b.add(W.find("th.fc-agenda-gutter")));var d=ca[0].clientWidth;(ha=ca.width()-d)?(B(b,ha),b.show().prev().removeClass("fc-last")):b.hide().prev().addClass("fc-last");ba=Math.floor((d-ka)/sa);B(N.slice(0,-1),ba)};this.setHeight=function(b){b===p&&(b=Z);Z=b;oa={};var c=M.position().top,d=ca.position().top;b=Math.min(b-c,ua.height()+d+1);T.height(b-E(V));S.css("top",c);ca.height(b-d-1);fa=ua.find("tr:first").height()+1;wa=aa("slotMinutes")/xa;Ga=fa/wa};this.afterRender=function(){l()};this.defaultEventEnd=function(b){var c=k(b.start);return b.allDay?c:r(c,aa("defaultEventMinutes"))};this.timePosition=z;this.getIsCellAllDay=x;this.allDayRow=function(){return X};this.getCoordinateGrid=function(){return za};this.getHoverListener=function(){return Fa};this.colLeft=function(b){return Ma.left(b)};this.colRight=function(b){return Ma.right(b)};this.colContentLeft=function(b){return Na.left(b)};this.colContentRight=function(b){return Na.right(b)};this.getDaySegmentContainer=function(){return Y};this.getSlotSegmentContainer=function(){return ta};this.getMinMinute=function(){return Ca};this.getMaxMinute=function(){return Oa};this.getSlotContainer=function(){return da};this.getRowCnt=function(){return 1};this.getColCnt=function(){return sa};this.getColWidth=function(){return ba};this.getSnapHeight=function(){return Ga};this.getSnapMinutes=function(){return xa};this.defaultSelectionEnd=function(b,c){return c?k(b):r(k(b),aa("slotMinutes"))};this.renderDayOverlay=n;this.renderSelection=function(b,c,e){e?aa("allDaySlot")&&n(b,d(k(c),1),!0):A(b,c)};this.clearSelection=D;this.reportDayClick=G;this.dragStart=function(b,c){Fa.start(function(b){if(Ra(),b)if(x(b))t(b.row,b.col,b.row,b.col);else{b=y(b);var c=r(k(b),aa("defaultEventMinutes"));v(b,c)}},c)};this.dragStop=function(b,c,d){var e=Fa.stop();Ra();e&&Pa("drop",b,y(e),x(e),c,d)};ga.call(this,b,e,g);C.call(this);Ia.call(this);Q.call(this);var J,L,N,M,P,R,U,V,T,S,Y,W,X,ca,da,ta,ua,ea,Z,ka,ba,ha,fa,xa,wa,Ga,sa,Aa,za,Fa,Ma,Na,Ba,Ua,Ca,Oa,Va,Wa,Qa,Xa,aa=this.opt,Pa=this.trigger,Za=this.renderOverlay,Ra=this.clearOverlays,cb=this.reportSelection,la=this.unselect,Ya=this.daySelectionMousedown,ja=this.slotSegHtml,Ha=this.cellToDate,$a=this.dateToCell,qa=this.rangeToSegments,ma=e.formatDate,oa={};K(b.addClass("fc-agenda"));za=new Sa(function(b,d){var e,f,g;N.each(function(b,h){e=c(h);f=e.offset().left;b&&(g[1]=f);g=[f];d[b]=g});g[1]=f+e.outerWidth();aa("allDaySlot")&&(e=X,f=e.offset().top,b[0]=[f,f+e.outerHeight()]);for(var h=da.offset().top,k=ca.offset().top,l=k+ca.outerHeight(),m=0;Aa*wa>m;m++)b.push([Math.max(k,Math.min(l,h+Ga*m)),Math.max(k,Math.min(l,h+Ga*(m+1)))])});Fa=new Ta(za);Ma=new Ka(function(b){return R.eq(b)});Na=new Ka(function(b){return U.eq(b)})}function Q(){function b(c){return c.end?k(c.end):r(k(c.start),m("defaultEventMinutes"))}function e(b,c){var d="\x3c",f=b.url,g=M(b,m),h=["fc-event","fc-event-vert"];return q(b)&&h.push("fc-event-draggable"),c.isStart&&h.push("fc-event-start"),c.isEnd&&h.push("fc-event-end"),h=h.concat(b.className),b.source&&(h=h.concat(b.source.className||[])),d+=f?"a href\x3d'"+I(b.url)+"'":"div",d+=" class\x3d'"+h.join(" ")+"' style\x3d'position:absolute;top:"+c.top+"px;left:"+c.left+"px;"+g+"'\x3e\x3cdiv class\x3d'fc-event-inner'\x3e\x3cdiv class\x3d'fc-event-time'\x3e"+I(ga(b.start,b.end,m("timeFormat")))+"\x3c/div\x3e\x3cdiv class\x3d'fc-event-title'\x3e"+I(b.title||"")+"\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'fc-event-bg'\x3e\x3c/div\x3e",c.isEnd&&t(b)&&(d+="\x3cdiv class\x3d'ui-resizable-handle ui-resizable-s'\x3e\x3d\x3c/div\x3e"),d+("\x3c/"+(f?"a":"div")+"\x3e")}function f(b,c,d){var e=c.find("div.fc-event-time");q(b)&&g(b,c,e);d.isEnd&&t(b)&&h(b,c,e);v(b,c)}function g(b,c,e){function f(){X();if(q)if(u)e.hide(),c.draggable("option","grid",null),ea(d(k(b.start),z),d(D(b),z));else{var g=A,h,l=r(k(b.start),g);b.end&&(h=r(k(b.end),g));e.text(ga(l,h,m("timeFormat")));e.css("display","");c.draggable("option","grid",[F,H])}}var h,p,q,t,u,v,w,y,z,A,B,C=l.getCoordinateGrid(),E=P(),F=Q(),H=R(),J=S();c.draggable({scroll:!1,grid:[F,H],axis:1==E?"y":!1,opacity:m("dragOpacity"),revertDuration:m("dragRevertDuration"),start:function(d,e){n("eventDragStart",c,b,d,e);da(b,c);C.build();h=c.position();p=C.cell(d.pageX,d.pageY);q=t=!0;u=v=G(p);A=B=z=w=y=0},drag:function(b,d){var e=C.cell(b.pageX,b.pageY);if(q=!!e){if(u=G(e),w=Math.round((d.position.left-h.left)/F),w!=y){var e=O(0,p.col),g=p.col+w,g=Math.max(0,g),g=Math.min(E-1,g),g=O(0,g);z=x(g,e)}u||(A=Math.round((d.position.top-h.top)/H)*J)}(q!=t||u!=v||w!=y||A!=B)&&(f(),t=q,v=u,y=w,B=A);c.draggable("option","revert",!q)},stop:function(d,e){X();n("eventDragStop",c,b,d,e);q&&(u||z||A)?ta(this,b,z,u?0:A,u,d,e):(q=!0,u=!1,w=0,z=0,A=0,f(),c.css("filter",""),c.css(h),ca(b,c))}})}function h(b,c,d){var e,f,g=R(),k=S();c.resizable({handles:{s:".ui-resizable-handle"},grid:g,start:function(d,g){e=f=0;da(b,c);n("eventResizeStart",this,b,d,g)},resize:function(h,l){e=Math.round((Math.max(g,c.height())-l.originalSize.height)/g);e!=f&&(d.text(ga(b.start,e||b.end?r(u(b),k*e):null,m("timeFormat"))),f=e)},stop:function(d,f){n("eventResizeStop",this,b,d,f);e?ua(this,b,0,k*e,d,f):ca(b,c)}})}var l=this;l.renderEvents=function(d,g){var h,l=d.length,q=[],t=[];for(h=0;l>h;h++)d[h].allDay?q.push(d[h]):t.push(d[h]);m("allDaySlot")&&(ka(q,g),w());var u,v,x,y,q=P(),B=H(),D=C(),F=c.map(t,b);h=[];for(l=0;q>l;l++){u=O(0,l);r(u,B);v=t;x=F;y=u;u=r(k(u),D-B);var G,I,M,ca,Q=void 0,da=void 0,R=void 0,S=void 0,T=[],bb=v.length;for(G=0;bb>G;G++)I=v[G],M=I.start,ca=x[G],ca>y&&u>M&&(y>M?(Q=k(y),R=!1):(Q=M,R=!0),ca>u?(da=k(u),S=!1):(da=ca,S=!0),T.push({event:I,start:Q,end:da,isStart:R,isEnd:S}));v=y=T.sort(ba);G=[];for(x=0;v.length>x;x++){y=v[x];for(u=0;G.length>u&&W(y,G[u]).length;u++);(G[u]||(G[u]=[])).push(y)}v=G;x=v[0];for(y=0;v.length>y;y++)for(u=v[y],G=0;u.length>G;G++)for(I=u[G],I.forwardSegs=[],M=y+1;v.length>M;M++)W(I,v[M],I.forwardSegs);if(x){for(y=0;x.length>y;y++)U(x[y]);for(y=0;x.length>y;y++)V(x[y],0,0)}G=[];for(x=0;v.length>x;x++)for(y=v[x],u=0;y.length>u;u++)G.push(y[u]);y=G;for(v=0;y.length>v;v++)x=y[v],x.col=l,h.push(x)}var na,va,pa,ia,ta,ea,q=h.length;G="";B=z();I=m("isRTL");for(t=0;q>t;t++)l=h[t],na=l.event,D=J(l.start,l.start),F=J(l.start,l.end),v=L(l.col),x=K(l.col),y=x-v,x-=.025*y,y=x-v,u=y*(l.forwardCoord-l.backwardCoord),m("slotEventOverlap")&&(u=Math.max(2*(u-10),u)),I?(pa=x-l.backwardCoord*y,va=pa-u):(va=v+l.backwardCoord*y,pa=va+u),va=Math.max(va,v),pa=Math.min(pa,x),u=pa-va,l.top=D,l.left=va,l.outerWidth=u,l.outerHeight=F-D,G+=e(na,l);B[0].innerHTML=G;va=B.children();for(t=0;q>t;t++)l=h[t],na=l.event,ia=c(va[t]),pa=n("eventRender",na,na,ia),!1===pa?ia.remove():(pa&&!0!==pa&&(ia.remove(),ia=c(pa).css({position:"absolute",top:l.top,left:l.left}).appendTo(B)),l.element=ia,na._id===g?f(na,ia,l):ia[0]._fci=t,Y(na,ia));A(B,h,f);for(t=0;q>t;t++)l=h[t],(ia=l.element)&&(l.vsides=E(ia,!0),l.hsides=N(ia,!0),ta=ia.find(".fc-event-title"),ta.length&&(l.contentTop=ta[0].offsetTop));for(t=0;q>t;t++)l=h[t],(ia=l.element)&&(ia[0].style.width=Math.max(0,l.outerWidth-l.hsides)+"px",ea=Math.max(0,l.outerHeight-l.vsides),ia[0].style.height=ea+"px",na=l.event,l.contentTop!==p&&10>ea-l.contentTop&&(ia.find("div.fc-event-time").text(ha(na.start,m("timeFormat"))+" - "+na.title),ia.find("div.fc-event-title").remove()),n("eventAfterRender",na,na,ia))};l.clearEvents=function(){y().empty();z().empty()};l.slotSegHtml=e;fa.call(l);var m=l.opt,n=l.trigger,q=l.isEventDraggable,t=l.isEventResizable,u=l.eventEnd,v=l.eventElementHandlers,w=l.setHeight,y=l.getDaySegmentContainer,z=l.getSlotSegmentContainer,B=l.getHoverListener,C=l.getMaxMinute,H=l.getMinMinute,J=l.timePosition,G=l.getIsCellAllDay,L=l.colContentLeft,K=l.colContentRight,O=l.cellToDate,P=l.getColCnt,Q=l.getColWidth,R=l.getSnapHeight,S=l.getSnapMinutes,T=l.getSlotContainer,Y=l.reportEventElement,ca=l.showEvents,da=l.hideEvents,ta=l.eventDrop,ua=l.eventResize,ea=l.renderDayOverlay,X=l.clearOverlays,ka=l.renderDayEvents,Z=l.calendar,ha=Z.formatDate,ga=Z.formatDates;l.draggableDayEvent=function(b,c,e){function f(){q||(c.width(g).height("").draggable("option","grid",null),q=!0)}var g,h,l,p=e.isStart,q=!0,r=B(),t=Q(),u=R(),v=S(),w=H();c.draggable({opacity:m("dragOpacity","month"),revertDuration:m("dragRevertDuration"),start:function(e,w){n("eventDragStart",c,b,e,w);da(b,c);g=c.width();r.start(function(e,g){if(X(),e){h=!1;var n=O(0,g.col),r=O(0,e.col);l=x(r,n);e.row?p?q&&(c.width(t-10),F(c,u*Math.round((b.end?(b.end-b.start)/Ea:m("defaultEventMinutes"))/v)),c.draggable("option","grid",[t,1]),q=!1):h=!0:(ea(d(k(b.start),l),d(D(b),l)),f());h=h||q&&!l}else f(),h=!0;c.draggable("option","revert",h)},e,"drag")},stop:function(d,e){if(r.stop(),X(),n("eventDragStop",c,b,d,e),h)f(),c.css("filter",""),ca(b,c);else{var g=0;q||(g=Math.round((c.offset().top-T().offset().top)/u)*v+w-(60*b.start.getHours()+b.start.getMinutes()));ta(this,b,l,g,q,d,e)}}})}}function U(b){var c,d,e=b.forwardSegs,f=0;if(b.forwardPressure===p){for(c=0;e.length>c;c++)d=e[c],U(d),f=Math.max(f,1+d.forwardPressure);b.forwardPressure=f}}function V(b,c,d){var e=b.forwardSegs;if(b.forwardCoord===p)for(e.length?(e.sort(Z),V(e[0],c+1,d),b.forwardCoord=e[0].backwardCoord):b.forwardCoord=1,b.backwardCoord=b.forwardCoord-(b.forwardCoord-d)/(c+1),c=0;e.length>c;c++)V(e[c],0,b.forwardCoord)}function W(b,c,d){d=d||[];for(var e=0;c.length>e;e++){var f=c[e];b.end>f.start&&b.start<f.end&&d.push(c[e])}return d}function Z(b,c){return c.forwardPressure-b.forwardPressure||(b.backwardCoord||0)-(c.backwardCoord||0)||ba(b,c)}function ba(b,c){return b.start-c.start||c.end-c.start-(b.end-b.start)||(b.event.title||"").localeCompare(c.event.title)}function ga(b,e,f){function g(b,d){var e=H[b];return c.isPlainObject(e)?L(e,d||f):e}function h(b,c){return e.trigger.apply(e,[b,c||A].concat(Array.prototype.slice.call(arguments,2),[A]))}function l(b){return b.end?k(b.end):B(b)}function m(b,c,d){var e=F[b._id],f=e.length;for(b=0;f>b;b++)c&&e[b][0]==c[0]||e[b][d]()}function n(b,c,e,f){e=e||0;for(var g,h=b.length,k=0;h>k;k++)g=b[k],f!==p&&(g.allDay=f),r(d(g.start,c,!0),e),g.end&&(g.end=r(d(g.end,c,!0),e)),C(g,H)}function q(b,c,e){e=e||0;for(var f,g=b.length,h=0;g>h;h++)f=b[h],f.end=r(d(l(f),c,!0),e),C(f,H)}function t(b,c){var d=A.getColCnt(),e=O?-1:1,f=O?d-1:0;"object"==typeof b&&(c=b.col,b=b.row);return b*d+(c*e+f)}function u(b){var c=A.visStart.getDay();return b+=M[c],7*Math.floor(b/I)+N[(b%I+I)%I]-c}function v(b){var c=k(A.visStart);return d(c,b),c}function w(b){return x(b,A.visStart)}function y(b){var c=A.visStart.getDay();return b+=c,Math.floor(b/7)*I+M[(b%7+7)%7]-M[c]}function z(b){var c=A.getColCnt();return{row:Math.floor(b/c),col:(b%c+c)%c*(O?-1:1)+(O?c-1:0)}}var A=this;A.element=b;A.calendar=e;A.name=f;A.opt=g;A.trigger=h;A.isEventDraggable=function(b){var c=b.source||{};return P(b.startEditable,c.startEditable,g("eventStartEditable"),b.editable,c.editable,g("editable"))&&!g("disableDragging")};A.isEventResizable=function(b){var c=b.source||{};return P(b.durationEditable,c.durationEditable,g("eventDurationEditable"),b.editable,c.editable,g("editable"))&&!g("disableResizing")};A.setEventData=function(b){E={};var c,d,e=b.length;for(c=0;e>c;c++)d=b[c],E[d._id]?E[d._id].push(d):E[d._id]=[d]};A.clearEventData=function(){E={};F={};G=[]};A.eventEnd=l;A.reportEventElement=function(b,c){G.push({event:b,element:c});F[b._id]?F[b._id].push(c):F[b._id]=[c]};A.triggerEventDestroy=function(){c.each(G,function(b,c){A.trigger("eventDestroy",c.event,c.event,c.element)})};A.eventElementHandlers=function(b,c){c.click(function(d){return c.hasClass("ui-draggable-dragging")||c.hasClass("ui-resizable-resizing")?p:h("eventClick",this,b,d)}).hover(function(c){h("eventMouseover",this,b,c)},function(c){h("eventMouseout",this,b,c)})};A.showEvents=function(b,c){m(b,c,"show")};A.hideEvents=function(b,c){m(b,c,"hide")};A.eventDrop=function(b,c,d,e,f,g,k){var l=c.allDay,m=c._id;n(E[m],d,e,f);h("eventDrop",b,c,d,e,f,function(){n(E[m],-d,-e,l);D(m)},g,k);D(m)};A.eventResize=function(b,c,d,e,f,g){var k=c._id;q(E[k],d,e);h("eventResize",b,c,d,e,function(){q(E[k],-d,-e);D(k)},f,g);D(k)};var B=A.defaultEventEnd,C=e.normalizeEvent,D=e.reportEventChange,E={},F={},G=[],H=e.options;A.isHiddenDay=function(b){return"object"==typeof b&&(b=b.getDay()),K[b]};A.skipHiddenDays=function(b,c,e){for(c=c||1;K[(b.getDay()+(e?c:0)+7)%7];)d(b,c)};A.getCellsPerWeek=function(){return I};A.dateToCell=function(b){b=w(b);b=y(b);return z(b)};A.dateToDayOffset=w;A.dayOffsetToCellOffset=y;A.cellOffsetToCell=z;A.cellToDate=function(){var b=t.apply(null,arguments),b=u(b);return v(b)};A.cellToCellOffset=t;A.cellOffsetToDayOffset=u;A.dayOffsetToDate=v;A.rangeToSegments=function(b,c){for(var d=A.getRowCnt(),e=A.getColCnt(),f=[],g=w(b),h=w(c),k=y(g),l=y(h)-1,m=0;d>m;m++){var n=m*e,p=Math.max(k,n),n=Math.min(l,n+e-1);if(n>=p){var q=z(p),r=z(n),q=[q.col,r.col].sort(),p=u(p)==g,n=u(n)+1==h;f.push({row:m,leftCol:q[0],rightCol:q[1],isStart:p,isEnd:n})}}return f};var I,J=g("hiddenDays")||[],K=[],M=[],N=[],O=g("isRTL");(function(){!1===g("weekends")&&J.push(0,6);for(var b=0,d=0;7>b;b++)M[b]=d,K[b]=-1!=c.inArray(b,J),K[b]||(N[d]=b,d++);if(I=d,!I)throw"invalid hiddenDays";})()}function fa(){function b(c,d,f){c=e([c],!0,!1);var g=[];return ha(c,function(b,c){b.row===d&&c.css("top",f);g.push(c[0])}),g}function e(b,d,k){var n,p,q=T(),t=d?c("\x3cdiv/\x3e"):q;b=f(b);return g(b),n=h(b),t[0].innerHTML=n,p=t.children(),d&&q.append(p),l(b,p),ha(b,function(b,c){b.hsides=N(c,!0)}),ha(b,function(b,c){c.width(Math.max(0,b.outerWidth-b.hsides))}),ha(b,function(b,c){b.outerHeight=c.outerHeight(!0)}),m(b,k),b}function f(b){for(var c=[],d=0;b.length>d;d++){for(var e=b[d],g=e.start,h=D(e),g=ba(g,h),h=0;g.length>h;h++)g[h].event=e;c.push.apply(c,g)}return c}function g(b){for(var c=u("isRTL"),d=0;b.length>d;d++){var e=b[d],f=(c?e.isStart:e.isEnd)?S:Q,h=((c?e.isEnd:e.isStart)?R:P)(e.leftCol),f=f(e.rightCol);e.left=h;e.outerWidth=f-h}}function h(b){for(var c="",d=0;b.length>d;d++){var e;e=b[d];var f="",g=u("isRTL"),k=e.event,l=k.url,m=["fc-event","fc-event-hori"];w(k)&&m.push("fc-event-draggable");e.isStart&&m.push("fc-event-start");e.isEnd&&m.push("fc-event-end");m=m.concat(k.className);k.source&&(m=m.concat(k.source.className||[]));var n=M(k,u);e=(f+=l?"\x3ca href\x3d'"+I(l)+"'":"\x3cdiv",f+=" class\x3d'"+m.join(" ")+"' style\x3d'position:absolute;left:"+e.left+"px;"+n+"'\x3e\x3cdiv class\x3d'fc-event-inner'\x3e",!k.allDay&&e.isStart&&(f+="\x3cspan class\x3d'fc-event-time'\x3e"+I(U(k.start,k.end,u("timeFormat")))+"\x3c/span\x3e"),f+="\x3cspan class\x3d'fc-event-title'\x3e"+I(k.title||"")+"\x3c/span\x3e\x3c/div\x3e",e.isEnd&&y(k)&&(f+="\x3cdiv class\x3d'ui-resizable-handle ui-resizable-"+(g?"w":"e")+"'\x3e\x26nbsp;\x26nbsp;\x26nbsp;\x3c/div\x3e"),f+("\x3c/"+(l?"a":"div")+"\x3e"));c+=e}return c}function l(b,d){for(var e=0;b.length>e;e++){var f=b[e],g=f.event,h=d.eq(e),g=v("eventRender",g,g,h);!1===g?h.remove():(g&&!0!==g&&(g=c(g).css({position:"absolute",left:f.left}),h.replaceWith(g),h=g),f.element=h)}}function m(b,c){var d=n(b),e=p(),f=[];if(c)for(var g=0;e.length>g;g++)e[g].height(d[g]);for(g=0;e.length>g;g++)f.push(e[g].position().top);ha(b,function(b,c){c.css("top",f[b.row]+b.top)})}function n(b){var c=J(),d=L(),e=[],f,g,h,k=J(),l=[];for(f=0;b.length>f;f++)g=b[f],h=g.row,g.element&&(l[h]?l[h].push(g):l[h]=[g]);for(h=0;k>h;h++){b=h;var m=l[h]||[];f=[];m.sort(la);g=[];for(var p=0;m.length>p;p++){for(var q=m[p],t=0;g.length>t&&Y(q,g[t]);t++);g[t]?g[t].push(q):g[t]=[q]}for(m=0;g.length>m;m++)f.push.apply(f,g[m]);l[b]=f}for(h=0;c>h;h++){k=l[h];b=[];for(f=0;d>f;f++)b.push(0);for(g=0;k.length>g;g++)for(m=k[g],m.top=Math.max.apply(Math,b.slice(m.leftCol,m.rightCol+1)),f=m.leftCol;m.rightCol>=f;f++)b[f]=m.top+m.outerHeight;e.push(Math.max.apply(Math,b))}return e}function p(){var b,c=J(),d=[];for(b=0;c>b;b++)d[b]=O(b).find("div.fc-day-content \x3e div");return d}function q(b,c){var d=T();ha(b,function(b,d,e){var f=b.event;f._id===c?r(f,d,b):d[0]._fci=e});A(d,b,r)}function r(b,c,d){w(b)&&t.draggableDayEvent(b,c,d);d.isEnd&&y(b)&&t.resizableDayEvent(b,c,d);C(b,c)}var t=this;t.renderDayEvents=function(b,c){var d=e(b,!1,!0);ha(d,function(b,c){B(b.event,c)});q(d,c);ha(d,function(b,c){v("eventAfterRender",b.event,b.event,c)})};t.draggableDayEvent=function(b,c){var e,f=Z();c.draggable({delay:50,opacity:u("dragOpacity"),revertDuration:u("dragRevertDuration"),start:function(g,h){v("eventDragStart",c,b,g,h);F(b,c);f.start(function(f,g,h,l){(c.draggable("option","revert",!f||!h&&!l),W(),f)?(g=fa(g),f=fa(f),e=x(f,g),V(d(k(b.start),e),d(D(b),e))):e=0},g,"drag")},stop:function(d,g){f.stop();W();v("eventDragStop",c,b,d,g);e?G(this,b,e,0,b.allDay,d,g):(c.css("filter",""),E(b,c))}})};t.resizableDayEvent=function(e,f,g){var h=u("isRTL")?"w":"e",k=f.find(".ui-resizable-"+h),l=!1;K(f);f.mousedown(function(b){b.preventDefault()}).click(function(b){l&&(b.preventDefault(),b.stopImmediatePropagation())});k.mousedown(function(k){function m(b){v("eventResizeStop",this,e,b);c("body").css("cursor","");n.stop();W();p&&H(this,e,p,0,b);setTimeout(function(){l=!1},0)}if(1==k.which){l=!0;var n=Z();J();L();var p,q,t=f.css("top"),r=c.extend({},e),u=oa(ma(e.start));X();c("body").css("cursor",h+"-resize").one("mouseup",m);v("eventResizeStart",this,e,k);n.start(function(f,k){if(f){var l=ga(k),m=ga(f);(m=Math.max(m,u),p=ja(m)-ja(l))?(r.end=d(z(e),p,!0),l=q,q=b(r,g.row,t),q=c(q),q.find("*").css("cursor",h+"-resize"),l&&l.remove(),F(e)):q&&(E(e),q.remove(),q=null);W();V(e.start,d(D(e),p))}},k)}})};var u=t.opt,v=t.trigger,w=t.isEventDraggable,y=t.isEventResizable,z=t.eventEnd,B=t.reportEventElement,C=t.eventElementHandlers,E=t.showEvents,F=t.hideEvents,G=t.eventDrop,H=t.eventResize,J=t.getRowCnt,L=t.getColCnt;t.getColWidth;var O=t.allDayRow,P=t.colLeft,Q=t.colRight,R=t.colContentLeft,S=t.colContentRight;t.dateToCell;var T=t.getDaySegmentContainer,U=t.calendar.formatDates,V=t.renderDayOverlay,W=t.clearOverlays,X=t.clearSelection,Z=t.getHoverListener,ba=t.rangeToSegments,fa=t.cellToDate,ga=t.cellToCellOffset,ja=t.cellOffsetToDayOffset,ma=t.dateToDayOffset,oa=t.dayOffsetToCellOffset}function Y(b,c){for(var d=0;c.length>d;d++){var e=c[d];if(e.leftCol<=b.rightCol&&e.rightCol>=b.leftCol)return!0}return!1}function ha(b,c){for(var d=0;b.length>d;d++){var e=b[d],f=e.element;f&&c(e,f,d)}}function la(b,c){return c.rightCol-c.leftCol-(b.rightCol-b.leftCol)||c.event.allDay-b.event.allDay||b.event.start-c.event.start||(b.event.title||"").localeCompare(c.event.title)}function Ia(){function b(c){m&&(m=!1,l(),g("unselect",null,c))}function d(b,c,e,f){m=!0;g("select",null,b,c,e,f)}var e=this;e.select=function(c,e,f){b();e||(e=h(c,f));k(c,e,f);d(c,e,f)};e.unselect=b;e.reportSelection=d;e.daySelectionMousedown=function(g){var h=e.cellToDate,m=e.getIsCellAllDay,n=e.getHoverListener(),p=e.reportDayClick;if(1==g.which&&f("selectable")){b(g);var t;n.start(function(b,c){l();b&&m(b)?(t=[h(c),h(b)].sort(q),k(t[0],t[1],!0)):t=null},g);c(document).one("mouseup",function(b){n.stop();t&&(+t[0]==+t[1]&&p(t[0],!0,b),d(t[0],t[1],!0,b))})}};var f=e.opt,g=e.trigger,h=e.defaultSelectionEnd,k=e.renderSelection,l=e.clearSelection,m=!1;f("selectable")&&f("unselectAuto")&&c(document).mousedown(function(d){var e=f("unselectCancel");e&&c(d.target).parents(e).length||b(d)})}function C(){this.renderOverlay=function(e,f){var g=d.shift();return g||(g=c("\x3cdiv class\x3d'fc-cell-overlay' style\x3d'position:absolute;z-index:3'/\x3e")),g[0].parentNode!=f[0]&&g.appendTo(f),b.push(g.css(e).show()),g};this.clearOverlays=function(){for(var c;c=b.shift();)d.push(c.hide().unbind())};var b=[],d=[]}function Sa(b){var c,d;this.build=function(){c=[];d=[];b(c,d)};this.cell=function(b,e){var f,g=c.length,h=d.length,k=-1,l=-1;for(f=0;g>f;f++)if(e>=c[f][0]&&c[f][1]>e){k=f;break}for(f=0;h>f;f++)if(b>=d[f][0]&&d[f][1]>b){l=f;break}return 0<=k&&0<=l?{row:k,col:l}:null};this.rect=function(b,e,f,g,h){h=h.offset();return{top:c[b][0]-h.top,left:d[e][0]-h.left,width:d[g][1]-d[e][0],height:c[f][1]-c[b][0]}}}function Ta(b){function d(c){c.pageX===p&&(c.pageX=c.originalEvent.pageX,c.pageY=c.originalEvent.pageY);c=b.cell(c.pageX,c.pageY);(!c!=!h||c&&(c.row!=h.row||c.col!=h.col))&&(c?(g||(g=c),f(c,g,c.row-g.row,c.col-g.col)):f(c,g),h=c)}var e,f,g,h;this.start=function(k,l,m){f=k;g=h=null;b.build();d(l);e=m||"mousemove";c(document).bind(e,d)};this.stop=function(){return c(document).unbind(e,d),h}}function Ka(b){var c=this,d={},e={},f={};c.left=function(c){return e[c]=e[c]===p?(d[c]=d[c]||b(c)).position().left:e[c]};c.right=function(e){return f[e]=f[e]===p?c.left(e)+(d[e]=d[e]||b(e)).width():f[e]};c.clear=function(){d={};e={};f={}}}var Ja={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"iso",weekNumberTitle:"W",allDayDefault:!0,ignoreTimezone:!0,lazyFetching:!0,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '\x26#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:!1,firstDay:0,monthNames:"\u4e00\u6708 \u4e8c\u6708 \u4e09\u6708 \u56db\u6708 \u4e94\u6708 \u516d\u6708 \u4e03\u6708 \u516b\u6708 \u4e5d\u6708 \u5341\u6708 \u5341\u6708 \u5341\u4e8c\u6708".split(" "),monthNamesShort:"\u4e00 \u4e8c \u4e09 \u56db \u4e94 \u516d \u4e03 \u516b \u4e5d \u5341 \u5341\u4e00 \u5341\u4e8c".split(" "),dayNames:"\u661f\u671f\u65e5 \u661f\u671f\u4e00 \u661f\u671f\u4e8c \u661f\u671f\u4e09 \u661f\u671f\u56db \u661f\u671f\u4e94 \u661f\u671f\u516d".split(" "),dayNamesShort:"\u65e5\u4e00\u4e8c\u4e09\u56db\u4e94\u516d".split(""),buttonText:{prev:"\x3cspan class\x3d'fc-text-arrow'\x3e\x26lsaquo;\x3c/span\x3e",next:"\x3cspan class\x3d'fc-text-arrow'\x3e\x26rsaquo;\x3c/span\x3e",prevYear:"\x3cspan class\x3d'fc-text-arrow'\x3e\x26laquo;\x3c/span\x3e",nextYear:"\x3cspan class\x3d'fc-text-arrow'\x3e\x26raquo;\x3c/span\x3e",today:"\u4eca\u5929",month:"\u6708",week:"\u5468",day:"\u5929"},theme:!1,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:!0,dropAccept:"*",handleWindowResize:!0},ab={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"\x3cspan class\x3d'fc-text-arrow'\x3e\x26rsaquo;\x3c/span\x3e",next:"\x3cspan class\x3d'fc-text-arrow'\x3e\x26lsaquo;\x3c/span\x3e",prevYear:"\x3cspan class\x3d'fc-text-arrow'\x3e\x26raquo;\x3c/span\x3e",nextYear:"\x3cspan class\x3d'fc-text-arrow'\x3e\x26laquo;\x3c/span\x3e"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},X=c.fullCalendar={version:"1.6.4"},ja=X.views={};c.fn.fullCalendar=function(d){if("string"==typeof d){var e,f=Array.prototype.slice.call(arguments,1);return this.each(function(){var b=c.data(this,"fullCalendar");b&&c.isFunction(b[d])&&(b=b[d].apply(b,f),e===p&&(e=b),"destroy"==d&&c.removeData(this,"fullCalendar"))}),e!==p?e:this}d=d||{};var g=d.eventSources||[];return delete d.eventSources,d.events&&(g.push(d.events),delete d.events),d=c.extend(!0,{},Ja,d.isRTL||d.isRTL===p&&Ja.isRTL?ab:{},d),this.each(function(e,f){var h=c(f),k=new b(h,d,g);h.data("fullCalendar",k);k.render()}),this};X.sourceNormalizers=[];X.sourceFetchers=[];var oa={dataType:"json",cache:!1},Da=1;X.addDays=d;X.cloneDate=k;X.parseDate=g;X.parseISO8601=t;X.parseTime=w;X.formatDate=y;X.formatDates=z;var ya="\u65e5\u4e00\u4e8c\u4e09\u56db\u4e94\u516d".split(""),qa=864E5,ma=36E5,Ea=6E4,La={s:function(b){return b.getSeconds()},ss:function(b){return H(b.getSeconds())},m:function(b){return b.getMinutes()},mm:function(b){return H(b.getMinutes())},h:function(b){return b.getHours()%12||12},hh:function(b){return H(b.getHours()%12||12)},H:function(b){return b.getHours()},HH:function(b){return H(b.getHours())},d:function(b){return b.getDate()},dd:function(b){return H(b.getDate())},ddd:function(b,c){return c.dayNamesShort[b.getDay()]},dddd:function(b,c){return c.dayNames[b.getDay()]},M:function(b){return b.getMonth()+1},MM:function(b){return H(b.getMonth()+1)},MMM:function(b,c){return c.monthNamesShort[b.getMonth()]},MMMM:function(b,c){return c.monthNames[b.getMonth()]},yy:function(b){return(b.getFullYear()+"").substring(2)},yyyy:function(b){return b.getFullYear()},t:function(b){return 12>b.getHours()?"a":"p"},tt:function(b){return 12>b.getHours()?"\u4e0a\u5348":"\u4e0b\u5348"},T:function(b){return 12>b.getHours()?"A":"P"},TT:function(b){return 12>b.getHours()?"\u4e0a\u5348":"\u4e0b\u5348"},u:function(b){return y(b,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(b){b=b.getDate();return 10<b&&20>b?"th":["st","nd","rd"][b%10-1]||"th"},w:function(b,c){return c.weekNumberCalculation(b)},W:function(b){var c;b=new Date(b.getTime());return b.setDate(b.getDate()+4-(b.getDay()||7)),c=b.getTime(),b.setMonth(0),b.setDate(1),Math.floor(Math.round((c-b)/864E5)/7)+1}};X.dateFormatters=La;X.applyAll=J;ja.month=function(b,c){var e=this;e.render=function(b,c){c&&(n(b,c),b.setDate(1));var p=f("firstDay"),q=k(b,!0);q.setDate(1);var t=n(k(q),1),r=k(q);d(r,-((r.getDay()-p+7)%7));h(r);var u=k(t);d(u,(7-u.getDay()+p)%7);h(u,-1,!0);var p=l(),v=Math.round(x(u,r)/7);"fixed"==f("weekMode")&&(d(u,7*(6-v)),v=6);e.title=m(q,f("titleFormat"));e.start=q;e.end=t;e.visStart=r;e.visEnd=u;g(v,p,!0)};T.call(e,b,c,"month");var f=e.opt,g=e.renderBasic,h=e.skipHiddenDays,l=e.getCellsPerWeek,m=c.formatDate};ja.basicWeek=function(b,c){var e=this;e.render=function(b,c){c&&d(b,7*c);var n=d(k(b),-((b.getDay()-f("firstDay")+7)%7)),p=d(k(n),7),q=k(n);h(q);var t=k(p);h(t,-1,!0);var r=l();e.start=n;e.end=p;e.visStart=q;e.visEnd=t;e.title=m(q,d(k(t),-1),f("titleFormat"));g(1,r,!1)};T.call(e,b,c,"basicWeek");var f=e.opt,g=e.renderBasic,h=e.skipHiddenDays,l=e.getCellsPerWeek,m=c.formatDates};ja.basicDay=function(b,c){var e=this;e.render=function(b,c){c&&d(b,c);h(b,0>c?-1:1);var m=k(b,!0),n=d(k(m),1);e.title=l(b,f("titleFormat"));e.start=e.visStart=m;e.end=e.visEnd=n;g(1,1,!1)};T.call(e,b,c,"basicDay");var f=e.opt,g=e.renderBasic,h=e.skipHiddenDays,l=c.formatDate};c.extend(!0,Ja,{weekMode:"fixed"});ja.agendaWeek=function(b,c){var e=this;e.render=function(b,c){c&&d(b,7*c);var n=d(k(b),-((b.getDay()-f("firstDay")+7)%7)),p=d(k(n),7),q=k(n);h(q);var t=k(p);h(t,-1,!0);var r=l();e.title=m(q,d(k(t),-1),f("titleFormat"));e.start=n;e.end=p;e.visStart=q;e.visEnd=t;g(r)};R.call(e,b,c,"agendaWeek");var f=e.opt,g=e.renderAgenda,h=e.skipHiddenDays,l=e.getCellsPerWeek,m=c.formatDates};ja.agendaDay=function(b,c){var e=this;e.render=function(b,c){c&&d(b,c);h(b,0>c?-1:1);var m=k(b,!0),n=d(k(m),1);e.title=l(b,f("titleFormat"));e.start=e.visStart=m;e.end=e.visEnd=n;g(1)};R.call(e,b,c,"agendaDay");var f=e.opt,g=e.renderAgenda,h=e.skipHiddenDays,l=c.formatDate};c.extend(!0,Ja,{allDaySlot:!0,allDayText:"\u5168\u5929",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:.5},minTime:0,maxTime:24,slotEventOverlap:!0})})(jQuery);$(function(){function c(){$(".drore-left,.drore-main").height($(document).height());$(".drore-main").height($(window).height()-60);800>$(window).width()?($(".drore-left").addClass("smal-left-nav"),$(".drore-main").addClass("smal-main")):($(".drore-left").removeClass("smal-left-nav"),$(".drore-main").removeClass("smal-main"));$(".drore-left").click(function(){$(".drore-left").removeClass("smal-left-nav");$(".drore-main").removeClass("smal-main")})}$(".drore-top-nav li").click(function(){$(this).addClass("active").siblings().removeClass("active")});$(".left-nav-btn").click(function(){$(".drore-left").toggleClass("smal-left-nav");$(".drore-main").toggleClass("smal-main")});c();$(window).resize(function(){c()})});function iFrameHeight(){var c=document.getElementById("con_iframe"),p=document.frames?document.frames.con_iframe.document:c.contentDocument;null!=c&&null!=p&&(c.height=p.body.scrollHeight,c.width=p.body.scrollWidth,c.style.height=p.body.scrollHeight+"px",c.style.width=p.body.scrollWidth+"px")}function addClass(c,p){c.className?(new RegExp(p)).test(c.className)||(c.className+=" "+p):c.className=p}function deleteClass(c,p){(new RegExp(p,"g")).test(c.className)&&(c.className=c.className.replace(new RegExp("\\b"+p+"\\b","g"),""),(new RegExp(/^ /g)).test(c.className)&&(c.className=c.className.replace(/^ /g,"")),(new RegExp(/ $/g)).test(c.className)&&(c.className=c.className.replace(/ $/g,"")))}function getByClass(c,p){for(var b=c.getElementsByTagName("*"),h=[],l=0;l<b.length;l++)(new RegExp("\\b"+p+"\\b")).test(b[l].className)&&h.push(b[l]);return h}function getStyle(c,p){return c.currentStyle?c.currentStyle[p]:getComputedStyle(c,!1)[p]}function startMove(c,p,b){clearInterval(c.timer);c.timer=setInterval(function(){var h=!0,l;for(l in p){var e;e="opacity"==l?Math.round(100*parseFloat(getStyle(c,l))):"scale"==l?c.scale:parseInt(getStyle(c,l));var n=(p[l]-e)/8,n=0<n?Math.ceil(n):Math.floor(n);p[l]!=e&&(h=!1);"opacity"==l?(c.style.filter="alpha(opacity:"+(e+n)+")",c.style.opacity=(e+n)/100):"scale"==l?(c.style.webkitTransform=c.style.transform="scale("+(e+n)/100+")",c.scale=e+n):c.style[l]=e+n+"px"}h&&(clearInterval(c.timer),b&&b())},16)}window.onload=function(){for(var c=$(".left-nav a"),p=0;p<c.length;p++)c[p].parentNode.children[1]&&(c[p].parentNode.children[1].style.height="auto",c[p].parentNode.children[1].setAttribute("originHeight",c[p].parentNode.children[1].offsetHeight),c[p].parentNode.children[1].style.height="0"),c.index=p,c[p].onclick=function(){if(/active/.test(this.parentNode.className))this.parentNode.children[1]&&startMove(this.parentNode.children[1],{height:0}),deleteClass(this.parentNode,"active");else{for(var b=0;b<this.parentNode.parentNode.getElementsByTagName("a").length;b++)this.parentNode.parentNode.getElementsByTagName("a")[b].parentNode.className&&/active/.test(this.parentNode.parentNode.getElementsByTagName("a")[b].parentNode.className)&&(this.parentNode.parentNode.getElementsByTagName("a")[b].parentNode.children[1]&&startMove(this.parentNode.parentNode.getElementsByTagName("a")[b].parentNode.children[1],{height:0}),deleteClass(this.parentNode.parentNode.getElementsByTagName("a")[b].parentNode,"active"));if(this.parentNode.children[1]){var c=this;startMove(this.parentNode.children[1],{height:c.parentNode.children[1].getAttribute("originHeight")},function(){c.parentNode.children[1].style.height="auto"})}addClass(this.parentNode,"active")}}};!function(c,p){var b,h,l={getPath:function(){var b=document.scripts,b=b[b.length-1],c=b.src;if(!b.getAttribute("merge"))return c.substring(0,c.lastIndexOf("/")+1)}(),enter:function(b){13===b.keyCode&&b.preventDefault()},config:{},end:{},btn:["\x26#x786E;\x26#x5B9A;","\x26#x53D6;\x26#x6D88;"],type:["dialog","page","iframe","loading","tips"]},e={v:"2.4",ie6:!!c.ActiveXObject&&!c.XMLHttpRequest,index:0,path:l.getPath,config:function(c,d){var h=0;return c=c||{},e.cache=l.config=b.extend(l.config,c),e.path=l.config.path||e.path,"string"==typeof c.extend&&(c.extend=[c.extend]),e.use("skin/layer.css",c.extend&&0<c.extend.length?function v(){var b=c.extend;e.use(b[b[h]?h:h-1],h<b.length?(++h,v):d)}():d),this},use:function(c,d,h){var l=b("head")[0];c=c.replace(/\s/g,"");var m=/\.css$/.test(c),g=document.createElement(m?"link":"script"),n="layui_layer_"+c.replace(/\.|\//g,"");return e.path?(m&&(g.rel="stylesheet"),g[m?"href":"src"]=/^http:\/\//.test(c)?c:e.path+c,g.id=n,b("#"+n)[0]||l.appendChild(g),function y(){if(m?1989===parseInt(b("#"+n).css("width")):e[h||n]){d&&d();try{m||l.removeChild(g)}catch(c){}}else setTimeout(y,100)}(),this):void 0},ready:function(c,d){var h="function"==typeof c;return h&&(d=c),e.config(b.extend(l.config,h?{}:{path:c}),d),this},alert:function(c,d,h){var l="function"==typeof d;return l&&(h=d),e.open(b.extend({content:c,yes:h},l?{}:d))},confirm:function(c,d,h,m){var n="function"==typeof d;return n&&(m=h,h=d),e.open(b.extend({content:c,btn:l.btn,yes:h,btn2:m},n?{}:d))},msg:function(c,h,m){var n="function"==typeof h,r=l.config.skin,r=(r?r+" "+r+"-msg":"")||"layui-layer-msg",g=d.anim.length-1;return n&&(m=h),e.open(b.extend({content:c,time:3E3,shade:!1,skin:r,title:!1,closeBtn:!1,btn:!1,end:m},n&&!l.config.skin?{skin:r+" layui-layer-hui",shift:g}:(h=h||{},(-1===h.icon||h.icon===p&&!l.config.skin)&&(h.skin=r+" "+(h.skin||"layui-layer-hui")),h)))},load:function(c,d){return e.open(b.extend({type:3,icon:c||0,shade:.01},d))},tips:function(c,d,h){return e.open(b.extend({type:4,content:[c,d],closeBtn:!1,time:3E3,shade:!1,fix:!1,maxWidth:210},h))}},n=function(c){this.index=++e.index;this.config=b.extend({},this.config,l.config,c);this.creat()};n.pt=n.prototype;var d="layui-layer .layui-layer-title .layui-layer-main .layui-layer-dialog layui-layer-iframe layui-layer-content layui-layer-btn layui-layer-close".split(" ");d.anim="layer-anim layer-anim-01 layer-anim-02 layer-anim-03 layer-anim-04 layer-anim-05 layer-anim-06".split(" ");n.pt.config={type:0,shade:.3,fix:!0,move:d[1],title:"\x26#x4FE1;\x26#x606F;",offset:"auto",area:"auto",closeBtn:1,time:0,zIndex:19891014,maxWidth:360,shift:0,icon:-1,scrollbar:!0,tips:2};n.pt.vessel=function(b,c){var e=this.index,h=this.config,m=h.zIndex+e,g="object"==typeof h.title,n=h.maxmin&&(1===h.type||2===h.type),g=h.title?'\x3cdiv class\x3d"layui-layer-title" style\x3d"'+(g?h.title[1]:"")+'"\x3e'+(g?h.title[0]:h.title)+"\x3c/div\x3e":"";return h.zIndex=m,c([h.shade?'\x3cdiv class\x3d"layui-layer-shade" id\x3d"layui-layer-shade'+e+'" times\x3d"'+e+'" style\x3d"'+("z-index:"+(m-1)+"; background-color:"+(h.shade[1]||"#000")+"; opacity:"+(h.shade[0]||h.shade)+"; filter:alpha(opacity\x3d"+(100*h.shade[0]||100*h.shade)+");")+'"\x3e\x3c/div\x3e':"",'\x3cdiv class\x3d"'+d[0]+(" layui-layer-"+l.type[h.type])+(0!=h.type&&2!=h.type||h.shade?"":" layui-layer-border")+" "+(h.skin||"")+'" id\x3d"'+d[0]+e+'" type\x3d"'+l.type[h.type]+'" times\x3d"'+e+'" showtime\x3d"'+h.time+'" conType\x3d"'+(b?"object":"string")+'" style\x3d"z-index: '+m+"; width:"+h.area[0]+";height:"+h.area[1]+(h.fix?"":";position:absolute;")+'"\x3e'+(b&&2!=h.type?"":g)+'\x3cdiv id\x3d"'+(h.id||"")+'" class\x3d"layui-layer-content'+(0==h.type&&-1!==h.icon?" layui-layer-padding":"")+(3==h.type?" layui-layer-loading"+h.icon:"")+'"\x3e'+(0==h.type&&-1!==h.icon?'\x3ci class\x3d"layui-layer-ico layui-layer-ico'+h.icon+'"\x3e\x3c/i\x3e':"")+(1==h.type&&b?"":h.content||"")+'\x3c/div\x3e\x3cspan class\x3d"layui-layer-setwin"\x3e'+function(){var b=n?'\x3ca class\x3d"layui-layer-min" href\x3d"javascript:;"\x3e\x3ccite\x3e\x3c/cite\x3e\x3c/a\x3e\x3ca class\x3d"layui-layer-ico layui-layer-max" href\x3d"javascript:;"\x3e\x3c/a\x3e':"";return h.closeBtn&&(b+='\x3ca class\x3d"layui-layer-ico '+d[7]+" "+d[7]+(h.title?h.closeBtn:4==h.type?"1":"2")+'" href\x3d"javascript:;"\x3e\x3c/a\x3e'),b}()+"\x3c/span\x3e"+(h.btn?function(){var b="";"string"==typeof h.btn&&(h.btn=[h.btn]);for(var c=0,e=h.btn.length;e>c;c++)b+='\x3ca class\x3d"'+d[6]+c+'"\x3e'+h.btn[c]+"\x3c/a\x3e";return'\x3cdiv class\x3d"'+d[6]+'"\x3e'+b+"\x3c/div\x3e"}():"")+"\x3c/div\x3e"],g),this};n.pt.creat=function(){var c=this,k=c.config,m=c.index,n=k.content,p="object"==typeof n;if(!b("#"+k.id)[0]){switch("string"==typeof k.area&&(k.area="auto"===k.area?["",""]:[k.area,""]),k.type){case 0:k.btn="btn"in k?k.btn:l.btn[0];e.closeAll("dialog");break;case 2:n=k.content=p?k.content:[k.content||"http://layer.layui.com","auto"];k.content='\x3ciframe scrolling\x3d"'+(k.content[1]||"auto")+'" allowtransparency\x3d"true" id\x3d"'+d[4]+m+'" name\x3d"'+d[4]+m+'" onload\x3d"this.className\x3d\'\';" class\x3d"layui-layer-load" frameborder\x3d"0" src\x3d"'+k.content[0]+'"\x3e\x3c/iframe\x3e';break;case 3:k.title=!1;k.closeBtn=!1;-1===k.icon&&0===k.icon;e.closeAll("loading");break;case 4:p||(k.content=[k.content,"body"]),k.follow=k.content[1],k.content=k.content[0]+'\x3ci class\x3d"layui-layer-TipsG"\x3e\x3c/i\x3e',k.title=!1,k.tips="object"==typeof k.tips?k.tips:[k.tips,!0],k.tipsMore||e.closeAll("tips")}c.vessel(p,function(e,h){b("body").append(e[0]);p?2==k.type||4==k.type?b("body").append(e[1]):n.parents("."+d[0])[0]||(n.show().addClass("layui-layer-wrap").wrap(e[1]),b("#"+d[0]+m).find("."+d[5]).before(h)):b("body").append(e[1]);c.layero=b("#"+d[0]+m);k.scrollbar||d.html.css("overflow","hidden").attr("layer-full",m)}).auto(m);2==k.type&&e.ie6&&c.layero.find("iframe").attr("src",n[0]);b(document).off("keydown",l.enter).on("keydown",l.enter);c.layero.on("keydown",function(c){b(document).off("keydown",l.enter)});4==k.type?c.tips():c.offset();k.fix&&h.on("resize",function(){c.offset();(/^\d+%$/.test(k.area[0])||/^\d+%$/.test(k.area[1]))&&c.auto(m);4==k.type&&c.tips()});0>=k.time||setTimeout(function(){e.close(c.index)},k.time);c.move().callback();d.anim[k.shift]&&c.layero.addClass(d.anim[k.shift])}};n.pt.auto=function(c){function e(b){b=m.find(b);b.height(n[1]-g-p-2*(0|parseFloat(b.css("padding"))))}var l=this.config,m=b("#"+d[0]+c);""===l.area[0]&&0<l.maxWidth&&(/MSIE 7/.test(navigator.userAgent)&&l.btn&&m.width(m.innerWidth()),m.outerWidth()>l.maxWidth&&m.width(l.maxWidth));var n=[m.innerWidth(),m.innerHeight()],g=m.find(d[1]).outerHeight()||0,p=m.find("."+d[6]).outerHeight()||0;switch(l.type){case 2:e("iframe");break;default:""===l.area[1]?l.fix&&n[1]>=h.height()&&(n[1]=h.height(),e("."+d[5])):e("."+d[5])}return this};n.pt.offset=function(){var b=this.config,c=this.layero,d=[c.outerWidth(),c.outerHeight()],e="object"==typeof b.offset;this.offsetTop=(h.height()-d[1])/2;this.offsetLeft=(h.width()-d[0])/2;e?(this.offsetTop=b.offset[0],this.offsetLeft=b.offset[1]||this.offsetLeft):"auto"!==b.offset&&(this.offsetTop=b.offset,"rb"===b.offset&&(this.offsetTop=h.height()-d[1],this.offsetLeft=h.width()-d[0]));b.fix||(this.offsetTop=/%$/.test(this.offsetTop)?h.height()*parseFloat(this.offsetTop)/100:parseFloat(this.offsetTop),this.offsetLeft=/%$/.test(this.offsetLeft)?h.width()*parseFloat(this.offsetLeft)/100:parseFloat(this.offsetLeft),this.offsetTop+=h.scrollTop(),this.offsetLeft+=h.scrollLeft());c.css({top:this.offsetTop,left:this.offsetLeft})};n.pt.tips=function(){var c=this.config,e=this.layero,l=[e.outerWidth(),e.outerHeight()],m=b(c.follow);m[0]||(m=b("body"));var n={width:m.outerWidth(),height:m.outerHeight(),top:m.offset().top,left:m.offset().left},g=e.find(".layui-layer-TipsG"),m=c.tips[0];c.tips[1]||g.remove();n.autoLeft=function(){0<n.left+l[0]-h.width()?(n.tipLeft=n.left+n.width-l[0],g.css({right:12,left:"auto"})):n.tipLeft=n.left};n.where=[function(){n.autoLeft();n.tipTop=n.top-l[1]-10;g.removeClass("layui-layer-TipsB").addClass("layui-layer-TipsT").css("border-right-color",c.tips[1])},function(){n.tipLeft=n.left+n.width+10;n.tipTop=n.top;g.removeClass("layui-layer-TipsL").addClass("layui-layer-TipsR").css("border-bottom-color",c.tips[1])},function(){n.autoLeft();n.tipTop=n.top+n.height+10;g.removeClass("layui-layer-TipsT").addClass("layui-layer-TipsB").css("border-right-color",c.tips[1])},function(){n.tipLeft=n.left-l[0]-10;n.tipTop=n.top;g.removeClass("layui-layer-TipsR").addClass("layui-layer-TipsL").css("border-bottom-color",c.tips[1])}];n.where[m-1]();1===m?0>n.top-(h.scrollTop()+l[1]+16)&&n.where[2]():2===m?0<h.width()-(n.left+n.width+l[0]+16)||n.where[3]():3===m?0<n.top-h.scrollTop()+n.height+l[1]+16-h.height()&&n.where[0]():4===m&&0<l[0]+16-n.left&&n.where[1]();e.find("."+d[5]).css({"background-color":c.tips[1],"padding-right":c.closeBtn?"30px":""});e.css({left:n.tipLeft-(c.fix?h.scrollLeft():0),top:n.tipTop-(c.fix?h.scrollTop():0)})};n.pt.move=function(){var c=this.config,e={setY:0,moveLayer:function(){var b=e.layero,c=parseInt(b.css("margin-left")),d=parseInt(e.move.css("left"));0===c||(d-=c);"fixed"!==b.css("position")&&(d-=b.parent().offset().left,e.setY=0);b.css({left:d,top:parseInt(e.move.css("top"))-e.setY})}},l=this.layero.find(c.move);return c.move&&l.attr("move","ok"),l.css({cursor:c.move?"move":"auto"}),b(c.move).on("mousedown",function(l){if(l.preventDefault(),"ok"===b(this).attr("move")){e.ismove=!0;e.layero=b(this).parents("."+d[0]);var m=e.layero.offset().left,g=e.layero.offset().top,n=e.layero.outerWidth()-6,p=e.layero.outerHeight()-6;b("#layui-layer-moves")[0]||b("body").append('\x3cdiv id\x3d"layui-layer-moves" class\x3d"layui-layer-moves" style\x3d"left:'+m+"px; top:"+g+"px; width:"+n+"px; height:"+p+'px; z-index:2147483584"\x3e\x3c/div\x3e');e.move=b("#layui-layer-moves");c.moveType&&e.move.css({visibility:"hidden"});e.moveX=l.pageX-e.move.position().left;e.moveY=l.pageY-e.move.position().top;"fixed"!==e.layero.css("position")||(e.setY=h.scrollTop())}}),b(document).mousemove(function(b){if(e.ismove){var d=b.pageX-e.moveX,g=b.pageY-e.moveY;if(b.preventDefault(),!c.moveOut){e.setY=h.scrollTop();b=h.width()-e.move.outerWidth();var l=e.setY;0>d&&(d=0);d>b&&(d=b);l>g&&(g=l);g>h.height()-e.move.outerHeight()+e.setY&&(g=h.height()-e.move.outerHeight()+e.setY)}e.move.css({left:d,top:g});c.moveType&&e.moveLayer()}}).mouseup(function(){try{e.ismove&&(e.moveLayer(),e.move.remove(),c.moveEnd&&c.moveEnd()),e.ismove=!1}catch(b){e.ismove=!1}}),this};n.pt.callback=function(){var c=this,h=c.layero,m=c.config;c.openLayer();m.success&&(2==m.type?h.find("iframe").on("load",function(){m.success(h,c.index)}):m.success(h,c.index));e.ie6&&c.IE6(h);h.find("."+d[6]).children("a").on("click",function(){var d=b(this).index();0===d?m.yes?m.yes(c.index,h):m.btn1?m.btn1(c.index,h):e.close(c.index):!1===(m["btn"+(d+1)]&&m["btn"+(d+1)](c.index,h))||e.close(c.index)});h.find("."+d[7]).on("click",function(){!1===(m.cancel&&m.cancel(c.index,h))||e.close(c.index)});m.shadeClose&&b("#layui-layer-shade"+c.index).on("click",function(){e.close(c.index)});h.find(".layui-layer-min").on("click",function(){!1===(m.min&&m.min(h))||e.min(c.index,m)});h.find(".layui-layer-max").on("click",function(){b(this).hasClass("layui-layer-maxmin")?(e.restore(c.index),m.restore&&m.restore(h)):(e.full(c.index,m),setTimeout(function(){m.full&&m.full(h)},100))});m.end&&(l.end[c.index]=m.end)};l.reselect=function(){b.each(b("select"),function(c,e){var h=b(this);h.parents("."+d[0])[0]||1==h.attr("layer")&&1>b("."+d[0]).length&&h.removeAttr("layer").show()})};n.pt.IE6=function(c){function e(){c.css({top:m+(l.config.fix?h.scrollTop():0)})}var l=this,m=c.offset().top;e();h.scroll(e);b("select").each(function(c,e){var f=b(this);f.parents("."+d[0])[0]||"none"===f.css("display")||f.attr({layer:"1"}).hide()})};n.pt.openLayer=function(){e.zIndex=this.config.zIndex;e.setTop=function(b){return e.zIndex=parseInt(b[0].style.zIndex),b.on("mousedown",function(){e.zIndex++;b.css("z-index",e.zIndex+1)}),e.zIndex}};l.record=function(b){var c=[b.width(),b.height(),b.position().top,b.position().left+parseFloat(b.css("margin-left"))];b.find(".layui-layer-max").addClass("layui-layer-maxmin");b.attr({area:c})};l.rescollbar=function(b){d.html.attr("layer-full")==b&&(d.html[0].style.removeProperty?d.html[0].style.removeProperty("overflow"):d.html[0].style.removeAttribute("overflow"),d.html.removeAttr("layer-full"))};c.layer=e;e.getChildFrame=function(c,e){return e=e||b("."+d[4]).attr("times"),b("#"+d[0]+e).find("iframe").contents().find(c)};e.getFrameIndex=function(c){return b("#"+c).parents("."+d[4]).attr("times")};e.iframeAuto=function(c){if(c){var h=e.getChildFrame("html",c).outerHeight();c=b("#"+d[0]+c);var l=c.find(d[1]).outerHeight()||0,m=c.find("."+d[6]).outerHeight()||0;c.css({height:h+l+m});c.find("iframe").css({height:h})}};e.iframeSrc=function(c,e){b("#"+d[0]+c).find("iframe").attr("src",e)};e.style=function(c,e){var h=b("#"+d[0]+c),m=h.attr("type"),n=h.find(d[1]).outerHeight()||0,g=h.find("."+d[6]).outerHeight()||0;m!==l.type[1]&&m!==l.type[2]||(h.css(e),m!==l.type[2]||h.find("iframe").css({height:parseFloat(e.height)-n-g}))};e.min=function(c,h){var m=b("#"+d[0]+c),n=m.find(d[1]).outerHeight()||0;l.record(m);e.style(c,{width:180,height:n,overflow:"hidden"});m.find(".layui-layer-min").hide();"page"===m.attr("type")&&m.find(d[4]).hide();l.rescollbar(c)};e.restore=function(c){var h=b("#"+d[0]+c),m=h.attr("area").split(",");h.attr("type");e.style(c,{width:parseFloat(m[0]),height:parseFloat(m[1]),top:parseFloat(m[2]),left:parseFloat(m[3]),overflow:"visible"});h.find(".layui-layer-max").removeClass("layui-layer-maxmin");h.find(".layui-layer-min").show();"page"===h.attr("type")&&h.find(d[4]).show();l.rescollbar(c)};e.full=function(c){var k,m=b("#"+d[0]+c);l.record(m);d.html.attr("layer-full")||d.html.css("overflow","hidden").attr("layer-full",c);clearTimeout(k);k=setTimeout(function(){var b="fixed"===m.css("position");e.style(c,{top:b?0:h.scrollTop(),left:b?0:h.scrollLeft(),width:h.width(),height:h.height()});m.find(".layui-layer-min").hide()},100)};e.title=function(c,h){b("#"+d[0]+(h||e.index)).find(d[1]).html(c)};e.close=function(c){var h=b("#"+d[0]+c),m=h.attr("type");if(h[0]){if(m===l.type[1]&&"object"===h.attr("conType"))for(h.children(":not(."+d[5]+")").remove(),m=0;2>m;m++)h.find(".layui-layer-wrap").unwrap().hide();else{if(m===l.type[2])try{var n=b("#"+d[4]+c)[0];n.contentWindow.document.write("");n.contentWindow.close();h.find("."+d[5])[0].removeChild(n)}catch(p){}h[0].innerHTML="";h.remove()}b("#layui-layer-moves, #layui-layer-shade"+c).remove();e.ie6&&l.reselect();l.rescollbar(c);b(document).off("keydown",l.enter);"function"==typeof l.end[c]&&l.end[c]();delete l.end[c]}};e.closeAll=function(c){b.each(b("."+d[0]),function(){var d=b(this);(c?d.attr("type")===c:1)&&e.close(d.attr("times"))})};var m=e.cache||{},r=function(b){return m.skin?" "+m.skin+" "+m.skin+"-"+b:""};e.prompt=function(c,d){c=c||{};"function"==typeof c&&(d=c);var h;return e.open(b.extend({btn:["\x26#x786E;\x26#x5B9A;","\x26#x53D6;\x26#x6D88;"],content:2==c.formType?'\x3ctextarea class\x3d"layui-layer-input"\x3e'+(c.value||"")+"\x3c/textarea\x3e":'\x3cinput type\x3d"'+(1==c.formType?"password":"text")+'" class\x3d"layui-layer-input" value\x3d"'+(c.value||"")+'"\x3e',skin:"layui-layer-prompt"+r("prompt"),success:function(b){h=b.find(".layui-layer-input");h.focus()},yes:function(b){var l=h.val();""===l?h.focus():l.length>(c.maxlength||500)?e.tips("\x26#x6700;\x26#x591A;\x26#x8F93;\x26#x5165;"+(c.maxlength||500)+"\x26#x4E2A;\x26#x5B57;\x26#x6570;",h,{tips:1}):d&&d(l,b,h)}},c))};e.tab=function(c){c=c||{};var d=c.tab||{};return e.open(b.extend({type:1,skin:"layui-layer-tab"+r("tab"),title:function(){var b=d.length,c=1,e="";if(0<b)for(e='\x3cspan class\x3d"layui-layer-tabnow"\x3e'+d[0].title+"\x3c/span\x3e";b>c;c++)e+="\x3cspan\x3e"+d[c].title+"\x3c/span\x3e";return e}(),content:'\x3cul class\x3d"layui-layer-tabmain"\x3e'+function(){var b=d.length,c=1,e="";if(0<b)for(e='\x3cli class\x3d"layui-layer-tabli xubox_tab_layer"\x3e'+(d[0].content||"no content")+"\x3c/li\x3e";b>c;c++)e+='\x3cli class\x3d"layui-layer-tabli"\x3e'+(d[c].content||"no  content")+"\x3c/li\x3e";return e}()+"\x3c/ul\x3e",success:function(d){var e=d.find(".layui-layer-title").children(),h=d.find(".layui-layer-tabmain").children();e.on("mousedown",function(d){d.stopPropagation?d.stopPropagation():d.cancelBubble=!0;d=b(this);var e=d.index();d.addClass("layui-layer-tabnow").siblings().removeClass("layui-layer-tabnow");h.eq(e).show().siblings().hide();"function"==typeof c.change&&c.change(e)})}},c))};e.photos=function(d,h,l){function m(b,c,d){var e=new Image;return e.src=b,e.complete?c(e):(e.onload=function(){e.onload=null;c(e)},void(e.onerror=function(b){e.onerror=null;d(b)}))}var n={};if(d=d||{},d.photos){var g=d.photos.constructor===Object,p=g?d.photos:{},w=p.data||[],y=p.start||0;if(n.imgIndex=(0|y)+1,d.img=d.img||"img",g){if(0===w.length)return e.msg("\x26#x6CA1;\x26#x6709;\x26#x56FE;\x26#x7247;")}else{var z=b(d.photos),D=function(){w=[];z.find(d.img).each(function(c){var d=b(this);d.attr("layer-index",c);w.push({alt:d.attr("alt"),pid:d.attr("layer-pid"),src:d.attr("layer-src")||d.attr("src"),thumb:d.attr("src")})})};if((D(),0===w.length)||(h||z.on("click",d.img,function(){var c=b(this).attr("layer-index");e.photos(b.extend(d,{photos:{start:c,data:w,tab:d.tab},full:d.full}),!0);D()}),!h))return}n.imgprev=function(b){n.imgIndex--;1>n.imgIndex&&(n.imgIndex=w.length);n.tabimg(b)};n.imgnext=function(b,c){n.imgIndex++;n.imgIndex>w.length&&(n.imgIndex=1,c)||n.tabimg(b)};n.keyup=function(b){if(!n.end){var c=b.keyCode;b.preventDefault();37===c?n.imgprev(!0):39===c?n.imgnext(!0):27===c&&e.close(n.index)}};n.tabimg=function(b){1>=w.length||(p.start=n.imgIndex-1,e.close(n.index),e.photos(d,!0,b))};n.event=function(){n.bigimg.hover(function(){n.imgsee.show()},function(){n.imgsee.hide()});n.bigimg.find(".layui-layer-imgprev").on("click",function(b){b.preventDefault();n.imgprev()});n.bigimg.find(".layui-layer-imgnext").on("click",function(b){b.preventDefault();n.imgnext()});b(document).on("keyup",n.keyup)};n.loadi=e.load(1,{shade:"shade"in d?!1:.9,scrollbar:!1});m(w[y].src,function(g){e.close(n.loadi);n.index=e.open(b.extend({type:1,area:function(){var e=[g.width,g.height],h=[b(c).width()-50,b(c).height()-50];return!d.full&&e[0]>h[0]&&(e[0]=h[0],e[1]=e[0]*g.height/g.width),[e[0]+"px",e[1]+"px"]}(),title:!1,shade:.9,shadeClose:!0,closeBtn:!1,move:".layui-layer-phimg img",moveType:1,scrollbar:!1,moveOut:!0,shift:5*Math.random()|0,skin:"layui-layer-photos"+r("photos"),content:'\x3cdiv class\x3d"layui-layer-phimg"\x3e\x3cimg src\x3d"'+w[y].src+'" alt\x3d"'+(w[y].alt||"")+'" layer-pid\x3d"'+w[y].pid+'"\x3e\x3cdiv class\x3d"layui-layer-imgsee"\x3e'+(1<w.length?'\x3cspan class\x3d"layui-layer-imguide"\x3e\x3ca href\x3d"javascript:;" class\x3d"layui-layer-iconext layui-layer-imgprev"\x3e\x3c/a\x3e\x3ca href\x3d"javascript:;" class\x3d"layui-layer-iconext layui-layer-imgnext"\x3e\x3c/a\x3e\x3c/span\x3e':"")+'\x3cdiv class\x3d"layui-layer-imgbar" style\x3d"display:'+(l?"block":"")+'"\x3e\x3cspan class\x3d"layui-layer-imgtit"\x3e\x3ca href\x3d"javascript:;"\x3e'+(w[y].alt||"")+"\x3c/a\x3e\x3cem\x3e"+n.imgIndex+"/"+w.length+"\x3c/em\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e",success:function(b,c){n.bigimg=b.find(".layui-layer-phimg");n.imgsee=b.find(".layui-layer-imguide,.layui-layer-imgbar");n.event(b);d.tab&&d.tab(w[y],b)},end:function(){n.end=!0;b(document).off("keyup",n.keyup)}},d))},function(){e.close(n.loadi);e.msg("\x26#x5F53;\x26#x524D;\x26#x56FE;\x26#x7247;\x26#x5730;\x26#x5740;\x26#x5F02;\x26#x5E38;\x3cbr\x3e\x26#x662F;\x26#x5426;\x26#x7EE7;\x26#x7EED;\x26#x67E5;\x26#x770B;\x26#x4E0B;\x26#x4E00;\x26#x5F20;\x26#xFF1F;",{time:3E4,btn:["\x26#x4E0B;\x26#x4E00;\x26#x5F20;","\x26#x4E0D;\x26#x770B;\x26#x4E86;"],yes:function(){1<w.length&&n.imgnext(!0,!0)}})})}};l.run=function(){b=jQuery;h=b(c);d.html=b("html");e.open=function(b){return(new n(b)).index}};"function"==typeof define?define(function(){return l.run(),e}):(l.run(),e.use("skin/layer.css"))}(window);