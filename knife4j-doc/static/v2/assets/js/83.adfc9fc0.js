(window.webpackJsonp=window.webpackJsonp||[]).push([[83],{434:function(t,s,a){"use strict";a.r(s);var n=a(42),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"v2-0-6-2020-10-26-knife4j-2-0-6发布-支持openapi3及auth2认证"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#v2-0-6-2020-10-26-knife4j-2-0-6发布-支持openapi3及auth2认证"}},[t._v("#")]),t._v(" [v2.0.6-2020/10/26 Knife4j 2.0.6发布,支持OpenAPI3及Auth2认证]")]),t._v(" "),a("p",[a("code",[t._v("Knife4j")]),t._v("前身是"),a("code",[t._v("swagger-bootstrap-ui")]),t._v(",是一个为Swagger接口文档赋能的工具")]),t._v(" "),a("p",[a("strong",[t._v("关键词")]),t._v("："),a("strong",[t._v("OpenAPI3")]),t._v("、"),a("strong",[t._v("Auth2.0")]),t._v("、"),a("strong",[t._v("AfterScript")]),t._v("、"),a("strong",[t._v("Springfox3.0")]),t._v("、"),a("strong",[t._v("增强改善")])]),t._v(" "),a("p",[a("strong",[t._v("文档")]),t._v("："),a("a",{attrs:{href:"https://doc.xiaominfo.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://doc.xiaominfo.com"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("strong",[t._v("效果(旧版)")]),t._v("：http://swagger-bootstrap-ui.xiaominfo.com/doc.html")]),t._v(" "),a("p",[a("strong",[t._v("效果(2.X版)")]),t._v("："),a("a",{attrs:{href:"http://knife4j.xiaominfo.com/doc.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://knife4j.xiaominfo.com/doc.html"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("strong",[t._v("Gitee")]),t._v("：https://gitee.com/xiaoym/knife4j")]),t._v(" "),a("p",[a("strong",[t._v("GitHub")]),t._v("：https://github.com/xiaoymin/swagger-bootstrap-ui")]),t._v(" "),a("p",[a("strong",[t._v("示例")]),t._v("：https://gitee.com/xiaoym/swagger-bootstrap-ui-demo")]),t._v(" "),a("h2",{attrs:{id:"特性-优化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#特性-优化"}},[t._v("#")]),t._v(" 特性 & 优化")]),t._v(" "),a("p",[a("strong",[t._v("2.0.6")]),t._v("是继续在上个版本中进行迭代更新,开发者使用OpenAPI2的结构可以直接修改版本号即可进行升级,springfox框架升级到"),a("code",[t._v("2.10.5")])]),t._v(" "),a("blockquote",[a("p",[t._v("springfox 2.10.5 版本变化：")]),t._v(" "),a("p",[t._v("1、spring-plugin组件升级到2.0.0，移除了guava包")]),t._v(" "),a("p",[t._v("2、@EnableSwagger2注解升级为@EnableSwagger2WebMvc")])]),t._v(" "),a("p",[t._v("Maven引用：")]),t._v(" "),a("div",{staticClass:"language-xml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("dependency")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("groupId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("com.github.xiaoymin"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("groupId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("artifactId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("knife4j-spring-boot-starter"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("artifactId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!--OpenAPI2.0的开发者继续使用Knife4j 2.x系列的版本--\x3e")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("2.0.6"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("dependency")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("p",[t._v("1、"),a("strong",[t._v("OAuth2认证功能的支持:简化模式(implicit)、授权码模式(authorization_code)、密码模式(password)、客户端模式(client_credentials)")]),t._v(",详细规则请"),a("a",{attrs:{href:"https://doc.xiaominfo.com/knife4j/OAuth2.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("参考文档"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("2、针对"),a("code",[t._v("@RequestBody")]),t._v("注解标注的请求实体类，在接口请求参数时是否必须("),a("code",[t._v("require")]),t._v(")的显示异常的问题"),a("a",{attrs:{href:"https://gitee.com/xiaoym/knife4j/issues/I1VBGB",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee #I1VBGB"),a("OutboundLink")],1),t._v("、"),a("a",{attrs:{href:"https://gitee.com/xiaoym/knife4j/issues/I1YK2Q",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee #I1YK2Q"),a("OutboundLink")],1),t._v("、"),a("a",{attrs:{href:"https://gitee.com/xiaoym/knife4j/issues/I1WCMF",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee #I1WCMF"),a("OutboundLink")],1),t._v("、"),a("a",{attrs:{href:"https://gitee.com/xiaoym/knife4j/issues/I1VDSH",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee #I1VDSH"),a("OutboundLink")],1),t._v("、"),a("a",{attrs:{href:"https://github.com/xiaoymin/swagger-bootstrap-ui/issues/277",target:"_blank",rel:"noopener noreferrer"}},[t._v("GitHub #277"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("3、针对服务端指定"),a("code",[t._v("consumes")]),t._v("的情况优化，如果服务端不指定,Ui会默认根据参数类型进行适配"),a("a",{attrs:{href:"https://gitee.com/xiaoym/knife4j/issues/I1VE25",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee #I1VE25"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("4、解决在创建"),a("code",[t._v("Docket")]),t._v("对象时赋予"),a("code",[t._v("Host")]),t._v("属性后,文档界面显示接口地址异常的问题"),a("a",{attrs:{href:"https://gitee.com/xiaoym/knife4j/issues/I1XYG9",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee #I1XYG9"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("5、微服务网关聚合文档时,自定义分组名称导致增强失败的问题"),a("a",{attrs:{href:"https://gitee.com/xiaoym/knife4j/issues/I1Y79W",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee #I1Y79W"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("6、针对"),a("code",[t._v("query")]),t._v("类型的参数，如果该参数是schema类型,解析该schema为json提作为请求值."),a("a",{attrs:{href:"https://gitee.com/xiaoym/knife4j/issues/I1VLHH",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee #I1VLHH"),a("OutboundLink")],1),t._v(",如下图：")]),t._v(" "),a("ul",[a("li",[t._v("文档展示：")])]),t._v(" "),a("p",[a("img",{attrs:{src:"/knife4j/images/blog/knife4j2.0.6/query-doc.png",alt:""}})]),t._v(" "),a("ul",[a("li",[t._v("调试效果：")])]),t._v(" "),a("p",[a("img",{attrs:{src:"/knife4j/images/blog/knife4j2.0.6/query-debug.png",alt:""}})]),t._v(" "),a("p",[t._v("7、调试栏新增"),a("code",[t._v("AfterScript")]),t._v("特性,开发者可根据"),a("code",[t._v("Knife4j")]),t._v("定义的全局变量编写自定义"),a("code",[t._v("JavaScript")]),t._v("脚本,增强接口交互体验"),a("a",{attrs:{href:"https://gitee.com/xiaoym/knife4j/issues/I1YNU3",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee #I1YNU3"),a("OutboundLink")],1),t._v("、"),a("a",{attrs:{href:"https://gitee.com/xiaoym/knife4j/issues/I1CAAD",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee #I1CAAD"),a("OutboundLink")],1),t._v(",关于"),a("code",[t._v("AfterScript")]),t._v("特性可参考"),a("a",{attrs:{href:"https://doc.xiaominfo.com/knife4j/afterScript.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("文档"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("主要应用场景：")]),t._v(" "),a("ul",[a("li",[t._v("针对JWT类型的接口,调用登录接口后,每个接口请求时带上Token参数,此时可以通过该脚本动态赋值全局token参数,省去复制粘贴的麻烦.")])]),t._v(" "),a("p",[t._v("假设某一个登录接口响应的JSON内容如下：")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"code"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("8200")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"message"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token null keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"data"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"token"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1y1tn8tvw93fxixp79dcx0nugixkw4su"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("该接口是登录接口,除该接口外其余接口请求都需要带上"),a("code",[t._v("token")]),t._v("的请求头,因此我们访问登录接口后,设置全局Header参数"),a("code",[t._v("token")]),t._v(",此操作"),a("code",[t._v("Knife4j")]),t._v("接下来会为每一个请求接口带上"),a("code",[t._v("token")]),t._v("参数，代码如下：")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" code"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("response"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("code"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("code"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("8200")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//判断,如果服务端响应code是8200才执行操作")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//获取token")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" token"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("response"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("token"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//1、如何参数是Header，则设置全局Header")]),t._v("\n    ke"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("global"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setHeader")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"token"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("token"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("8、通过创建Docket对象时设置"),a("code",[t._v("globalOperationParameters")]),t._v("全局参数时,针对"),a("code",[t._v("header")]),t._v("类型的"),a("code",[t._v("allowableValues")]),t._v("不支持下拉框选择的问题"),a("a",{attrs:{href:"https://gitee.com/xiaoym/knife4j/issues/I1OC0H",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee #I1OC0H"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("代码如下：")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[t._v("parameters"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ParameterBuilder")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"header-test"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("description")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"balabala"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("modelRef")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ModelRef")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"string"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("parameterType")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"header"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("allowableValues")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AllowableListValues")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Arrays")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("asList")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"下拉1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"下拉2"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"string"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("required")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("order")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("build")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Docket")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DocumentationType")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("SWAGGER_2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("host")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://www.baidu.com"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apiInfo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apiInfo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("groupName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2.X版本"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("globalOperationParameters")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("parameters"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("最终效果：")]),t._v(" "),a("p",[a("img",{attrs:{src:"/knife4j/images/blog/knife4j2.0.6/header-select.png",alt:""}})]),t._v(" "),a("p",[t._v("9、离线导出功能板块增加导出OpenAPI的原始JSON格式数据，导出该逻辑分组下所有接口的OpenAPI原始json格式。如下图：")]),t._v(" "),a("p",[a("img",{attrs:{src:"/knife4j/images/blog/knife4j2.0.6/downloadOpenAPI.png",alt:""}})]),t._v(" "),a("p",[t._v("10、针对单个接口，提供OpenAPI的源码格式，可以通过复制或者下载该源码格式直接导入POSTMAN进行测试"),a("a",{attrs:{href:"https://gitee.com/xiaoym/knife4j/issues/I1Z7AP",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee #I1Z7AP"),a("OutboundLink")],1),t._v("。如下图：")]),t._v(" "),a("p",[a("img",{attrs:{src:"/knife4j/images/blog/knife4j2.0.6/singleOpenAPI.png",alt:""}})]),t._v(" "),a("p",[t._v("11、增强注解"),a("code",[t._v("@EnableKnfie4j")]),t._v("增加Spring Boot中的Conditional条件"),a("code",[t._v("@ConditionalOnWebApplication")]),t._v(",仅在Web环境下加载，避免在使用"),a("code",[t._v("junit")]),t._v("单元测试时出现异常。")]),t._v(" "),a("p",[t._v("12、"),a("strong",[t._v("增强模式的改进,主要有两个变化,更加详细的使用规则")]),t._v("，开发者请"),a("a",{attrs:{href:"https://doc.xiaominfo.com/knife4j/enhance.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("参考文档"),a("OutboundLink")],1),t._v("：")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("提供"),a("code",[t._v("spring.factories")]),t._v("进行自动装置,开发者可以直接在Spring Boot的配置文件"),a("code",[t._v("yml")]),t._v("或者"),a("code",[t._v("property")]),t._v("等使用属性"),a("code",[t._v("knife4j.enable:true")]),t._v("进行开启使用，配置属性后无需再使用"),a("code",[t._v("@EnableKnife4j")]),t._v("注解")])]),t._v(" "),a("li",[a("p",[t._v("提供"),a("code",[t._v("spring-configuration.meta.json")]),t._v("文件，对"),a("code",[t._v("Knife4j")]),t._v("提供的各个增强配置属性进行注释，方便开发者在配置文件中进行配置，如下图：")]),t._v(" "),a("p",[a("img",{attrs:{src:"/knife4j/images/blog/knife4j2.0.6/yml-1.png",alt:""}}),a("img",{attrs:{src:"/knife4j/images/blog/knife4j2.0.6/yml-2.png",alt:""}})])])]),t._v(" "),a("p",[t._v("13、针对其它文档的配置，开发者可以根据每一个逻辑分组Docket进行配置，其他文档支持自定义文档的分组标题")]),t._v(" "),a("p",[t._v("14、接口排序需求无需再Ui界面勾选增强，只需要在配置文件中开启"),a("code",[t._v("knife4j.enable=true")]),t._v("接口，然后使用"),a("code",[t._v("@ApiSupport")]),t._v("注解或者"),a("code",[t._v("@ApiSort")]),t._v("在"),a("code",[t._v("Controller")]),t._v("类上进行使用，优先级"),a("code",[t._v("@ApiSupport>@ApiSort")]),t._v(",该方式更加融合了springfox框架的特性，也更符合对扩展属性扩展的规范，在OpenAPI结构节点增加"),a("code",[t._v("x-order")]),t._v("扩展参数，如下图：")]),t._v(" "),a("p",[a("img",{attrs:{src:"/knife4j/images/blog/knife4j2.0.6/x-order.png",alt:""}})]),t._v(" "),a("p",[t._v("15、移除增强扩展接口地址"),a("code",[t._v("/v2/api-docs-ext")]),t._v(",个性化配置及增强通过后端配置文件进行配置即可,通过更加规范的使用增强注解,符合OpenAPI的扩展属性规范。")]),t._v(" "),a("p",[t._v("16、其他文档以更加符合OpenAPI的扩展规范进行展示，开发者可以在yml配置文件中配置多个分组文档("),a("code",[t._v("前提是knife4j.enable=true")]),t._v("),然后再创建的"),a("code",[t._v("Docket")]),t._v("对象中使用"),a("code",[t._v("Knife4j")]),t._v("提供的"),a("code",[t._v("OpenApiExtensionResolver")]),t._v("扩展"),a("code",[t._v("extension")]),t._v(",最终配置的md文件会在文档中进行分组呈现."),a("a",{attrs:{href:"https://github.com/xiaoymin/swagger-bootstrap-ui/issues/115",target:"_blank",rel:"noopener noreferrer"}},[t._v("GitHub #115"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("code",[t._v("application.yml")]),t._v("配置示例代码如下：")]),t._v(" "),a("div",{staticClass:"language-yml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("knife4j")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("enable")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("documents")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("group")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 2.X版本\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 接口签名\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("locations")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" classpath"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("sign/*\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("group")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 2.X版本\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 另外文档分组请看这里\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("locations")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" classpath"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("markdown/*\n")])])]),a("p",[t._v("Java代码：")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Configuration")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@EnableSwagger2WebMvc")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Import")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BeanValidatorPluginsConfiguration")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SwaggerConfiguration")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n \n   "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("OpenApiExtensionResolver")]),t._v(" openApiExtensionResolver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Autowired")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SwaggerConfiguration")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("OpenApiExtensionResolver")]),t._v(" openApiExtensionResolver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("openApiExtensionResolver "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" openApiExtensionResolver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    \n    "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Bean")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"defaultApi2"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Docket")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("defaultApi2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" groupName"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2.X版本"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Docket")]),t._v(" docket"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Docket")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DocumentationType")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("SWAGGER_2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("host")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://www.baidu.com"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apiInfo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apiInfo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("groupName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("groupName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("select")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apis")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("RequestHandlerSelectors")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("basePackage")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"com.swagger.bootstrap.ui.demo.new2"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//.apis(RequestHandlerSelectors.withMethodAnnotation(ApiOperation.class))")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("paths")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PathSelectors")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("any")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("build")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//此处调用openApiExtensionResolver的方法获取extensions集合")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("extensions")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("openApiExtensionResolver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("buildExtensions")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("groupName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("securityContexts")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CollectionUtil")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("newArrayList")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("securityContext")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("securitySchemes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CollectionUtil")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("newArrayList")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apiKey")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" docket"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("最终Ui界面效果图：")]),t._v(" "),a("p",[a("img",{attrs:{src:"/knife4j/images/blog/knife4j2.0.6/document.png",alt:""}})]),t._v(" "),a("p",[t._v("17、针对使用"),a("code",[t._v("@ApiModelProperty")]),t._v("注解，给予实体String类型的属性字段赋值"),a("code",[t._v("example")]),t._v("示例值json字符串时显示异常的问题"),a("a",{attrs:{href:"https://github.com/xiaoymin/swagger-bootstrap-ui/issues/233",target:"_blank",rel:"noopener noreferrer"}},[t._v("GitHub #233"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("18、请求示例和响应示例中的长整形精度丢失的问题"),a("a",{attrs:{href:"https://github.com/xiaoymin/swagger-bootstrap-ui/issues/269",target:"_blank",rel:"noopener noreferrer"}},[t._v("GitHub #269"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("19、针对当前接口存在Authorze认证情况下，没有点击该功能时参数不会默认在接口调试中的Bug以及query类型参数始终出现在请求头参数栏的情况"),a("a",{attrs:{href:"https://gitee.com/xiaoym/knife4j/issues/I1VC4I",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee #I1VC4I"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("20、去除Ui界面中个性化设置中的启用增强配置。")]),t._v(" "),a("p",[t._v("21、增强注解"),a("code",[t._v("@ApiOperationSupport")]),t._v("与"),a("code",[t._v("@DynamicResponseParameters")]),t._v("同时使用时,动态响应字段丢失的问题"),a("a",{attrs:{href:"https://gitee.com/xiaoym/knife4j/issues/I22K0R",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee #I22K0R"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("22、离线文档下载失败的问题，变量引用错误导致"),a("a",{attrs:{href:"https://gitee.com/xiaoym/knife4j/issues/I1W5UB",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee #I1W5UB"),a("OutboundLink")],1)]),t._v(" "),a("h2",{attrs:{id:"openapi3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#openapi3"}},[t._v("#")]),t._v(" OpenAPI3")]),t._v(" "),a("p",[t._v("如果开发者想使用springfox的OpenAPI3的版本,Knife4j此次发布了两个版本,针对3.0版本,Knife4j底层升级springfox组件到"),a("code",[t._v("springfox3.0.0")]),t._v(",并且版本号从"),a("code",[t._v("3.x")]),t._v("系列开始,代表OpenAPI3,以区分"),a("code",[t._v("2.x")]),t._v("系列。")]),t._v(" "),a("p",[t._v("Maven引用")]),t._v(" "),a("div",{staticClass:"language-xml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("dependency")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("groupId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("com.github.xiaoymin"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("groupId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("artifactId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("knife4j-spring-boot-starter"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("artifactId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!--如果想使用springfox3.0及OpenAPI3请用3.x版本--\x3e")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("3.0"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("dependency")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("p",[t._v("针对SpringFox3.0的版本,作者在开发过程中虽然在Ui上对OpenAPI3进行了支持,但是目前springfox3.0还存在诸多的问题，建议开发者慎重使用springfox3。不管是对于OpenApi2以及OpenApi3的支持，目前springfox3在兼容性等方面都存在一些问题,毕竟刚发布一个版本.")]),t._v(" "),a("p",[t._v("相对而言,springfox2.x系列的版本较稳定.当Springfox对于3.0的结构相对稳定后,Knife4j的主分支版本会向3.0靠拢。")]),t._v(" "),a("p",[t._v("相关ISSUES:")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://gitee.com/xiaoym/knife4j/issues/I1UGH7",target:"_blank",rel:"noopener noreferrer"}},[t._v("#I1UGH7 swagger 2.9.2 对 javax.validation 支持缺少，可考虑升级到 2.10.5"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://gitee.com/xiaoym/knife4j/issues/I1R9J1",target:"_blank",rel:"noopener noreferrer"}},[t._v("#I1R9J1 关于支持 Springfox Swagger 3.0.0"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://gitee.com/xiaoym/knife4j/issues/I1VYDM",target:"_blank",rel:"noopener noreferrer"}},[t._v("#I1VYDM 早日支持下springfox-boot-starter 3.0"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://gitee.com/xiaoym/knife4j/issues/I1X27Y",target:"_blank",rel:"noopener noreferrer"}},[t._v("#I1X27Y swagger 升级到3.0后的兼容问题"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://gitee.com/xiaoym/knife4j/issues/I1QQYH",target:"_blank",rel:"noopener noreferrer"}},[t._v("#I1QQYH knife4j-vue-v3 setInstanceBasicPorperties 方法中逻辑问题"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/xiaoymin/swagger-bootstrap-ui/issues/275",target:"_blank",rel:"noopener noreferrer"}},[t._v("#275 springfox-3.0.0与knife4j-2.0.5冲突？"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/xiaoymin/swagger-bootstrap-ui/issues/268",target:"_blank",rel:"noopener noreferrer"}},[t._v("#268 spring boot 2.3.3、springfox 3.0.0与knife4j2.0.4集成报错问题"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/xiaoymin/swagger-bootstrap-ui/issues/265",target:"_blank",rel:"noopener noreferrer"}},[t._v("#265 spring-plugin-core的兼容问题"),a("OutboundLink")],1)])]),t._v(" "),a("h2",{attrs:{id:"特点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#特点"}},[t._v("#")]),t._v(" 特点")]),t._v(" "),a("ul",[a("li",[t._v("基于Vue+Ant Design构建的文档，更强大、清晰的接口文档说明能力以及接口调试能力")]),t._v(" "),a("li",[t._v("左右布局,基于Tabs组件的多文档查阅风格")]),t._v(" "),a("li",[t._v("支持在线导出Html、Markdown、Word、PDF等多种格式的离线文档")]),t._v(" "),a("li",[t._v("接口排序,支持分组及接口的排序功能")]),t._v(" "),a("li",[t._v("支持接口全局在线搜索功能")]),t._v(" "),a("li",[t._v("提供Swagger资源保护策略,保护文档安全")]),t._v(" "),a("li",[t._v("接口调试支持无限参数,开发者调试非常灵活，动态增加、删除参数")]),t._v(" "),a("li",[t._v("全局缓存调试信息,页面刷新后依然存在,方便开发者调试")]),t._v(" "),a("li",[t._v("以更人性化的table树组件展示Swagger Models功能")]),t._v(" "),a("li",[t._v("文档以多tab方式可显示多个接口文档")]),t._v(" "),a("li",[t._v("请求参数栏请求类型、是否必填着颜色区分")]),t._v(" "),a("li",[t._v("主页中粗略统计接口不同类型数量")]),t._v(" "),a("li",[t._v("支持自定义全局参数功能，主页包括header及query两种类型")]),t._v(" "),a("li",[t._v("JSR-303 annotations 注解的支持")]),t._v(" "),a("li",[t._v("更多个性化设置功能")])]),t._v(" "),a("h2",{attrs:{id:"界面"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#界面"}},[t._v("#")]),t._v(" 界面")]),t._v(" "),a("p",[t._v("接口文档显示界面如下：")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://oscimg.oschina.net/oscnet/up-5b76509501c86174096f8b795d2aba8455b.png",alt:""}})]),t._v(" "),a("p",[t._v("接口调试界面如下：")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://oscimg.oschina.net/oscnet/up-995a784219ea035cacd428d15d04e9cbcb3.png",alt:""}})]),t._v(" "),a("p",[t._v("Swagger Models功能")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://oscimg.oschina.net/oscnet/up-98e1dbdf35ab957f5c05df126f9bae44ffd.png",alt:""}})]),t._v(" "),a("p",[a("img",{attrs:{src:"https://oscimg.oschina.net/oscnet/up-d9a030b06b76f9a4935205df453af149788.png",alt:""}})]),t._v(" "),a("p",[t._v("支持导出离线Markdown、Html功能，markdown的表格较原先版本通过缩减显示为树形结构,"),a("a",{attrs:{href:"https://doc.xiaominfo.com/html/knife4j-export-html.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("点击预览导出离线Html效果"),a("OutboundLink")],1),t._v("，效果图如下：")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://oscimg.oschina.net/oscnet/up-cfb2256485835e29a39f96eaaa60251e08c.png",alt:""}})]),t._v(" "),a("p",[t._v("通过第三方Markdown软件导出的PDF效果如下图:")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://oscimg.oschina.net/oscnet/up-44bb80532b9767a33650e178809f612c3e7.png",alt:""}})]),t._v(" "),a("p",[t._v("同时提供了导出离线Html功能,Html功能界面风格和在线几乎没有区别,美观、大方、简洁,"),a("a",{attrs:{href:"https://doc.xiaominfo.com/Knife4j-Offline-Html.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("点击在线预览效果"),a("OutboundLink")],1),t._v("，")]),t._v(" "),a("p",[t._v("界面效果如下图：")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://oscimg.oschina.net/oscnet/up-4deb56c65774b4dc2ad54f5278f31e89a5d.png",alt:""}})]),t._v(" "),a("h2",{attrs:{id:"star-issue"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#star-issue"}},[t._v("#")]),t._v(" Star & Issue")]),t._v(" "),a("p",[t._v("感谢各位朋友的支持,前往"),a("a",{attrs:{href:"https://gitee.com/xiaoym/knife4j",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://gitee.com/xiaoym/knife4j"),a("OutboundLink")],1),t._v("点个Star吧~~ ：）")]),t._v(" "),a("comment-comment")],1)}),[],!1,null,null,null);s.default=e.exports}}]);